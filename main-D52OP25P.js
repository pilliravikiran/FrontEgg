var YT=Object.create;var Kl=Object.defineProperty,ZT=Object.defineProperties,KT=Object.getOwnPropertyDescriptor,QT=Object.getOwnPropertyDescriptors,JT=Object.getOwnPropertyNames,ub=Object.getOwnPropertySymbols,XT=Object.getPrototypeOf,fb=Object.prototype.hasOwnProperty,ex=Object.prototype.propertyIsEnumerable;var db=(e,n,t)=>n in e?Kl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ne=(e,n)=>{for(var t in n||={})fb.call(n,t)&&db(e,t,n[t]);if(ub)for(var t of ub(n))ex.call(n,t)&&db(e,t,n[t]);return e},Ke=(e,n)=>ZT(e,QT(n));var he=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),wp=(e,n)=>{for(var t in n)Kl(e,t,{get:n[t],enumerable:!0})},tx=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of JT(n))!fb.call(e,o)&&o!==t&&Kl(e,o,{get:()=>n[o],enumerable:!(r=KT(n,o))||r.enumerable});return e};var En=(e,n,t)=>(t=e!=null?YT(XT(e)):{},tx(n||!e||!e.__esModule?Kl(t,"default",{value:e,enumerable:!0}):t,e));var l=(e,n,t)=>new Promise((r,o)=>{var i=a=>{try{c(t.next(a))}catch(u){o(u)}},s=a=>{try{c(t.throw(a))}catch(u){o(u)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(i,s);c((t=t.apply(e,n)).next())});var ND=he((H9,Cr)=>{"use strict";function Em(e){"@babel/helpers - typeof";return Cr.exports=Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports,Em(e)}Cr.exports=Em,Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports});var FD=he((G9,_r)=>{"use strict";var kD=ND().default;function LD(){"use strict";_r.exports=LD=function(){return n},_r.exports.__esModule=!0,_r.exports.default=_r.exports;var e,n={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(C,R,U){C[R]=U.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(C,R,U){return Object.defineProperty(C,R,{value:U,enumerable:!0,configurable:!0,writable:!0}),C[R]}try{u({},"")}catch{u=function(U,G,z){return U[G]=z}}function d(C,R,U,G){var z=R&&R.prototype instanceof D?R:D,W=Object.create(z.prototype),$=new P(G||[]);return o(W,"_invoke",{value:L(C,U,$)}),W}function p(C,R,U){try{return{type:"normal",arg:C.call(R,U)}}catch(G){return{type:"throw",arg:G}}}n.wrap=d;var g="suspendedStart",f="suspendedYield",h="executing",v="completed",S={};function D(){}function T(){}function m(){}var E={};u(E,s,function(){return this});var w=Object.getPrototypeOf,I=w&&w(w(F([])));I&&I!==t&&r.call(I,s)&&(E=I);var A=m.prototype=D.prototype=Object.create(E);function M(C){["next","throw","return"].forEach(function(R){u(C,R,function(U){return this._invoke(R,U)})})}function O(C,R){function U(z,W,$,B){var te=p(C[z],C,W);if(te.type!=="throw"){var ae=te.arg,pe=ae.value;return pe&&kD(pe)=="object"&&r.call(pe,"__await")?R.resolve(pe.__await).then(function(ye){U("next",ye,$,B)},function(ye){U("throw",ye,$,B)}):R.resolve(pe).then(function(ye){ae.value=ye,$(ae)},function(ye){return U("throw",ye,$,B)})}B(te.arg)}var G;o(this,"_invoke",{value:function(W,$){function B(){return new R(function(te,ae){U(W,$,te,ae)})}return G=G?G.then(B,B):B()}})}function L(C,R,U){var G=g;return function(z,W){if(G===h)throw Error("Generator is already running");if(G===v){if(z==="throw")throw W;return{value:e,done:!0}}for(U.method=z,U.arg=W;;){var $=U.delegate;if($){var B=x($,U);if(B){if(B===S)continue;return B}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(G===g)throw G=v,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);G=h;var te=p(C,R,U);if(te.type==="normal"){if(G=U.done?v:f,te.arg===S)continue;return{value:te.arg,done:U.done}}te.type==="throw"&&(G=v,U.method="throw",U.arg=te.arg)}}}function x(C,R){var U=R.method,G=C.iterator[U];if(G===e)return R.delegate=null,U==="throw"&&C.iterator.return&&(R.method="return",R.arg=e,x(C,R),R.method==="throw")||U!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+U+"' method")),S;var z=p(G,C.iterator,R.arg);if(z.type==="throw")return R.method="throw",R.arg=z.arg,R.delegate=null,S;var W=z.arg;return W?W.done?(R[C.resultName]=W.value,R.next=C.nextLoc,R.method!=="return"&&(R.method="next",R.arg=e),R.delegate=null,S):W:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,S)}function N(C){var R={tryLoc:C[0]};1 in C&&(R.catchLoc=C[1]),2 in C&&(R.finallyLoc=C[2],R.afterLoc=C[3]),this.tryEntries.push(R)}function k(C){var R=C.completion||{};R.type="normal",delete R.arg,C.completion=R}function P(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(N,this),this.reset(!0)}function F(C){if(C||C===""){var R=C[s];if(R)return R.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var U=-1,G=function z(){for(;++U<C.length;)if(r.call(C,U))return z.value=C[U],z.done=!1,z;return z.value=e,z.done=!0,z};return G.next=G}}throw new TypeError(kD(C)+" is not iterable")}return T.prototype=m,o(A,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:T,configurable:!0}),T.displayName=u(m,a,"GeneratorFunction"),n.isGeneratorFunction=function(C){var R=typeof C=="function"&&C.constructor;return!!R&&(R===T||(R.displayName||R.name)==="GeneratorFunction")},n.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,m):(C.__proto__=m,u(C,a,"GeneratorFunction")),C.prototype=Object.create(A),C},n.awrap=function(C){return{__await:C}},M(O.prototype),u(O.prototype,c,function(){return this}),n.AsyncIterator=O,n.async=function(C,R,U,G,z){z===void 0&&(z=Promise);var W=new O(d(C,R,U,G),z);return n.isGeneratorFunction(R)?W:W.next().then(function($){return $.done?$.value:W.next()})},M(A),u(A,a,"Generator"),u(A,s,function(){return this}),u(A,"toString",function(){return"[object Generator]"}),n.keys=function(C){var R=Object(C),U=[];for(var G in R)U.push(G);return U.reverse(),function z(){for(;U.length;){var W=U.pop();if(W in R)return z.value=W,z.done=!1,z}return z.done=!0,z}},n.values=F,P.prototype={constructor:P,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!R)for(var U in this)U.charAt(0)==="t"&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var U=this;function G(ae,pe){return $.type="throw",$.arg=R,U.next=ae,pe&&(U.method="next",U.arg=e),!!pe}for(var z=this.tryEntries.length-1;z>=0;--z){var W=this.tryEntries[z],$=W.completion;if(W.tryLoc==="root")return G("end");if(W.tryLoc<=this.prev){var B=r.call(W,"catchLoc"),te=r.call(W,"finallyLoc");if(B&&te){if(this.prev<W.catchLoc)return G(W.catchLoc,!0);if(this.prev<W.finallyLoc)return G(W.finallyLoc)}else if(B){if(this.prev<W.catchLoc)return G(W.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return G(W.finallyLoc)}}}},abrupt:function(R,U){for(var G=this.tryEntries.length-1;G>=0;--G){var z=this.tryEntries[G];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var W=z;break}}W&&(R==="break"||R==="continue")&&W.tryLoc<=U&&U<=W.finallyLoc&&(W=null);var $=W?W.completion:{};return $.type=R,$.arg=U,W?(this.method="next",this.next=W.finallyLoc,S):this.complete($)},complete:function(R,U){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&U&&(this.next=U),S},finish:function(R){for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U];if(G.finallyLoc===R)return this.complete(G.completion,G.afterLoc),k(G),S}},catch:function(R){for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U];if(G.tryLoc===R){var z=G.completion;if(z.type==="throw"){var W=z.arg;k(G)}return W}}throw Error("illegal catch attempt")},delegateYield:function(R,U,G){return this.delegate={iterator:F(R),resultName:U,nextLoc:G},this.method==="next"&&(this.arg=e),S}},n}_r.exports=LD,_r.exports.__esModule=!0,_r.exports.default=_r.exports});var Dm=he((W9,UD)=>{"use strict";var af=FD()();UD.exports=af;try{regeneratorRuntime=af}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=af:Function("r","regeneratorRuntime = r")(af)}});var yf=he((SZ,DI)=>{"use strict";var NL=function(n){return kL(n)&&!LL(n)};function kL(e){return!!e&&typeof e=="object"}function LL(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||jL(e)}var FL=typeof Symbol=="function"&&Symbol.for,UL=FL?Symbol.for("react.element"):60103;function jL(e){return e.$$typeof===UL}function VL(e){return Array.isArray(e)?[]:{}}function Ic(e,n){return n.clone!==!1&&n.isMergeableObject(e)?Ms(VL(e),e,n):e}function $L(e,n,t){return e.concat(n).map(function(r){return Ic(r,t)})}function BL(e,n){if(!n.customMerge)return Ms;var t=n.customMerge(e);return typeof t=="function"?t:Ms}function HL(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}function AI(e){return Object.keys(e).concat(HL(e))}function EI(e,n){try{return n in e}catch{return!1}}function GL(e,n){return EI(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))}function WL(e,n,t){var r={};return t.isMergeableObject(e)&&AI(e).forEach(function(o){r[o]=Ic(e[o],t)}),AI(n).forEach(function(o){GL(e,o)||(EI(e,o)&&t.isMergeableObject(n[o])?r[o]=BL(o,t)(e[o],n[o],t):r[o]=Ic(n[o],t))}),r}function Ms(e,n,t){t=t||{},t.arrayMerge=t.arrayMerge||$L,t.isMergeableObject=t.isMergeableObject||NL,t.cloneUnlessOtherwiseSpecified=Ic;var r=Array.isArray(n),o=Array.isArray(e),i=r===o;return i?r?t.arrayMerge(e,n,t):WL(e,n,t):Ic(n,t)}Ms.all=function(n,t){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce(function(r,o){return Ms(r,o,t)},{})};var zL=Ms;DI.exports=zL});var Wm=he((_Z,CI)=>{"use strict";CI.exports=function(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}});var PI=he((TZ,MI)=>{"use strict";var xI=Wm();MI.exports=function(e,n,t){if(xI(t)||(t={default:t}),!TI(e))return typeof t.default<"u"?t.default:e;typeof n=="number"&&(n=String(n));let r=Array.isArray(n),o=typeof n=="string",i=t.separator||".",s=t.joinChar||(typeof i=="string"?i:".");if(!o&&!r)return e;if(o&&n in e)return zm(n,e,t)?e[n]:t.default;let c=r?n:qL(n,i,t),a=c.length,u=0;do{let d=c[u];for(typeof d=="number"&&(d=String(d));d&&d.slice(-1)==="\\";)d=_I([d.slice(0,-1),c[++u]||""],s,t);if(d in e){if(!zm(d,e,t))return t.default;e=e[d]}else{let p=!1,g=u+1;for(;g<a;)if(d=_I([d,c[g++]],s,t),p=d in e){if(!zm(d,e,t))return t.default;e=e[d],u=g-1;break}if(!p)return t.default}}while(++u<a&&TI(e));return u===a?e:t.default};function _I(e,n,t){return typeof t.join=="function"?t.join(e):e[0]+n+e[1]}function qL(e,n,t){return typeof t.split=="function"?t.split(e):e.split(n)}function zm(e,n,t){return typeof t.isValid=="function"?t.isValid(e,n):!0}function TI(e){return xI(e)||Array.isArray(e)||typeof e=="function"}});var OI=he((xZ,RI)=>{"use strict";RI.exports=function(n){return typeof n=="object"?n===null:typeof n!="function"}});var LI=he((MZ,kI)=>{"use strict";var YL=Wm();function NI(e){return YL(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}kI.exports=function(n){var t,r;return!(NI(n)===!1||(t=n.constructor,typeof t!="function")||(r=t.prototype,NI(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)}});var Ym=he((PZ,VI)=>{"use strict";var{deleteProperty:ZL}=Reflect,KL=OI(),FI=LI(),UI=e=>typeof e=="object"&&e!==null||typeof e=="function",QL=e=>e==="__proto__"||e==="constructor"||e==="prototype",qm=e=>{if(!KL(e))throw new TypeError("Object keys must be strings or symbols");if(QL(e))throw new Error(`Cannot set unsafe key: "${e}"`)},JL=e=>Array.isArray(e)?e.flat().map(String).join(","):e,XL=(e,n)=>{if(typeof e!="string"||!n)return e;let t=e+";";return n.arrays!==void 0&&(t+=`arrays=${n.arrays};`),n.separator!==void 0&&(t+=`separator=${n.separator};`),n.split!==void 0&&(t+=`split=${n.split};`),n.merge!==void 0&&(t+=`merge=${n.merge};`),n.preservePaths!==void 0&&(t+=`preservePaths=${n.preservePaths};`),t},eF=(e,n,t)=>{let r=JL(n?XL(e,n):e);qm(r);let o=Jo.cache.get(r)||t();return Jo.cache.set(r,o),o},tF=(e,n={})=>{let t=n.separator||".",r=t==="/"?!1:n.preservePaths;if(typeof e=="string"&&r!==!1&&/\//.test(e))return[e];let o=[],i="",s=c=>{let a;c.trim()!==""&&Number.isInteger(a=Number(c))?o.push(a):o.push(c)};for(let c=0;c<e.length;c++){let a=e[c];if(a==="\\"){i+=e[++c];continue}if(a===t){s(i),i="";continue}i+=a}return i&&s(i),o},jI=(e,n)=>n&&typeof n.split=="function"?n.split(e):typeof e=="symbol"?[e]:Array.isArray(e)?e:eF(e,n,()=>tF(e,n)),nF=(e,n,t,r)=>{if(qm(n),t===void 0)ZL(e,n);else if(r&&r.merge){let o=r.merge==="function"?r.merge:Object.assign;o&&FI(e[n])&&FI(t)?e[n]=o(e[n],t):e[n]=t}else e[n]=t;return e},Jo=(e,n,t,r)=>{if(!n||!UI(e))return e;let o=jI(n,r),i=e;for(let s=0;s<o.length;s++){let c=o[s],a=o[s+1];if(qm(c),a===void 0){nF(i,c,t,r);break}if(typeof a=="number"&&!Array.isArray(i[c])){i=i[c]=[];continue}UI(i[c])||(i[c]={}),i=i[c]}return e};Jo.split=jI;Jo.cache=new Map;Jo.clear=()=>{Jo.cache=new Map};VI.exports=Jo});var uv=he((IK,ZI)=>{"use strict";ZI.exports=function e(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(n)){if(r=n.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(i=Object.keys(n),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!e(n[s],t[s]))return!1}return!0}return n!==n&&t!==t}});var dv=he(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.RuleEvaluationResultEnum=Un.TreatmentEnum=Un.ConditionLogicEnum=void 0;var uF;(function(e){e.And="and"})(uF=Un.ConditionLogicEnum||(Un.ConditionLogicEnum={}));var dF;(function(e){e.True="true",e.False="false"})(dF=Un.TreatmentEnum||(Un.TreatmentEnum={}));var fF;(function(e){e.Treatable="treatable",e.Insufficient="insufficient"})(fF=Un.RuleEvaluationResultEnum||(Un.RuleEvaluationResultEnum={}))});var KI=he(kc=>{"use strict";Object.defineProperty(kc,"__esModule",{value:!0});kc.OperationEnum=void 0;var pF;(function(e){e.InList="in_list",e.StartsWith="starts_with",e.EndsWith="ends_with",e.Contains="contains",e.Matches="matches",e.Equal="equal",e.GreaterThan="greater_than",e.GreaterThanEqual="greater_than_equal",e.LesserThan="lower_than",e.LesserThanEqual="lower_than_equal",e.BetweenNumeric="between_numeric",e.Is="is",e.On="on",e.BetweenDate="between_date",e.OnOrAfter="on_or_after",e.OnOrBefore="on_or_before"})(pF=kc.OperationEnum||(kc.OperationEnum={}))});var ir=he(ti=>{"use strict";var hF=ti&&ti.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),gF=ti&&ti.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&hF(n,e,t)};Object.defineProperty(ti,"__esModule",{value:!0});gF(KI(),ti)});var fv=he(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.useMatchesOperation=vn.useInListOperation=vn.useContainsOperation=vn.useEndsWithOperation=vn.useStartsWithOperation=void 0;function mF(e){return n=>({isValid:e.list.some(t=>n.startsWith(t))})}vn.useStartsWithOperation=mF;function vF(e){return n=>({isValid:e.list.some(t=>n.endsWith(t))})}vn.useEndsWithOperation=vF;function yF(e){return n=>({isValid:e.list.some(t=>n.includes(t))})}vn.useContainsOperation=yF;function SF(e){return n=>({isValid:e.list.includes(n)})}vn.useInListOperation=SF;function bF(e){return n=>{let t;try{t=new RegExp(e.string)}catch{return{isValid:!1}}return{isValid:t.test(n)}}}vn.useMatchesOperation=bF});var JI=he(QI=>{"use strict";Object.defineProperty(QI,"__esModule",{value:!0})});var eC=he(sr=>{"use strict";var wF=sr&&sr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),XI=sr&&sr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&wF(n,e,t)};Object.defineProperty(sr,"__esModule",{value:!0});sr.StringOperationsMapper=void 0;var Lc=ir(),Fc=fv();XI(fv(),sr);XI(JI(),sr);sr.StringOperationsMapper={[Lc.OperationEnum.StartsWith]:e=>(0,Fc.useStartsWithOperation)(e),[Lc.OperationEnum.EndsWith]:e=>(0,Fc.useEndsWithOperation)(e),[Lc.OperationEnum.Contains]:e=>(0,Fc.useContainsOperation)(e),[Lc.OperationEnum.InList]:e=>(0,Fc.useInListOperation)(e),[Lc.OperationEnum.Matches]:e=>(0,Fc.useMatchesOperation)(e)}});var pv=he(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.useBetweenNumericOperation=zt.useLesserThanEqualOperation=zt.useLesserThanOperation=zt.useGreaterThanEqualOperation=zt.useGreaterThanOperation=zt.useEqualsOperation=void 0;function AF(e){return n=>({isValid:n===e.number})}zt.useEqualsOperation=AF;function EF(e){return n=>({isValid:n>e.number})}zt.useGreaterThanOperation=EF;function DF(e){return n=>({isValid:n>=e.number})}zt.useGreaterThanEqualOperation=DF;function IF(e){return n=>({isValid:n<e.number})}zt.useLesserThanOperation=IF;function CF(e){return n=>({isValid:n<=e.number})}zt.useLesserThanEqualOperation=CF;function _F(e){return n=>({isValid:n>=e.start&&n<=e.end})}zt.useBetweenNumericOperation=_F});var tC=he(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.NumericSanitizersMapper=qt.sanitizeNumericRange=qt.sanitizeSingleNumber=void 0;var Os=ir(),hv=e=>typeof e=="number",TF=e=>{let n=e.number!==void 0&&hv(e.number)?{number:e.number}:void 0;return{isSanitized:!!n,sanitizedValue:n}};qt.sanitizeSingleNumber=TF;var xF=e=>{let n=e.start!==void 0&&e.end!==void 0&&hv(e.start)&&hv(e.end)?{start:e.start,end:e.end}:void 0;return{isSanitized:!!n,sanitizedValue:n}};qt.sanitizeNumericRange=xF;qt.NumericSanitizersMapper={[Os.OperationEnum.Equal]:qt.sanitizeSingleNumber,[Os.OperationEnum.GreaterThan]:qt.sanitizeSingleNumber,[Os.OperationEnum.GreaterThanEqual]:qt.sanitizeSingleNumber,[Os.OperationEnum.LesserThan]:qt.sanitizeSingleNumber,[Os.OperationEnum.LesserThanEqual]:qt.sanitizeSingleNumber,[Os.OperationEnum.BetweenNumeric]:qt.sanitizeNumericRange}});var rC=he(nC=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0})});var mv=he(jn=>{"use strict";var MF=jn&&jn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),gv=jn&&jn.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&MF(n,e,t)};Object.defineProperty(jn,"__esModule",{value:!0});jn.NumericOperationsMapper=void 0;var Ns=ir(),ks=pv();jn.NumericOperationsMapper={[Ns.OperationEnum.Equal]:e=>(0,ks.useEqualsOperation)(e),[Ns.OperationEnum.GreaterThan]:e=>(0,ks.useGreaterThanOperation)(e),[Ns.OperationEnum.GreaterThanEqual]:e=>(0,ks.useGreaterThanEqualOperation)(e),[Ns.OperationEnum.LesserThan]:e=>(0,ks.useLesserThanOperation)(e),[Ns.OperationEnum.LesserThanEqual]:e=>(0,ks.useLesserThanEqualOperation)(e),[Ns.OperationEnum.BetweenNumeric]:e=>(0,ks.useBetweenNumericOperation)(e)};gv(pv(),jn);gv(tC(),jn);gv(rC(),jn)});var vv=he(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.useDateBetweenOperation=ar.useDateOnOrBeforeOperation=ar.useDateOnOrAfterOperation=ar.useDateOnOperation=void 0;function PF(e){return n=>({isValid:n.getTime()===e.date.getTime()})}ar.useDateOnOperation=PF;function RF(e){return n=>({isValid:n.getTime()>=e.date.getTime()})}ar.useDateOnOrAfterOperation=RF;function OF(e){return n=>({isValid:n.getTime()<=e.date.getTime()})}ar.useDateOnOrBeforeOperation=OF;function NF(e){return n=>({isValid:n.getTime()>=e.start.getTime()&&n.getTime()<=e.end.getTime()})}ar.useDateBetweenOperation=NF});var iC=he(oC=>{"use strict";Object.defineProperty(oC,"__esModule",{value:!0})});var aC=he(cr=>{"use strict";var kF=cr&&cr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),sC=cr&&cr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&kF(n,e,t)};Object.defineProperty(cr,"__esModule",{value:!0});cr.DateOperationsMapper=void 0;var If=ir(),Cf=vv();sC(vv(),cr);sC(iC(),cr);cr.DateOperationsMapper={[If.OperationEnum.On]:e=>(0,Cf.useDateOnOperation)(e),[If.OperationEnum.OnOrAfter]:e=>(0,Cf.useDateOnOrAfterOperation)(e),[If.OperationEnum.OnOrBefore]:e=>(0,Cf.useDateOnOrBeforeOperation)(e),[If.OperationEnum.BetweenDate]:e=>(0,Cf.useDateBetweenOperation)(e)}});var yv=he(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});_f.useIsOperation=void 0;function LF(e){return n=>({isValid:n===e.boolean})}_f.useIsOperation=LF});var cC=he(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.BooleanSanitizersMapper=ni.singleBooleanSanitizer=void 0;var FF=ir(),UF=e=>typeof e=="boolean",jF=e=>{let n=e.boolean!==void 0&&UF(e.boolean)?{boolean:e.boolean}:void 0;return{isSanitized:!!n,sanitizedValue:n}};ni.singleBooleanSanitizer=jF;ni.BooleanSanitizersMapper={[FF.OperationEnum.Is]:ni.singleBooleanSanitizer}});var Sv=he(lr=>{"use strict";var VF=lr&&lr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),lC=lr&&lr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&VF(n,e,t)};Object.defineProperty(lr,"__esModule",{value:!0});lr.BooleanOperationsMapper=void 0;var $F=ir(),BF=yv();lC(yv(),lr);lC(cC(),lr);lr.BooleanOperationsMapper={[$F.OperationEnum.Is]:e=>(0,BF.useIsOperation)(e)}});var uC=he(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.useOperation=void 0;var HF=eC(),GF=mv(),WF=aC(),zF=Sv(),qF=ne(ne(ne(ne({},HF.StringOperationsMapper),GF.NumericOperationsMapper),WF.DateOperationsMapper),zF.BooleanOperationsMapper);function YF(e,n){let t=qF[e];return t?t(n):void 0}Tf.useOperation=YF});var fC=he(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.StringSanitizersMapper=tn.sanitizeListString=tn.sanitizeSingleString=void 0;var Uc=ir(),dC=e=>typeof e=="string",ZF=e=>{let n=e.string!==void 0&&dC(e.string)?{string:e.string}:void 0;return{isSanitized:!!n,sanitizedValue:n}};tn.sanitizeSingleString=ZF;var KF=e=>{let n=e.list!==void 0&&e.list.every(t=>dC(t))?{list:e.list}:void 0;return{isSanitized:!!n,sanitizedValue:n}};tn.sanitizeListString=KF;tn.StringSanitizersMapper={[Uc.OperationEnum.Matches]:tn.sanitizeSingleString,[Uc.OperationEnum.Contains]:tn.sanitizeListString,[Uc.OperationEnum.StartsWith]:tn.sanitizeListString,[Uc.OperationEnum.EndsWith]:tn.sanitizeListString,[Uc.OperationEnum.InList]:tn.sanitizeListString}});var pC=he(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.DateSanitizersMapper=tt.sanitizeDateRange=tt.sanitizeSingleDate=tt.isValidDate=tt.sanitizeDateValue=void 0;var xf=ir(),QF=e=>new Date(e);tt.sanitizeDateValue=QF;var JF=e=>e instanceof Date&&!isNaN(e);tt.isValidDate=JF;var XF=e=>{let n=e.date?(0,tt.sanitizeDateValue)(e.date):void 0,t=n&&(0,tt.isValidDate)(n)?{date:n}:void 0;return{isSanitized:!!t,sanitizedValue:t}};tt.sanitizeSingleDate=XF;var eU=e=>{let n=e.start?(0,tt.sanitizeDateValue)(e.start):void 0,t=e.end?(0,tt.sanitizeDateValue)(e.end):void 0,r=n&&t&&(0,tt.isValidDate)(n)&&(0,tt.isValidDate)(t)?{start:n,end:t}:void 0;return{isSanitized:!!r,sanitizedValue:r}};tt.sanitizeDateRange=eU;tt.DateSanitizersMapper={[xf.OperationEnum.On]:tt.sanitizeSingleDate,[xf.OperationEnum.OnOrAfter]:tt.sanitizeSingleDate,[xf.OperationEnum.OnOrBefore]:tt.sanitizeSingleDate,[xf.OperationEnum.BetweenDate]:tt.sanitizeDateRange}});var hC=he(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});Mf.useSanitizer=void 0;var tU=Sv(),nU=fC(),rU=pC(),oU=mv(),iU=ne(ne(ne(ne({},nU.StringSanitizersMapper),oU.NumericSanitizersMapper),rU.DateSanitizersMapper),tU.BooleanSanitizersMapper);function sU(e){return iU[e]}Mf.useSanitizer=sU});var mC=he(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.createConditionEvaluator=void 0;var aU=uC(),cU=hC();function gC(){return()=>!1}function lU(e){let n=(0,cU.useSanitizer)(e.condition.op);if(!n)return gC();let{isSanitized:t,sanitizedValue:r}=n(e.condition.value);if(!t||r===void 0)return gC();let o=(0,aU.useOperation)(e.condition.op,r);return i=>{let s=e.condition.attribute,c=i[s];if(c===void 0||!o)return!1;let{isValid:a}=o(c);return e.condition.negate?!a:a}}Pf.createConditionEvaluator=lU});var yC=he(vC=>{"use strict";Object.defineProperty(vC,"__esModule",{value:!0})});var bC=he(no=>{"use strict";var uU=no&&no.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),SC=no&&no.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&uU(n,e,t)};Object.defineProperty(no,"__esModule",{value:!0});SC(mC(),no);SC(yC(),no)});var AC=he(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.createRuleEvaluator=void 0;var wC=dv(),dU=bC();function fU(e){return n=>e.rule.conditions.every(r=>(0,dU.createConditionEvaluator)({condition:r})(n))?wC.RuleEvaluationResultEnum.Treatable:wC.RuleEvaluationResultEnum.Insufficient}Rf.createRuleEvaluator=fU});var Ls=he(ro=>{"use strict";var pU=ro&&ro.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),EC=ro&&ro.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&pU(n,e,t)};Object.defineProperty(ro,"__esModule",{value:!0});EC(dv(),ro);EC(AC(),ro)});var IC=he(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.evaluateFeatureFlag=void 0;var DC=Ls();function hU(e,n){if(!e.on)return{treatment:e.offTreatment};let t=gU(e,n);return t?{treatment:t.treatment}:{treatment:e.defaultTreatment}}Of.evaluateFeatureFlag=hU;function gU(e,n){var t;return(t=e.rules)===null||t===void 0?void 0:t.find(r=>(0,DC.createRuleEvaluator)({rule:r})(n)===DC.RuleEvaluationResultEnum.Treatable)}});var bv=he(ri=>{"use strict";var mU=ri&&ri.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),vU=ri&&ri.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&mU(n,e,t)};Object.defineProperty(ri,"__esModule",{value:!0});vU(IC(),ri)});var _C=he(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.evaluatePlan=void 0;var CC=Ls();function yU(e,n){let t=SU(e,n);return t?{treatment:t.treatment}:{treatment:e.defaultTreatment}}Nf.evaluatePlan=yU;function SU(e,n){var t;return(t=e.rules)===null||t===void 0?void 0:t.find(r=>(0,CC.createRuleEvaluator)({rule:r})(n)===CC.RuleEvaluationResultEnum.Treatable)}});var wv=he(oi=>{"use strict";var bU=oi&&oi.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),wU=oi&&oi.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&bU(n,e,t)};Object.defineProperty(oi,"__esModule",{value:!0});wU(_C(),oi)});var oo=he(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.NO_EXPIRATION_TIME=ii.NotEntitledJustification=void 0;var AU;(function(e){e.MISSING_FEATURE="MISSING_FEATURE",e.MISSING_PERMISSION="MISSING_PERMISSION",e.BUNDLE_EXPIRED="BUNDLE_EXPIRED"})(AU=ii.NotEntitledJustification||(ii.NotEntitledJustification={}));ii.NO_EXPIRATION_TIME=-1});var Av=he(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.createPermissionCheckRegex=Fs.checkPermission=void 0;function EU(e,n){return Object.keys(e).some(t=>TC(t).test(n))}Fs.checkPermission=EU;function TC(e){return new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,".*")+"$","gs")}Fs.createPermissionCheckRegex=TC});var xC=he(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.flatten=void 0;function DU(e,n){n=n||{};let t=n?.delimiter||".",r=n?.maxDepth,o=n?.transformKey||CU,i={};function s(c,a,u){u=u||1,Object.keys(c).forEach(function(d){let p=c[d],g=n?.safe&&Array.isArray(p),f=Object.prototype.toString.call(p),h=IU(p),v=f==="[object Object]"||f==="[object Array]",S=a?a+t+o(d):o(d);if(!g&&!h&&v&&Object.keys(p).length&&(!n?.maxDepth||r&&u<r))return s(p,S,u+1);i[S]=p})}return s(e),i}kf.flatten=DU;function IU(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function CU(e){return e}});var Lf=he(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.modifyObjectKeysWithPrefix=io.defaultFronteggAttributesMapper=io.prepareAttributes=void 0;var _U=xC();function TU(e={},n){let{custom:t={},jwt:r={}}=e,o=(0,_U.flatten)(r),i=n?n(r):MC(r);return ne(ne(ne({},t),Ev(i,"frontegg.")),Ev(o,"jwt."))}io.prepareAttributes=TU;function MC(e){return{email:e.email,emailVerified:e.email_verified,tenantId:e.tenantId,userId:e.id}}io.defaultFronteggAttributesMapper=MC;function Ev(e,n){return Object.keys(e).reduce((t,r)=>(t[`${n}${r}`]=e[r],t),{})}io.modifyObjectKeysWithPrefix=Ev});var PC=he(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.shouldContinue=Us.getResult=void 0;var Dv=oo();function xU(e){let n=!1;for(let t of e){if(t.isEntitled)return t;t.justification===Dv.NotEntitledJustification.BUNDLE_EXPIRED&&(n=!0)}return{isEntitled:!1,justification:n?Dv.NotEntitledJustification.BUNDLE_EXPIRED:Dv.NotEntitledJustification.MISSING_FEATURE}}Us.getResult=xU;function MU(e){return e.every(({isEntitled:n})=>!n)}Us.shouldContinue=MU});var Ff=he(Rr=>{"use strict";var PU=Rr&&Rr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),Iv=Rr&&Rr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&PU(n,e,t)};Object.defineProperty(Rr,"__esModule",{value:!0});Iv(Av(),Rr);Iv(Lf(),Rr);Iv(PC(),Rr)});var RC=he(Uf=>{"use strict";Object.defineProperty(Uf,"__esModule",{value:!0});Uf.directEntitlementEvalutor=void 0;var Cv=oo();function RU(e,n,t={}){let r=n.features[e],o=!1;return r&&r.expireTime!==null&&(o=r.expireTime!==Cv.NO_EXPIRATION_TIME&&r.expireTime<Date.now(),!o)?{isEntitled:!0}:{isEntitled:!1,justification:o?Cv.NotEntitledJustification.BUNDLE_EXPIRED:Cv.NotEntitledJustification.MISSING_FEATURE}}Uf.directEntitlementEvalutor=RU});var OC=he(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.featureFlagEvaluator=void 0;var OU=oo(),NU=bv(),kU=Lf(),LU=Ls();function FU(e,n,t={}){let r=n.features[e];if(r&&r.featureFlag){let o=(0,kU.prepareAttributes)(t),{treatment:i}=(0,NU.evaluateFeatureFlag)(r.featureFlag,o);if(i===LU.TreatmentEnum.True)return{isEntitled:!0}}return{isEntitled:!1,justification:OU.NotEntitledJustification.MISSING_FEATURE}}jf.featureFlagEvaluator=FU});var NC=he(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.planTargetingRulesEvalutor=void 0;var UU=oo(),jU=Lf(),VU=Ls(),$U=wv();function BU(e,n,t={}){let r=n.features[e];if(r&&r.planIds&&r.planIds.length>0){let o=(0,jU.prepareAttributes)(t),i=n.plans;for(let s of r.planIds){let c=i[s];if(c){let{treatment:a}=(0,$U.evaluatePlan)(c,o);if(a===VU.TreatmentEnum.True)return{isEntitled:!0}}}}return{isEntitled:!1,justification:UU.NotEntitledJustification.MISSING_FEATURE}}Vf.planTargetingRulesEvalutor=BU});var kC=he($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.getIsEntitledEvaluators=void 0;var HU=RC(),GU=OC(),WU=NC();function zU(){return[HU.directEntitlementEvalutor,GU.featureFlagEvaluator,WU.planTargetingRulesEvalutor]}$f.getIsEntitledEvaluators=zU});var _v=he(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.evaluateIsEntitledToFeature=void 0;var qU=oo(),LC=Ff(),YU=kC();function ZU(e,n,t={}){if(!n)return{isEntitled:!1,justification:qU.NotEntitledJustification.MISSING_FEATURE};let r=[];for(let o of(0,YU.getIsEntitledEvaluators)())if(r.push(o(e,n,t)),!(0,LC.shouldContinue)(r))break;return(0,LC.getResult)(r)}Bf.evaluateIsEntitledToFeature=ZU});var FC=he(si=>{"use strict";var KU=si&&si.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),QU=si&&si.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&KU(n,e,t)};Object.defineProperty(si,"__esModule",{value:!0});QU(_v(),si)});var VC=he(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.evaluateIsEntitledToPermissions=void 0;var JU=_v(),UC=oo(),jC=Ff(),XU=Av();function ej(e,n,t){if(!n)return{isEntitled:!1,justification:UC.NotEntitledJustification.MISSING_PERMISSION};if(!(0,XU.checkPermission)(n.permissions,e))return{isEntitled:!1,justification:UC.NotEntitledJustification.MISSING_PERMISSION};let o=tj(e,n);if(!o.length)return{isEntitled:!0};let i=[];for(let s of o)if(i.push((0,JU.evaluateIsEntitledToFeature)(s,n,t)),!(0,jC.shouldContinue)(i))break;return(0,jC.getResult)(i)}Hf.evaluateIsEntitledToPermissions=ej;function tj(e,n){return Object.keys(n.features).filter(t=>n.features[t].linkedPermissions.includes(e))}});var $C=he(ai=>{"use strict";var nj=ai&&ai.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),rj=ai&&ai.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&nj(n,e,t)};Object.defineProperty(ai,"__esModule",{value:!0});rj(VC(),ai)});var BC=he(ur=>{"use strict";var oj=ur&&ur.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),Gf=ur&&ur.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&oj(n,e,t)};Object.defineProperty(ur,"__esModule",{value:!0});Gf(FC(),ur);Gf($C(),ur);Gf(oo(),ur);Gf(Ff(),ur)});var HC=he(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.NotEntitledJustification=nt.createPermissionCheckRegex=nt.checkPermission=nt.prepareAttributes=nt.evaluateIsEntitledToPermissions=nt.evaluateIsEntitledToFeature=nt.OperationEnum=nt.TreatmentEnum=nt.evaluatePlan=nt.evaluateFeatureFlag=void 0;var ij=bv();Object.defineProperty(nt,"evaluateFeatureFlag",{enumerable:!0,get:function(){return ij.evaluateFeatureFlag}});var sj=wv();Object.defineProperty(nt,"evaluatePlan",{enumerable:!0,get:function(){return sj.evaluatePlan}});var aj=Ls();Object.defineProperty(nt,"TreatmentEnum",{enumerable:!0,get:function(){return aj.TreatmentEnum}});var cj=ir();Object.defineProperty(nt,"OperationEnum",{enumerable:!0,get:function(){return cj.OperationEnum}});var js=BC();Object.defineProperty(nt,"evaluateIsEntitledToFeature",{enumerable:!0,get:function(){return js.evaluateIsEntitledToFeature}});Object.defineProperty(nt,"evaluateIsEntitledToPermissions",{enumerable:!0,get:function(){return js.evaluateIsEntitledToPermissions}});Object.defineProperty(nt,"prepareAttributes",{enumerable:!0,get:function(){return js.prepareAttributes}});Object.defineProperty(nt,"checkPermission",{enumerable:!0,get:function(){return js.checkPermission}});Object.defineProperty(nt,"createPermissionCheckRegex",{enumerable:!0,get:function(){return js.createPermissionCheckRegex}});Object.defineProperty(nt,"NotEntitledJustification",{enumerable:!0,get:function(){return js.NotEntitledJustification}})});function pb(e,n){return Object.is(e,n)}var pt=null,Ql=!1,Ep=1,Si=Symbol("SIGNAL");function xe(e){let n=pt;return pt=e,n}function Dp(){return pt}var Jl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ip(e){if(Ql)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(e);let n=pt.nextProducerIndex++;if(eu(pt),n<pt.producerNode.length&&pt.producerNode[n]!==e&&Ys(pt)){let t=pt.producerNode[n];Xl(t,pt.producerIndexOfThis[n])}pt.producerNode[n]!==e&&(pt.producerNode[n]=e,pt.producerIndexOfThis[n]=Ys(pt)?yb(e,pt,n):0),pt.producerLastReadVersion[n]=e.version}function hb(){Ep++}function gb(e){if(!(Ys(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ep)){if(!e.producerMustRecompute(e)&&!Tp(e)){Ap(e);return}e.producerRecomputeValue(e),Ap(e)}}function Cp(e){if(e.liveConsumerNode===void 0)return;let n=Ql;Ql=!0;try{for(let t of e.liveConsumerNode)t.dirty||nx(t)}finally{Ql=n}}function mb(){return pt?.consumerAllowSignalWrites!==!1}function nx(e){e.dirty=!0,Cp(e),e.consumerMarkedDirty?.(e)}function Ap(e){e.dirty=!1,e.lastCleanEpoch=Ep}function _p(e){return e&&(e.nextProducerIndex=0),xe(e)}function vb(e,n){if(xe(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Ys(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Xl(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Tp(e){eu(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(gb(t),r!==t.version))return!0}return!1}function xp(e){if(eu(e),Ys(e))for(let n=0;n<e.producerNode.length;n++)Xl(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function yb(e,n,t){if(Sb(e),e.liveConsumerNode.length===0&&bb(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=yb(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Xl(e,n){if(Sb(e),e.liveConsumerNode.length===1&&bb(e))for(let r=0;r<e.producerNode.length;r++)Xl(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];eu(o),o.producerIndexOfThis[r]=n}}function Ys(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function eu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Sb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function bb(e){return e.producerNode!==void 0}function rx(){throw new Error}var wb=rx;function ox(e){wb(e)}function Mp(e){wb=e}var ix=null;function Pp(e,n){mb()||ox(e),e.equal(e.value,n)||(e.value=n,sx(e))}var Rp=Ke(ne({},Jl),{equal:pb,value:void 0,kind:"signal"});function sx(e){e.version++,hb(),Cp(e),ix?.()}var Op;function Zs(){return Op}function fr(e){let n=Op;return Op=e,n}var tu=Symbol("NotFound");function Ae(e){return typeof e=="function"}function bi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nu=bi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ks(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var it=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Ae(r))try{r()}catch(i){n=i instanceof nu?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Ab(i)}catch(s){n=n??[],s instanceof nu?n=[...n,...s.errors]:n.push(s)}}if(n)throw new nu(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Ab(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ks(t,n)}remove(n){let{_finalizers:t}=this;t&&Ks(t,n),n instanceof e&&n._removeParent(this)}};it.EMPTY=(()=>{let e=new it;return e.closed=!0,e})();var Np=it.EMPTY;function ru(e){return e instanceof it||e&&"closed"in e&&Ae(e.remove)&&Ae(e.add)&&Ae(e.unsubscribe)}function Ab(e){Ae(e)?e():e.unsubscribe()}var Dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(e,n,...t){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=wi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ou(e){wi.setTimeout(()=>{let{onUnhandledError:n}=Dn;if(n)n(e);else throw e})}function Qs(){}var Eb=kp("C",void 0,void 0);function Db(e){return kp("E",void 0,e)}function Ib(e){return kp("N",e,void 0)}function kp(e,n,t){return{kind:e,value:n,error:t}}var mo=null;function Ai(e){if(Dn.useDeprecatedSynchronousErrorHandling){let n=!mo;if(n&&(mo={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=mo;if(mo=null,t)throw r}}else e()}function Cb(e){Dn.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=e)}var vo=class extends it{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ru(n)&&n.add(this)):this.destination=mx}static create(n,t,r){return new Ei(n,t,r)}next(n){this.isStopped?Fp(Ib(n),this):this._next(n)}error(n){this.isStopped?Fp(Db(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Fp(Eb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hx=Function.prototype.bind;function Lp(e,n){return hx.call(e,n)}var Up=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){iu(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){iu(r)}else iu(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){iu(t)}}},Ei=class extends vo{constructor(n,t,r){super();let o;if(Ae(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Dn.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Lp(n.next,i),error:n.error&&Lp(n.error,i),complete:n.complete&&Lp(n.complete,i)}):o=n}this.destination=new Up(o)}};function iu(e){Dn.useDeprecatedSynchronousErrorHandling?Cb(e):ou(e)}function gx(e){throw e}function Fp(e,n){let{onStoppedNotification:t}=Dn;t&&wi.setTimeout(()=>t(e,n))}var mx={closed:!0,next:Qs,error:gx,complete:Qs};var Di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yt(e){return e}function jp(...e){return Vp(e)}function Vp(e){return e.length===0?Yt:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var je=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=yx(t)?t:new Ei(t,r,o);return Ai(()=>{let{operator:s,source:c}=this;i.add(s?s.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=_b(r),new r((o,i)=>{let s=new Ei({next:c=>{try{t(c)}catch(a){i(a),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Di](){return this}pipe(...t){return Vp(t)(this)}toPromise(t){return t=_b(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function _b(e){var n;return(n=e??Dn.Promise)!==null&&n!==void 0?n:Promise}function vx(e){return e&&Ae(e.next)&&Ae(e.error)&&Ae(e.complete)}function yx(e){return e&&e instanceof vo||vx(e)&&ru(e)}function $p(e){return Ae(e?.lift)}function Pe(e){return n=>{if($p(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Re(e,n,t,r,o){return new Bp(e,n,t,r,o)}var Bp=class extends vo{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(a){n.error(a)}}:super._next,this._error=o?function(c){try{o(c)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ii(){return Pe((e,n)=>{let t=null;e._refCount++;let r=Re(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Ci=class extends je{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,$p(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new it;let t=this.getSubject();n.add(this.source.subscribe(Re(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=it.EMPTY)}return n}refCount(){return Ii()(this)}};var Tb=bi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class e extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new su(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Tb}next(t){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Np:(this.currentObservers=null,i.push(t),new it(()=>{this.currentObservers=null,Ks(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new je;return t.source=this,t}}return e.create=(n,t)=>new su(n,t),e})(),su=class extends Dt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Np}};var oe=class extends Dt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Ut=new je(e=>e.complete());function xb(e){return e&&Ae(e.schedule)}function Mb(e){return e[e.length-1]}function Pb(e){return Ae(Mb(e))?e.pop():void 0}function Nr(e){return xb(Mb(e))?e.pop():void 0}function Js(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function c(d){try{u(r.next(d))}catch(p){s(p)}}function a(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):o(d.value).then(c,a)}u((r=r.apply(e,n||[])).next())})}function Rb(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e){return this instanceof yo?(this.v=e,this):new yo(e)}function Ob(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(h){return Promise.resolve(h).then(f,p)}}function c(f,h){r[f]&&(o[f]=function(v){return new Promise(function(S,D){i.push([f,v,S,D])>1||a(f,v)})},h&&(o[f]=h(o[f])))}function a(f,h){try{u(r[f](h))}catch(v){g(i[0][3],v)}}function u(f){f.value instanceof yo?Promise.resolve(f.value.v).then(d,p):g(i[0][2],f)}function d(f){a("next",f)}function p(f){a("throw",f)}function g(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Nb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Rb=="function"?Rb(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(c,a){s=e[i](s),o(c,a,s.done,s.value)})}}function o(i,s,c,a){Promise.resolve(a).then(function(u){i({value:u,done:c})},s)}}var au=e=>e&&typeof e.length=="number"&&typeof e!="function";function cu(e){return Ae(e?.then)}function lu(e){return Ae(e[Di])}function uu(e){return Symbol.asyncIterator&&Ae(e?.[Symbol.asyncIterator])}function du(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fu=Sx();function pu(e){return Ae(e?.[fu])}function hu(e){return Ob(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield yo(t.read());if(o)return yield yo(void 0);yield yield yo(r)}}finally{t.releaseLock()}})}function gu(e){return Ae(e?.getReader)}function gt(e){if(e instanceof je)return e;if(e!=null){if(lu(e))return bx(e);if(au(e))return wx(e);if(cu(e))return Ax(e);if(uu(e))return kb(e);if(pu(e))return Ex(e);if(gu(e))return Dx(e)}throw du(e)}function bx(e){return new je(n=>{let t=e[Di]();if(Ae(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wx(e){return new je(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Ax(e){return new je(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ou)})}function Ex(e){return new je(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function kb(e){return new je(n=>{Ix(e,n).catch(t=>n.error(t))})}function Dx(e){return kb(hu(e))}function Ix(e,n){var t,r,o,i;return Js(this,void 0,void 0,function*(){try{for(t=Nb(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function jt(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function mu(e,n=0){return Pe((t,r)=>{t.subscribe(Re(r,o=>jt(r,e,()=>r.next(o),n),()=>jt(r,e,()=>r.complete(),n),o=>jt(r,e,()=>r.error(o),n)))})}function vu(e,n=0){return Pe((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Lb(e,n){return gt(e).pipe(vu(n),mu(n))}function Fb(e,n){return gt(e).pipe(vu(n),mu(n))}function Ub(e,n){return new je(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function jb(e,n){return new je(t=>{let r;return jt(t,n,()=>{r=e[fu](),jt(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>Ae(r?.return)&&r.return()})}function yu(e,n){if(!e)throw new Error("Iterable cannot be null");return new je(t=>{jt(t,n,()=>{let r=e[Symbol.asyncIterator]();jt(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function Vb(e,n){return yu(hu(e),n)}function $b(e,n){if(e!=null){if(lu(e))return Lb(e,n);if(au(e))return Ub(e,n);if(cu(e))return Fb(e,n);if(uu(e))return yu(e,n);if(pu(e))return jb(e,n);if(gu(e))return Vb(e,n)}throw du(e)}function Xe(e,n){return n?$b(e,n):gt(e)}function we(...e){let n=Nr(e);return Xe(e,n)}function _i(e,n){let t=Ae(e)?e:()=>e,r=o=>o.error(t());return new je(n?o=>n.schedule(r,0,o):r)}function Hp(e){return!!e&&(e instanceof je||Ae(e.lift)&&Ae(e.subscribe))}var pr=bi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Fe(e,n){return Pe((t,r)=>{let o=0;t.subscribe(Re(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:Cx}=Array;function _x(e,n){return Cx(n)?e(...n):e(n)}function Bb(e){return Fe(n=>_x(e,n))}var{isArray:Tx}=Array,{getPrototypeOf:xx,prototype:Mx,keys:Px}=Object;function Hb(e){if(e.length===1){let n=e[0];if(Tx(n))return{args:n,keys:null};if(Rx(n)){let t=Px(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Rx(e){return e&&typeof e=="object"&&xx(e)===Mx}function Gb(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function Xs(...e){let n=Nr(e),t=Pb(e),{args:r,keys:o}=Hb(e);if(r.length===0)return Xe([],n);let i=new je(Ox(r,n,o?s=>Gb(o,s):Yt));return t?i.pipe(Bb(t)):i}function Ox(e,n,t=Yt){return r=>{Wb(n,()=>{let{length:o}=e,i=new Array(o),s=o,c=o;for(let a=0;a<o;a++)Wb(n,()=>{let u=Xe(e[a],n),d=!1;u.subscribe(Re(r,p=>{i[a]=p,d||(d=!0,c--),c||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wb(e,n,t){e?jt(t,e,n):n()}function zb(e,n,t,r,o,i,s,c){let a=[],u=0,d=0,p=!1,g=()=>{p&&!a.length&&!u&&n.complete()},f=v=>u<r?h(v):a.push(v),h=v=>{i&&n.next(v),u++;let S=!1;gt(t(v,d++)).subscribe(Re(n,D=>{o?.(D),i?f(D):n.next(D)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;a.length&&u<r;){let D=a.shift();s?jt(n,s,()=>h(D)):h(D)}g()}catch(D){n.error(D)}}))};return e.subscribe(Re(n,f,()=>{p=!0,g()})),()=>{c?.()}}function rt(e,n,t=1/0){return Ae(n)?rt((r,o)=>Fe((i,s)=>n(r,i,o,s))(gt(e(r,o))),t):(typeof n=="number"&&(t=n),Pe((r,o)=>zb(r,o,e,t)))}function Ti(e=1/0){return rt(Yt,e)}function qb(){return Ti(1)}function xi(...e){return qb()(Xe(e,Nr(e)))}function Su(e){return new je(n=>{gt(e()).subscribe(n)})}function Zt(e,n){return Pe((t,r)=>{let o=0;t.subscribe(Re(r,i=>e.call(n,i,o++)&&r.next(i)))})}function hr(e){return Pe((n,t)=>{let r=null,o=!1,i;r=n.subscribe(Re(t,void 0,void 0,s=>{i=gt(e(s,hr(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Yb(e,n,t,r,o){return(i,s)=>{let c=t,a=n,u=0;i.subscribe(Re(s,d=>{let p=u++;a=c?e(a,d,p):(c=!0,d),r&&s.next(a)},o&&(()=>{c&&s.next(a),s.complete()})))}}function kr(e,n){return Ae(n)?rt(e,n,1):rt(e,1)}function Lr(e){return Pe((n,t)=>{let r=!1;n.subscribe(Re(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function gr(e){return e<=0?()=>Ut:Pe((n,t)=>{let r=0;n.subscribe(Re(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function bu(e=Nx){return Pe((n,t)=>{let r=!1;n.subscribe(Re(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function Nx(){return new pr}function ea(e){return Pe((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function mr(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Zt((o,i)=>e(o,i,r)):Yt,gr(1),t?Lr(n):bu(()=>new pr))}function Mi(e){return e<=0?()=>Ut:Pe((n,t)=>{let r=[];n.subscribe(Re(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Gp(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Zt((o,i)=>e(o,i,r)):Yt,Mi(1),t?Lr(n):bu(()=>new pr))}function Wp(e,n){return Pe(Yb(e,n,arguments.length>=2,!0))}function zp(...e){let n=Nr(e);return Pe((t,r)=>{(n?xi(e,t,n):xi(e,t)).subscribe(r)})}function on(e,n){return Pe((t,r)=>{let o=null,i=0,s=!1,c=()=>s&&!o&&r.complete();t.subscribe(Re(r,a=>{o?.unsubscribe();let u=0,d=i++;gt(e(a,d)).subscribe(o=Re(r,p=>r.next(n?n(a,p,d,u++):p),()=>{o=null,c()}))},()=>{s=!0,c()}))})}function qp(e){return Pe((n,t)=>{gt(e).subscribe(Re(t,()=>t.complete(),Qs)),!t.closed&&n.subscribe(t)})}function It(e,n,t){let r=Ae(e)||n||t?{next:e,error:n,complete:t}:e;return r?Pe((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;o.subscribe(Re(i,a=>{var u;(u=r.next)===null||u===void 0||u.call(r,a),i.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),i.complete()},a=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,a),i.error(a)},()=>{var a,u;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Yt}var Fw="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",fe=class extends Error{code;constructor(n,t){super(Uw(n,t)),this.code=n}};function kx(e){return`NG0${Math.abs(e)}`}function Uw(e,n){return`${kx(e)}${n?": "+n:""}`}var jw=Symbol("InputSignalNode#UNSET"),Lx=Ke(ne({},Rp),{transformFn:void 0,applyValueToInputSignal(e,n){Pp(e,n)}});function Vw(e,n){let t=Object.create(Lx);t.value=e,t.transformFn=n?.transform;function r(){if(Ip(t),t.value===jw){let o=null;throw new fe(-950,o)}return t.value}return r[Si]=t,r}function pa(e){return{toString:e}.toString()}var wu="__parameters__";function Fx(e){return function(...t){if(e){let r=e(...t);for(let o in r)this[o]=r[o]}}}function $w(e,n,t){return pa(()=>{let r=Fx(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return c.annotation=s,c;function c(a,u,d){let p=a.hasOwnProperty(wu)?a[wu]:Object.defineProperty(a,wu,{value:[]})[wu];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),a}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Sr=globalThis;function We(e){for(let n in e)if(e[n]===We)return n;throw Error("Could not find renamed property on target object.")}function Vt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Vt).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Zb(e,n){return e?n?`${e} ${n}`:e:n||""}var Ux=We({__forward_ref__:We});function Bw(e){return e.__forward_ref__=Bw,e.toString=function(){return Vt(this())},e}function an(e){return Hw(e)?e():e}function Hw(e){return typeof e=="function"&&e.hasOwnProperty(Ux)&&e.__forward_ref__===Bw}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ln(e){return{providers:e.providers||[],imports:e.imports||[]}}function rd(e){return Kb(e,Ww)||Kb(e,zw)}function Gw(e){return rd(e)!==null}function Kb(e,n){return e.hasOwnProperty(n)?e[n]:null}function jx(e){let n=e&&(e[Ww]||e[zw]);return n||null}function Qb(e){return e&&(e.hasOwnProperty(Jb)||e.hasOwnProperty(Vx))?e[Jb]:null}var Ww=We({\u0275prov:We}),Jb=We({\u0275inj:We}),zw=We({ngInjectableDef:We}),Vx=We({ngInjectorDef:We}),ge=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function qw(e){return e&&!!e.\u0275providers}var $x=We({\u0275cmp:We}),Bx=We({\u0275dir:We}),Hx=We({\u0275pipe:We}),Gx=We({\u0275mod:We}),Tu=We({\u0275fac:We}),oa=We({__NG_ELEMENT_ID__:We}),Xb=We({__NG_ENV_ID__:We});function Bh(e){return typeof e=="string"?e:e==null?"":String(e)}function Wx(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Bh(e)}function Yw(e,n){throw new fe(-200,e)}function Hh(e,n){throw new fe(-201,!1)}var Ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ce||{}),oh;function Zw(){return oh}function sn(e){let n=oh;return oh=e,n}function Kw(e,n,t){let r=rd(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ce.Optional)return null;if(n!==void 0)return n;Hh(e,"Injector")}var zx={},So=zx,ih="__NG_DI_FLAG__",xu=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?tu:So,r)}},Mu="ngTempTokenPath",qx="ngTokenPath",Yx=/\n/gm,Zx="\u0275",ew="__source";function Kx(e,n=Ce.Default){if(Zs()===void 0)throw new fe(-203,!1);if(Zs()===null)return Kw(e,void 0,n);{let t=Zs(),r;return t instanceof xu?r=t.injector:r=t,r.get(e,n&Ce.Optional?null:void 0,n)}}function le(e,n=Ce.Default){return(Zw()||Kx)(an(e),n)}function X(e,n=Ce.Default){return le(e,od(n))}function od(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function sh(e){let n=[];for(let t=0;t<e.length;t++){let r=an(e[t]);if(Array.isArray(r)){if(r.length===0)throw new fe(900,!1);let o,i=Ce.Default;for(let s=0;s<r.length;s++){let c=r[s],a=Qx(c);typeof a=="number"?a===-1?o=c.token:i|=a:o=c}n.push(le(o,i))}else n.push(le(r))}return n}function Qw(e,n){return e[ih]=n,e.prototype[ih]=n,e}function Qx(e){return e[ih]}function Jx(e,n,t,r){let o=e[Mu];throw n[ew]&&o.unshift(n[ew]),e.message=Xx(`
`+e.message,o,t,r),e[qx]=o,e[Mu]=null,e}function Xx(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Zx?e.slice(2):e;let o=Vt(n);if(Array.isArray(n))o=n.map(Vt).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let c=n[s];i.push(s+":"+(typeof c=="string"?JSON.stringify(c):Vt(c)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(Yx,`
  `)}`}var eM=Qw($w("Optional"),8);var tM=Qw($w("SkipSelf"),4);function Fi(e,n){let t=e.hasOwnProperty(Tu);return t?e[Tu]:null}function Gh(e,n){e.forEach(t=>Array.isArray(t)?Gh(t,n):n(t))}function Jw(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Pu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function nM(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function rM(e,n,t){let r=ha(e,n);return r>=0?e[r|1]=t:(r=~r,nM(e,r,n,t)),r}function Yp(e,n){let t=ha(e,n);if(t>=0)return e[t|1]}function ha(e,n){return oM(e,n,1)}function oM(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var Ui={},Cn=[],sa=new ge(""),Xw=new ge("",-1),eA=new ge(""),Ru=class{get(n,t=So){if(t===So){let r=new Error(`NullInjectorError: No provider for ${Vt(n)}!`);throw r.name="NullInjectorError",r}return t}};function tA(e,n){let t=e[Gx]||null;if(!t&&n===!0)throw new Error(`Type ${Vt(e)} does not have '\u0275mod' property.`);return t}function Ao(e){return e[$x]||null}function iM(e){return e[Bx]||null}function sM(e){return e[Hx]||null}function nA(e){return{\u0275providers:e}}function aM(...e){return{\u0275providers:rA(!0,e),\u0275fromNgModule:!0}}function rA(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return Gh(n,s=>{let c=s;ah(c,i,[],r)&&(o||=[],o.push(c))}),o!==void 0&&oA(o,i),t}function oA(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];Wh(o,i=>{n(i,r)})}}function ah(e,n,t,r){if(e=an(e),!e)return!1;let o=null,i=Qb(e),s=!i&&Ao(e);if(!i&&!s){let a=e.ngModule;if(i=Qb(a),i)o=a;else return!1}else{if(s&&!s.standalone)return!1;o=e}let c=r.has(o);if(s){if(c)return!1;if(r.add(o),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of a)ah(u,n,t,r)}}else if(i){if(i.imports!=null&&!c){r.add(o);let u;try{Gh(i.imports,d=>{ah(d,n,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&oA(u,n)}if(!c){let u=Fi(o)||(()=>new o);n({provide:o,useFactory:u,deps:Cn},o),n({provide:eA,useValue:o,multi:!0},o),n({provide:sa,useValue:()=>le(o),multi:!0},o)}let a=i.providers;if(a!=null&&!c){let u=e;Wh(a,d=>{n(d,u)})}}else return!1;return o!==e&&e.providers!==void 0}function Wh(e,n){for(let t of e)qw(t)&&(t=t.\u0275providers),Array.isArray(t)?Wh(t,n):n(t)}var cM=We({provide:String,useValue:We});function iA(e){return e!==null&&typeof e=="object"&&cM in e}function lM(e){return!!(e&&e.useExisting)}function uM(e){return!!(e&&e.useFactory)}function ch(e){return typeof e=="function"}var id=new ge(""),Du={},tw={},Zp;function zh(){return Zp===void 0&&(Zp=new Ru),Zp}var $t=class{},aa=class extends $t{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,uh(n,s=>this.processProvider(s)),this.records.set(Xw,Pi(void 0,this)),o.has("environment")&&this.records.set($t,Pi(void 0,this));let i=this.records.get(id);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(eA,Cn,Ce.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?tu:So,r)}destroy(){na(this),this._destroyed=!0;let n=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(n)}}onDestroy(n){return na(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){na(this);let t=fr(this),r=sn(void 0),o;try{return n()}finally{fr(t),sn(r)}}get(n,t=So,r=Ce.Default){if(na(this),n.hasOwnProperty(Xb))return n[Xb](this);r=od(r);let o,i=fr(this),s=sn(void 0);try{if(!(r&Ce.SkipSelf)){let a=this.records.get(n);if(a===void 0){let u=mM(n)&&rd(n);u&&this.injectableDefInScope(u)?a=Pi(lh(n),Du):a=null,this.records.set(n,a)}if(a!=null)return this.hydrate(n,a,r)}let c=r&Ce.Self?zh():this.parent;return t=r&Ce.Optional&&t===So?null:t,c.get(n,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Mu]=c[Mu]||[]).unshift(Vt(n)),i)throw c;return Jx(c,n,"R3InjectorError",this.source)}else throw c}finally{sn(s),fr(i)}}resolveInjectorInitializers(){let n=xe(null),t=fr(this),r=sn(void 0),o;try{let i=this.get(sa,Cn,Ce.Self);for(let s of i)s()}finally{fr(t),sn(r),xe(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Vt(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=an(n);let t=ch(n)?n:an(n&&n.provide),r=fM(n);if(!ch(n)&&n.multi===!0){let o=this.records.get(t);o||(o=Pi(void 0,Du,!0),o.factory=()=>sh(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=xe(null);try{return t.value===tw?Yw(Vt(n)):t.value===Du&&(t.value=tw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&gM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xe(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=an(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function lh(e){let n=rd(e),t=n!==null?n.factory:Fi(e);if(t!==null)return t;if(e instanceof ge)throw new fe(204,!1);if(e instanceof Function)return dM(e);throw new fe(204,!1)}function dM(e){if(e.length>0)throw new fe(204,!1);let t=jx(e);return t!==null?()=>t.factory(e):()=>new e}function fM(e){if(iA(e))return Pi(void 0,e.useValue);{let n=pM(e);return Pi(n,Du)}}function pM(e,n,t){let r;if(ch(e)){let o=an(e);return Fi(o)||lh(o)}else if(iA(e))r=()=>an(e.useValue);else if(uM(e))r=()=>e.useFactory(...sh(e.deps||[]));else if(lM(e))r=(o,i)=>le(an(e.useExisting),i!==void 0&&i&Ce.Optional?Ce.Optional:void 0);else{let o=an(e&&(e.useClass||e.provide));if(hM(e))r=()=>new o(...sh(e.deps));else return Fi(o)||lh(o)}return r}function na(e){if(e.destroyed)throw new fe(205,!1)}function Pi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function hM(e){return!!e.deps}function gM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function mM(e){return typeof e=="function"||typeof e=="object"&&e instanceof ge}function uh(e,n){for(let t of e)Array.isArray(t)?uh(t,n):t&&qw(t)?uh(t.\u0275providers,n):n(t)}function un(e,n){let t;e instanceof aa?(na(e),t=e):t=new xu(e);let r,o=fr(t),i=sn(void 0);try{return n()}finally{fr(o),sn(i)}}function sA(){return Zw()!==void 0||Zs()!=null}function vM(e){if(!sA())throw new fe(-203,!1)}function yM(e){let n=Sr.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function SM(e){return typeof e=="function"}var br=0,Me=1,Ee=2,kt=3,_n=4,xn=5,Ou=6,Nu=7,Lt=8,Eo=9,vr=10,Ft=11,ca=12,nw=13,Wi=14,Gn=15,ji=16,Ri=17,Vi=18,sd=19,aA=20,Fr=21,Kp=22,ku=23,cn=24,ki=25,Tn=26,cA=1;var Do=7,Lu=8,Fu=9,Kt=10;function bo(e){return Array.isArray(e)&&typeof e[cA]=="object"}function wr(e){return Array.isArray(e)&&e[cA]===!0}function lA(e){return(e.flags&4)!==0}function zi(e){return e.componentOffset>-1}function qh(e){return(e.flags&1)===1}function To(e){return!!e.template}function Uu(e){return(e[Ee]&512)!==0}function qi(e){return(e[Ee]&256)===256}var dh=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function uA(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var ad=(()=>{let e=()=>dA;return e.ngInherit=!0,e})();function dA(e){return e.type.prototype.ngOnChanges&&(e.setInput=wM),bM}function bM(){let e=pA(this),n=e?.current;if(n){let t=e.previous;if(t===Ui)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function wM(e,n,t,r,o){let i=this.declaredInputs[r],s=pA(e)||AM(e,{previous:Ui,current:null}),c=s.current||(s.current={}),a=s.previous,u=a[i];c[i]=new dh(u&&u.currentValue,t,a===Ui),uA(e,n,o,t)}var fA="__ngSimpleChanges__";function pA(e){return e[fA]||null}function AM(e,n){return e[fA]=n}var rw=null;var Ye=function(e,n=null,t){rw?.(e,n,t)},hA="svg",EM="math";function Wn(e){for(;Array.isArray(e);)e=e[br];return e}function gA(e,n){return Wn(n[e])}function Ar(e,n){return Wn(n[e.index])}function Yh(e,n){return e.data[n]}function yr(e,n){let t=n[e];return bo(t)?t:t[br]}function Zh(e){return(e[Ee]&128)===128}function DM(e){return wr(e[kt])}function ju(e,n){return n==null?null:e[n]}function mA(e){e[Ri]=0}function vA(e){e[Ee]&1024||(e[Ee]|=1024,Zh(e)&&ga(e))}function IM(e,n){for(;e>0;)n=n[Wi],e--;return n}function cd(e){return!!(e[Ee]&9216||e[cn]?.dirty)}function fh(e){e[vr].changeDetectionScheduler?.notify(8),e[Ee]&64&&(e[Ee]|=1024),cd(e)&&ga(e)}function ga(e){e[vr].changeDetectionScheduler?.notify(0);let n=Io(e);for(;n!==null&&!(n[Ee]&8192||(n[Ee]|=8192,!Zh(n)));)n=Io(n)}function yA(e,n){if(qi(e))throw new fe(911,!1);e[Fr]===null&&(e[Fr]=[]),e[Fr].push(n)}function CM(e,n){if(e[Fr]===null)return;let t=e[Fr].indexOf(n);t!==-1&&e[Fr].splice(t,1)}function Io(e){let n=e[kt];return wr(n)?n[kt]:n}function SA(e){return e[Nu]??=[]}function bA(e){return e.cleanup??=[]}var _e={lFrame:TA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var ph=!1;function _M(){return _e.lFrame.elementDepthCount}function TM(){_e.lFrame.elementDepthCount++}function xM(){_e.lFrame.elementDepthCount--}function wA(){return _e.bindingsEnabled}function MM(){return _e.skipHydrationRootTNode!==null}function PM(e){return _e.skipHydrationRootTNode===e}function RM(){_e.skipHydrationRootTNode=null}function ot(){return _e.lFrame.lView}function Vr(){return _e.lFrame.tView}function $r(e){return _e.lFrame.contextLView=e,e[Lt]}function Br(e){return _e.lFrame.contextLView=null,e}function Yn(){let e=AA();for(;e!==null&&e.type===64;)e=e.parent;return e}function AA(){return _e.lFrame.currentTNode}function OM(){let e=_e.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function ma(e,n){let t=_e.lFrame;t.currentTNode=e,t.isParent=n}function EA(){return _e.lFrame.isParent}function NM(){_e.lFrame.isParent=!1}function DA(){return ph}function ow(e){let n=ph;return ph=e,n}function kM(e){return _e.lFrame.bindingIndex=e}function Kh(){return _e.lFrame.bindingIndex++}function LM(e){let n=_e.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function FM(){return _e.lFrame.inI18n}function UM(e,n){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=e,hh(n)}function jM(){return _e.lFrame.currentDirectiveIndex}function hh(e){_e.lFrame.currentDirectiveIndex=e}function VM(e){let n=_e.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function IA(e){_e.lFrame.currentQueryIndex=e}function $M(e){let n=e[Me];return n.type===2?n.declTNode:n.type===1?e[xn]:null}function CA(e,n,t){if(t&Ce.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&Ce.Host);)if(o=$M(i),o===null||(i=i[Wi],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=_e.lFrame=_A();return r.currentTNode=n,r.lView=e,!0}function Qh(e){let n=_A(),t=e[Me];_e.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function _A(){let e=_e.lFrame,n=e===null?null:e.child;return n===null?TA(e):n}function TA(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function xA(){let e=_e.lFrame;return _e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var MA=xA;function Jh(){let e=xA();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function BM(e){return(_e.lFrame.contextLView=IM(e,_e.lFrame.contextLView))[Lt]}function Yi(){return _e.lFrame.selectedIndex}function Co(e){_e.lFrame.selectedIndex=e}function HM(){let e=_e.lFrame;return Yh(e.tView,e.selectedIndex)}function ld(){_e.lFrame.currentNamespace=hA}function PA(){GM()}function GM(){_e.lFrame.currentNamespace=null}function WM(){return _e.lFrame.currentNamespace}var RA=!0;function Xh(){return RA}function eg(e){RA=e}function zM(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=dA(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function OA(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-t,s),c&&((e.contentHooks??=[]).push(t,c),(e.contentCheckHooks??=[]).push(t,c)),a&&(e.viewHooks??=[]).push(-t,a),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),d!=null&&(e.destroyHooks??=[]).push(t,d)}}function Iu(e,n,t){NA(e,n,3,t)}function Cu(e,n,t,r){(e[Ee]&3)===t&&NA(e,n,t,r)}function Qp(e,n){let t=e[Ee];(t&3)===n&&(t&=16383,t+=1,e[Ee]=t)}function NA(e,n,t,r){let o=r!==void 0?e[Ri]&65535:0,i=r??-1,s=n.length-1,c=0;for(let a=o;a<s;a++)if(typeof n[a+1]=="number"){if(c=n[a],r!=null&&c>=r)break}else n[a]<0&&(e[Ri]+=65536),(c<i||i==-1)&&(qM(e,t,n,a),e[Ri]=(e[Ri]&4294901760)+a+2),a++}function iw(e,n){Ye(4,e,n);let t=xe(null);try{n.call(e)}finally{xe(t),Ye(5,e,n)}}function qM(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],c=e[s];o?e[Ee]>>14<e[Ri]>>16&&(e[Ee]&3)===n&&(e[Ee]+=16384,iw(c,i)):iw(c,i)}var Li=-1,la=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function YM(e){return(e.flags&8)!==0}function ZM(e){return(e.flags&16)!==0}function KM(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],c=t[r++];e.setAttribute(n,s,c,i)}else{let i=o,s=t[++r];JM(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function QM(e){return e===3||e===4||e===6}function JM(e){return e.charCodeAt(0)===64}function tg(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?sw(e,t,o,null,n[++r]):sw(e,t,o,null,null))}}return e}function sw(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let c=e[i++];if(typeof c=="number"){if(c===n){s=-1;break}else if(c>n){s=i-1;break}}}for(;i<e.length;){let c=e[i];if(typeof c=="number")break;if(c===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function kA(e){return e!==Li}function Vu(e){return e&32767}function XM(e){return e>>16}function $u(e,n){let t=XM(e),r=n;for(;t>0;)r=r[Wi],t--;return r}var gh=!0;function aw(e){let n=gh;return gh=e,n}var eP=256,LA=eP-1,FA=5,tP=0,Hn={};function nP(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(oa)&&(r=t[oa]),r==null&&(r=t[oa]=tP++);let o=r&LA,i=1<<o;n.data[e+(o>>FA)]|=i}function UA(e,n){let t=jA(e,n);if(t!==-1)return t;let r=n[Me];r.firstCreatePass&&(e.injectorIndex=n.length,Jp(r.data,e),Jp(n,null),Jp(r.blueprint,null));let o=ng(e,n),i=e.injectorIndex;if(kA(o)){let s=Vu(o),c=$u(o,n),a=c[Me].data;for(let u=0;u<8;u++)n[i+u]=c[s+u]|a[s+u]}return n[i+8]=o,i}function Jp(e,n){e.push(0,0,0,0,0,0,0,0,n)}function jA(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function ng(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=GA(o),r===null)return Li;if(t++,o=o[Wi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Li}function rP(e,n,t){nP(e,n,t)}function VA(e,n,t){if(t&Ce.Optional||e!==void 0)return e;Hh(n,"NodeInjector")}function $A(e,n,t,r){if(t&Ce.Optional&&r===void 0&&(r=null),(t&(Ce.Self|Ce.Host))===0){let o=e[Eo],i=sn(void 0);try{return o?o.get(n,r,t&Ce.Optional):Kw(n,r,t&Ce.Optional)}finally{sn(i)}}return VA(r,n,t)}function BA(e,n,t,r=Ce.Default,o){if(e!==null){if(n[Ee]&2048&&!(r&Ce.Self)){let s=cP(e,n,t,r,Hn);if(s!==Hn)return s}let i=HA(e,n,t,r,Hn);if(i!==Hn)return i}return $A(n,t,r,o)}function HA(e,n,t,r,o){let i=sP(t);if(typeof i=="function"){if(!CA(n,e,r))return r&Ce.Host?VA(o,t,r):$A(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&Ce.Optional))Hh(t);else return s}finally{MA()}}else if(typeof i=="number"){let s=null,c=jA(e,n),a=Li,u=r&Ce.Host?n[Gn][xn]:null;for((c===-1||r&Ce.SkipSelf)&&(a=c===-1?ng(e,n):n[c+8],a===Li||!lw(r,!1)?c=-1:(s=n[Me],c=Vu(a),n=$u(a,n)));c!==-1;){let d=n[Me];if(cw(i,c,d.data)){let p=oP(c,n,t,s,r,u);if(p!==Hn)return p}a=n[c+8],a!==Li&&lw(r,n[Me].data[c+8]===u)&&cw(i,c,n)?(s=d,c=Vu(a),n=$u(a,n)):c=-1}}return o}function oP(e,n,t,r,o,i){let s=n[Me],c=s.data[e+8],a=r==null?zi(c)&&gh:r!=s&&(c.type&3)!==0,u=o&Ce.Host&&i===c,d=iP(c,s,t,a,u);return d!==null?mh(n,s,d,c,o):Hn}function iP(e,n,t,r,o){let i=e.providerIndexes,s=n.data,c=i&1048575,a=e.directiveStart,u=e.directiveEnd,d=i>>20,p=r?c:c+d,g=o?c+d:u;for(let f=p;f<g;f++){let h=s[f];if(f<a&&t===h||f>=a&&h.type===t)return f}if(o){let f=s[a];if(f&&To(f)&&f.type===t)return a}return null}function mh(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof la){let c=i;c.resolving&&Yw(Wx(s[t]));let a=aw(c.canSeeViewProviders);c.resolving=!0;let u,d=c.injectImpl?sn(c.injectImpl):null,p=CA(e,r,Ce.Default);try{i=e[t]=c.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&zM(t,s[t],n)}finally{d!==null&&sn(d),aw(a),c.resolving=!1,MA()}}return i}function sP(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(oa)?e[oa]:void 0;return typeof n=="number"?n>=0?n&LA:aP:n}function cw(e,n,t){let r=1<<e;return!!(t[n+(e>>FA)]&r)}function lw(e,n){return!(e&Ce.Self)&&!(e&Ce.Host&&n)}var wo=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return BA(this._tNode,this._lView,n,od(r),t)}};function aP(){return new wo(Yn(),ot())}function rg(e){return pa(()=>{let n=e.prototype.constructor,t=n[Tu]||vh(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Tu]||vh(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function vh(e){return Hw(e)?()=>{let n=vh(an(e));return n&&n()}:Fi(e)}function cP(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[Ee]&2048&&!Uu(s);){let c=HA(i,s,t,r|Ce.Self,Hn);if(c!==Hn)return c;let a=i.parent;if(!a){let u=s[aA];if(u){let d=u.get(t,Hn,r);if(d!==Hn)return d}a=GA(s),s=s[Wi]}i=a}return o}function GA(e){let n=e[Me],t=n.type;return t===2?n.declTNode:t===1?e[xn]:null}function uw(e,n=null,t=null,r){let o=WA(e,n,t,r);return o.resolveInjectorInitializers(),o}function WA(e,n=null,t=null,r,o=new Set){let i=[t||Cn,aM(e)];return r=r||(typeof e=="object"?void 0:Vt(e)),new aa(i,n||zh(),r||null,o)}var Qt=class e{static THROW_IF_NOT_FOUND=So;static NULL=new Ru;static create(n,t){if(Array.isArray(n))return uw({name:""},t,n,"");{let r=n.name??"";return uw({name:r},n.parent,n.providers,r)}}static \u0275prov=ue({token:e,providedIn:"any",factory:()=>le(Xw)});static __NG_ELEMENT_ID__=-1};var lP=new ge("");lP.__NG_ELEMENT_ID__=e=>{let n=Yn();if(n===null)throw new fe(204,!1);if(n.type&2)return n.value;if(e&Ce.Optional)return null;throw new fe(204,!1)};var zA=!1,va=(()=>{class e{static __NG_ELEMENT_ID__=uP;static __NG_ENV_ID__=t=>t}return e})(),yh=class extends va{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return qi(t)?(n(),()=>{}):(yA(t,n),()=>CM(t,n))}};function uP(){return new yh(ot())}var $i=class{},qA=new ge("",{providedIn:"root",factory:()=>!1});var YA=new ge(""),ZA=new ge(""),Zi=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})();var Sh=class extends Dt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,sA()&&(this.destroyRef=X(va,{optional:!0})??void 0,this.pendingTasks=X(Zi,{optional:!0})??void 0)}emit(n){let t=xe(null);try{super.next(n)}finally{xe(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let a=n;o=a.next?.bind(a),i=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:o,error:i,complete:s});return n instanceof it&&n.add(c),c}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Rt=Sh;function Bu(...e){}function KA(e){let n,t;function r(){e=Bu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function dw(e){return queueMicrotask(()=>e()),()=>{e=Bu}}var og="isAngularZone",Hu=og+"_ID",dP=0,Be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Rt(!1);onMicrotaskEmpty=new Rt(!1);onStable=new Rt(!1);onError=new Rt(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=zA}=n;if(typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,hP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(og)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new fe(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,fP,Bu,Bu);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},fP={};function ig(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){KA(()=>{e.callbackScheduled=!1,bh(e),e.isCheckStableRunning=!0,ig(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),bh(e)}function hP(e){let n=()=>{pP(e)},t=dP++;e._inner=e._inner.fork({name:"angular",properties:{[og]:!0,[Hu]:t,[Hu+t]:!0},onInvokeTask:(r,o,i,s,c,a)=>{if(gP(a))return r.invokeTask(i,s,c,a);try{return fw(e),r.invokeTask(i,s,c,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),pw(e)}},onInvoke:(r,o,i,s,c,a,u)=>{try{return fw(e),r.invoke(i,s,c,a,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!mP(a)&&n(),pw(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,bh(e),ig(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function bh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function fw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function pw(e){e._nesting--,ig(e)}var Gu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Rt;onMicrotaskEmpty=new Rt;onStable=new Rt;onError=new Rt;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function gP(e){return QA(e,"__ignore_ng_zone__")}function mP(e){return QA(e,"__scheduler_tick__")}function QA(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function vP(e="zone.js",n){return e==="noop"?new Gu:e==="zone.js"?new Be(n):e}var zn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},yP=new ge("",{providedIn:"root",factory:()=>{let e=X(Be),n=X(zn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function hw(e,n){return Vw(e,n)}function SP(e){return Vw(jw,e)}var JA=(hw.required=SP,hw);function bP(){return ud(Yn(),ot())}function ud(e,n){return new Ki(Ar(e,n))}var Ki=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=bP}return e})();function XA(e){return(e.flags&128)===128}var eE=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(eE||{}),tE=new Map,wP=0;function AP(){return wP++}function EP(e){tE.set(e[sd],e)}function wh(e){tE.delete(e[sd])}var gw="__ngContext__";function ya(e,n){bo(n)?(e[gw]=n[sd],EP(n)):e[gw]=n}function nE(e){return oE(e[ca])}function rE(e){return oE(e[_n])}function oE(e){for(;e!==null&&!wr(e);)e=e[_n];return e}var Ah;function iE(e){Ah=e}function DP(){if(Ah!==void 0)return Ah;if(typeof document<"u")return document;throw new fe(210,!1)}var dd=new ge("",{providedIn:"root",factory:()=>IP}),IP="ng",sg=new ge(""),Qi=new ge("",{providedIn:"platform",factory:()=>"unknown"});var ag=new ge("",{providedIn:"root",factory:()=>DP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var CP="h",_P="b";var sE=!1,TP=new ge("",{providedIn:"root",factory:()=>sE});var cg=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(cg||{}),Ji=new ge(""),mw=new Set;function Xi(e){mw.has(e)||(mw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var aE=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=xP}return e})();function xP(){return new aE(ot(),Yn())}var Oi=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Oi||{}),cE=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),MP=[Oi.EarlyRead,Oi.Write,Oi.MixedReadWrite,Oi.Read],PP=(()=>{class e{ngZone=X(Be);scheduler=X($i);errorHandler=X(zn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){X(Ji,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ye(16),this.executing=!0;for(let r of MP)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ye(17)}register(t){let{view:r}=t;r!==void 0?((r[ki]??=[]).push(t),ga(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(cg.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),Eh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[ki];n&&(this.view[ki]=n.filter(t=>t!==this))}};function lg(e,n){!n?.injector&&vM(lg);let t=n?.injector??X(Qt);return Xi("NgAfterNextRender"),OP(e,t,n,!0)}function RP(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function OP(e,n,t,r){let o=n.get(cE);o.impl??=n.get(PP);let i=n.get(Ji,null,{optional:!0}),s=t?.phase??Oi.MixedReadWrite,c=t?.manualCleanup!==!0?n.get(va):null,a=n.get(aE,null,{optional:!0}),u=new Eh(o.impl,RP(e,s),a?.view,r,c,i?.snapshot(null));return o.impl.register(u),u}var NP=()=>null;function lE(e,n,t=!1){return NP(e,n,t)}function uE(e,n){let t=e.contentQueries;if(t!==null){let r=xe(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let c=e.data[s];IA(i),c.contentQueries(2,n[s],s)}}}finally{xe(r)}}}function Dh(e,n,t){IA(0);let r=xe(null);try{n(e,t)}finally{xe(r)}}function dE(e,n,t){if(lA(n)){let r=xe(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let c=e.data[s];if(c.contentQueries){let a=t[s];c.contentQueries(1,a,s)}}}finally{xe(r)}}}var qn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qn||{});var Wu=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Fw})`}};function ug(e){return e instanceof Wu?e.changingThisBreaksApplicationSecurity:e}function kP(e,n){let t=LP(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Fw})`)}return t===n}function LP(e){return e instanceof Wu&&e.getTypeName()||null}var FP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function UP(e){return e=String(e),e.match(FP)?e:"unsafe:"+e}var fE=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(fE||{});function pE(e){let n=jP();return n?n.sanitize(fE.URL,e)||"":kP(e,"URL")?ug(e):UP(Bh(e))}function jP(){let e=ot();return e&&e[vr].sanitizer}function hE(e){return e.ownerDocument}function gE(e){return e instanceof Function?e():e}function VP(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var mE="ng-template";function $P(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&VP(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(dg(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function dg(e){return e.type===4&&e.value!==mE}function BP(e,n,t){let r=e.type===4&&!t?mE:e.value;return n===r}function HP(e,n,t){let r=4,o=e.attrs,i=o!==null?zP(o):0,s=!1;for(let c=0;c<n.length;c++){let a=n[c];if(typeof a=="number"){if(!s&&!In(r)&&!In(a))return!1;if(s&&In(a))continue;s=!1,r=a|r&1;continue}if(!s)if(r&4){if(r=2|r&1,a!==""&&!BP(e,a,t)||a===""&&n.length===1){if(In(r))return!1;s=!0}}else if(r&8){if(o===null||!$P(e,o,a,t)){if(In(r))return!1;s=!0}}else{let u=n[++c],d=GP(a,o,dg(e),t);if(d===-1){if(In(r))return!1;s=!0;continue}if(u!==""){let p;if(d>i?p="":p=o[d+1].toLowerCase(),r&2&&u!==p){if(In(r))return!1;s=!0}}}}return In(r)||s}function In(e){return(e&1)===0}function GP(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let c=n[++o];for(;typeof c=="string";)c=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return qP(n,e)}function WP(e,n,t=!1){for(let r=0;r<n.length;r++)if(HP(e,n[r],t))return!0;return!1}function zP(e){for(let n=0;n<e.length;n++){let t=e[n];if(QM(t))return n}return e.length}function qP(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function vw(e,n){return e?":not("+n.trim()+")":n}function YP(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let c=e[++t];o+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!In(s)&&(n+=vw(i,o),o=""),r=s,i=i||!In(r);t++}return o!==""&&(n+=vw(i,o)),n}function ZP(e){return e.map(YP).join(",")}function KP(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!In(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var xo={};function QP(e,n){return e.createText(n)}function JP(e,n,t){e.setValue(n,t)}function vE(e,n,t){return e.createElement(n,t)}function zu(e,n,t,r,o){e.insertBefore(n,t,r,o)}function yE(e,n,t){e.appendChild(n,t)}function yw(e,n,t,r,o){r!==null?zu(e,n,t,r,o):yE(e,n,t)}function XP(e,n,t){e.removeChild(null,n,t)}function eR(e,n,t){e.setAttribute(n,"style",t)}function tR(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function SE(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&KM(e,n,r),o!==null&&tR(e,n,o),i!==null&&eR(e,n,i)}function fg(e,n,t,r,o,i,s,c,a,u,d){let p=Tn+r,g=p+o,f=nR(p,g),h=typeof u=="function"?u():u;return f[Me]={type:e,blueprint:f,template:t,queries:null,viewQuery:c,declTNode:n,data:f.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:h,incompleteFirstPass:!1,ssrId:d}}function nR(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:xo);return t}function rR(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=fg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function pg(e,n,t,r,o,i,s,c,a,u,d){let p=n.blueprint.slice();return p[br]=o,p[Ee]=r|4|128|8|64|1024,(u!==null||e&&e[Ee]&2048)&&(p[Ee]|=2048),mA(p),p[kt]=p[Wi]=e,p[Lt]=t,p[vr]=s||e&&e[vr],p[Ft]=c||e&&e[Ft],p[Eo]=a||e&&e[Eo]||null,p[xn]=i,p[sd]=AP(),p[Ou]=d,p[aA]=u,p[Gn]=n.type==2?e[Gn]:p,p}function oR(e,n,t){let r=Ar(n,e),o=rR(t),i=e[vr].rendererFactory,s=hg(e,pg(e,o,null,bE(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function bE(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function wE(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function hg(e,n){return e[ca]?e[nw][_n]=n:e[ca]=n,e[nw]=n,n}function Qe(e=1){AE(Vr(),ot(),Yi()+e,!1)}function AE(e,n,t,r){if(!r)if((n[Ee]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Iu(n,i,t)}else{let i=e.preOrderHooks;i!==null&&Cu(n,i,0,t)}Co(t)}var fd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fd||{});function Ih(e,n,t,r){let o=xe(null);try{let[i,s,c]=e.inputs[t],a=null;(s&fd.SignalBased)!==0&&(a=n[i][Si]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):c!==null&&(r=c.call(n,r)),e.setInput!==null?e.setInput(n,a,r,t,i):uA(n,a,i,r)}finally{xe(o)}}function EE(e,n,t,r,o){let i=Yi(),s=r&2;try{Co(-1),s&&n.length>Tn&&AE(e,n,Tn,!1),Ye(s?2:0,o),t(r,o)}finally{Co(i),Ye(s?3:1,o)}}function gg(e,n,t){dR(e,n,t),(t.flags&64)===64&&fR(e,n,t)}function DE(e,n,t=Ar){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],c=s===-1?t(n,e):e[s];e[o++]=c}}}function iR(e,n,t,r){let i=r.get(TP,sE)||t===qn.ShadowDom,s=e.selectRootElement(n,i);return sR(s),s}function sR(e){aR(e)}var aR=()=>null;function cR(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function lR(e,n,t,r,o,i,s,c){if(!c&&mg(n,e,t,r,o)){zi(n)&&uR(t,n.index);return}if(n.type&3){let a=Ar(n,t);r=cR(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(a,r,o)}else n.type&12}function uR(e,n){let t=yr(n,e);t[Ee]&16||(t[Ee]|=64)}function dR(e,n,t){let r=t.directiveStart,o=t.directiveEnd;zi(t)&&oR(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||UA(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let c=e.data[s],a=mh(n,e,s,t);if(ya(a,n),i!==null&&hR(n,s-r,a,c,t,i),To(c)){let u=yr(t.index,n);u[Lt]=mh(n,e,s,t)}}}function fR(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=jM();try{Co(i);for(let c=r;c<o;c++){let a=e.data[c],u=n[c];hh(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&pR(a,u)}}finally{Co(-1),hh(s)}}function pR(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function IE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];WP(n,i.selectors,!1)&&(r??=[],To(i)?r.unshift(i):r.push(i))}return r}function hR(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let c=0;c<s.length;c+=2){let a=s[c],u=s[c+1];Ih(r,t,a,u)}}function gR(e,n){let t=e[Eo],r=t?t.get(zn,null):null;r&&r.handleError(n)}function mg(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],c=!1;if(s)for(let a=0;a<s.length;a+=2){let u=s[a],d=s[a+1],p=n.data[u];Ih(p,t[u],d,o),c=!0}if(i)for(let a of i){let u=t[a],d=n.data[a];Ih(d,u,r,o),c=!0}return c}function mR(e,n){let t=yr(n,e),r=t[Me];vR(r,t);let o=t[br];o!==null&&t[Ou]===null&&(t[Ou]=lE(o,t[Eo])),Ye(18),vg(r,t,t[Lt]),Ye(19,t[Lt])}function vR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function vg(e,n,t){Qh(n);try{let r=e.viewQuery;r!==null&&Dh(1,r,t);let o=e.template;o!==null&&EE(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Vi]?.finishViewCreation(e),e.staticContentQueries&&uE(e,n),e.staticViewQueries&&Dh(2,e.viewQuery,t);let i=e.components;i!==null&&yR(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Ee]&=-5,Jh()}}function yR(e,n){for(let t=0;t<n.length;t++)mR(e,n[t])}function CE(e,n,t,r){let o=xe(null);try{let i=n.tView,c=e[Ee]&4096?4096:16,a=pg(e,i,t,c,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[n.index];a[ji]=u;let d=e[Vi];return d!==null&&(a[Vi]=d.createEmbeddedView(i)),vg(i,a,t),a}finally{xe(o)}}function Ch(e,n){return!n||n.firstChild===null||XA(e)}var SR;function yg(e,n){return SR(e,n)}var Ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ur||{});function _E(e){return(e.flags&32)===32}function Ni(e,n,t,r,o){if(r!=null){let i,s=!1;wr(r)?i=r:bo(r)&&(s=!0,r=r[br]);let c=Wn(r);e===0&&t!==null?o==null?yE(n,t,c):zu(n,t,c,o||null,!0):e===1&&t!==null?zu(n,t,c,o||null,!0):e===2?XP(n,c,s):e===3&&n.destroyNode(c),i!=null&&PR(n,e,i,t,o)}}function bR(e,n){TE(e,n),n[br]=null,n[xn]=null}function wR(e,n,t,r,o,i){r[br]=o,r[xn]=n,pd(e,r,t,1,o,i)}function TE(e,n){n[vr].changeDetectionScheduler?.notify(9),pd(e,n,n[Ft],2,null,null)}function AR(e){let n=e[ca];if(!n)return Xp(e[Me],e);for(;n;){let t=null;if(bo(n))t=n[ca];else{let r=n[Kt];r&&(t=r)}if(!t){for(;n&&!n[_n]&&n!==e;)bo(n)&&Xp(n[Me],n),n=n[kt];n===null&&(n=e),bo(n)&&Xp(n[Me],n),t=n&&n[_n]}n=t}}function Sg(e,n){let t=e[Fu],r=t.indexOf(n);t.splice(r,1)}function bg(e,n){if(qi(n))return;let t=n[Ft];t.destroyNode&&pd(e,n,t,3,null,null),AR(n)}function Xp(e,n){if(qi(n))return;let t=xe(null);try{n[Ee]&=-129,n[Ee]|=256,n[cn]&&xp(n[cn]),DR(e,n),ER(e,n),n[Me].type===1&&n[Ft].destroy();let r=n[ji];if(r!==null&&wr(n[kt])){r!==n[kt]&&Sg(r,n);let o=n[Vi];o!==null&&o.detachView(e)}wh(n)}finally{xe(t)}}function ER(e,n){let t=e.cleanup,r=n[Nu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(n[Nu]=null);let o=n[Fr];if(o!==null){n[Fr]=null;for(let s=0;s<o.length;s++){let c=o[s];c()}}let i=n[ku];if(i!==null){n[ku]=null;for(let s of i)s.destroy()}}function DR(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof la)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let c=o[i[s]],a=i[s+1];Ye(4,c,a);try{a.call(c)}finally{Ye(5,c,a)}}else{Ye(4,o,i);try{i.call(o)}finally{Ye(5,o,i)}}}}}function IR(e,n,t){return CR(e,n.parent,t)}function CR(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[br];if(zi(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===qn.None||o===qn.Emulated)return null}return Ar(r,t)}function _R(e,n,t){return xR(e,n,t)}function TR(e,n,t){return e.type&40?Ar(e,t):null}var xR=TR,Sw;function wg(e,n,t,r){let o=IR(e,r,n),i=n[Ft],s=r.parent||n[xn],c=_R(s,r,n);if(o!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)yw(i,o,t[a],c,!1);else yw(i,o,t,c,!1);Sw!==void 0&&Sw(i,r,n,t,o)}function ra(e,n){if(n!==null){let t=n.type;if(t&3)return Ar(n,e);if(t&4)return _h(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return ra(e,r);{let o=e[n.index];return wr(o)?_h(-1,o):Wn(o)}}else{if(t&128)return ra(e,n.next);if(t&32)return yg(n,e)()||Wn(e[n.index]);{let r=xE(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=Io(e[Gn]);return ra(o,r)}else return ra(e,n.next)}}}return null}function xE(e,n){if(n!==null){let r=e[Gn][xn],o=n.projection;return r.projection[o]}return null}function _h(e,n){let t=Kt+e+1;if(t<n.length){let r=n[t],o=r[Me].firstChild;if(o!==null)return ra(r,o)}return n[Do]}function Ag(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],a=t.type;if(s&&n===0&&(c&&ya(Wn(c),r),t.flags|=2),!_E(t))if(a&8)Ag(e,n,t.child,r,o,i,!1),Ni(n,e,o,c,i);else if(a&32){let u=yg(t,r),d;for(;d=u();)Ni(n,e,o,d,i);Ni(n,e,o,c,i)}else a&16?MR(e,n,r,t,o,i):Ni(n,e,o,c,i);t=s?t.projectionNext:t.next}}function pd(e,n,t,r,o,i){Ag(t,r,e.firstChild,n,o,i,!1)}function MR(e,n,t,r,o,i){let s=t[Gn],a=s[xn].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let d=a[u];Ni(n,e,o,d,i)}else{let u=a,d=s[kt];XA(r)&&(u.flags|=128),Ag(e,n,u,d,o,i,!0)}}function PR(e,n,t,r,o){let i=t[Do],s=Wn(t);i!==s&&Ni(n,e,r,i,o);for(let c=Kt;c<t.length;c++){let a=t[c];pd(a[Me],a,e,n,r,i)}}function RR(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Ur.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ur.Important),e.setStyle(t,r,o,i))}}function qu(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(Wn(i)),wr(i)&&OR(i,r);let s=t.type;if(s&8)qu(e,n,t.child,r);else if(s&32){let c=yg(t,n),a;for(;a=c();)r.push(a)}else if(s&16){let c=xE(n,t);if(Array.isArray(c))r.push(...c);else{let a=Io(n[Gn]);qu(a[Me],a,c,r,!0)}}t=o?t.projectionNext:t.next}return r}function OR(e,n){for(let t=Kt;t<e.length;t++){let r=e[t],o=r[Me].firstChild;o!==null&&qu(r[Me],r,o,n)}e[Do]!==e[br]&&n.push(e[Do])}function ME(e){if(e[ki]!==null){for(let n of e[ki])n.impl.addSequence(n);e[ki].length=0}}var PE=[];function NR(e){return e[cn]??kR(e)}function kR(e){let n=PE.pop()??Object.create(FR);return n.lView=e,n}function LR(e){e.lView[cn]!==e&&(e.lView=null,PE.push(e))}var FR=Ke(ne({},Jl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ga(e.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function UR(e){let n=e[cn]??Object.create(jR);return n.lView=e,n}var jR=Ke(ne({},Jl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Io(e.lView);for(;n&&!RE(n[Me]);)n=Io(n);n&&vA(n)},consumerOnSignalRead(){this.lView[cn]=this}});function RE(e){return e.type!==2}function OE(e){if(e[ku]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[ku])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[Ee]&8192)}}var VR=100;function NE(e,n=!0,t=0){let o=e[vr].rendererFactory,i=!1;i||o.begin?.();try{$R(e,t)}catch(s){throw n&&gR(e,s),s}finally{i||o.end?.()}}function $R(e,n){let t=DA();try{ow(!0),Th(e,n);let r=0;for(;cd(e);){if(r===VR)throw new fe(103,!1);r++,Th(e,1)}}finally{ow(t)}}function BR(e,n,t,r){if(qi(n))return;let o=n[Ee],i=!1,s=!1;Qh(n);let c=!0,a=null,u=null;i||(RE(e)?(u=NR(n),a=_p(u)):Dp()===null?(c=!1,u=UR(n),a=_p(u)):n[cn]&&(xp(n[cn]),n[cn]=null));try{mA(n),kM(e.bindingStartIndex),t!==null&&EE(e,n,t,2,r);let d=(o&3)===3;if(!i)if(d){let f=e.preOrderCheckHooks;f!==null&&Iu(n,f,null)}else{let f=e.preOrderHooks;f!==null&&Cu(n,f,0,null),Qp(n,0)}if(s||HR(n),OE(n),kE(n,0),e.contentQueries!==null&&uE(e,n),!i)if(d){let f=e.contentCheckHooks;f!==null&&Iu(n,f)}else{let f=e.contentHooks;f!==null&&Cu(n,f,1),Qp(n,1)}WR(e,n);let p=e.components;p!==null&&FE(n,p,0);let g=e.viewQuery;if(g!==null&&Dh(2,g,r),!i)if(d){let f=e.viewCheckHooks;f!==null&&Iu(n,f)}else{let f=e.viewHooks;f!==null&&Cu(n,f,2),Qp(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Kp]){for(let f of n[Kp])f();n[Kp]=null}i||(ME(n),n[Ee]&=-73)}catch(d){throw i||ga(n),d}finally{u!==null&&(vb(u,a),c&&LR(u)),Jh()}}function kE(e,n){for(let t=nE(e);t!==null;t=rE(t))for(let r=Kt;r<t.length;r++){let o=t[r];LE(o,n)}}function HR(e){for(let n=nE(e);n!==null;n=rE(n)){if(!(n[Ee]&2))continue;let t=n[Fu];for(let r=0;r<t.length;r++){let o=t[r];vA(o)}}}function GR(e,n,t){Ye(18);let r=yr(n,e);LE(r,t),Ye(19,r[Lt])}function LE(e,n){Zh(e)&&Th(e,n)}function Th(e,n){let r=e[Me],o=e[Ee],i=e[cn],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&Tp(i)),s||=!1,i&&(i.dirty=!1),e[Ee]&=-9217,s)BR(r,e,r.template,e[Lt]);else if(o&8192){OE(e),kE(e,1);let c=r.components;c!==null&&FE(e,c,1),ME(e)}}function FE(e,n,t){for(let r=0;r<n.length;r++)GR(e,n[r],t)}function WR(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Co(~o);else{let i=o,s=t[++r],c=t[++r];UM(s,i);let a=n[i];Ye(24,a),c(2,a),Ye(25,a)}}}finally{Co(-1)}}function Eg(e,n){let t=DA()?64:1088;for(e[vr].changeDetectionScheduler?.notify(n);e;){e[Ee]|=t;let r=Io(e);if(Uu(e)&&!r)return e;e=r}return null}function UE(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function zR(e,n){let t=Kt+n;if(t<e.length)return e[t]}function jE(e,n,t,r=!0){let o=n[Me];if(YR(o,n,e,t),r){let s=_h(t,e),c=n[Ft],a=c.parentNode(e[Do]);a!==null&&wR(o,e[xn],c,n,a,s)}let i=n[Ou];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function qR(e,n){let t=Yu(e,n);return t!==void 0&&bg(t[Me],t),t}function Yu(e,n){if(e.length<=Kt)return;let t=Kt+n,r=e[t];if(r){let o=r[ji];o!==null&&o!==e&&Sg(o,r),n>0&&(e[t-1][_n]=r[_n]);let i=Pu(e,Kt+n);bR(r[Me],r);let s=i[Vi];s!==null&&s.detachView(i[Me]),r[kt]=null,r[_n]=null,r[Ee]&=-129}return r}function YR(e,n,t,r){let o=Kt+r,i=t.length;r>0&&(t[o-1][_n]=n),r<i-Kt?(n[_n]=t[o],Jw(t,Kt+r,n)):(t.push(n),n[_n]=null),n[kt]=t;let s=n[ji];s!==null&&t!==s&&VE(s,n);let c=n[Vi];c!==null&&c.insertView(e),fh(n),n[Ee]|=128}function VE(e,n){let t=e[Fu],r=n[kt];if(bo(r))e[Ee]|=2;else{let o=r[kt][Gn];n[Gn]!==o&&(e[Ee]|=2)}t===null?e[Fu]=[n]:t.push(n)}var ua=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[Me];return qu(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Lt]}set context(n){this._lView[Lt]=n}get destroyed(){return qi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[kt];if(wr(n)){let t=n[Lu],r=t?t.indexOf(this):-1;r>-1&&(Yu(n,r),Pu(t,r))}this._attachedToViewContainer=!1}bg(this._lView[Me],this._lView)}onDestroy(n){yA(this._lView,n)}markForCheck(){Eg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){fh(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,NE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Uu(this._lView),t=this._lView[ji];t!==null&&!n&&Sg(t,this._lView),TE(this._lView[Me],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=n;let t=Uu(this._lView),r=this._lView[ji];r!==null&&!t&&VE(r,this._lView),fh(this._lView)}};var hd=(()=>{class e{static __NG_ELEMENT_ID__=QR}return e})(),ZR=hd,KR=class extends ZR{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let o=CE(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new ua(o)}};function QR(){return JR(Yn(),ot())}function JR(e,n){return e.type&4?new KR(n,e,ud(e,n)):null}function Dg(e,n,t,r,o){let i=e.data[n];if(i===null)i=XR(e,n,t,r,o),FM()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=OM();i.injectorIndex=s===null?-1:s.injectorIndex}return ma(i,!0),i}function XR(e,n,t,r,o){let i=AA(),s=EA(),c=s?i:i&&i.parent,a=e.data[n]=tO(e,c,t,n,r,o);return eO(e,a,i,s),a}function eO(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function tO(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,c=0;return MM()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var d5=new RegExp(`^(\\d+)*(${_P}|${CP})*(.*)`);var nO=()=>null;function xh(e,n){return nO(e,n)}var rO=class{},$E=class{},Mh=class{resolveComponentFactory(n){throw Error(`No component factory found for ${Vt(n)}.`)}},gd=class{static NULL=new Mh},Bi=class{};var oO=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>null})}return e})();var eh={},Ph=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=od(r);let o=this.injector.get(n,eh,r);return o!==eh||t===eh?o:this.parentInjector.get(n,t,r)}};function bw(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number")i=c;else if(i==1)o=Zb(o,c);else if(i==2){let a=c,u=n[++s];r=Zb(r,a+": "+u+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function et(e,n=Ce.Default){let t=ot();if(t===null)return le(e,n);let r=Yn();return BA(r,t,an(e),n)}function BE(){let e="invalid";throw new Error(e)}function HE(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let c,a=null,u=null,d=sO(s);d===null?c=s:[c,a,u]=d,lO(e,n,t,c,i,a,u)}i!==null&&r!==null&&iO(t,r,i)}function iO(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new fe(-301,!1);r.push(n[o],i)}}function sO(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let c=e[s];if(s===0&&To(c)&&(n=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,aO(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function aO(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function cO(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function lO(e,n,t,r,o,i,s){let c=r.length,a=!1;for(let g=0;g<c;g++){let f=r[g];!a&&To(f)&&(a=!0,cO(e,t,g)),rP(UA(t,n),e,f.type)}gO(t,e.data.length,c);for(let g=0;g<c;g++){let f=r[g];f.providersResolver&&f.providersResolver(f)}let u=!1,d=!1,p=wE(e,n,c,null);c>0&&(t.directiveToIndex=new Map);for(let g=0;g<c;g++){let f=r[g];if(t.mergedAttrs=tg(t.mergedAttrs,f.hostAttrs),dO(e,t,n,p,f),hO(p,f,o),s!==null&&s.has(f)){let[v,S]=s.get(f);t.directiveToIndex.set(f.type,[p,v+t.directiveStart,S+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,p);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let h=f.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!d&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}uO(e,t,i)}function uO(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))ww(0,n,o,r),ww(1,n,o,r),Ew(n,r,!1);else{let i=t.get(o);Aw(0,n,i,r),Aw(1,n,i,r),Ew(n,r,!0)}}}function ww(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),GE(n,i)}}function Aw(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],c;e===0?c=n.hostDirectiveInputs??={}:c=n.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,i),GE(n,s)}}function GE(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Ew(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||dg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let a=r[c];if(a===0){c+=4;continue}else if(a===5){c+=2;continue}else if(typeof a=="number")break;if(!t&&o.hasOwnProperty(a)){let u=o[a];for(let d of u)if(d===n){s??=[],s.push(a,r[c+1]);break}}else if(t&&i.hasOwnProperty(a)){let u=i[a];for(let d=0;d<u.length;d+=2)if(u[d]===n){s??=[],s.push(u[d+1],r[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(s)}function dO(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=Fi(o.type,!0)),s=new la(i,To(o),et);e.blueprint[r]=s,t[r]=s,fO(e,n,r,wE(e,t,o.hostVars,xo),o)}function fO(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let c=~n.index;pO(s)!=c&&s.push(c),s.push(t,r,i)}}function pO(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function hO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;To(n)&&(t[""]=e)}}function gO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function WE(e,n,t,r,o,i,s,c){let a=n.consts,u=ju(a,s),d=Dg(n,e,2,r,u);return i&&HE(n,t,d,ju(a,c),o),d.mergedAttrs=tg(d.mergedAttrs,d.attrs),d.attrs!==null&&bw(d,d.attrs,!1),d.mergedAttrs!==null&&bw(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function zE(e,n){OA(e,n),lA(n)&&e.queries.elementEnd(n)}var Zu=class extends gd{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Ao(n);return new Hi(t,this.ngModule)}};function mO(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&fd.SignalBased)!==0};return o&&(i.transform=o),i})}function vO(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function yO(e,n,t){let r=n instanceof $t?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Ph(t,r):t}function SO(e){let n=e.get(Bi,null);if(n===null)throw new fe(407,!1);let t=e.get(oO,null),r=e.get($i,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function bO(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return vE(n,t,t==="svg"?hA:t==="math"?EM:null)}var Hi=class extends $E{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=mO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=vO(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=ZP(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){Ye(22);let i=xe(null);try{let s=this.componentDef,c=r?["ng-version","19.2.11"]:KP(this.componentDef.selectors[0]),a=fg(0,null,null,1,0,null,null,null,null,[c],null),u=yO(s,o||this.ngModule,n),d=SO(u),p=d.rendererFactory.createRenderer(null,s),g=r?iR(p,r,s.encapsulation,u):bO(s,p),f=pg(null,a,null,512|bE(s),null,null,d,p,u,null,lE(g,u,!0));f[Tn]=g,Qh(f);let h=null;try{let v=WE(Tn,a,f,"#host",()=>[this.componentDef],!0,0);g&&(SE(p,g,v),ya(g,f)),gg(a,f,v),dE(a,v,f),zE(a,v),t!==void 0&&wO(v,this.ngContentSelectors,t),h=yr(v.index,f),f[Lt]=h[Lt],vg(a,f,null)}catch(v){throw h!==null&&wh(h),wh(f),v}finally{Ye(23),Jh()}return new Rh(this.componentType,f)}finally{xe(i)}}},Rh=class extends rO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Yh(t[Me],Tn),this.location=ud(this._tNode,t),this.instance=yr(this._tNode.index,t)[Lt],this.hostView=this.changeDetectorRef=new ua(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=mg(r,o[Me],o,n,t);this.previousInputValues.set(n,t);let s=yr(r.index,o);Eg(s,1)}get injector(){return new wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function wO(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var es=(()=>{class e{static __NG_ELEMENT_ID__=AO}return e})();function AO(){let e=Yn();return DO(e,ot())}var EO=es,qE=class extends EO{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new wo(this._hostTNode,this._hostLView)}get parentInjector(){let n=ng(this._hostTNode,this._hostLView);if(kA(n)){let t=$u(n,this._hostLView),r=Vu(n),o=t[Me].data[r+8];return new wo(o,t)}else return new wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=Dw(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=xh(this._lContainer,n.ssrId),c=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(c,o,Ch(this._hostTNode,s)),c}createComponent(n,t,r,o,i){let s=n&&!SM(n),c;if(s)c=t;else{let h=t||{};c=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}let a=s?n:new Hi(Ao(n)),u=r||this.parentInjector;if(!i&&a.ngModule==null){let v=(s?u:this.parentInjector).get($t,null);v&&(i=v)}let d=Ao(a.componentType??{}),p=xh(this._lContainer,d?.id??null),g=p?.firstChild??null,f=a.create(u,o,g,i);return this.insertImpl(f.hostView,c,Ch(this._hostTNode,p)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(DM(o)){let c=this.indexOf(n);if(c!==-1)this.detach(c);else{let a=o[kt],u=new qE(a,a[xn],a[kt]);u.detach(u.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return jE(s,o,i,r),n.attachToViewContainerRef(),Jw(th(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=Dw(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Yu(this._lContainer,t);r&&(Pu(th(this._lContainer),t),bg(r[Me],r))}detach(n){let t=this._adjustIndex(n,-1),r=Yu(this._lContainer,t);return r&&Pu(th(this._lContainer),t)!=null?new ua(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function Dw(e){return e[Lu]}function th(e){return e[Lu]||(e[Lu]=[])}function DO(e,n){let t,r=n[e.index];return wr(r)?t=r:(t=UE(r,n,null,e),n[e.index]=t,hg(n,t)),CO(t,n,e,r),new qE(t,e,n)}function IO(e,n){let t=e[Ft],r=t.createComment(""),o=Ar(n,e),i=t.parentNode(o);return zu(t,i,r,t.nextSibling(o),!1),r}var CO=xO,_O=()=>!1;function TO(e,n,t){return _O(e,n,t)}function xO(e,n,t,r){if(e[Do])return;let o;t.type&8?o=Wn(r):o=IO(n,t),e[Do]=o}function MO(e){let n=[],t=new Map;function r(o){let i=t.get(o);if(!i){let s=e(o);t.set(o,i=s.then(NO))}return i}return Ku.forEach((o,i)=>{let s=[];o.templateUrl&&s.push(r(o.templateUrl).then(u=>{o.template=u}));let c=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=c,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,d=o.styleUrls;o.styleUrls.forEach((p,g)=>{c.push(""),s.push(r(p).then(f=>{c[u+g]=f,d.splice(d.indexOf(p),1),d.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(r(o.styleUrl).then(u=>{c.push(u),o.styleUrl=void 0}));let a=Promise.all(s).then(()=>kO(i));n.push(a)}),RO(),Promise.all(n).then(()=>{})}var Ku=new Map,PO=new Set;function RO(){let e=Ku;return Ku=new Map,e}function OO(){return Ku.size===0}function NO(e){return typeof e=="string"?e:e.text()}function kO(e){PO.delete(e)}var da=class{},Ig=class{};var Qu=class extends da{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zu(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=tA(n);this._bootstrapComponents=gE(i.bootstrap),this._r3Injector=WA(n,t,[{provide:da,useValue:this},{provide:gd,useValue:this.componentFactoryResolver},...r],Vt(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ju=class extends Ig{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Qu(this.moduleType,n,[])}};function LO(e,n,t){return new Qu(e,n,t,!1)}var Oh=class extends da{injector;componentFactoryResolver=new Zu(this);instance=null;constructor(n){super();let t=new aa([...n.providers,{provide:da,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],n.parent||zh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Sa(e,n,t=null){return new Oh({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var FO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=rA(!1,t.type),o=r.length>0?Sa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:e,providedIn:"environment",factory:()=>new e(le($t))})}return e})();function mt(e){return pa(()=>{let n=YE(e),t=Ke(ne({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===eE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(FO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qn.Emulated,styles:e.styles||Cn,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Xi("NgStandalone"),ZE(t);let r=e.dependencies;return t.directiveDefs=Iw(r,!1),t.pipeDefs=Iw(r,!0),t.id=BO(t),t})}function UO(e){return Ao(e)||iM(e)}function jO(e){return e!==null}function dn(e){return pa(()=>({type:e.type,bootstrap:e.bootstrap||Cn,declarations:e.declarations||Cn,imports:e.imports||Cn,exports:e.exports||Cn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function VO(e,n){if(e==null)return Ui;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,c,a;Array.isArray(o)?(c=o[0],i=o[1],s=o[2]??i,a=o[3]||null):(i=o,s=o,c=fd.None,a=null),t[i]=[r,c,a],n[i]=s}return t}function $O(e){if(e==null)return Ui;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ts(e){return pa(()=>{let n=YE(e);return ZE(n),n})}function YE(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Ui,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Cn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:VO(e.inputs,n),outputs:$O(e.outputs),debugInfo:null}}function ZE(e){e.features?.forEach(n=>n(e))}function Iw(e,n){if(!e)return null;let t=n?sM:UO;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(jO)}function BO(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function KE(e){return GO(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function HO(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function GO(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function md(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function WO(e,n,t,r,o,i,s,c,a){let u=n.consts,d=Dg(n,e,4,s||null,c||null);wA()&&HE(n,t,d,ju(u,a),IE),d.mergedAttrs=tg(d.mergedAttrs,d.attrs),OA(n,d);let p=d.tView=fg(2,d,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return n.queries!==null&&(n.queries.template(n,d),p.queries=n.queries.embeddedTView(d)),d}function zO(e,n,t,r,o,i,s,c,a,u){let d=t+Tn,p=n.firstCreatePass?WO(d,n,e,r,o,i,s,c,a):n.data[d];ma(p,!1);let g=qO(n,e,p,t);Xh()&&wg(n,e,g,p),ya(g,e);let f=UE(g,e,g,p);return e[d]=f,hg(e,f),TO(f,p,e),qh(p)&&gg(n,e,p),a!=null&&DE(e,p,u),p}function Mn(e,n,t,r,o,i,s,c){let a=ot(),u=Vr(),d=ju(u.consts,i);return zO(a,u,e,n,t,r,o,d,s,c),Mn}var qO=YO;function YO(e,n,t,r){return eg(!0),n[Ft].createComment("")}var QE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Cg=new ge(""),ba=new ge(""),vd=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,r,o){this._ngZone=t,this.registry=r,_g||(ZO(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t()},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}static \u0275fac=function(r){return new(r||e)(le(Be),le(yd),le(ba))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),yd=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return _g?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ZO(e){_g=e}var _g,KO=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new Nh})}return e})(),Nh=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function Sd(e){return!!e&&typeof e.then=="function"}function QO(e){return!!e&&typeof e.subscribe=="function"}var JE=new ge("");function Tg(e){return nA([{provide:JE,multi:!0,useValue:e}])}var XE=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=X(JE,{optional:!0})??[];injector=X(Qt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=un(this.injector,o);if(Sd(i))t.push(i);else if(QO(i)){let s=new Promise((c,a)=>{i.subscribe({complete:c,error:a})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xg=new ge("");function JO(){Mp(()=>{throw new fe(600,!1)})}function XO(e){return e.isBoundToModule}var eN=10;function e0(e,n){return Array.isArray(n)?n.reduce(e0,e):ne(ne({},e),n)}var jr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(yP);afterRenderManager=X(cE);zonelessEnabled=X(qA);rootEffectScheduler=X(KO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Dt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=X(Zi).hasPendingTasks.pipe(Fe(t=>!t));constructor(){X(Ji,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=X($t);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=Qt.NULL){Ye(10);let i=t instanceof $E;if(!this._injector.get(XE).done){let f="";throw new fe(405,f)}let c;i?c=t:c=this._injector.get(gd).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let a=XO(c)?void 0:this._injector.get(da),u=r||c.selector,d=c.create(o,[],u,a),p=d.location.nativeElement,g=d.injector.get(Cg,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),_u(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),Ye(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(cg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new fe(101,!1);let t=xe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,xe(t),this.afterTick.next(),Ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<eN;)Ye(14),this.synchronizeOnce(),Ye(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)tN(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;_u(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(xg,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_u(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new fe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _u(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function tN(e,n,t,r){if(!t&&!cd(e))return;NE(e,n,t&&!r?0:1)}function nN(e,n,t,r){return md(e,Kh(),t)?n+Bh(t)+r:xo}function Au(e,n){return e<<17|n<<2}function _o(e){return e>>17&32767}function rN(e){return(e&2)==2}function oN(e,n){return e&131071|n<<17}function kh(e){return e|2}function Gi(e){return(e&131068)>>2}function nh(e,n){return e&-131069|n<<2}function iN(e){return(e&1)===1}function Lh(e){return e|1}function sN(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,c=_o(s),a=Gi(s);e[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||ha(p,d)>0)&&(u=!0)}else d=t;if(o)if(a!==0){let g=_o(e[c+1]);e[r+1]=Au(g,c),g!==0&&(e[g+1]=nh(e[g+1],r)),e[c+1]=oN(e[c+1],r)}else e[r+1]=Au(c,0),c!==0&&(e[c+1]=nh(e[c+1],r)),c=r;else e[r+1]=Au(a,0),c===0?c=r:e[a+1]=nh(e[a+1],r),a=r;u&&(e[r+1]=kh(e[r+1])),Cw(e,d,r,!0),Cw(e,d,r,!1),aN(n,d,e,r,i),s=Au(c,a),i?n.classBindings=s:n.styleBindings=s}function aN(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&ha(i,n)>=0&&(t[r+1]=Lh(t[r+1]))}function Cw(e,n,t,r){let o=e[t+1],i=n===null,s=r?_o(o):Gi(o),c=!1;for(;s!==0&&(c===!1||i);){let a=e[s],u=e[s+1];cN(a,n)&&(c=!0,e[s+1]=r?Lh(u):kh(u)),s=r?_o(u):Gi(u)}c&&(e[t+1]=r?kh(o):Lh(o))}function cN(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?ha(e,n)>=0:!1}function Mo(e,n,t){let r=ot(),o=Kh();if(md(r,o,n)){let i=Vr(),s=HM();lR(i,s,r,e,n,r[Ft],t,!1)}return Mo}function _w(e,n,t,r,o){mg(n,e,t,o?"class":"style",r)}function ns(e,n){return lN(e,n,null,!0),ns}function lN(e,n,t,r){let o=ot(),i=Vr(),s=LM(2);if(i.firstUpdatePass&&dN(i,e,s,r),n!==xo&&md(o,s,n)){let c=i.data[Yi()];mN(i,c,o,o[Ft],e,o[s+1]=vN(n,t),r,s)}}function uN(e,n){return n>=e.expandoStartIndex}function dN(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Yi()],s=uN(e,t);yN(i,r)&&n===null&&!s&&(n=!1),n=fN(o,i,n,r),sN(o,i,n,t,s,r)}}function fN(e,n,t,r){let o=VM(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=rh(null,e,n,t,r),t=fa(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=rh(o,e,n,t,r),i===null){let a=pN(e,n,r);a!==void 0&&Array.isArray(a)&&(a=rh(null,e,n,a[1],r),a=fa(a,n.attrs,r),hN(e,n,r,a))}else i=gN(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function pN(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Gi(r)!==0)return e[_o(r)]}function hN(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[_o(o)]=r}function gN(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=fa(r,s,t)}return fa(r,n.attrs,t)}function rh(e,n,t,r,o){let i=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(i=n[c],r=fa(r,i.hostAttrs,o),i!==e);)c++;return e!==null&&(t.directiveStylingLast=c),r}function fa(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),rM(e,s,t?!0:n[++i]))}return e===void 0?null:e}function mN(e,n,t,r,o,i,s,c){if(!(n.type&3))return;let a=e.data,u=a[c+1],d=iN(u)?Tw(a,n,t,o,Gi(u),s):void 0;if(!Xu(d)){Xu(i)||rN(u)&&(i=Tw(a,null,t,o,c,s));let p=gA(Yi(),t);RR(r,s,p,o,i)}}function Tw(e,n,t,r,o,i){let s=n===null,c;for(;o>0;){let a=e[o],u=Array.isArray(a),d=u?a[1]:a,p=d===null,g=t[o+1];g===xo&&(g=p?Cn:void 0);let f=p?Yp(g,r):d===r?g:void 0;if(u&&!Xu(f)&&(f=Yp(a,r)),Xu(f)&&(c=f,s))return c;let h=e[o+1];o=s?_o(h):Gi(h)}if(n!==null){let a=i?n.residualClasses:n.residualStyles;a!=null&&(c=Yp(a,r))}return c}function Xu(e){return e!==void 0}function vN(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=Vt(ug(e)))),e}function yN(e,n){return(e.flags&(n?8:16))!==0}function Er(e,n){Xi("NgControlFlow");let t=ot(),r=Kh(),o=t[r]!==xo?t[r]:-1,i=o!==-1?xw(t,Tn+o):void 0,s=0;if(md(t,r,e)){let c=xe(null);try{if(i!==void 0&&qR(i,s),e!==-1){let a=Tn+e,u=xw(t,a),d=SN(t[Me],a),p=xh(u,d.tView.ssrId),g=CE(t,d,n,{dehydratedView:p});jE(u,g,s,Ch(d,p))}}finally{xe(c)}}else if(i!==void 0){let c=zR(i,s);c!==void 0&&(c[Lt]=n)}}function xw(e,n){return e[n]}function SN(e,n){return Yh(e,n)}function ve(e,n,t,r){let o=ot(),i=Vr(),s=Tn+e,c=o[Ft],a=i.firstCreatePass?WE(s,i,o,n,IE,wA(),t,r):i.data[s],u=bN(i,o,a,c,n,e);o[s]=u;let d=qh(a);return ma(a,!0),SE(c,u,a),!_E(a)&&Xh()&&wg(i,o,u,a),(_M()===0||d)&&ya(u,o),TM(),d&&(gg(i,o,a),dE(i,a,o)),r!==null&&DE(o,a),ve}function me(){let e=Yn();EA()?NM():(e=e.parent,ma(e,!1));let n=e;PM(n)&&RM(),xM();let t=Vr();return t.firstCreatePass&&zE(t,n),n.classesWithoutHost!=null&&YM(n)&&_w(t,n,ot(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&ZM(n)&&_w(t,n,ot(),n.stylesWithoutHost,!1),me}function Je(e,n,t,r){return ve(e,n,t,r),me(),Je}var bN=(e,n,t,r,o,i)=>(eg(!0),vE(r,o,WM()));function Po(){return ot()}var ed="en-US";var wN=ed;function AN(e){typeof e=="string"&&(wN=e.toLowerCase().replace(/_/g,"-"))}function Mw(e,n,t){return function r(o){if(o===Function)return t;let i=zi(e)?yr(e.index,n):n;Eg(i,5);let s=n[Lt],c=Pw(n,s,t,o),a=r.__ngNextListenerFn__;for(;a;)c=Pw(n,s,a,o)&&c,a=a.__ngNextListenerFn__;return c}}function Pw(e,n,t,r){let o=xe(null);try{return Ye(6,n,t),t(r)!==!1}catch(i){return EN(e,i),!1}finally{Ye(7,n,t),xe(o)}}function EN(e,n){let t=e[Eo],r=t?t.get(zn,null):null;r&&r.handleError(n)}function Rw(e,n,t,r,o,i){let s=n[t],c=n[Me],u=c.data[t].outputs[r],d=s[u],p=c.firstCreatePass?bA(c):null,g=SA(n),f=d.subscribe(i),h=g.length;g.push(i,f),p&&p.push(o,e.index,h,-(h+1))}var DN=new Map;function vt(e,n,t,r){let o=ot(),i=Vr(),s=Yn();return CN(i,o,o[Ft],s,e,n,r),vt}function IN(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let c=n[Nu],a=o[i+2];return c.length>a?c[a]:null}typeof s=="string"&&(i+=2)}return null}function CN(e,n,t,r,o,i,s){let c=qh(r),u=e.firstCreatePass?bA(e):null,d=SA(n),p=!0;if(r.type&3||s){let g=Ar(r,n),f=s?s(g):g,h=d.length,v=s?D=>s(Wn(D[r.index])):r.index,S=null;if(!s&&c&&(S=IN(e,n,o,r.index)),S!==null){let D=S.__ngLastListenerFn__||S;D.__ngNextListenerFn__=i,S.__ngLastListenerFn__=i,p=!1}else{i=Mw(r,n,i);let D=n[Eo].get(dd);DN.get(D)?.(f,o,i);let m=t.listen(f,o,i);d.push(i,m),u&&u.push(o,v,h,h+1)}}else i=Mw(r,n,i);if(p){let g=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let h=0;h<f.length;h+=2){let v=f[h],S=f[h+1];Rw(r,n,v,S,o,i)}if(g&&g.length)for(let h of g)Rw(r,n,h,o,o,i)}}function fn(e=1){return BM(e)}function Oe(e,n=""){let t=ot(),r=Vr(),o=e+Tn,i=r.firstCreatePass?Dg(r,o,1,n,null):r.data[o],s=_N(r,t,i,n,e);t[o]=s,Xh()&&wg(r,t,s,i),ma(i,!1)}var _N=(e,n,t,r,o)=>(eg(!0),QP(n[Ft],r));function pn(e){return Hr("",e,""),pn}function Hr(e,n,t){let r=ot(),o=nN(r,e,n,t);return o!==xo&&TN(r,Yi(),o),Hr}function TN(e,n,t){let r=gA(n,e);JP(e[Ft],r,t)}var Eu=null;function xN(e){Eu!==null&&(e.defaultEncapsulation!==Eu.defaultEncapsulation||e.preserveWhitespaces!==Eu.preserveWhitespaces)||(Eu=e)}var Fh=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},t0=(()=>{class e{compileModuleSync(t){return new Ju(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=tA(t),i=gE(o.declarations).reduce((s,c)=>{let a=Ao(c);return a&&s.push(new Hi(a)),s},[]);return new Fh(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),MN=new ge("");function PN(e,n,t){let r=new Ju(t);return Promise.resolve(r)}function Ow(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var RN=(()=>{class e{zone=X(Be);changeDetectionScheduler=X($i);applicationRef=X(jr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ON({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Be(Ke(ne({},n0()),{scheduleInRootZone:t})),[{provide:Be,useFactory:e},{provide:sa,multi:!0,useFactory:()=>{let r=X(RN,{optional:!0});return()=>r.initialize()}},{provide:sa,multi:!0,useFactory:()=>{let r=X(NN);return()=>{r.initialize()}}},n===!0?{provide:YA,useValue:!0}:[],{provide:ZA,useValue:t??zA}]}function n0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var NN=(()=>{class e{subscription=new it;initialized=!1;zone=X(Be);pendingTasks=X(Zi);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var kN=(()=>{class e{appRef=X(jr);taskService=X(Zi);ngZone=X(Be);zonelessEnabled=X(qA);tracing=X(Ji,{optional:!0});disableScheduling=X(YA,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new it;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(ZA,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?dw:KA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,dw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function LN(){return typeof $localize<"u"&&$localize.locale||ed}var r0=new ge("",{providedIn:"root",factory:()=>X(r0,Ce.Optional|Ce.SkipSelf)||LN()});var td=new ge(""),FN=new ge("");function ta(e){return!e.moduleRef}function UN(e){let n=ta(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Be);return t.run(()=>{ta(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(zn,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),ta(e)){let i=()=>n.destroy(),s=e.platformInjector.get(td);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(td);s.add(i),e.moduleRef.onDestroy(()=>{_u(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return VN(r,t,()=>{let i=n.get(XE);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(r0,ed);if(AN(s||ed),!n.get(FN,!0))return ta(e)?n.get(jr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ta(e)){let a=n.get(jr);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return jN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function jN(e,n){let t=e.injector.get(jr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new fe(-403,!1);n.push(e)}function VN(e,n,t){try{let r=t();return Sd(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var o0=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let o=r?.scheduleInRootZone,i=()=>vP(r?.ngZone,Ke(ne({},n0({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),s=r?.ignoreChangesOutsideZone,c=[ON({ngZoneFactory:i,ignoreChangesOutsideZone:s}),{provide:$i,useExisting:kN}],a=LO(t.moduleType,this.injector,c);return UN({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let o=e0({},r);return PN(this.injector,o,t).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(td,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(le(Qt))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),ia=null,i0=new ge("");function $N(e){if(ia&&!ia.get(i0,!1))throw new fe(400,!1);JO(),ia=e;let n=e.get(o0);return GN(e),n}function Mg(e,n,t=[]){let r=`Platform: ${n}`,o=new ge(r);return(i=[])=>{let s=s0();if(!s||s.injector.get(i0,!1)){let c=[...t,...i,{provide:o,useValue:!0}];e?e(c):$N(BN(c,r))}return HN(o)}}function BN(e=[],n){return Qt.create({name:n,providers:[{provide:id,useValue:"platform"},{provide:td,useValue:new Set([()=>ia=null])},...e]})}function HN(e){let n=s0();if(!n)throw new fe(401,!1);return n}function s0(){return ia?.get(o0)??null}function GN(e){let n=e.get(sg,null);un(e,()=>{n?.forEach(t=>t())})}var wa=(()=>{class e{static __NG_ELEMENT_ID__=WN}return e})();function WN(e){return zN(Yn(),ot(),(e&16)===16)}function zN(e,n,t){if(zi(e)&&!t){let r=yr(e.index,n);return new ua(r,r)}else if(e.type&175){let r=n[Gn];return new ua(r,n)}return null}var Uh=class{constructor(){}supports(n){return KE(n)}create(n){return new jh(n)}},qN=(e,n)=>n,jh=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||qN}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<Nw(r,o,i)?t:r,c=Nw(s,o,i),a=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let u=c-o,d=a-o;if(u!=d){for(let g=0;g<u;g++){let f=g<i.length?i[g]:i[g]=0,h=f+g;d<=h&&h<u&&(i[g]=f+1)}let p=s.previousIndex;i[p]=d-u}}c!==a&&n(s,c,a)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!KE(n))throw new fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)i=n[c],s=this._trackByFn(c,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,c)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,HO(n,c=>{s=this._trackByFn(o,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,o)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new Vh(t,r),i,o)),n}_verifyReinsertion(n,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let o=t===null?this._itHead:t._next;return n._next=o,n._prev=t,o===null?this._itTail=n:o._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new nd),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nd),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Vh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},$h=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nd=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new $h,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,o=this.map.get(r);return o?o.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Nw(e,n,t){let r=e.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function kw(){return new Pg([new Uh])}var Pg=(()=>{class e{factories;static \u0275prov=ue({token:e,providedIn:"root",factory:kw});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||kw()),deps:[[e,new tM,new eM]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new fe(901,!1)}}return e})();var a0=Mg(null,"core",[]),c0=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(le(jr))};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();var Lw=class{[Si];constructor(n){this[Si]=n}destroy(){this[Si].destroy()}};function l0(e){let n=Ao(e);if(!n)return null;let t=new Hi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var yt=new ge("");var f0=null;function Zn(){return f0}function Rg(e){f0??=e}var Aa=class{},Ea=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(p0),providedIn:"platform"})}return e})(),Og=new ge(""),p0=(()=>{class e extends Ea{_location;_history;_doc=X(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(t){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bd(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function u0(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Pn(e){return e&&e[0]!=="?"?`?${e}`:e}var Dr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(Ad),providedIn:"root"})}return e})(),wd=new ge(""),Ad=(()=>{class e extends Dr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Pn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Pn(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Pn(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(le(Ea),le(wd,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gr=(()=>{class e{_subject=new Dt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=KN(u0(d0(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pn(r))}normalize(t){return e.stripTrailingSlash(ZN(this._basePath,d0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Pn;static joinWithSlash=bd;static stripTrailingSlash=u0;static \u0275fac=function(r){return new(r||e)(le(Dr))};static \u0275prov=ue({token:e,factory:()=>YN(),providedIn:"root"})}return e})();function YN(){return new Gr(le(Dr))}function ZN(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function d0(e){return e.replace(/\/index.html$/,"")}function KN(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ng=(()=>{class e extends Dr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=bd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Pn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Pn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(le(Ea),le(wd,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();var Ed=class{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dd=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Ed(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let c=r.get(i);r.move(c,s),h0(c,o)}});for(let o=0,i=r.length;o<i;o++){let c=r.get(o).context;c.index=o,c.count=i,c.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);h0(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(et(es),et(hd),et(Pg))};static \u0275dir=ts({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function h0(e,n){e.context.$implicit=n.item}var Ro=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();function kg(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Lg="browser",m0="server";function Id(e){return e===m0}var Da=class{};var v0=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new Fg(X(yt),window)})}return e})(),Fg=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=XN(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function XN(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var Td=new ge(""),$g=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new fe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(le(Td),le(Be))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Ia=class{_doc;constructor(n){this._doc=n}manager},Cd="ng-app-id";function y0(e){for(let n of e)n.remove()}function S0(e,n){let t=n.createElement("style");return t.textContent=e,t}function tk(e,n,t,r){let o=e.head?.querySelectorAll(`style[${Cd}="${n}"],link[${Cd}="${n}"]`);if(o)for(let i of o)i.removeAttribute(Cd),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function jg(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Bg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=Id(i),tk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,S0);r?.forEach(o=>this.addUsage(o,this.external,jg))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(y0(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])y0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,S0(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,jg(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Cd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(le(yt),le(dd),le(ag,8),le(Qi))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Ug={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hg=/%COMP%/g;var w0="%COMP%",nk=`_nghost-${w0}`,rk=`_ngcontent-${w0}`,ok=!0,ik=new ge("",{providedIn:"root",factory:()=>ok});function sk(e){return rk.replace(Hg,e)}function ak(e){return nk.replace(Hg,e)}function A0(e,n){return n.map(t=>t.replace(Hg,e))}var Gg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,c,a,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=c,this.ngZone=a,this.nonce=u,this.tracingService=d,this.platformIsServer=Id(c),this.defaultRenderer=new Ca(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qn.ShadowDom&&(r=Ke(ne({},r),{encapsulation:qn.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof _d?o.applyToHost(t):o instanceof _a&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case qn.Emulated:i=new _d(a,u,r,this.appId,d,s,c,p,g);break;case qn.ShadowDom:return new Vg(a,u,t,r,s,c,this.nonce,p,g);default:i=new _a(a,u,r,d,s,c,p,g);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(le($g),le(Bg),le(dd),le(ik),le(yt),le(Qi),le(Be),le(ag),le(Ji,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Ca=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Ug[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(b0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(b0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new fe(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Ug[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Ug[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(Ur.DashCase|Ur.Important)?n.style.setProperty(t,r,o&Ur.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ur.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Zn().getGlobalEventTarget(this.doc,n),!n))throw new fe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function b0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Vg=class extends Ca{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,c,a,u){super(n,i,s,a,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=A0(o.id,d);for(let g of d){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=g,this.shadowRoot.appendChild(f)}let p=o.getExternalStyles?.();if(p)for(let g of p){let f=jg(g,i);c&&f.setAttribute("nonce",c),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},_a=class extends Ca{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,c,a,u){super(n,i,s,c,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=u?A0(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_d=class extends _a{contentAttr;hostAttr;constructor(n,t,r,o,i,s,c,a,u){let d=o+"-"+r.id;super(n,t,r,i,s,c,a,u,d),this.contentAttr=sk(d),this.hostAttr=ak(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var xd=class e extends Aa{supportsDOMEvents=!0;static makeCurrent(){Rg(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=ck();return t==null?null:lk(t)}resetBaseElement(){Ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return kg(document.cookie,n)}},Ta=null;function ck(){return Ta=Ta||document.querySelector("base"),Ta?Ta.getAttribute("href"):null}function lk(e){return new URL(e,document.baseURI).pathname}var Md=class{addToWindow(n){Sr.getAngularTestability=(r,o=!0)=>{let i=n.findTestabilityInTree(r,o);if(i==null)throw new fe(5103,!1);return i},Sr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Sr.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let o=Sr.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(c=>{c.whenStable(s)})};Sr.frameworkStabilizers||(Sr.frameworkStabilizers=[]),Sr.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let o=n.getTestability(t);return o??(r?Zn().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},uk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),D0=(()=>{class e extends Ia{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),E0=["alt","control","meta","shift"],dk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},I0=(()=>{class e extends Ia{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(t,s.domEventName,c,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),E0.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let a={};return a.domEventName=o,a.fullKey=s,a}static matchEventFullKeyCode(t,r){let o=dk[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),E0.forEach(s=>{if(s!==o){let c=fk[s];c(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function pk(){xd.makeCurrent()}function hk(){return new zn}function gk(){return iE(document),document}var mk=[{provide:Qi,useValue:Lg},{provide:sg,useValue:pk,multi:!0},{provide:yt,useFactory:gk}],Wg=Mg(a0,"browser",mk);var vk=[{provide:ba,useClass:Md},{provide:Cg,useClass:vd,deps:[Be,yd,ba]},{provide:vd,useClass:vd,deps:[Be,yd,ba]}],yk=[{provide:id,useValue:"root"},{provide:zn,useFactory:hk},{provide:Td,useClass:D0,multi:!0,deps:[yt]},{provide:Td,useClass:I0,multi:!0,deps:[yt]},Gg,Bg,$g,{provide:Bi,useExisting:Gg},{provide:Da,useClass:uk},[]],zg=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({providers:[...yk,...vk],imports:[Ro,c0]})}return e})();var C0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ie="primary",$a=Symbol("RouteTitle"),Qg=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ko(e){return new Qg(e)}function k0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],c=e[i];if(s[0]===":")o[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Sk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Kn(e[t],n[t]))return!1;return!0}function Kn(e,n){let t=e?Jg(e):void 0,r=n?Jg(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!L0(e[o],n[o]))return!1;return!0}function Jg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function L0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function F0(e){return e.length>0?e[e.length-1]:null}function Yr(e){return Hp(e)?e:Sd(e)?Xe(Promise.resolve(e)):we(e)}var bk={exact:j0,subset:V0},U0={exact:wk,subset:Ak,ignored:()=>!0};function T0(e,n,t){return bk[t.paths](e.root,n.root,t.matrixParams)&&U0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function wk(e,n){return Kn(e,n)}function j0(e,n,t){if(!Oo(e.segments,n.segments)||!Od(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!j0(e.children[r],n.children[r],t))return!1;return!0}function Ak(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>L0(e[t],n[t]))}function V0(e,n,t){return $0(e,n,n.segments,t)}function $0(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!Oo(o,t)||n.hasChildren()||!Od(o,t,r))}else if(e.segments.length===t.length){if(!Oo(e.segments,t)||!Od(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!V0(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!Oo(e.segments,o)||!Od(e.segments,o,r)||!e.children[Ie]?!1:$0(e.children[Ie],n,i,r)}}function Od(e,n,t){return n.every((r,o)=>U0[t](e[o].parameters,r.parameters))}var Jn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ve([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){return Ik.serialize(this)}},Ve=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nd(this)}},Wr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ko(this.parameters),this._parameterMap}toString(){return H0(this)}};function Ek(e,n){return Oo(e,n)&&e.every((t,r)=>Kn(t.parameters,n[r].parameters))}function Oo(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Dk(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===Ie&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Ie&&(t=t.concat(n(o,r)))}),t}var Lo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new On,providedIn:"root"})}return e})(),On=class{parse(n){let t=new em(n);return new Jn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${xa(n.root,!0)}`,r=Tk(n.queryParams),o=typeof n.fragment=="string"?`#${Ck(n.fragment)}`:"";return`${t}${r}${o}`}},Ik=new On;function Nd(e){return e.segments.map(n=>H0(n)).join("/")}function xa(e,n){if(!e.hasChildren())return Nd(e);if(n){let t=e.children[Ie]?xa(e.children[Ie],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Ie&&r.push(`${o}:${xa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Dk(e,(r,o)=>o===Ie?[xa(e.children[Ie],!1)]:[`${o}:${xa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ie]!=null?`${Nd(e)}/${t[0]}`:`${Nd(e)}/(${t.join("//")})`}}function B0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(e){return B0(e).replace(/%3B/gi,";")}function Ck(e){return encodeURI(e)}function Xg(e){return B0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(e){return decodeURIComponent(e)}function x0(e){return kd(e.replace(/\+/g,"%20"))}function H0(e){return`${Xg(e.path)}${_k(e.parameters)}`}function _k(e){return Object.entries(e).map(([n,t])=>`;${Xg(n)}=${Xg(t)}`).join("")}function Tk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Pd(t)}=${Pd(o)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var xk=/^[^\/()?;#]+/;function qg(e){let n=e.match(xk);return n?n[0]:""}var Mk=/^[^\/()?;=#]+/;function Pk(e){let n=e.match(Mk);return n?n[0]:""}var Rk=/^[^=?&#]+/;function Ok(e){let n=e.match(Rk);return n?n[0]:""}var Nk=/^[^&#]+/;function kk(e){let n=e.match(Nk);return n?n[0]:""}var em=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Ie]=new Ve(n,t)),r}parseSegment(){let n=qg(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(n),new Wr(kd(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=Pk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=qg(this.remaining);o&&(r=o,this.capture(r))}n[kd(t)]=kd(r)}parseQueryParam(n){let t=Ok(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=kk(this.remaining);s&&(r=s,this.capture(r))}let o=x0(t),i=x0(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=qg(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new fe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Ie);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[Ie]:new Ve([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new fe(4011,!1)}};function G0(e){return e.segments.length>0?new Ve([],{[Ie]:e}):e}function W0(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=W0(o);if(r===Ie&&i.segments.length===0&&i.hasChildren())for(let[s,c]of Object.entries(i.children))n[s]=c;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new Ve(e.segments,n);return Lk(t)}function Lk(e){if(e.numberOfChildren===1&&e.children[Ie]){let n=e.children[Ie];return new Ve(e.segments.concat(n.segments),n.children)}return e}function as(e){return e instanceof Jn}function z0(e,n,t=null,r=null){let o=q0(e);return Y0(o,n,t,r)}function q0(e){let n;function t(i){let s={};for(let a of i.children){let u=t(a);s[a.outlet]=u}let c=new Ve(i.url,s);return i===e&&(n=c),c}let r=t(e.root),o=G0(r);return n??o}function Y0(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Yg(o,o,o,t,r);let i=Fk(n);if(i.toRoot())return Yg(o,o,new Ve([],{}),t,r);let s=Uk(i,o,e),c=s.processChildren?Pa(s.segmentGroup,s.index,i.commands):K0(s.segmentGroup,s.index,i.commands);return Yg(o,s.segmentGroup,c,t,r)}function Fd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Oa(e){return typeof e=="object"&&e!=null&&e.outlets}function Yg(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([a,u])=>{i[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;e===n?s=t:s=Z0(e,n,t);let c=G0(W0(s));return new Jn(c,i,o)}function Z0(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=Z0(i,n,t)}),new Ve(e.segments,r)}var Ud=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fd(r[0]))throw new fe(4003,!1);let o=r.find(Oa);if(o&&o!==F0(r))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Fk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ud(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let c={};return Object.entries(i.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:c}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?n++:c!=""&&o.push(c))}),o):[...o,i]},[]);return new Ud(t,n,r)}var is=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function Uk(e,n,t){if(e.isAbsolute)return new is(n,!0,0);if(!t)return new is(n,!1,NaN);if(t.parent===null)return new is(t,!0,0);let r=Fd(e.commands[0])?0:1,o=t.segments.length-1+r;return jk(t,o,e.numberOfDoubleDots)}function jk(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new fe(4005,!1);o=r.segments.length}return new is(r,!1,o-i)}function Vk(e){return Oa(e[0])?e[0].outlets:{[Ie]:e}}function K0(e,n,t){if(e??=new Ve([],{}),e.segments.length===0&&e.hasChildren())return Pa(e,n,t);let r=$k(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Ve(e.segments.slice(0,r.pathIndex),{});return i.children[Ie]=new Ve(e.segments.slice(r.pathIndex),e.children),Pa(i,0,o)}else return r.match&&o.length===0?new Ve(e.segments,{}):r.match&&!e.hasChildren()?tm(e,n,t):r.match?Pa(e,0,o):tm(e,n,t)}function Pa(e,n,t){if(t.length===0)return new Ve(e.segments,{});{let r=Vk(t),o={};if(Object.keys(r).some(i=>i!==Ie)&&e.children[Ie]&&e.numberOfChildren===1&&e.children[Ie].segments.length===0){let i=Pa(e.children[Ie],n,t);return new Ve(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=K0(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Ve(e.segments,o)}}function $k(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],c=t[r];if(Oa(c))break;let a=`${c}`,u=r<t.length-1?t[r+1]:null;if(o>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!P0(a,u,s))return i;r+=2}else{if(!P0(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function tm(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Oa(i)){let a=Bk(i.outlets);return new Ve(r,a)}if(o===0&&Fd(t[0])){let a=e.segments[n];r.push(new Wr(a.path,M0(t[0]))),o++;continue}let s=Oa(i)?i.outlets[Ie]:`${i}`,c=o<t.length-1?t[o+1]:null;s&&c&&Fd(c)?(r.push(new Wr(s,M0(c))),o+=2):(r.push(new Wr(s,{})),o++)}return new Ve(r,{})}function Bk(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=tm(new Ve([],{}),0,r))}),n}function M0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function P0(e,n,t){return e==t.path&&Kn(n,t.parameters)}var Ld="imperative",ht=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ht||{}),Xt=class{id;url;constructor(n,t){this.id=n,this.url=t}},zr=class extends Xt{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Nn=class extends Xt{urlAfterRedirects;type=ht.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Bt||{}),cs=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(cs||{}),Qn=class extends Xt{reason;code;type=ht.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Xn=class extends Xt{reason;code;type=ht.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},ls=class extends Xt{error;target;type=ht.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Na=class extends Xt{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends Xt{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends Xt{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$d=class extends Xt{urlAfterRedirects;state;type=ht.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends Xt{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class{route;type=ht.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gd=class{route;type=ht.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wd=class{snapshot;type=ht.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=ht.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=ht.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=ht.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},us=class{routerEvent;position;anchor;type=ht.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},ka=class{},ds=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Hk(e,n){return e.providers&&!e._injector&&(e._injector=Sa(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Rn(e){return e.outlet||Ie}function Gk(e,n){let t=e.filter(r=>Rn(r)===n);return t.push(...e.filter(r=>Rn(r)!==n)),t}function Ba(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ba(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Fo(this.rootInjector)}},Fo=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(le($t))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kd=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=nm(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=nm(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=rm(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return rm(n,this._root).map(t=>t.value)}};function nm(e,n){if(e===n.value)return n;for(let t of n.children){let r=nm(e,t);if(r)return r}return null}function rm(e,n){if(e===n.value)return[n];for(let t of n.children){let r=rm(e,t);if(r.length)return r.unshift(n),r}return[]}var Jt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function os(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var La=class extends Kd{snapshot;constructor(n,t){super(n),this.snapshot=t,dm(this,n)}toString(){return this.snapshot.toString()}};function Q0(e){let n=Wk(e),t=new oe([new Wr("",{})]),r=new oe({}),o=new oe({}),i=new oe({}),s=new oe(""),c=new qr(t,r,i,s,o,Ie,e,n.root);return c.snapshot=n.root,new La(new Jt(c,[]),n)}function Wk(e){let n={},t={},r={},o="",i=new No([],n,r,o,t,Ie,e,null,{});return new Fa("",new Jt(i,[]))}var qr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,c,a){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(Fe(u=>u[$a]))??we(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(n=>ko(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(n=>ko(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qd(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:ne(ne({},n.params),e.params),data:ne(ne({},n.data),e.data),resolve:ne(ne(ne(ne({},e.data),n.data),o?.data),e._resolvedData)}:r={params:ne({},e.params),data:ne({},e.data),resolve:ne(ne({},e.data),e._resolvedData??{})},o&&X0(o)&&(r.resolve[$a]=o.title),r}var No=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[$a]}constructor(n,t,r,o,i,s,c,a,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Fa=class extends Kd{url;constructor(n,t){super(t),this.url=n,dm(this,t)}toString(){return J0(this._root)}};function dm(e,n){n.value._routerState=e,n.children.forEach(t=>dm(e,t))}function J0(e){let n=e.children.length>0?` { ${e.children.map(J0).join(", ")} } `:"";return`${e.value}${n}`}function Zg(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Kn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Kn(n.params,t.params)||e.paramsSubject.next(t.params),Sk(n.url,t.url)||e.urlSubject.next(t.url),Kn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function om(e,n){let t=Kn(e.params,n.params)&&Ek(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||om(e.parent,n.parent))}function X0(e){return typeof e.title=="string"||e.title===null}var eD=new ge(""),Ha=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ie;activateEvents=new Rt;deactivateEvents=new Rt;attachEvents=new Rt;detachEvents=new Rt;routerOutletData=JA(void 0);parentContexts=X(Fo);location=X(es);changeDetector=X(wa);inputBinder=X(Ga,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new im(t,c,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ts({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ad]})}return e})(),im=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===qr?this.route:n===Fo?this.childContexts:n===eD?this.outletData:this.parent.get(n,t)}},Ga=new ge(""),fm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Xs([r.queryParams,r.params,r.data]).pipe(on(([i,s,c],a)=>(c=ne(ne(ne({},i),s),c),a===0?we(c):Promise.resolve(c)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=l0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,i[c])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),pm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=mt({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Je(0,"router-outlet")},dependencies:[Ha],encapsulation:2})}return e})();function hm(e){let n=e.children&&e.children.map(hm),t=n?Ke(ne({},e),{children:n}):ne({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=pm),t}function zk(e,n,t){let r=Ua(e,n._root,t?t._root:void 0);return new La(r,n)}function Ua(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=qk(e,n,t);return new Jt(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(c=>Ua(e,c)),s}}let r=Yk(n.value),o=n.children.map(i=>Ua(e,i));return new Jt(r,o)}}function qk(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ua(e,r,o);return Ua(e,r)})}function Yk(e){return new qr(new oe(e.url),new oe(e.params),new oe(e.queryParams),new oe(e.fragment),new oe(e.data),e.outlet,e.component,e)}var fs=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},tD="ngNavigationCancelingError";function Jd(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=as(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=nD(!1,Bt.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function nD(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[tD]=!0,t.cancellationCode=n,t}function Zk(e){return rD(e)&&as(e.url)}function rD(e){return!!e&&e[tD]}var Kk=(e,n,t,r)=>Fe(o=>(new sm(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),sm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Zg(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=os(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=os(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:c})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=os(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=os(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Yd(i.value.snapshot))}),n.children.length&&this.forwardEvent(new zd(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(Zg(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Zg(c.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Xd=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},ss=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Qk(e,n,t){let r=e._root,o=n?n._root:null;return Ma(r,o,t,[r.value])}function Jk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function hs(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!Gw(e)?e:n.get(e):r}function Ma(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=os(n);return e.children.forEach(s=>{Xk(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,c])=>Ra(c,t.getContext(s),o)),o}function Xk(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,c=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let a=e1(s,i,i.routeConfig.runGuardsAndResolvers);a?o.canActivateChecks.push(new Xd(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Ma(e,n,c?c.children:null,r,o):Ma(e,n,t,r,o),a&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new ss(c.outlet.component,s))}else s&&Ra(n,c,o),o.canActivateChecks.push(new Xd(r)),i.component?Ma(e,null,c?c.children:null,r,o):Ma(e,null,t,r,o);return o}function e1(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Oo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Oo(e.url,n.url)||!Kn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!om(e,n)||!Kn(e.queryParams,n.queryParams);case"paramsChange":default:return!om(e,n)}}function Ra(e,n,t){let r=os(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?Ra(s,n.children.getContext(i),t):Ra(s,null,t):Ra(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new ss(n.outlet.component,o)):t.canDeactivateChecks.push(new ss(null,o)):t.canDeactivateChecks.push(new ss(null,o))}function Wa(e){return typeof e=="function"}function t1(e){return typeof e=="boolean"}function n1(e){return e&&Wa(e.canLoad)}function r1(e){return e&&Wa(e.canActivate)}function o1(e){return e&&Wa(e.canActivateChild)}function i1(e){return e&&Wa(e.canDeactivate)}function s1(e){return e&&Wa(e.canMatch)}function oD(e){return e instanceof pr||e?.name==="EmptyError"}var Rd=Symbol("INITIAL_VALUE");function ps(){return on(e=>Xs(e.map(n=>n.pipe(gr(1),zp(Rd)))).pipe(Fe(n=>{for(let t of n)if(t!==!0){if(t===Rd)return Rd;if(t===!1||a1(t))return t}return!0}),Zt(n=>n!==Rd),gr(1)))}function a1(e){return as(e)||e instanceof fs}function c1(e,n){return rt(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?we(Ke(ne({},t),{guardsResult:!0})):l1(s,r,o,e).pipe(rt(c=>c&&t1(c)?u1(r,i,e,n):we(c)),Fe(c=>Ke(ne({},t),{guardsResult:c})))})}function l1(e,n,t,r){return Xe(e).pipe(rt(o=>g1(o.component,o.route,t,n,r)),mr(o=>o!==!0,!0))}function u1(e,n,t,r){return Xe(n).pipe(kr(o=>xi(f1(o.route.parent,r),d1(o.route,r),h1(e,o.path,t),p1(e,o.route,t))),mr(o=>o!==!0,!0))}function d1(e,n){return e!==null&&n&&n(new qd(e)),we(!0)}function f1(e,n){return e!==null&&n&&n(new Wd(e)),we(!0)}function p1(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return we(!0);let o=r.map(i=>Su(()=>{let s=Ba(n)??t,c=hs(i,s),a=r1(c)?c.canActivate(n,e):un(s,()=>c(n,e));return Yr(a).pipe(mr())}));return we(o).pipe(ps())}function h1(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>Jk(s)).filter(s=>s!==null).map(s=>Su(()=>{let c=s.guards.map(a=>{let u=Ba(s.node)??t,d=hs(a,u),p=o1(d)?d.canActivateChild(r,e):un(u,()=>d(r,e));return Yr(p).pipe(mr())});return we(c).pipe(ps())}));return we(i).pipe(ps())}function g1(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return we(!0);let s=i.map(c=>{let a=Ba(n)??o,u=hs(c,a),d=i1(u)?u.canDeactivate(e,n,t,r):un(a,()=>u(e,n,t,r));return Yr(d).pipe(mr())});return we(s).pipe(ps())}function m1(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return we(!0);let i=o.map(s=>{let c=hs(s,e),a=n1(c)?c.canLoad(n,t):un(e,()=>c(n,t));return Yr(a)});return we(i).pipe(ps(),iD(r))}function iD(e){return jp(It(n=>{if(typeof n!="boolean")throw Jd(e,n)}),Fe(n=>n===!0))}function v1(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return we(!0);let i=o.map(s=>{let c=hs(s,e),a=s1(c)?c.canMatch(n,t):un(e,()=>c(n,t));return Yr(a)});return we(i).pipe(ps(),iD(r))}var ja=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Va=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function rs(e){return _i(new ja(e))}function y1(e){return _i(new fe(4e3,!1))}function S1(e){return _i(nD(!1,Bt.GuardRejected))}var am=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return we(r);if(o.numberOfChildren>1||!o.children[Ie])return y1(`${n.redirectTo}`);o=o.children[Ie]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:d,url:p,outlet:g,params:f,data:h,title:v}=o,S=un(i,()=>c({params:f,data:h,queryParams:a,fragment:u,routeConfig:d,url:p,outlet:g,title:v}));if(S instanceof Jn)throw new Va(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new Va(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new Jn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let c=i.substring(1);r[o]=t[c]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([c,a])=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Ve(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new fe(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b1(e,n,t,r,o){let i=sD(e,n,t);return i.matched?(r=Hk(n,r),v1(r,n,t,o).pipe(Fe(s=>s===!0?i:ne({},cm)))):we(i)}function sD(e,n,t){if(n.path==="**")return w1(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?ne({},cm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||k0)(t,e,n);if(!o)return ne({},cm);let i={};Object.entries(o.posParams??{}).forEach(([c,a])=>{i[c]=a.path});let s=o.consumed.length>0?ne(ne({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function w1(e){return{matched:!0,parameters:e.length>0?F0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function R0(e,n,t,r){return t.length>0&&D1(e,t,r)?{segmentGroup:new Ve(n,E1(r,new Ve(t,e.children))),slicedSegments:[]}:t.length===0&&I1(e,t,r)?{segmentGroup:new Ve(e.segments,A1(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ve(e.segments,e.children),slicedSegments:t}}function A1(e,n,t,r){let o={};for(let i of t)if(tf(e,n,i)&&!r[Rn(i)]){let s=new Ve([],{});o[Rn(i)]=s}return ne(ne({},r),o)}function E1(e,n){let t={};t[Ie]=n;for(let r of e)if(r.path===""&&Rn(r)!==Ie){let o=new Ve([],{});t[Rn(r)]=o}return t}function D1(e,n,t){return t.some(r=>tf(e,n,r)&&Rn(r)!==Ie)}function I1(e,n,t){return t.some(r=>tf(e,n,r))}function tf(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function C1(e,n,t){return n.length===0&&!e.children[t]}var lm=class{};function _1(e,n,t,r,o,i,s="emptyOnly"){return new um(e,n,t,r,o,s,i).recognize()}var T1=31,um=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new am(this.urlSerializer,this.urlTree)}noMatchError(n){return new fe(4002,`'${n.segmentGroup}'`)}recognize(){let n=R0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Fe(({children:t,rootSnapshot:r})=>{let o=new Jt(r,t),i=new Fa("",o),s=z0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new No([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Ie,t).pipe(Fe(r=>({children:r,rootSnapshot:t})),hr(r=>{if(r instanceof Va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(Fe(s=>s instanceof Jt?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Xe(i).pipe(kr(s=>{let c=r.children[s],a=Gk(t,s);return this.processSegmentGroup(n,a,c,s,o)}),Wp((s,c)=>(s.push(...c),s)),Lr(null),Gp(),rt(s=>{if(s===null)return rs(r);let c=aD(s);return x1(c),we(c)}))}processSegment(n,t,r,o,i,s,c){return Xe(t).pipe(kr(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,o,i,s,c).pipe(hr(u=>{if(u instanceof ja)return we(null);throw u}))),mr(a=>!!a),hr(a=>{if(oD(a))return C1(r,o,i)?we(new lm):rs(r);throw a}))}processSegmentAgainstRoute(n,t,r,o,i,s,c,a){return Rn(r)!==s&&(s===Ie||!tf(o,i,r))?rs(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,a):rs(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=sD(t,o,i);if(!a)return rs(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>T1&&(this.allowRedirects=!1));let f=new No(i,u,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,O0(o),Rn(o),o.component??o._loadedComponent??null,o,N0(o)),h=Qd(f,c,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,p,f,n);return this.applyRedirects.lineralizeSegments(o,v).pipe(rt(S=>this.processSegment(n,r,t,S.concat(g),s,!1,c)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let c=b1(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(on(a=>a.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(on(({routes:u})=>{let d=r._loadedInjector??n,{parameters:p,consumedSegments:g,remainingSegments:f}=a,h=new No(g,p,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,O0(r),Rn(r),r.component??r._loadedComponent??null,r,N0(r)),v=Qd(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:S,slicedSegments:D}=R0(t,g,f,u);if(D.length===0&&S.hasChildren())return this.processChildren(d,u,S,h).pipe(Fe(m=>new Jt(h,m)));if(u.length===0&&D.length===0)return we(new Jt(h,[]));let T=Rn(r)===i;return this.processSegment(d,u,S,D,T?Ie:i,!0,h).pipe(Fe(m=>new Jt(h,m instanceof Jt?[m]:[])))}))):rs(t)))}getChildConfig(n,t,r){return t.children?we({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?we({routes:t._loadedRoutes,injector:t._loadedInjector}):m1(n,t,r,this.urlSerializer).pipe(rt(o=>o?this.configLoader.loadChildren(n,t).pipe(It(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):S1(t))):we({routes:[],injector:n})}};function x1(e){e.sort((n,t)=>n.value.outlet===Ie?-1:t.value.outlet===Ie?1:n.value.outlet.localeCompare(t.value.outlet))}function M1(e){let n=e.value.routeConfig;return n&&n.path===""}function aD(e){let n=[],t=new Set;for(let r of e){if(!M1(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=aD(r.children);n.push(new Jt(r.value,o))}return n.filter(r=>!t.has(r))}function O0(e){return e.data||{}}function N0(e){return e.resolve||{}}function P1(e,n,t,r,o,i){return rt(s=>_1(e,n,t,r,s.extractedUrl,o,i).pipe(Fe(({state:c,tree:a})=>Ke(ne({},s),{targetSnapshot:c,urlAfterRedirects:a}))))}function R1(e,n){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return we(t);let i=new Set(o.map(a=>a.route)),s=new Set;for(let a of i)if(!s.has(a))for(let u of cD(a))s.add(u);let c=0;return Xe(s).pipe(kr(a=>i.has(a)?O1(a,r,e,n):(a.data=Qd(a,a.parent,e).resolve,we(void 0))),It(()=>c++),Mi(1),rt(a=>c===s.size?we(t):Ut))})}function cD(e){let n=e.children.map(t=>cD(t)).flat();return[e,...n]}function O1(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!X0(o)&&(i[$a]=o.title),N1(i,e,n,r).pipe(Fe(s=>(e._resolvedData=s,e.data=Qd(e,e.parent,t).resolve,null)))}function N1(e,n,t,r){let o=Jg(e);if(o.length===0)return we({});let i={};return Xe(o).pipe(rt(s=>k1(e[s],n,t,r).pipe(mr(),It(c=>{if(c instanceof fs)throw Jd(new On,c);i[s]=c}))),Mi(1),Fe(()=>i),hr(s=>oD(s)?Ut:_i(s)))}function k1(e,n,t,r){let o=Ba(n)??r,i=hs(e,o),s=i.resolve?i.resolve(n,t):un(o,()=>i(n,t));return Yr(s)}function Kg(e){return on(n=>{let t=e(n);return t?Xe(t).pipe(Fe(()=>n)):we(n)})}var gm=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[$a]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(lD),providedIn:"root"})}return e})(),lD=(()=>{class e extends gm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(le(C0))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uo=new ge("",{providedIn:"root",factory:()=>({})}),gs=new ge(""),nf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=X(t0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return we(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yr(t.loadComponent()).pipe(Fe(dD),It(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),ea(()=>{this.componentLoaders.delete(t)})),o=new Ci(r,()=>new Dt).pipe(Ii());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return we({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=uD(r,this.compiler,t,this.onLoadEndListener).pipe(ea(()=>{this.childrenLoaders.delete(r)})),s=new Ci(i,()=>new Dt).pipe(Ii());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function uD(e,n,t,r){return Yr(e.loadChildren()).pipe(Fe(dD),rt(o=>o instanceof Ig||Array.isArray(o)?we(o):Xe(n.compileModuleAsync(o))),Fe(o=>{r&&r(e);let i,s,c=!1;return Array.isArray(o)?(s=o,c=!0):(i=o.create(t).injector,s=i.get(gs,[],{optional:!0,self:!0}).flat()),{routes:s.map(hm),injector:i}}))}function L1(e){return e&&typeof e=="object"&&"default"in e}function dD(e){return L1(e)?e.default:e}var rf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(F1),providedIn:"root"})}return e})(),F1=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mm=new ge(""),vm=new ge("");function fD(e,n,t){let r=e.get(vm),o=e.get(yt);return e.get(Be).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),c=o.startViewTransition(()=>(i(),U1(e))),{onViewTransitionCreated:a}=r;return a&&un(e,()=>a({transition:c,from:n,to:t})),s})}function U1(e){return new Promise(n=>{lg({read:()=>setTimeout(n)},{injector:e})})}var ym=new ge(""),of=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Dt;transitionAbortSubject=new Dt;configLoader=X(nf);environmentInjector=X($t);destroyRef=X(va);urlSerializer=X(Lo);rootContexts=X(Fo);location=X(Gr);inputBindingEnabled=X(Ga,{optional:!0})!==null;titleStrategy=X(gm);options=X(Uo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=X(rf);createViewTransition=X(mm,{optional:!0});navigationErrorHandler=X(ym,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>we(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Hd(o)),r=o=>this.events.next(new Gd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ke(ne({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new oe(null),this.transitions.pipe(Zt(r=>r!==null),on(r=>{let o=!1,i=!1;return we(r).pipe(on(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Bt.SupersededByNewNavigation),Ut;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ke(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&a!=="reload"){let u="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.rawUrl),u,cs.IgnoredSameUrlNavigation)),s.resolve(!1),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return we(s).pipe(on(u=>(this.events.next(new zr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Ut:Promise.resolve(u))),P1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),It(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Ke(ne({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new Na(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:g,extras:f}=s,h=new zr(u,this.urlSerializer.serialize(d),p,g);this.events.next(h);let v=Q0(this.rootComponentType).snapshot;return this.currentTransition=r=Ke(ne({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:Ke(ne({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,we(r)}else{let u="";return this.events.next(new Xn(s.id,this.urlSerializer.serialize(s.extractedUrl),u,cs.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Ut}}),It(s=>{let c=new jd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Fe(s=>(this.currentTransition=r=Ke(ne({},s),{guards:Qk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),c1(this.environmentInjector,s=>this.events.next(s)),It(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Jd(this.urlSerializer,s.guardsResult);let c=new Vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Zt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Bt.GuardRejected),!1)),Kg(s=>{if(s.guards.canActivateChecks.length!==0)return we(s).pipe(It(c=>{let a=new $d(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}),on(c=>{let a=!1;return we(c).pipe(R1(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(c,"",Bt.NoDataFromResolver)}}))}),It(c=>{let a=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}))}),Kg(s=>{let c=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(It(d=>{a.component=d}),Fe(()=>{})));for(let d of a.children)u.push(...c(d));return u};return Xs(c(s.targetSnapshot.root)).pipe(Lr(null),gr(1))}),Kg(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return a?Xe(a).pipe(Fe(()=>r)):we(r)}),Fe(s=>{let c=zk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ke(ne({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),It(()=>{this.events.next(new ka)}),Kk(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),gr(1),It({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),qp(this.transitionAbortSubject.pipe(It(s=>{throw s}))),ea(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Bt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),hr(s=>{if(this.destroyed)return r.resolve(!1),Ut;if(i=!0,rD(s))this.events.next(new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Zk(s)?this.events.next(new ds(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new ls(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=un(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(a instanceof fs){let{message:u,cancellationCode:d}=Jd(this.urlSerializer,a);this.events.next(new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new ds(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Ut}))}))}cancelNavigationTransition(t,r,o){let i=new Qn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function j1(e){return e!==Ld}var pD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(V1),providedIn:"root"})}return e})(),ef=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},V1=(()=>{class e extends ef{static \u0275fac=(()=>{let t;return function(o){return(t||(t=rg(e)))(o||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hD=(()=>{class e{urlSerializer=X(Lo);options=X(Uo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=X(Gr);urlHandlingStrategy=X(rf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Jn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Jn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=Q0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X($1),providedIn:"root"})}return e})(),$1=(()=>{class e extends hD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof zr?this.updateStateMemento():t instanceof Xn?this.commitTransition(r):t instanceof Na?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof ka?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Qn&&(t.code===Bt.GuardRejected||t.code===Bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ls?this.restoreHistory(r,!0):t instanceof Nn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let c=this.browserPageId,a=ne(ne({},s),this.generateNgRouterState(o,c));this.location.replaceState(t,"",a)}else{let c=ne(ne({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=rg(e)))(o||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sf(e,n){e.events.pipe(Zt(t=>t instanceof Nn||t instanceof Qn||t instanceof ls||t instanceof Xn),Fe(t=>t instanceof Nn||t instanceof Xn?0:(t instanceof Qn?t.code===Bt.Redirect||t.code===Bt.SupersededByNewNavigation:!1)?2:1),Zt(t=>t!==2),gr(1)).subscribe(()=>{n()})}var B1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ht=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=X(QE);stateManager=X(hD);options=X(Uo,{optional:!0})||{};pendingTasks=X(Zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=X(of);urlSerializer=X(Lo);location=X(Gr);urlHandlingStrategy=X(rf);_events=new Dt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=X(pD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=X(gs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!X(Ga,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new it;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Qn&&r.code!==Bt.Redirect&&r.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nn)this.navigated=!0;else if(r instanceof ds){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a=ne({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||j1(o.source)},s);this.scheduleNavigation(c,Ld,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}W1(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let a=ne({},o);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(i.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:s,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=ne(ne({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=o?o.snapshot:this.routerState.snapshot.root;p=q0(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Y0(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=as(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ld,null,r)}navigate(t,r={skipLocationChange:!1}){return G1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=ne({},B1):r===!1?o=ne({},H1):o=r,as(t))return T0(this.currentUrlTree,t,o);let i=this.parseUrl(t);return T0(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let c,a,u;s?(c=s.resolve,a=s.reject,u=s.promise):u=new Promise((p,g)=>{c=p,a=g});let d=this.pendingTasks.add();return sf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function G1(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new fe(4008,!1)}function W1(e){return!(e instanceof ka)&&!(e instanceof ds)}var za=class{};var gD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof Nn),kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=Sa(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,c=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(c,i.children??i._loadedRoutes))}return Xe(o).pipe(Ti())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=we(null);let i=o.pipe(rt(s=>s===null?we(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Xe([i,s]).pipe(Ti())}else return i})}static \u0275fac=function(r){return new(r||e)(le(Ht),le($t),le(za),le(nf))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),mD=new ge(""),z1=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Nn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Xn&&t.code===cs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof us&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new us(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){BE()};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function q1(e){return e.routerState.root}function qa(e,n){return{\u0275kind:e,\u0275providers:n}}function Y1(){let e=X(Qt);return n=>{let t=e.get(jr);if(n!==t.components[0])return;let r=e.get(Ht),o=e.get(vD);e.get(bm)===1&&r.initialNavigation(),e.get(bD,null,Ce.Optional)?.setUpPreloading(),e.get(mD,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var vD=new ge("",{factory:()=>new Dt}),bm=new ge("",{providedIn:"root",factory:()=>1});function yD(){let e=[{provide:bm,useValue:0},Tg(()=>{let n=X(Qt);return n.get(Og,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(Ht),i=n.get(vD);sf(o,()=>{r(!0)}),n.get(of).afterPreactivation=()=>(r(!0),i.closed?we(void 0):i),o.initialNavigation()}))})];return qa(2,e)}function SD(){let e=[Tg(()=>{X(Ht).setUpLocationChangeListener()}),{provide:bm,useValue:2}];return qa(3,e)}var bD=new ge("");function wD(e){return qa(0,[{provide:bD,useExisting:gD},{provide:za,useExisting:e}])}function AD(){return qa(8,[fm,{provide:Ga,useExisting:fm}])}function ED(e){Xi("NgRouterViewTransitions");let n=[{provide:mm,useValue:fD},{provide:vm,useValue:ne({skipNextTransition:!!e?.skipInitialTransition},e)}];return qa(9,n)}var DD=[Gr,{provide:Lo,useClass:On},Ht,Fo,{provide:qr,useFactory:q1,deps:[Ht]},nf,[]],Ya=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[DD,[],{provide:gs,multi:!0,useValue:t},[],r?.errorHandler?{provide:ym,useValue:r.errorHandler}:[],{provide:Uo,useValue:r||{}},r?.useHash?K1():Q1(),Z1(),r?.preloadingStrategy?wD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?J1(r):[],r?.bindToComponentInputs?AD().\u0275providers:[],r?.enableViewTransitions?ED().\u0275providers:[],X1()]}}static forChild(t){return{ngModule:e,providers:[{provide:gs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();function Z1(){return{provide:mD,useFactory:()=>{let e=X(v0),n=X(Be),t=X(Uo),r=X(of),o=X(Lo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new z1(o,r,e,n,t)}}}function K1(){return{provide:Dr,useClass:Ng}}function Q1(){return{provide:Dr,useClass:Ad}}function J1(e){return[e.initialNavigation==="disabled"?SD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?yD().\u0275providers:[]]}var Sm=new ge("");function X1(){return[{provide:Sm,useFactory:Y1},{provide:xg,multi:!0,useExisting:Sm}]}function ms(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ir(e)}function ID(e,n){if(Ir(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Ir(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function CD(e){var n=ID(e,"string");return Ir(n)=="symbol"?n:n+""}function _D(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CD(r.key),r)}}function vs(e,n,t){return n&&_D(e.prototype,n),t&&_D(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Za=function(){function e(){ms(this,e)}return vs(e,null,[{key:"setInstance",value:function(t,r){e._apps[t]=r}},{key:"getInstance",value:function(t){var r=e._apps[t];if(!r)throw Error("[".concat(t,"] FronteggApp not found"));return r}}]),e}();Za._apps={};function TD(e){if(Array.isArray(e))return e}function xD(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,o,i,s,c=[],a=!0,u=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(r=i.call(t)).done)&&(c.push(r.value),c.length!==n);a=!0);}catch(d){u=!0,o=d}finally{try{if(!a&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw o}}return c}}function Am(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function MD(e,n){if(e){if(typeof e=="string")return Am(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Am(e,n):void 0}}function PD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(e,n){return TD(e)||xD(e,n)||MD(e,n)||PD()}function OD(e,n,t,r,o,i,s){try{var c=e[i](s),a=c.value}catch(u){return void t(u)}c.done?n(a):Promise.resolve(a).then(r,o)}function Ct(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function s(a){OD(i,r,o,s,c,"next",a)}function c(a){OD(i,r,o,s,c,"throw",a)}s(void 0)})}}var Ge=En(Dm());var kS={};wp(kS,{ACR_VALUE:()=>Cc,AMR_ADDITIONAL_VALUE:()=>Km,AMR_MFA_VALUE:()=>Zm,AcceptInvitationStep:()=>Gt,ActivateAccountStep:()=>Fn,AdminPortalPages:()=>lF,AdminPortalPagesForEvents:()=>Tt,AllAccountsStateKeys:()=>dt,ApiStateKeys:()=>$e,AuthStrategyEnum:()=>Te,AuthenticationTypes:()=>to,DEFAULT_RETRY_CONFIG:()=>_t,EditEmailView:()=>By,FRONTEGG_AFTER_AUTH_REDIRECT_URL:()=>Xo,ForgotPasswordStep:()=>Sn,FronteggNativeModule:()=>jo,GTMEventAction:()=>mn,GroupRelations:()=>Vs,GroupsStateKeys:()=>ze,HOSTED_LOGIN_VERIFIER_KEY:()=>Sf,ImpersonateStep:()=>fi,LoginActionTypes:()=>Xm,LoginFlow:()=>ut,LoginStep:()=>Se,MFAStep:()=>Ne,MachineToMachineAuthStrategy:()=>ct,PasswordRotationStep:()=>di,PaymentMethodType:()=>zy,PaymentProvider:()=>gi,QuickLoginStrategy:()=>Jm,REQUEST_NAME:()=>Wt,ResetPhoneNumberStep:()=>so,RolesStateKeys:()=>nn,SHOULD_STEP_UP_KEY:()=>en,SSOStateKeys:()=>At,STEP_UP_MAX_AGE_PARAM_NAME:()=>Qm,SamlVendors:()=>pi,SecurityCenterStateKeys:()=>Et,SignUpStage:()=>ao,SubscriptionCancellationPolicy:()=>_l,SubscriptionStatus:()=>wn,TENANT_ID_PARAM_KEY:()=>$c,TeamStateKeys:()=>ce,UserVerifiedOriginTypes:()=>Pr,authStrategyLoginStepMap:()=>ev,base64ToFormData:()=>rv,base64urlDecode:()=>bt,base64urlEncode:()=>nv,buildAuditsActions:()=>SS,buildAuthActions:()=>Gy,buildConnectivityActions:()=>Bs,buildSubscriptionsActions:()=>fS,buildVendorActions:()=>Hs,createAuditsState:()=>yS,createAuthState:()=>Hy,createConnectivityState:()=>np,createFronteggStore:()=>zV,createProxy:()=>K,createRandomString:()=>Df,createStore:()=>lp,createSubscriptionsState:()=>dS,createVendorState:()=>rp,deepClone:()=>BI,deepResetState:()=>Q,defaultFronteggRoutes:()=>_c,delay:()=>Y,errorHandler:()=>_,errorTraceId:()=>Tc,generateCodeChallenge:()=>iv,generateCodeChallengeNative:()=>YI,generateCodeChallengePureJs:()=>qI,getBaseNameWithoutSlashSuffix:()=>Kf,getEntitlements:()=>uj,getFeatureEntitlements:()=>qf,getMfaStepForEnrolledUsers:()=>Bc,getMfaStepForNotEnrolledUsers:()=>Mv,getNumberOfMfaDevices:()=>zC,getPathAndSearchParamsFromUrl:()=>xv,getPermissionEntitlements:()=>zf,getRedirectUrl:()=>Tv,getSearchParam:()=>Vc,getSearchParamsFromUrl:()=>Zf,getUri:()=>Xf,hmac:()=>aF,isAbsoluteUrl:()=>Yf,isAuthRoute:()=>kv,isEmailPayload:()=>Rv,isEntitlementsDeeplyEqual:()=>jc,isError:()=>GI,isFronteggApiError:()=>HI,isMfaRequired:()=>yn,isOauthCallbackRoute:()=>Pv,isProxy:()=>Mc,isResetPasswordRequired:()=>ui,isSteppedUp:()=>li,isUsernamePayload:()=>Ov,mapMetaDataObjectToActions:()=>Jf,omitProps:()=>xc,prepareIdentifiersForSignup:()=>ep,publicKeyCredentialToJSON:()=>gn,readFileAsText:()=>ei,redirectByStepUpUrl:()=>Nv,ref:()=>BD,reportGTMEvent:()=>or,retry:()=>bf,retryIfNeeded:()=>ee,setAfterAuthRedirectUrlForStepUp:()=>Qf,sha256:()=>ov,shouldShowPasswordRotationPromptFunc:()=>ci,snapshot:()=>Kr,subscribe:()=>Tr,withRetryConfig:()=>kn});var tL="frontegg_external_mobile_browser",Im=class{constructor(){this.backToLoginImpl=void 0,this.loginWithSSO=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSSO",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSSO(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithSocialLogin=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSocialLogin",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSocialLogin(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithSocialLoginProvider=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSocialLoginProvider",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSocialLoginProvider(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithCustomSocialLoginProvider=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithCustomSocialLoginProvider",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithCustomSocialLoginProvider(n)}else throw new Error("FronteggNativeBridge is not available")},this.suggestSavePassword=(n,t)=>{if(this.isIOSNativeBridgeAvailable()){var r,o,i;(r=window.webkit)==null||(o=r.messageHandlers)==null||(i=o.FronteggNativeBridge)==null||i.postMessage(JSON.stringify({action:"suggestSavePassword",payload:JSON.stringify({email:n,password:t})}))}else if(this.isAndroidNativeBridgeAvailable()){var s;(s=window.FronteggNativeBridge)==null||s.suggestSavePassword(n,t)}else throw new Error("FronteggNativeBridge is not available")},this.promptSocialLoginConsent=()=>{var n,t;return(n=(t=window.FronteggNativeBridgeFunctions)==null?void 0:t.shouldPromptSocialLoginConsent)!=null?n:!1}}isIOSNativeBridgeAvailable(){var n,t;return((n=window.webkit)==null||(t=n.messageHandlers)==null?void 0:t.FronteggNativeBridge)!=null}isAndroidNativeBridgeAvailable(){return window.FronteggNativeBridge!=null}isExternalMobileBrowser(){return sessionStorage.getItem(tL)!==null&&this.backToLoginImpl!=null}setBackToLogin(n){this.backToLoginImpl=n}backToLogin(){if(this.backToLoginImpl){this.backToLoginImpl();return}}isSocialLoginAvailable(){return this.isAvailable("loginWithSocialLogin")}isSocialLoginProviderAvailable(){return this.isAvailable("loginWithSocialLoginProvider")}isCustomSocialLoginProviderAvailable(){return this.isAvailable("loginWithCustomSocialLoginProvider")}isLoginWithSSOAvailable(){return this.isAvailable("loginWithSSO")}isSuggestSavePasswordAvailable(){return this.isAvailable("suggestSavePassword")}isAvailable(n){if(this.isIOSNativeBridgeAvailable()||this.isAndroidNativeBridgeAvailable()){var t,r;return(t=(r=window.FronteggNativeBridgeFunctions)==null?void 0:r[n])!=null?t:!1}return!1}},jo=new Im;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y.apply(null,arguments)}var Y9=Symbol(),nL=Symbol();var jD=Object.getPrototypeOf,Cm=new WeakMap,rL=e=>e&&(Cm.has(e)?Cm.get(e):jD(e)===Object.prototype||jD(e)===Array.prototype);var VD=e=>rL(e)&&e[nL]||null,_m=(e,n=!0)=>{Cm.set(e,n)};var Tm=e=>typeof e=="object"&&e!==null,Zr=new WeakMap,Ka=new WeakSet;function oL(e=Object.is,n=(u,d)=>new Proxy(u,d),t=u=>Tm(u)&&!Ka.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},o=new WeakMap,i=(u,d,p=r)=>{let g=o.get(u);if(g?.[0]===d)return g[1];let f=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return _m(f,!0),o.set(u,[d,f]),Reflect.ownKeys(u).forEach(h=>{if(Object.getOwnPropertyDescriptor(f,h))return;let v=Reflect.get(u,h),{enumerable:S}=Reflect.getOwnPropertyDescriptor(u,h),D={value:v,enumerable:S,configurable:!0};if(Ka.has(v))_m(v,!1);else if(v instanceof Promise)delete D.value,D.get=()=>p(v);else if(Zr.has(v)){let[T,m]=Zr.get(v);D.value=i(T,m(),p)}Object.defineProperty(f,h,D)}),Object.preventExtensions(f)},s=new WeakMap,c=[1,1],a=u=>{if(!Tm(u))throw new Error("object required");let d=s.get(u);if(d)return d;let p=c[0],g=new Set,f=(O,L=++c[0])=>{p!==L&&(p=L,g.forEach(x=>x(O,L)))},h=c[1],v=(O=++c[1])=>(h!==O&&!g.size&&(h=O,D.forEach(([L])=>{let x=L[1](O);x>p&&(p=x)})),p),S=O=>(L,x)=>{let N=[...L];N[1]=[O,...N[1]],f(N,x)},D=new Map,T=(O,L)=>{if(g.size){let x=L[3](S(O));D.set(O,[L,x])}else D.set(O,[L])},m=O=>{let L=D.get(O);if(L){var x;D.delete(O),(x=L[1])==null||x.call(L)}},E=O=>(g.add(O),g.size===1&&D.forEach(([x,N],k)=>{let P=x[3](S(k));D.set(k,[x,P])}),()=>{g.delete(O),g.size===0&&D.forEach(([x,N],k)=>{N&&(N(),D.set(k,[x]))})}),w=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),A=n(w,{deleteProperty(O,L){let x=Reflect.get(O,L);m(L);let N=Reflect.deleteProperty(O,L);return N&&f(["delete",[L],x]),N},set(O,L,x,N){let k=Reflect.has(O,L),P=Reflect.get(O,L,N);if(k&&(e(P,x)||s.has(x)&&e(P,s.get(x))))return!0;m(L),Tm(x)&&(x=VD(x)||x);let F=x;if(x instanceof Promise)x.then(C=>{x.status="fulfilled",x.value=C,f(["resolve",[L],C])}).catch(C=>{x.status="rejected",x.reason=C,f(["reject",[L],C])});else{!Zr.has(x)&&t(x)&&(F=a(x));let C=!Ka.has(F)&&Zr.get(F);C&&T(L,C)}return Reflect.set(O,L,F,N),f(["set",[L],x,P]),!0}});s.set(u,A);let M=[w,v,i,E];return Zr.set(A,M),Reflect.ownKeys(u).forEach(O=>{let L=Object.getOwnPropertyDescriptor(u,O);"value"in L&&(A[O]=u[O],delete L.value,delete L.writable),Object.defineProperty(w,O,L)}),A}){return[a,Zr,Ka,e,n,t,r,o,i,s,c]}var[iL]=oL();function $D(e={}){return iL(e)}function Tr(e,n,t){let r=Zr.get(e),o,i=[],s=r[3],c=!1,u=s(d=>{if(i.push(d),t){n(i.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,c&&n(i.splice(0))}))});return c=!0,()=>{c=!1,u()}}function Kr(e,n){let t=Zr.get(e),[r,o,i]=t;return i(r,o(),n)}function BD(e){return Ka.add(e),e}function V(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var sL=["enabled","name"],xm=Symbol();function Mm(e,n){typeof n=="string"&&(n={name:n});let t=n||{},{enabled:r,name:o=""}=t,i=V(t,sL),s;try{s=r&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!s)return;let c=!1,a=s.connect(y({name:o},i)),u=Tr(e,p=>{let g=p.filter(([f,h])=>h[0]!==xm).map(([f,h])=>`${f}:${h.map(String).join(".")}`).join(", ");if(g)if(c)c=!1;else{let f=Object.assign({},Kr(e));delete f[xm],a.send({type:g,updatedAt:new Date().toLocaleString()},f)}}),d=a.subscribe(p=>{var g,f;if(p.type==="ACTION"&&p.payload)try{Object.assign(e,JSON.parse(p.payload))}catch(T){console.error(`please dispatch a serializable value that JSON.parse() and proxy() support
`,T)}if(p.type==="DISPATCH"&&p.state){var h,v;if(((h=p.payload)==null?void 0:h.type)==="JUMP_TO_ACTION"||((v=p.payload)==null?void 0:v.type)==="JUMP_TO_STATE"){c=!0;let T=JSON.parse(p.state);Object.assign(e,T)}e[xm]=p}else if(p.type==="DISPATCH"&&((g=p.payload)==null?void 0:g.type)==="COMMIT")a.init(Kr(e));else if(p.type==="DISPATCH"&&((f=p.payload)==null?void 0:f.type)==="IMPORT_STATE"){var S,D;let T=(S=p.payload.nextLiftedState)==null?void 0:S.actionsById,m=((D=p.payload.nextLiftedState)==null?void 0:D.computedStates)||[];c=!0,m.forEach(({state:E},w)=>{let I=T[w]||"No action found";Object.assign(e,E),w===0?a.init(Kr(e)):a.send(I,Kr(e))})}});return a.init(Kr(e)),()=>{u(),d?.()}}var Bm={};wp(Bm,{ApplicationAccessType:()=>rr,AuthStrategyEnum:()=>Te,ContextHolder:()=>ie,DirectoryApi:()=>Cs,EIdentifierType:()=>Bo,FRONTEGG_SEPARATE_TABS_BY_TENANT:()=>Ho,FeatureFlags:()=>hn,FeatureFlagsApi:()=>As,FetchClient:()=>er,FronteggApiError:()=>at,FronteggContext:()=>Pm,FronteggFrameworks:()=>Ja,GENERIC_ERROR_CODE:()=>Ss,GENERIC_ERROR_MESSAGE:()=>ys,GetUsersFilterPreset:()=>Qo,GroupManagedByEnum:()=>lt,GroupRelations:()=>Ec,ISubscriptionCancellationPolicy:()=>Zo,ISubscriptionStatus:()=>St,InsightCode:()=>eo,LOAD_AUTHORIZATION_FF:()=>Lm,MFAStrategyEnum:()=>Wo,MachineToMachineAuthStrategy:()=>ct,NotEntitledJustification:()=>Xr,PaginationOrderEnum:()=>Xa,PasswordRecoveryStrategyEnum:()=>ws,PaymentMethodType:()=>Yo,PermissionAssignmentTypeEnum:()=>Ze,ProviderType:()=>xr,RecommendationActionKey:()=>$m,RecommendationCode:()=>_s,RecommendationSeverity:()=>Ts,RequestSource:()=>Qa,RestrictionType:()=>He,ScimConnectionSource:()=>Vm,SecondaryAuthStrategy:()=>tc,SecurityCategory:()=>nr,SignUpStrategyEnum:()=>bs,SocialLoginProviders:()=>ec,SortByEnum:()=>Dc,SubAccountAccessTypeEnum:()=>Ac,TenantSortByEnum:()=>Um,TenantType:()=>jm,UserManagedByEnum:()=>Fm,WebAuthnDeviceType:()=>Is,api:()=>wI,createApiClient:()=>xs,default:()=>OL,fetch:()=>Rm,fronteggAuthApiRoutesRegex:()=>IL,fronteggEntitlementsV2Url:()=>PL,fronteggHeaders:()=>Vo,fronteggRefreshTokenUrl:()=>CL,fronteggSilentRefreshTokenUrl:()=>_L,fronteggTenantsUrl:()=>xL,fronteggTenantsV3Url:()=>ML,fronteggUsersUrl:()=>TL,getCurrentUserTenantsFunction:()=>Jr,getTabTenantFromSessionStorage:()=>tr,providersArray:()=>RL,removeTabTenantFromSessionStorage:()=>Es,setTabTenantInSessionStorage:()=>Qr});var ie=(()=>{class e{constructor(){this.context=null,this.accessToken=null,this.user=null,this.requestSource=null,this.onRedirectTo=t=>window.location.href=t,this.logout=()=>window.location.href="/account/logout",this.entitlementsOptions=null,this.appName=null,this.sessionContext=void 0,this.basename=null,this.cdnUrl=null,this.assetsUrl=null,this.setContext=t=>{this.context=t},this.setAccessToken=t=>{this.accessToken=t},this.setUser=t=>{this.user=t},this.setRequestSource=t=>{this.requestSource=t},this.setOnRedirectTo=t=>{this.onRedirectTo=t},this.setLogout=t=>{this.logout=t},this.setEntitlementsOptions=t=>{this.entitlementsOptions=t},this.setSessionContext=t=>{this.sessionContext=t},this.setAppName=t=>{this.appName=t},this.getContext=()=>{var t;return(t=this.context)!=null?t:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}},this.getAccessToken=()=>this.accessToken,this.getRequestSource=()=>this.requestSource,this.getUser=()=>this.user,this.shouldLoadEntitlements=()=>{var t;return((t=this.entitlementsOptions)==null?void 0:t.enabled)||!1},this.isSessionPerTenantEnabled=()=>{var t;return((t=this.sessionContext)==null?void 0:t.enableSessionPerTenant)||!1},this.shouldSkipUserLoad=()=>{var t;return((t=this.sessionContext)==null?void 0:t.skipUserLoading)||!1},this.getAppName=()=>this.appName,this.setCdnUrl=t=>{this.cdnUrl=t},this.getCdnUrl=()=>this.cdnUrl,this.setAssetsUrl=t=>{this.assetsUrl=t},this.getAssetsUrl=()=>this.assetsUrl}static default(){return e.getInstance(st)}static for(t){return e.getInstance(t)}static getInstance(t="default"){return e._apps||(e._apps={}),e._apps[t]||(e._apps[t]=new e),e._apps[t]}static createInstance(t="default"){return e._apps[t]=new e,e._apps[t].appName=t,e._apps[t]}static setContext(t,r="default"){e.for(r).context=t}static setAccessToken(t,r=st){e.for(r).accessToken=t}static setUser(t,r="default"){e.for(r).user=t}static setRequestSource(t,r="default"){e.for(r).requestSource=t}static setOnRedirectTo(t,r="default"){e.for(r).onRedirectTo=t}static setLogout(t,r,o="default"){let i=e.for(o);i.logout=s=>{s?t(s):i.onRedirectTo(r,void 0)}}static setEntitlementsOptions(t,r="default"){e.for(r).entitlementsOptions=t}static setSessionContext(t,r="default"){e.for(r).sessionContext=t}static setAppName(t){e.for(t).appName=t}static getContext(t="default"){var r;return(r=e.for(t).context)!=null?r:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}}static getAccessToken(t="default"){return e.for(t).accessToken}static getRequestSource(t="default"){return e.for(t).requestSource}static getBasename(t="default"){return e.for(t).basename}getBasename(){return this.basename}static setBasename(t,r=st){e.for(r).basename=t}setBasename(t){this.basename=t}static getUser(t="default"){return e.for(t).user}static onRedirectTo(t,r,o="default"){return e.for(o).onRedirectTo(t,r)}static logout(t,r="default"){return e.for(r).logout(t)}static shouldLoadEntitlements(t="default"){var r;return((r=e.for(t).entitlementsOptions)==null?void 0:r.enabled)||!1}static isSessionPerTenantEnabled(t="default"){var r;return((r=e.for(t).sessionContext)==null?void 0:r.enableSessionPerTenant)||!1}static getAppName(t="default"){return e.for(t).appName}}return e._apps=void 0,e})(),st="default",Pm={getContext:()=>ie.getContext(st),getAccessToken:()=>ie.getAccessToken(st),setAccessToken:e=>ie.setAccessToken(e,st),getUser:()=>ie.getUser(st),setUser:e=>ie.setUser(e,st),onRedirectTo:(e,n)=>ie.onRedirectTo(e,n,st),setOnRedirectTo:e=>ie.setOnRedirectTo(e,st),logout:e=>ie.logout(e,st),getRequestSource:()=>ie.getRequestSource(st),setRequestSource:e=>ie.setRequestSource(e,st),isSessionPerTenantEnabled:()=>ie.isSessionPerTenantEnabled(st),shouldLoadEntitlements:()=>ie.shouldLoadEntitlements(st),getAppName:()=>ie.getAppName(st),setEntitlementsOptions:e=>ie.setEntitlementsOptions(e,st),setSessionContext:e=>ie.setSessionContext(e,st),getBasename:()=>ie.getBasename(st),setBasename:e=>ie.setBasename(e,st)};var at=class extends Error{constructor(n,t,r,o,i){super(n),this._statusCode=void 0,this._traceId=void 0,this._errorCode=void 0,this._errorContext=void 0,this._statusCode=t,this._traceId=r,this._errorCode=o,this._errorContext=i}get statusCode(){return this._statusCode}get traceId(){return this._traceId}get errorCode(){return this._errorCode}get errorContext(){return this._errorContext}};var b={vendor:"/vendors",identity:{signup:{v1:{strategies:"/identity/resources/configurations/v1/sign-up/strategies"}},webAuthnDevices:{v1:"/identity/resources/users/webauthn/v1/devices"},auth:{v1:"/identity/resources/auth/v1",v2:"/identity/resources/auth/v2"},users:{v1:"/identity/resources/users/v1",v2:"/identity/resources/users/v2",v3:"/identity/resources/users/v3",roles:{v3:"/identity/resources/users/v3/roles"},groups:{v3:"/identity/resources/users/v3/groups"},tenants:{me:{v1:"/identity/resources/users/v1/me/tenants",v3:"/identity/resources/users/v3/me/tenants"}},apiTokens:{v1:"/identity/resources/users/api-tokens/v1"},accessTokens:{v1:"/identity/resources/users/access-tokens/v1"},sessions:{v1:"/identity/resources/users/sessions/v1",currentUser:{v1:"/identity/resources/users/sessions/v1/me"},configurations:{v1:"/identity/resources/configurations/sessions/v1"}},invitation:{resendAll:{v1:"/identity/resources/users/v1/invitation/reset/all"}},passwords:{resetBreachedPasswords:{v1:"/identity/resources/users/v1/passwords/breached/reset/bulk"}},authorization:{v1:"/identity/resources/users/v1/me/authorization"},temporary:{v1:"/identity/resources/users/temporary/v1",configuration:{v1:"/identity/resources/users/temporary/v1/configuration"}}},configurations:{v1:"/identity/resources/configurations/v1"},restrictions:{emailDomain:{v1:"/identity/resources/configurations/restrictions/v1/email-domain"},ip:{v1:"/identity/resources/configurations/v1/restrictions/ip"}},sso:{v1:"/identity/resources/sso/v1",v2:"/identity/resources/sso/v2",custom:{v1:"/identity/resources/sso/custom/v1"}},permissions:{v1:"/identity/resources/permissions/v1"},tenants:{apiTokens:{v1:"/identity/resources/tenants/api-tokens/v1",v2:"/identity/resources/tenants/api-tokens/v2"},accessTokens:{v1:"/identity/resources/tenants/access-tokens/v1"},invites:{user:{v1:"/identity/resources/tenants/invites/v1/user",v2:"/identity/resources/tenants/invites/v2/user"},verify:{v1:"/identity/resources/tenants/invites/v1/verify"},configuration:{v1:"/identity/resources/tenants/invites/v1/configuration"}},users:{v1:"/identity/resources/tenants/users/v1"}},roles:{v1:"/identity/resources/roles/v1",v2:"/identity/resources/roles/v2"},subTenants:{v1:"/identity/resources/sub-tenants/users/v1",v2:"/identity/resources/sub-tenants/users/v2"},impersonate:{v1:"/identity/resources/impersonation/v1"},applications:{v1:"/identity/resources/applications/v1"},groups:{v1:"/identity/resources/groups/v1",configurations:{v1:"/identity/resources/groups/v1/config"},getByIds:{v1:"/identity/resources/groups/v1/bulkGet"}},phoneNumbers:{v1:"/identity/resources/users/phone-numbers/v1"},usernames:{v1:"/identity/resources/usernames/v1"}},team:{sso:{v1:"/team/resources/sso/v1",v2:"/team/resources/sso/v2"},members:{v1:"/team/resources/members/v1"},roles:{v1:"/team/resources/roles/v1"},stats:{v1:"/team/resources/stats/v1"},profile:{v1:"/team/resources/profile"}},tenants:{accountSettings:{v1:"/tenants/resources/account-settings/v1"},hierarchy:{v1:"/tenants/resources/hierarchy/v1",tree:{v1:"/tenants/resources/hierarchy/v1/tree"},parents:{v1:"/tenants/resources/hierarchy/v1/parents"},v2:"/tenants/resources/hierarchy/v2",metadata:{v2:"/tenants/resources/hierarchy/v2/metadata"}},subTenants:{v1:"/tenants/resources/sub-tenants/v1"}},integrations:{configurations:{v1:"/integrations/resources/configurations/v1",v2:"/integrations/resources/configurations/v2"}},subscriptions:{billing:{subscriptions:{v1:"/subscriptions/resources/billing/subscriptions/v1"},plans:{v1:"/subscriptions/resources/billing/plans/v1"},invoices:{v1:"/subscriptions/resources/billing/invoices/v1"},paymentMethods:{v1:"/subscriptions/resources/billing/payment-methods/v1"},summaries:{v1:"/subscriptions/resources/billing/summaries/v1"},tenantConfiguration:{v1:"/subscriptions/resources/billing/tenant-configurations/v1"},configurations:{vendorPublicConfigurations:{v1:"/subscriptions/resources/billing/configurations/vendor-public-configurations/v1"}},paymentProviders:{stripe:{customers:{v1:"/subscriptions/resources/billing/payment-providers/stripe/customers/v1"},publicConfigurations:{v1:"/subscriptions/resources/billing/payment-providers/stripe/public-configurations/v1"},subscriptions:{v1:"/subscriptions/resources/billing/payment-providers/stripe/subscriptions/v1"},setupIntents:{v1:"/subscriptions/resources/billing/payment-providers/stripe/setup-intents/v1"}}}},paymentProviders:{v1:"/subscriptions/resources/payment-providers/v1"},managedSubscriptions:{v1:"/subscriptions/resources/subscriptions/v1"}},reports:{service:{v1:"/reports/resources/reports/v1",v2:"/reports/resources/reports/v2"},trigger:{v1:"/reports/engine/resources/triggers/v1"}},notifications:{v1:"/notification"},audits:{v1:"/audits"},events:{configurations:{v1:"/event/resources/configurations/v1"}},webhooks:{v1:"/webhook"},oauth:{v1:"/oauth"},featureFlags:{v1:"/flags"},directory:{v1:"/directory/resources/v1/configurations/scim2",temp:"/directory/resources/scim/temp"},entitlements:{v1:"/entitlements/api/v1/user-entitlements",v2:"/entitlements/api/v2/user-entitlements"},securityCenter:{recommendations:{v1:"/security-center/resources/recommendations/v1"},insights:{v1:"/security-center/resources/insights/v1"}},applications:{v1:"/applications/resources/applications/v1",tenant:{v1:"/applications/resources/applications/tenant-assignments/v1",v2:"/applications/resources/applications/tenant-assignments/v2"}},velo:{v1:"http://localhost:3037/resources/velo/v1"}},ys="We're facing some difficulties, Please try again",Ss="ER-ADMIN-PORTAL-GENERIC-ERROR",HD="frontegg-trace-id";var Vo={frameWork:"x-frontegg-framework",fronteggSdkVersion:"x-frontegg-sdk",contentType:"Content-Type",source:"frontegg-source",scopedTenant:"frontegg-scoped-tenant"},Qa;(function(e){e.AdminPortal="admin-portal",e.LoginBox="login-box"})(Qa||(Qa={}));var Ja;(function(e){e.Nextjs="nextjs",e.React="react",e.Angular="angular",e.Vuejs="vuejs",e.Flutter="flutter",e.Ios="ios",e.Android="android",e.Vanillajs="vanillajs"})(Ja||(Ja={}));var Xa;(function(e){e.ASC="ASC",e.DESC="DESC"})(Xa||(Xa={}));var er=(()=>{class e{constructor(t){this.appName=void 0,this.getFronteggContext=()=>ie.for(this.appName),this.prepareUrl=(r,o)=>l(this,null,function*(){let i=this.getFronteggContext().getContext(),s=this.getContextBaseUrl(r),c=yield this.buildQueryParams(i,o),a=r.startsWith("http")?r:`${s}${r}`,u=Object.keys(c).length>0;if(c&&u){let d=new URLSearchParams(c);a+=`?${d}`}return a}),this.buildQueryParams=(r,o)=>l(this,null,function*(){o||(o={});let i=yield this.getAdditionalQueryParams(r);for(let c of i)o[c.key]=c.value;let s=Object.keys(o);for(let c of s){let a=o[c];o[c]=typeof a=="object"?JSON.stringify(a):a}return o}),this.getAdditionalQueryParams=r=>l(this,null,function*(){let o=[];return r.additionalQueryParamsResolver&&(o=yield r.additionalQueryParamsResolver()),o}),this.getAdditionalHeaders=r=>l(this,null,function*(){let o=[];if(r.additionalHeadersResolver&&(o=yield r.additionalHeadersResolver()),r.tenantResolver){let i=yield r.tenantResolver();i!=null&&i.tenant&&o.push({key:"frontegg-login-alias",value:i.tenant})}return r.appId&&o.push({key:"frontegg-requested-application-id",value:r.appId}),o}),this.buildRequestHeaders=r=>l(this,null,function*(){var o;let i=this.getFronteggContext(),s=i.getContext(),c=e.getMetadataHeaders(s),a=yield((o=s?.tokenResolver)!=null?o:i.getAccessToken)(),u=i.getRequestSource(),d=e.getScopedTenant();r&&(c[Vo.contentType]=r),u&&(c[Vo.source]=u),a&&(c.Authorization=`Bearer ${a}`),d&&(c[Vo.scopedTenant]=d);for(let p of yield this.getAdditionalHeaders(s))c[`${p.key}`]=`${p.value}`;return c}),this.getResponseTraceId=r=>{var o,i;return r==null||(o=r.headers)==null||(i=o.get)==null?void 0:i.call(o,HD)},this.sendRequest=r=>l(this,null,function*(){var o,i,s;let c=this.getFronteggContext().getContext(),a=yield this.buildRequestHeaders(r.contentType),u=yield this.prepareUrl(r.url,r.params),d=c.beforeRequestInterceptor,p={body:r.body?r.contentType==="application/json"?JSON.stringify(r.body):r.body:null,method:(o=r.method)!=null?o:"GET",headers:y({},a,r.headers),credentials:(i=(s=r.credentials)!=null?s:c.requestCredentials)!=null?i:"same-origin"},g=d?d(p,u):p,f=yield fetch(u,g);if(f.status===302)return window.location.href=yield f.text(),new Promise(()=>{});if(!f.ok){var h,v,S,D,T;if(f.status===413)throw new at("Error request is too large",f.status,this.getResponseTraceId(f),void 0);let m,E,w,I=!0;try{m=yield f.text(),m=JSON.parse(m)}catch{I=!1}throw(h=m)!=null&&h.errorCode&&(E=m.errorCode),(v=m)!=null&&v.context&&typeof m.context=="object"&&(w=m.context),m.errors?m=m.errors.join(", "):typeof m!="string"&&(m=`Error ${f.status} - ${f.statusText}`),f.status>=400&&f.status<500&&["warn"].includes((S=c.logLevel)!=null?S:"")?console.warn(m):f.status===500&&["warn","error"].includes((D=c.logLevel)!=null?D:"")&&console.error(m),new at(I?m:ys,f.status,this.getResponseTraceId(f),(T=E)!=null?T:Ss,w)}if(r.responseType==="stream")return f.body;if(!r.responseType||r.responseType==="json")try{return yield f.json()}catch{return{}}else if(r.responseType==="blob"){let{outputFileName:m}=r.params;return yield f.blob().then(E=>URL.createObjectURL(E)).then(E=>{let w=document.createElement("a");w.href=E,w.setAttribute("download",m||"output"),w.click()})}else return yield f.text()}),this.get=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"GET",contentType:"application/json",params:o},i))}),this.post=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"POST",contentType:"application/json",body:o},i))}),this.patch=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"PATCH",contentType:"application/json",body:o},i))}),this.put=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"PUT",contentType:"application/json",body:o},i))}),this.delete=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"DELETE",contentType:"application/json",body:o},i))}),this.postDownload=(r,o,i,s)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"POST",contentType:"application/json",responseType:"blob",body:o,params:i},s))}),this.extractHeadersFromOptions=(r={})=>y({},r.jwt?{Authorization:r.jwt}:{}),this.getBaseUrl=(r,o,i=!0)=>e.getBaseUrl(r,o,i),this.getContextBaseUrl=(r,o=!0)=>{let i=this.getFronteggContext().getContext();return this.getBaseUrl(i,r,o)},this.getMetadataHeaders=r=>e.getMetadataHeaders(r),this.getContextMetadataHeaders=()=>{let r=this.getFronteggContext().getContext();return e.getMetadataHeaders(r)},this.appName=t}}return e.getBaseUrl=(n,t,r=!0)=>{let o;typeof n.baseUrl=="function"?o=n.baseUrl(t):o=n.baseUrl;let i=n.urlPrefix||"frontegg",s=i==="frontegg"&&!r;return o.endsWith("/")||(o+="/"),!o.endsWith(i)&&!s&&(o+=i),o},e.getMetadataHeaders=n=>{var t,r;let o={};return n!=null&&(t=n.metadataHeaders)!=null&&t.fronteggSdkVersion&&(o[Vo.fronteggSdkVersion]=n.metadataHeaders.fronteggSdkVersion),n!=null&&(r=n.metadataHeaders)!=null&&r.framework&&(o[Vo.frameWork]=n.metadataHeaders.framework),o},e.getScopedTenant=()=>{let t=new URLSearchParams(window.location.search).get("tenantId");return t||null},e})(),Rm=new er("default");var se=class{constructor(n){this.appName=void 0,this.fetchClient=void 0,this.get=(t,r,o)=>l(this,null,function*(){return this.fetchClient.get(t,r,o)}),this.post=(t,r,o)=>l(this,null,function*(){return this.fetchClient.post(t,r,o)}),this.patch=(t,r,o)=>l(this,null,function*(){return this.fetchClient.patch(t,r,o)}),this.put=(t,r,o)=>l(this,null,function*(){return this.fetchClient.put(t,r,o)}),this.delete=(t,r,o)=>l(this,null,function*(){return this.fetchClient.delete(t,r,o)}),this.postDownload=(t,r,o,i)=>l(this,null,function*(){return this.fetchClient.postDownload(t,r,o,i)}),this.extractHeadersFromOptions=(t={})=>this.fetchClient.extractHeadersFromOptions(t),this.appName=n,this.fetchClient=new er(n)}};var $o=class extends se{constructor(n){super(n),this.getGlobalSecurityPolicy=()=>l(this,null,function*(){return this.get(b.identity.configurations.v1)}),this.getMfaPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy`)}),this.getVendorMfaPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy/vendor`)}),this.saveMfaPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/mfa-policy`,t):this.post(`${b.identity.configurations.v1}/mfa-policy`,t)}),this.getLockoutPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/lockout-policy`)}),this.getVendorLockoutPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/lockout-policy/vendor`)}),this.saveLockoutPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/lockout-policy`,t):this.post(`${b.identity.configurations.v1}/lockout-policy`,t)}),this.getCaptchaPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/captcha-policy/public`)}catch{return null}}),this.getPasswordHistoryPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-history-policy`)}),this.getVendorPasswordHistoryPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-history-policy/vendor`)}),this.savePasswordHistoryPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/password-history-policy`,t):this.post(`${b.identity.configurations.v1}/password-history-policy`,t)}),this.getPasswordRotationPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/password-rotation`)}catch{return{}}}),this.getVendorPasswordRotationPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/password-rotation/vendor`)}catch{return{}}}),this.savePasswordRotationPolicy=t=>l(this,null,function*(){return this.post(`${b.identity.configurations.v1}/password-rotation`,t)}),this.getPasswordConfigPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password`)}),this.getDomainRestrictions=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.emailDomain.v1}`)}),this.getDomainRestrictionsConfig=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.emailDomain.v1}/config`)}),this.createDomainRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.emailDomain.v1}`,t)}),this.updateDomainRestrictionConfig=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.emailDomain.v1}/config`,t)}),this.deleteDomainRestriction=t=>l(this,null,function*(){return this.delete(`${b.identity.restrictions.emailDomain.v1}/${t}`)}),this.getIPRestrictions=t=>l(this,null,function*(){return this.get(`${b.identity.restrictions.ip.v1}`,t)}),this.getIPRestrictionsConfig=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.ip.v1}/config`)}),this.createIPRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}`,t)}),this.bulkCreateIPRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/bulk`,t)}),this.updateIPRestrictionConfig=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/config`,t)}),this.deleteIPRestriction=t=>l(this,null,function*(){return this.delete(`${b.identity.restrictions.ip.v1}/${t}`)}),this.testCurrentIp=()=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/verify`)}),this.testCurrentIpInAllowList=()=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/verify/allow`)})}},GD=new $o("default");var ec;(function(e){e.Microsoft="microsoft",e.Facebook="facebook",e.Google="google",e.Github="github",e.Slack="slack",e.Apple="apple",e.Linkedin="linkedin"})(ec||(ec={}));var Te;(function(e){e.EmailAndPassword="EmailAndPassword",e.MagicLink="MagicLink",e.Code="Code",e.NoLocalAuthentication="NoLocalAuthentication",e.SmsCode="SmsCode",e.WebAuthN="WebAuthN",e.UsernameAndPassword="UsernameAndPassword",e.UsernameAndMagicLink="UsernameAndMagicLink",e.UsernameAndCode="UsernameAndCode",e.UsernameAndSms="UsernameAndSms"})(Te||(Te={}));var ct;(function(e){e.ClientCredentials="ClientCredentials",e.AccessToken="AccessToken"})(ct||(ct={}));var bs;(function(e){e.Email="email",e.PhoneNumber="phoneNumber"})(bs||(bs={}));var Bo;(function(e){e.email="email",e.phoneNumber="phoneNumber",e.username="username"})(Bo||(Bo={}));var ws;(function(e){e.Email="email",e.Sms="sms"})(ws||(ws={}));var Ho="FRONTEGG_SEPARATE_TABS_BY_TENANT",WD="admin_portal_use_current_user_tenants_v1_endpoint";var Om={flags:{}},hn=(()=>{class e{constructor(){var t;this._flags={},this._flags=(t=Om.flags)!=null?t:{}}static getInstance(t="default"){return this._instances[t]}static set(t,r="default"){let o=new e;return o.set(t),e._instances[r]=o,o}static getFeatureFlags(t,r){let o=this.getInstance(r);return t.map(i=>o?._flags[i]==="on")}get flags(){var t;return(t=this.flags)!=null?t:{}}set(t){var r;this._flags=y({},(r=Om?.flags)!=null?r:{},t??{})}}return e._instances={},e})(),As=class extends se{constructor(n){super(n),this.loadFeatureFlags=()=>l(this,null,function*(){return this.get(b.featureFlags.v1)})}},zD=new As("default");var Go=class extends se{constructor(n){super(n),this.GetUserJwt=t=>l(this,null,function*(){return this.post(`${b.identity.users.v3}/me/token`,t)}),this.getUsersV2=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.v2,t,{headers:this.extractHeadersFromOptions(r)})}),this.getUsersV3=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.v3,t,{headers:this.extractHeadersFromOptions(r)})}),this.getUsersRoles=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.roles.v3,y({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(r)})}),this.getUsersUsernames=t=>l(this,null,function*(){return this.get(b.identity.usernames.v1,y({},t,{userIds:t.userIds.join(",")}))}),this.getUsersGroups=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.groups.v3,y({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(r)})}),this.getCurrentUserTenantsV3=t=>l(this,null,function*(){return this.get(b.identity.users.tenants.me.v3,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getCurrentUserTenantsV1=t=>l(this,null,function*(){return this.get(b.identity.users.tenants.me.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.sendResetBreachedPasswordEmails=()=>l(this,null,function*(){return this.post(b.identity.users.passwords.resetBreachedPasswords.v1)}),this.updateUserProfileV2=t=>l(this,null,function*(){return this.put(`${b.identity.users.v2}/me`,t)}),this.unlockMe=t=>l(this,null,function*(){return this.post(`${b.identity.users.v3}/me/unlock`,t)})}},qD=new Go("default");function YD(t){return l(this,arguments,function*({shouldLoad:e,action:n}){if(e)return yield n()})}function Qr(e){e&&sessionStorage.setItem(Ho,e)}function Es(){sessionStorage.removeItem(Ho)}function tr(e){return ie.for(e).isSessionPerTenantEnabled()?sessionStorage.getItem(Ho):null}function Jr(e){if(ie.for(e).shouldSkipUserLoad())return()=>l(null,null,function*(){return{tenants:[],activeTenant:{}}});let t=new Go(e),[r]=hn.getFeatureFlags([WD],e);return ie.for(e).isSessionPerTenantEnabled()||r?t.getCurrentUserTenantsV1:t.getCurrentUserTenantsV3}var aL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Nm=class extends Error{constructor(n){super(n)}};function cL(e){let n=String(e).replace(/=+$/,"");if(n.length%4===1)throw new Nm("'atob' failed: The string to be decoded is not correctly encoded.");let t="";for(let r=0,o,i,s=0;i=n.charAt(s++);~i&&(o=r%4?o*64+i:i,r++%4)?t+=String.fromCharCode(255&o>>(-2*r&6)):0)i=aL.indexOf(i);return t}var ZD=typeof window<"u"&&window.atob&&window.atob.bind(window)||cL;function lL(e){return decodeURIComponent(ZD(e).replace(/(.)/g,(n,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}var uL=e=>{let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("Illegal base64url string!")}try{return lL(n)}catch{return ZD(n)}},km=class extends Error{constructor(n){super(n)}},Ds=(e,n={})=>{let t=n.header?0:1;try{return JSON.parse(uL(e.split(".")[t]))}catch(r){throw new km("Invalid token specified: "+r.message)}};var He;(function(e){e.ALLOW="ALLOW",e.BLOCK="BLOCK"})(He||(He={}));var tc;(function(e){e.WebAuthnPlatform="WebAuthnPlatform",e.WebAuthnCrossPlatform="WebAuthnCrossPlatform",e.SmsCode="SmsCode",e.SmsCodeV2="SmsCodeV2",e.Passkeys="Passkeys",e.UsernameAndPassword="UsernameAndPassword",e.UsernameAndMagicLink="UsernameAndMagicLink",e.UsernameAndCode="UsernameAndCode",e.UsernameAndSms="UsernameAndSms"})(tc||(tc={}));var Is;(function(e){e.Platform="Platform",e.CrossPlatform="CrossPlatform"})(Is||(Is={}));var Wo;(function(e){e.AuthenticatorApp="AuthenticatorApp",e.WebAuthnPlatform="WebAuthnPlatform",e.WebAuthnCrossPlatform="WebAuthnCrossPlatform",e.SMS="SMS",e.EmailCode="EmailCode"})(Wo||(Wo={}));var Lm="admin_portal_should_load_authorization";var zo=class extends se{constructor(n){super(n),this.switchTenant=t=>l(this,null,function*(){return ie.for(this.appName).isSessionPerTenantEnabled()&&Qr(t.tenantId),this.put(`${b.identity.users.v1}/tenant`,t)}),this.getTenants=()=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me/tenants`)}),this.getSubTenants=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getSubTenantsAsTree=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.tree.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getParentTenants=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.parents.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getParentTenantsById=(t,r)=>l(this,null,function*(){return this.get(`${b.tenants.hierarchy.parents.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(r)})}),this.getTenantsUsersCount=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/count`,t,{headers:this.extractHeadersFromOptions(r)})}),this.searchSubTenants=(t,r)=>l(this,null,function*(){return this.get(b.tenants.hierarchy.v2,t,{headers:this.extractHeadersFromOptions(r)})}),this.getHierarchyMetadata=(t,r)=>l(this,null,function*(){return this.get(b.tenants.hierarchy.metadata.v2,y({},t,{_tenantIds:t._tenantIds.join(",")}),{headers:this.extractHeadersFromOptions(r)})})}},KD=new zo("default");var qo=class extends se{constructor(n){super(n),this.loadEntitlementsV2=()=>l(this,null,function*(){return this.get(b.entitlements.v2)})}},QD=new qo("default");var dL=["type"],fL=["type"],pL=["type"],nc=class extends se{constructor(n){super(n),this.tenantsApi=new zo(this.appName),this.entitlementsApi=new qo(this.appName),this.securityPolicy=new $o(this.appName),this.generateLoginResponse=t=>l(this,null,function*(){if(!t.accessToken)return t;let r=ie.for(this.appName);r.setAccessToken(t.accessToken);let o=yield this.getMeAndEntitlements(),i=t.accessToken?Ds(t.accessToken):{},s=y({},t,i,o);return r.setUser(s),s}),this.generateLoginResponseV2=t=>l(this,null,function*(){if(!t.accessToken)return{user:t};let r=ie.for(this.appName);r.setAccessToken(t.accessToken);let[o,i]=yield Promise.all([this.getMeAndEntitlements(),this.tenantsApi.getTenants()]),s=t.accessToken?Ds(t.accessToken):{},c=y({},t,s,o);return r.setUser(c),{user:c,tenants:i}}),this.generateLoginResponseV3=t=>l(this,null,function*(){let{accessToken:r}=t;if(!r)return{user:t};let o=ie.for(this.appName);o.setAccessToken(r);let[i,s]=yield Promise.all([this.getMeAndEntitlements(),Jr(this.appName)()]),c=r?Ds(r):{},a=y({},t,c,i);return o.isSessionPerTenantEnabled()&&Qr(a.tenantId),o.setUser(a),{user:a,tenants:s.tenants,activeTenant:s.activeTenant}}),this.generateLoginResponseFromOAuthResponse=t=>l(this,null,function*(){let r=ie.for(this.appName);r.setAccessToken(t.id_token);let o=yield this.getMeAndEntitlements(),i=t.id_token?Ds(t.id_token):{},s=y({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},i,o,{expiresIn:t.expires_in||300});return r.setUser(s),s}),this.generateLoginResponseFromOAuthResponseV2=t=>l(this,null,function*(){let r=ie.for(this.appName);r.setAccessToken(t.id_token);let[o,i]=yield Promise.all([this.getMeAndEntitlements(),Jr(this.appName)()]),s=t.id_token?Ds(t.id_token):{},c=y({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},s,o,{expiresIn:t.expires_in||300});return r.isSessionPerTenantEnabled()&&Qr(c.tenantId),r.setUser(c),{user:c,tenants:i.tenants,activeTenant:i.activeTenant}}),this.preLogin=t=>l(this,null,function*(){try{let{address:r}=yield this.post(`${b.identity.auth.v1}/user/saml/prelogin`,t);return r}catch{return null}}),this.preLoginWithIdpType=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/saml/prelogin`,t)}),this.postLogin=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/saml/postlogin`,t);return this.generateLoginResponse(r)}),this.oidcPostLogin=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/oidc/postlogin`,t);return this.generateLoginResponse(r)}),this.login=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user`,t);return this.generateLoginResponse(r)}),this.loginv2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user`,t);return this.generateLoginResponseV3(r)}),this.loginWithMfa=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponse(r)}),this.loginWithMfaV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponseV3(r)}),this.activateAccount=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/activate`,t)}),this.activateAccountV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.users.v1}/activate`,t);return this.generateLoginResponseV3(r)}),this.activateAccountWithOTC=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.users.v1}/activate/code`,t);return this.generateLoginResponseV3(r)}),this.getActivateAccountStrategy=t=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/activate/strategy`,t)}),this.resendActivationEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/activate/reset`,t)}),this.resendInvitationEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/reset`,t)}),this.acceptInvitation=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/accept`,t)}),this.acceptInvitationWithOTC=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/accept/code`,t)}),this.refreshToken=()=>l(this,null,function*(){let t=tr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponse(r)}),this.refreshTokenV2=()=>l(this,null,function*(){let t=tr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV2(r)}),this.refreshTokenV3=()=>l(this,null,function*(){let t=tr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV3(r)}),this.logout=()=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/logout`)}),this.OAuthLogout=t=>l(this,null,function*(){return this.get(`${b.oauth.v1}/logout`,t)}),this.forgotPassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/reset`,t)}),this.resetPassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/reset/verify`,t)}),this.resetPasswordViaEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/email`,t)}),this.resetPasswordViaSms=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/sms`,t)}),this.verifyPasswordViaSms=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/sms/verify`,t)}),this.getPasswordRecoveryStrategies=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-recovery/strategies`)}),this.loadPasswordConfig=t=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/passwords/config`,t)}),this.getSignUpStrategies=()=>l(this,null,function*(){return this.get(`${b.identity.signup.v1.strategies}`)}),this.recoverMfaToken=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/recover`,t)}),this.enrollMfa=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/enroll`)}),this.preEnrollMFAAuthenticatorApp=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/enroll`)}),this.enrollMFAAuthenticatorApp=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/enroll/verify`,t)}),this.preEnrollMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/enroll`,t)}),this.enrollMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/enroll/verify`,t)}),this.preEnrollMFAWebAuthn=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/enroll`)}),this.enrollMFAWebAuthn=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/enroll/verify`,t)}),this.verifyMfa=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/enroll/verify`,t)}),this.disableMfa=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/disable`,t)}),this.disableMFAAuthenticatorApp=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/${t}/disable/verify`,r)}),this.preDisableMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/${t}/disable`)}),this.disableMFASMS=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/${t}/disable/verify`,r)}),this.preDisableMFAWebAuthn=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/${t}/disable`)}),this.disableMFAWebAuthn=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/${t}/disable/verify`,r)}),this.getMFADevices=()=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/mfa/devices`)}),this.preEnrollMFAAuthenticatorAppForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll`,t)}),this.enrollMFAAuthenticatorAppForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t)}),this.enrollMFAAuthenticatorAppForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.verifyMFAAuthenticatorAppForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/${t}/verify`,r)}),this.preVerifyMFAEmailCode=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/emailcode`,t)}),this.verifyMFAEmailCode=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/emailcode/verify`,t)}),this.verifyMFAEmailCodeV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/emailcode/verify`,t);return this.generateLoginResponseV3(r)}),this.preEnrollMFASMSForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll`,t)}),this.enrollMFASMSForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll/verify`,t)}),this.enrollMFASMSForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.preVerifyMFASMSForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}`,r)}),this.verifyMFASMSForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}/verify`,r)}),this.verifyMFASMSForLoginV2=(t,r)=>l(this,null,function*(){let o=yield this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}/verify`,r);return this.generateLoginResponseV3(o)}),this.preEnrollMFAWebAuthnForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll`,t)}),this.enrollMFAWebAuthnForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t)}),this.enrollMFAWebAuthnForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.preVerifyMFAWebAuthnForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}`,r)}),this.verifyMFAWebAuthnForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,r)}),this.verifyMFAWebAuthnForLoginV2=(t,r)=>l(this,null,function*(){let o=yield this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,r);return this.generateLoginResponseV3(o)}),this.getSamlConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations`)}),this.updateSamlConfiguration=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/saml/configurations`,t)}),this.getSamlVendorConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations/vendor-config`)}),this.updateSamlVendorMetadata=t=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/saml/configurations/metadata`,t)}),this.validateSamlDomain=()=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/saml/validations/domain`)}),this.getSamlRoles=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations/roles/default`)}),this.getSamlRolesGroups=()=>l(this,null,function*(){return this.get(`${b.team.sso.v2}/saml/configurations/groups`)}),this.updateSamlRoles=r=>l(this,[r],function*({roleIds:t}){return this.post(`${b.team.sso.v1}/saml/configurations/roles/default`,{roleIds:t})}),this.createSamlGroup=o=>l(this,[o],function*({roleIds:t,group:r}){return this.post(`${b.team.sso.v2}/saml/configurations/groups`,{group:r,roleIds:t})}),this.updateSamlGroup=i=>l(this,[i],function*({roleIds:t,group:r,id:o}){return this.patch(`${b.team.sso.v2}/saml/configurations/groups/${o}`,{group:r,roleIds:t})}),this.deleteSamlGroup=r=>l(this,[r],function*({id:t}){return this.delete(`${b.team.sso.v2}/saml/configurations/groups/${t}`)}),this.getOidcConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/oidc/configurations`)}),this.getSSOPublicConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v2}/configurations/public`)}),this.getSocialLoginProviders=()=>l(this,null,function*(){return this.get(b.identity.sso.v1)}),this.getSocialLoginProvidersV2=()=>l(this,null,function*(){return this.get(b.identity.sso.v2)}),this.getSocialLoginProvidersV2ForAuthenticatedUser=()=>l(this,null,function*(){return this.get(`${b.identity.sso.v2}/authenticated`)}),this.getCustomSocialLoginProvidersV1=()=>l(this,null,function*(){return this.get(b.identity.sso.custom.v1)}),this.loginViaSocialLogin=t=>l(this,null,function*(){let r={};return t.code&&(r.code=t.code),t.idToken&&(r.id_token=t.idToken),t.redirectUri&&(r.redirectUri=t.redirectUri),t.codeVerifier&&(r.code_verifier=t.codeVerifier),t.codeVerifierPkce&&(r.code_verifier_pkce=t.codeVerifierPkce),t.state&&(r.state=t.state),this.post(`${b.identity.auth.v1}/user/sso/${t.provider}/postlogin`,{metadata:t.metadata,invitationToken:t.invitationToken},{params:r})}),this.getVendorConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/public`)}),this.signUpUser=t=>l(this,null,function*(){let{shouldActivate:r,authResponse:o,userId:i,tenantId:s,activationToken:c}=yield this.post(`${b.identity.users.v1}/signUp`,t),a={shouldActivate:r,userId:i,tenantId:s};if(!r&&o){let{user:u,tenants:d,activeTenant:p}=yield this.generateLoginResponseV3(o);return y({},a,{user:u,tenants:d,activeTenant:p})}return y({},a,{activationToken:c})}),this.signUpUserWithPhoneNumber=t=>l(this,null,function*(){let{shouldActivate:r,authResponse:o,userId:i,tenantId:s,activationToken:c}=yield this.post(`${b.identity.users.v1}/signUp/phoneNumber`,t),a={shouldActivate:r,userId:i,tenantId:s};if(!r&&o){let{user:u,tenants:d,activeTenant:p}=yield this.generateLoginResponseV3(o);return y({},a,{user:u,tenants:d,activeTenant:p})}return y({},a,{activationToken:c})}),this.getCurrentUserSessions=()=>l(this,null,function*(){return this.get(b.identity.users.sessions.currentUser.v1)}),this.getCurrentUserSession=()=>l(this,null,function*(){return this.get(`${b.identity.users.sessions.currentUser.v1}/current`)}),this.revokeSessionsForUser=t=>l(this,null,function*(){return this.post(`${b.identity.users.sessions.v1}/revoke`,{userId:t})}),this.getSessionConfigurations=()=>l(this,null,function*(){return this.get(b.identity.users.sessions.configurations.v1)}),this.createOrUpdateSessionConfigrations=t=>l(this,null,function*(){yield this.post(b.identity.users.sessions.configurations.v1,t)}),this.deleteSessionForUser=t=>l(this,null,function*(){yield this.delete(`${b.identity.users.sessions.currentUser.v1}/${t}`)}),this.deleteAllSessionsForUser=()=>l(this,null,function*(){yield this.delete(`${b.identity.users.sessions.currentUser.v1}/all`)}),this.getUserAccessTokensData=()=>l(this,null,function*(){return this.get(b.identity.users.accessTokens.v1)}),this.getTenantAccessTokensData=()=>l(this,null,function*(){return this.get(b.identity.tenants.accessTokens.v1)}),this.deleteTenantAccessToken=r=>l(this,[r],function*({id:t}){yield this.delete(`${b.identity.tenants.accessTokens.v1}/${t}`)}),this.deleteUserAccessToken=r=>l(this,[r],function*({id:t}){yield this.delete(`${b.identity.users.accessTokens.v1}/${t}`)}),this.createUserAccessToken=t=>l(this,null,function*(){return this.post(b.identity.users.accessTokens.v1,t)}),this.createTenantAccessToken=t=>l(this,null,function*(){return this.post(b.identity.tenants.accessTokens.v1,t)}),this.getUserApiTokensData=()=>l(this,null,function*(){return this.get(b.identity.users.apiTokens.v1)}),this.getTenantApiTokensData=()=>l(this,null,function*(){return this.get(b.identity.tenants.apiTokens.v1)}),this.updateUserApiTokensData=t=>l(this,null,function*(){return this.post(b.identity.users.apiTokens.v1,t)}),this.updateTenantApiTokensData=t=>l(this,null,function*(){return this.post(b.identity.tenants.apiTokens.v2,t)}),this.deleteTenantApiToken=r=>l(this,[r],function*({tokenId:t}){yield this.delete(`${b.identity.tenants.apiTokens.v1}/${t}`)}),this.deleteUserApiToken=r=>l(this,[r],function*({tokenId:t}){yield this.delete(`${b.identity.users.apiTokens.v1}/${t}`)}),this.getUserById=r=>l(this,[r],function*({userId:t}){return this.get(`${b.identity.users.v1}/${t}`)}),this.checkIfAllowToRememberMfaDevice=t=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy/allow-remember-device`,{mfaToken:t})}),this.passwordlessPreLogin=t=>l(this,null,function*(){var r;let{type:o}=t,i=V(t,dL),c=((r={[Te.UsernameAndCode]:Te.Code,[Te.UsernameAndMagicLink]:Te.MagicLink,[Te.UsernameAndSms]:Te.SmsCode,[Te.UsernameAndPassword]:Te.EmailAndPassword}[o])==null?void 0:r.toLowerCase())||o.toLowerCase();return this.post(`${b.identity.auth.v1}/passwordless/${c}/prelogin`,i)}),this.passwordlessPostLoginV2=t=>l(this,null,function*(){let{type:r}=t,o=V(t,fL),i=yield this.post(`${b.identity.auth.v1}/passwordless/${r.toLocaleLowerCase()}/postlogin`,o);return this.generateLoginResponseV3(i)}),this.passwordlessPostLogin=t=>l(this,null,function*(){let{type:r}=t,o=V(t,pL);return this.post(`${b.identity.auth.v1}/passwordless/${r.toLocaleLowerCase()}/postlogin`,o)}),this.verifyInviteToken=r=>l(this,[r],function*({token:t}){return this.post(b.identity.tenants.invites.verify.v1,{token:t})}),this.getSSOConfigurations=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations`)}),this.createSSOConfiguration=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations`,t)}),this.updateSSOConfiguration=(t,r)=>l(this,null,function*(){return this.patch(`${b.team.sso.v1}/configurations/${t}`,r)}),this.deleteSSOConfiguration=t=>l(this,null,function*(){yield this.delete(`${b.team.sso.v1}/configurations/${t}`)}),this.createSSOConfigurationByMetadata=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/metadata`,t)}),this.updateSSOConfigurationByMetadata=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/metadata`,r)}),this.createSSOConfigurationByMetadataUrl=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/metadata-url`,t)}),this.updateSSOConfigurationByMetadataUrl=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/metadata-url`,r)}),this.createSSODomain=(t,r)=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/${t}/domains`,r)}),this.deleteSSODomain=(t,r)=>l(this,null,function*(){return this.delete(`${b.team.sso.v1}/configurations/${t}/domains/${r}`)}),this.validateSSODomain=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/domains/${r}/validate`)}),this.validateSSODomainV2=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v2}/configurations/${t}/domains/${r}/validate`)}),this.getSSODefaultRoles=t=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations/${t}/roles`)}),this.setSSODefaultRoles=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/roles`,r)}),this.createSSOGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/${t}/groups`,r)}),this.updateSSOGroup=(s,c)=>l(this,[s,c],function*(t,{roleIds:r,group:o,id:i}){return this.patch(`${b.team.sso.v1}/configurations/${t}/groups/${i}`,{group:o,roleIds:r})}),this.deleteSSOGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.team.sso.v1}/configurations/${t}/groups/${r}`)}),this.getSSOGroups=t=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations/${t}/groups`)}),this.preLoginV2=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v2}/user/sso/prelogin`,t)}),this.oidcPostLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v2}/user/oidc/postlogin`,t);return this.generateLoginResponse(r)}),this.exchangeOAuthTokensV2=t=>l(this,null,function*(){let r=yield this.post(`${b.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponseV2(r)}),this.silentOAuthRefreshTokenV2=()=>l(this,null,function*(){let t=tr(this.appName),r=yield this.post(`${b.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponseV2(r)}),this.exchangeOAuthTokens=t=>l(this,null,function*(){let r=yield this.post(`${b.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponse(r)}),this.silentOAuthRefreshToken=()=>l(this,null,function*(){let t=tr(this.appName),r=yield this.post(`${b.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponse(r)}),this.resetPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/reset`,t)}),this.verifyResetPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/reset/verify`,t)}),this.changePhoneNumberWithVerification=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone`,t)}),this.verifyChangePhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/verify`,t)}),this.changePhoneNumber=t=>l(this,null,function*(){return this.put(`${b.identity.users.v1}/phone/change`,t)}),this.webAuthnPreLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/webauthn/prelogin`,t)}),this.webAuthnPostLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/webauthn/postlogin`,t)}),this.webAuthnPostLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/webauthn/postlogin`,t);return this.generateLoginResponseV3(r)}),this.webAuthnCreateNewDeviceSession=()=>l(this,null,function*(){return this.post(b.identity.webAuthnDevices.v1)}),this.getWebAuthnDevices=()=>l(this,null,function*(){return this.get(b.identity.webAuthnDevices.v1)}),this.deleteWebAuthnDevice=t=>l(this,null,function*(){return this.delete(`${b.identity.webAuthnDevices.v1}/${t}`)}),this.verifyNewDeviceSession=t=>l(this,null,function*(){return this.post(`${b.identity.webAuthnDevices.v1}/verify`,t)}),this.getVendorPublicAuthStrategiesConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/auth/strategies/public`)}),this.getPublicAuthStrategiesConfigForAuthenticatedUser=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/auth/strategies`)}),this.getMFAStrategiesConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa/strategies`)}),this.getUserAuthorization=()=>l(this,null,function*(){return this.get(`${b.identity.users.authorization.v1}`)}),this.getMeV2=()=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me`)}),this.noThrowLoadEntitlements=()=>l(this,null,function*(){try{return yield this.entitlementsApi.loadEntitlementsV2()}catch{}}),this.getMeAndEntitlements=()=>l(this,null,function*(){if(ie.for(this.appName).shouldSkipUserLoad())return{roles:[],permissions:[],groups:[],tenants:[]};let o=[{action:this.getMeV2,shouldLoad:!0},{action:this.noThrowLoadEntitlements,shouldLoad:this.shouldLoadEntitlements()},{action:this.getUserAuthorization,shouldLoad:this.shouldLoadMeAuthorization()}].map(u=>YD(u)),[i,s,c]=yield Promise.all(o),a=tr(this.appName);return a&&(i.tenantId=a),y({},i,c??{},{entitlements:s})}),this.generateStepupSession=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/step-up/generate`,t);return r.accessToken?this.generateLoginResponseV3(r):r}),this.getGlobalSecurityPolicy=this.securityPolicy.getGlobalSecurityPolicy.bind(this.securityPolicy),this.getMfaPolicy=this.securityPolicy.getMfaPolicy.bind(this.securityPolicy),this.getVendorMfaPolicy=this.securityPolicy.getVendorMfaPolicy.bind(this.securityPolicy),this.saveMfaPolicy=this.securityPolicy.saveMfaPolicy.bind(this.securityPolicy),this.getLockoutPolicy=this.securityPolicy.getLockoutPolicy.bind(this.securityPolicy),this.getVendorLockoutPolicy=this.securityPolicy.getVendorLockoutPolicy.bind(this.securityPolicy),this.saveLockoutPolicy=this.securityPolicy.saveLockoutPolicy.bind(this.securityPolicy),this.getCaptchaPolicy=this.securityPolicy.getCaptchaPolicy.bind(this.securityPolicy),this.getPasswordHistoryPolicy=this.securityPolicy.getPasswordHistoryPolicy.bind(this.securityPolicy),this.getVendorPasswordHistoryPolicy=this.securityPolicy.getVendorPasswordHistoryPolicy.bind(this.securityPolicy),this.savePasswordHistoryPolicy=this.securityPolicy.savePasswordHistoryPolicy.bind(this.securityPolicy),this.getPasswordConfigPolicy=this.securityPolicy.getPasswordConfigPolicy.bind(this.securityPolicy),this.getDomainRestrictions=this.securityPolicy.getDomainRestrictions.bind(this.securityPolicy),this.getDomainRestrictionsConfig=this.securityPolicy.getDomainRestrictionsConfig.bind(this.securityPolicy),this.createDomainRestriction=this.securityPolicy.createDomainRestriction.bind(this.securityPolicy),this.updateDomainRestrictionConfig=this.securityPolicy.updateDomainRestrictionConfig.bind(this.securityPolicy),this.deleteDomainRestriction=this.securityPolicy.deleteDomainRestriction.bind(this.securityPolicy),this.getIPRestrictions=this.securityPolicy.getIPRestrictions.bind(this.securityPolicy),this.getIPRestrictionsConfig=this.securityPolicy.getIPRestrictionsConfig.bind(this.securityPolicy),this.createIPRestriction=this.securityPolicy.createIPRestriction.bind(this.securityPolicy),this.bulkCreateIPRestriction=this.securityPolicy.bulkCreateIPRestriction.bind(this.securityPolicy),this.updateIPRestrictionConfig=this.securityPolicy.updateIPRestrictionConfig.bind(this.securityPolicy),this.deleteIPRestriction=this.securityPolicy.deleteIPRestriction.bind(this.securityPolicy),this.testCurrentIp=this.securityPolicy.testCurrentIp.bind(this.securityPolicy),this.testCurrentIpInAllowList=this.securityPolicy.testCurrentIpInAllowList.bind(this.securityPolicy)}shouldLoadEntitlements(){return ie.for(this.appName).shouldLoadEntitlements()}shouldLoadMeAuthorization(){let[n]=hn.getFeatureFlags([Lm],this.appName);return n}},JD=new nc("default");var cf=class extends se{constructor(...n){super(...n),this.getSubscriptionInvoices=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.invoices.v1)}),this.getSubscriptionInvoice=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.invoices.v1}/${t}`)}),this.getSubscriptionInvoicePdf=(t,r)=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.invoices.v1}/${t}/pdf`,{outputFileName:r},{responseType:"blob"})})}};var lf=class extends se{constructor(...n){super(...n),this.getManagedSubscription=t=>l(this,null,function*(){return this.get(`${b.subscriptions.managedSubscriptions.v1}/${t}`)}),this.getManagedSubscriptions=()=>l(this,null,function*(){return this.get(b.subscriptions.managedSubscriptions.v1)}),this.cancelManagedSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}/cancellations/`,{})}),this.renewManagedSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}/renewals/`,{})}),this.updateManagedSubscription=(i,s)=>l(this,[i,s],function*(t,{paymentMethodId:r,planId:o}){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}`,{paymentMethodId:r,planId:o})})}};var hL=["email"],uf=class extends se{constructor(...n){super(...n),this.getPaymentMethods=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.paymentMethods.v1)}),this.getPaymentMethod=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.paymentMethods.v1}/${t}`)}),this.updatePaymentMethodBillingDetails=(t,r)=>l(this,null,function*(){let{email:o}=r,i=V(r,hL);return this.patch(`${b.subscriptions.billing.paymentMethods.v1}/${t}/billing-details`,{email:o,address:i})})}};var df=class extends se{constructor(...n){super(...n),this.getPaymentProviders=()=>l(this,null,function*(){return this.get(b.subscriptions.paymentProviders.v1)})}};var ff=class extends se{constructor(...n){super(...n),this.getSubscriptionPlans=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.plans.v1)}),this.getSubscriptionPlan=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.plans.v1}/${t}`)})}};var pf=class extends se{constructor(...n){super(...n),this.getSubscriptions=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.subscriptions.v1)}),this.getSubscription=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.subscriptions.v1}/${t}`)}),this.cancelSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}/cancellations/`,{})}),this.renewSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}/renewals/`,{})}),this.updateSubscription=(i,s)=>l(this,[i,s],function*(t,{paymentMethodId:r,planId:o}){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}`,{paymentMethodId:r,planId:o})})}};var hf=class extends se{constructor(...n){super(...n),this.getSubscriptionSummaries=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.summaries.v1}/${t}`)})}};var gf=class extends se{constructor(...n){super(...n),this.getTenantConfiguration=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.tenantConfiguration.v1}/${t}`)}),this.createTenantConfiguration=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.tenantConfiguration.v1,t)})}};var mf=class extends se{constructor(...n){super(...n),this.getVendorPublicConfigurations=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.configurations.vendorPublicConfigurations.v1)})}};var vf=class extends se{constructor(...n){super(...n),this.createSubscription=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.subscriptions.v1,t)}),this.getStripeCustomer=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.paymentProviders.stripe.customers.v1}/${t}`)}),this.createStripeCustomer=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.customers.v1,t)}),this.getStripePaymentProviderConfiguration=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.paymentProviders.stripe.publicConfigurations.v1)}),this.createStripePaymentMethodSetupIntentSecret=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.setupIntents.v1,t)})}};var St;(function(e){e.ACTIVE="active",e.CANCELED="canceled",e.INCOMPLETE="incomplete",e.EXPIRED="expired",e.TRIALING="trialing",e.TRIAL_ENDED="trialEnded"})(St||(St={}));var Yo;(function(e){e.UNKNWON="unknown",e.CARD="card"})(Yo||(Yo={}));var Zo;(function(e){e.AT_PERIOD_END="atPeriodEnd"})(Zo||(Zo={}));var xr;(function(e){e.Stripe="Stripe"})(xr||(xr={}));var XD;(function(e){e.CHANGE_TO_DEFAULT="change_to_default",e.RETAIN_TRIAL="retain_trial"})(XD||(XD={}));var eI;(function(e){e.CREATE="create_customer"})(eI||(eI={}));var rc=class extends se{constructor(n){super(n),this.invoicesApi=new cf(this.appName),this.managedSubscriptionApi=new lf(this.appName),this.paymentMethodsApi=new uf(this.appName),this.paymentProvidersApi=new df(this.appName),this.plansApi=new ff(this.appName),this.subscriptionApi=new pf(this.appName),this.summariesApi=new hf(this.appName),this.subscriptionTenantConfigApi=new gf(this.appName),this.vendorPublicConfigApi=new mf(this.appName),this.stripeProviderApi=new vf(this.appName),this.getSubscriptionInvoices=this.invoicesApi.getSubscriptionInvoices.bind(this.invoicesApi),this.getSubscriptionInvoice=this.invoicesApi.getSubscriptionInvoice.bind(this.invoicesApi),this.getSubscriptionInvoicePdf=this.invoicesApi.getSubscriptionInvoicePdf.bind(this.invoicesApi),this.getManagedSubscription=this.managedSubscriptionApi.getManagedSubscription.bind(this.managedSubscriptionApi),this.getManagedSubscriptions=this.managedSubscriptionApi.getManagedSubscriptions.bind(this.managedSubscriptionApi),this.cancelManagedSubscription=this.managedSubscriptionApi.cancelManagedSubscription.bind(this.managedSubscriptionApi),this.renewManagedSubscription=this.managedSubscriptionApi.renewManagedSubscription.bind(this.managedSubscriptionApi),this.updateManagedSubscription=this.managedSubscriptionApi.updateManagedSubscription.bind(this.managedSubscriptionApi),this.getPaymentMethods=this.paymentMethodsApi.getPaymentMethods.bind(this.paymentMethodsApi),this.getPaymentMethod=this.paymentMethodsApi.getPaymentMethod.bind(this.paymentMethodsApi),this.updatePaymentMethodBillingDetails=this.paymentMethodsApi.updatePaymentMethodBillingDetails.bind(this.paymentMethodsApi),this.getPaymentProviders=this.paymentProvidersApi.getPaymentProviders.bind(this.paymentProvidersApi),this.getSubscriptionPlans=this.plansApi.getSubscriptionPlans.bind(this.plansApi),this.getSubscriptionPlan=this.plansApi.getSubscriptionPlan.bind(this.plansApi),this.getSubscriptions=this.subscriptionApi.getSubscriptions.bind(this.subscriptionApi),this.getSubscription=this.subscriptionApi.getSubscription.bind(this.subscriptionApi),this.cancelSubscription=this.subscriptionApi.cancelSubscription.bind(this.subscriptionApi),this.renewSubscription=this.subscriptionApi.renewSubscription.bind(this.subscriptionApi),this.updateSubscription=this.subscriptionApi.updateSubscription.bind(this.subscriptionApi),this.getSubscriptionSummaries=this.summariesApi.getSubscriptionSummaries.bind(this.summariesApi),this.getTenantConfiguration=this.subscriptionTenantConfigApi.getTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.createTenantConfiguration=this.subscriptionTenantConfigApi.createTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.getVendorPublicConfigurations=this.vendorPublicConfigApi.getVendorPublicConfigurations.bind(this.vendorPublicConfigApi),this.createSubscription=this.stripeProviderApi.createSubscription.bind(this.stripeProviderApi),this.getStripeCustomer=this.stripeProviderApi.getStripeCustomer.bind(this.stripeProviderApi),this.createStripeCustomer=this.stripeProviderApi.createStripeCustomer.bind(this.stripeProviderApi),this.getStripePaymentProviderConfiguration=this.stripeProviderApi.getStripePaymentProviderConfiguration.bind(this.stripeProviderApi),this.createStripePaymentMethodSetupIntentSecret=this.stripeProviderApi.createStripePaymentMethodSetupIntentSecret.bind(this.stripeProviderApi)}},tI=new rc("default");var oc=class extends se{constructor(n){super(n),this.getProfile=t=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me`,t??{addRoles:!0})}),this.updateEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/email/me`,{email:t})}),this.verifyEmail=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/email/me/verify`,{email:t,code:r})}),this.updateProfile=t=>l(this,null,function*(){return this.put(`${b.identity.users.v2}/me`,t)}),this.updateProfileImage=t=>l(this,null,function*(){return this.put(`${b.team.profile.v1}/me/image/v1`,t,{responseType:"plain",contentType:void 0})}),this.changePassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/change`,t)}),this.loadUsers=t=>l(this,null,function*(){var r,o,i,s,c,a;let u=(t.filter||[]).reduce((p,g)=>y({},p,{[g.id]:g.value}),{}),d=(r=t.sort)!=null&&r.length?{sortBy:(o=(i=t.sort)==null||(s=i[0])==null?void 0:s.id)!=null?o:"name",sortDirection:(c=t.sort)!=null&&(a=c[0])!=null&&a.desc?"desc":"asc"}:null;return this.get(b.team.members.v1,y({pageOffset:t.pageOffset,pageSize:t.pageSize},u,d))}),this.addUser=t=>l(this,null,function*(){return this.post(b.identity.users.v2,y({},t,{provider:"local"}))}),this.deleteUser=t=>l(this,null,function*(){return this.delete(`${b.team.members.v1}/${t.userId}`)}),this.updateUser=t=>l(this,null,function*(){return this.put(b.team.members.v1,t)}),this.updateUserExpirationTime=t=>l(this,null,function*(){let{userId:r,expirationInSeconds:o}=t;return this.put(`${b.identity.users.temporary.v1}/${r}`,{expirationInSeconds:o})}),this.setPermanentUser=t=>l(this,null,function*(){return this.delete(`${b.identity.users.temporary.v1}/${t}`)}),this.getTemporaryUserConfiguration=()=>l(this,null,function*(){return this.get(b.identity.users.temporary.configuration.v1)}),this.createInviteUserLink=t=>l(this,null,function*(){return this.post(b.identity.tenants.invites.user.v1,y({},t))}),this.createInviteUserLinkV2=t=>l(this,null,function*(){return this.post(b.identity.tenants.invites.user.v2,y({},t))}),this.updateInviteUserLink=t=>l(this,null,function*(){return this.patch(b.identity.tenants.invites.user.v1,y({},t))}),this.deleteInviteUserLink=()=>l(this,null,function*(){return this.delete(b.identity.tenants.invites.user.v1)}),this.getInviteUserLink=()=>l(this,null,function*(){return this.get(b.identity.tenants.invites.user.v1)}),this.getInviteLinkConfiguration=()=>l(this,null,function*(){return this.get(b.identity.tenants.invites.configuration.v1)}),this.loadAvailableRoles=()=>l(this,null,function*(){return this.get(b.team.roles.v1)}),this.loadAvailablePermissions=()=>l(this,null,function*(){return this.get(b.identity.permissions.v1)}),this.loadStats=()=>l(this,null,function*(){return this.get(`${b.team.stats.v1}/members`)}),this.resendActivationLink=t=>l(this,null,function*(){return this.post(`${b.team.members.v1}/${t.userId}/resendActivationEmail`,{})}),this.resendInvitationLink=t=>l(this,null,function*(){return this.post(b.identity.users.v2,y({},t,{provider:"local"}))}),this.resendInvitationLinkToAllTenants=t=>l(this,null,function*(){return this.post(b.identity.users.invitation.resendAll.v1,y({},t))}),this.disableUser=t=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/${t}/disable`)}),this.enableUser=t=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/${t}/enable`)})}},nI=new oc("default");var ic=class extends se{constructor(n){super(n),this.getMetadata=t=>l(this,null,function*(){var r,o;let i=yield this.get("/metadata",t);if(i!=null&&(r=i.rows)!=null&&r[0])return i==null||(o=i.rows)==null?void 0:o[0];throw new Error(`metadata not found: ${t.entityName}`)}),this.getAdminBoxMetadata=()=>l(this,null,function*(){return this.get("/metadata/admin-box")}),this.updateAdminBoxMetadata=t=>l(this,null,function*(){return this.post("/metadata/admin-box",t)}),this.getIpMetadata=t=>l(this,null,function*(){let r=yield this.get(`/metadata/ip/${t}`);if(r)return r;throw new Error("ip metadata not found")}),this.getCurrentUserIpMetadata=()=>l(this,null,function*(){let t=yield this.get("/metadata/ipme");if(t)return t;throw new Error("ip metadata not found")}),this.getNotificationsMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"notifications"})}),this.getSamlMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"saml"})}),this.getAuditsMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"audits"})}),this.getIpAdressMetadata=t=>l(this,null,function*(){return this.getIpMetadata(t)})}},rI=new ic("default");var gL=["dataFilters"],mL=["templateId","dataFilters"],vL=["dataFilters"],sc=class extends se{constructor(n){super(n),this.getReports=t=>l(this,null,function*(){return this.get(`${b.reports.service.v2}/tenant-reports`,t)}),this.getReport=t=>l(this,null,function*(){return this.get(`${b.reports.service.v2}/${t.id}/tenant-reports`)}),this.renderReport=t=>l(this,null,function*(){let{dataFilters:r}=t,o=V(t,gL);return{html:yield this.get(`${b.reports.trigger.v1}/preview-report`,y({},o,{dataFilters:btoa(JSON.stringify(r||{})),responseType:"html"}),{responseType:"plain"})}}),this.scheduleReport=t=>l(this,null,function*(){let{templateId:r,dataFilters:o}=t,i=V(t,mL);return this.post(`${b.reports.service.v2}/${r}/tenant-reports`,y({},i,{dataFilters:btoa(JSON.stringify(o||{}))}))}),this.downloadReport=t=>l(this,null,function*(){let{dataFilters:r}=t,o=V(t,vL),i=yield this.get(`${b.reports.trigger.v1}/preview-report`,y({},o,{dataFilters:btoa(JSON.stringify(r||{}))}),{responseType:"blob"}),s="text/html",c="html";o.responseType==="pdf"?(s="application/pdf",c="pdf"):o.responseType==="image"&&(s="image/jpeg",c="jpg");let a=new Blob([i],{type:s}),u=URL.createObjectURL(a),d=document.createElement("a");d.href=u,d.setAttribute("download",`report_${o.name||""}.${c}`),d.click(),setTimeout(d.remove.bind(d))}),this.sendReport=t=>l(this,null,function*(){return this.post(`${b.reports.trigger.v1}/tenant-reports`,t)})}},oI=new sc("default");var yL=["eventKey"],SL=["eventKey"],ac=class extends se{constructor(n){super(n),this.getSlackConfiguration=()=>this.get(`${b.integrations.configurations.v1}/slack`),this.getSlackScope=()=>this.get(`${b.integrations.configurations.v1}/slack/applications`),this.getSlackChannels=()=>this.get(`${b.integrations.configurations.v1}/slack/channels`),this.postSlackConfiguration=t=>t.id?this.patch(`${b.integrations.configurations.v1}/slack/subscription/${t.id}`,t):this.post(`${b.integrations.configurations.v1}/slack/subscriptions`,t),this.deleteSlackConfiguration=t=>this.delete(`${b.integrations.configurations.v1}/slack/subscriptions/${t.id}`),this.postSlackCode=t=>this.post(`${b.integrations.configurations.v1}/slack/applications/registrations`,{code:t}),this.getEmailConfiguration=()=>this.get(`${b.integrations.configurations.v1}/emails`),this.postEmailConfiguration=t=>{let{eventKey:r}=t,o=V(t,yL);return this.post(`${b.integrations.configurations.v1}/emails/${r}`,o)},this.patchEmailConfiguration=({eventKey:t,enabled:r})=>this.patch(`${b.integrations.configurations.v1}/emails/${t}`,{enabled:r}),this.deleteEmailSubscriptions=(t,r)=>this.delete(`${b.integrations.configurations.v1}/emails/${t}/subscriptions/${r}`),this.putEmailSubscriptions=(t,r,o)=>this.put(`${b.integrations.configurations.v1}/emails/${r}/subscriptions/${t}`,o),this.deleteEmailConfiguration=t=>this.delete(`${b.integrations.configurations.v1}/emails/${t}`),this.getSMSConfiguration=()=>this.get(`${b.integrations.configurations.v2}/sms`),this.postSMSConfiguration=t=>{let{eventKey:r}=t,o=V(t,SL);return this.post(`${b.integrations.configurations.v2}/sms/${r}`,o)},this.patchSMSConfiguration=({eventKey:t,enabled:r})=>this.patch(`${b.integrations.configurations.v2}/sms/${t}`,{enabled:r}),this.deleteSMSSubscriptions=(t,r)=>this.delete(`${b.integrations.configurations.v2}/sms/${t}/subscriptions/${r}`),this.putSMSSubscriptions=(t,r,o)=>this.put(`${b.integrations.configurations.v2}/sms/${r}/subscriptions/${t}`,o),this.deleteSMSConfiguration=t=>this.delete(`${b.integrations.configurations.v2}/sms/${t}`),this.getWebhooksConfigurations=()=>this.get(b.webhooks.v1),this.postWebhooksConfiguration=t=>t._id?this.patch(`${b.webhooks.v1}/${t._id}`,t):this.post(`${b.webhooks.v1}/custom`,t),this.deleteWebhooksConfiguration=t=>this.delete(`${b.webhooks.v1}/${t}`),this.getWebhookLog=(t,r=0,o=10)=>{let i=new URLSearchParams({id:t,offset:`${r}`,limit:`${o}`});return this.get(`${b.webhooks.v1}/logs/?${i.toString()}`)},this.postWebhookTest=t=>this.post(`${b.webhooks.v1}/test`,t),this.postWebhookRetry=t=>this.post(`${b.webhooks.v1}/logs/${t}/retries`),this.getCategories=()=>this.get(`${b.events.configurations.v1}/categories`),this.getChannelMaps=t=>this.get(b.events.configurations.v1,{channels:t})}},iI=new ac("default");var cc=class extends se{constructor(n){super(n),this.getNotifications=t=>l(this,null,function*(){return this.get(b.notifications.v1,{params:t})}),this.updateNotificationStatus=t=>l(this,null,function*(){return this.put(`${b.notifications.v1}/status`,{params:t})}),this.updateNotificationIsPinned=t=>l(this,null,function*(){let{notificationId:r,pinStatus:o}=t;return this.put(`${b.notifications.v1}/${o}`,{notificationId:r})}),this.markAllAsRead=()=>l(this,null,function*(){return this.post(`${b.notifications.v1}/status/mark-all-read`)})}},sI=new cc("default");var bL=["endpoint","headerProps"],lc=class extends se{constructor(n){super(n),this.getAudits=t=>l(this,null,function*(){return this.get(b.audits.v1,t)}),this.getAuditsStats=t=>l(this,null,function*(){return this.get(`${b.audits.v1}/stats`,t)}),this.exportAudits=t=>l(this,null,function*(){let{endpoint:r,headerProps:o}=t,i=V(t,bL);return this.postDownload(`${b.audits.v1}/export/${r}`,{properties:o},i)})}},aI=new lc("default");var uc=class extends se{constructor(n){super(n),this.updateSettings=(t,r)=>l(this,null,function*(){return this.put(b.tenants.accountSettings.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.getSettings=t=>l(this,null,function*(){return this.get(b.tenants.accountSettings.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getPublicSettings=()=>l(this,null,function*(){return this.get(`${b.tenants.accountSettings.v1}/public`)})}},cI=new uc("default");var wL=["roleId"],AL=["roleId"],EL=["permissionId"],dc=class extends se{constructor(n){super(n),this.getRoles=()=>l(this,null,function*(){return this.get(b.identity.roles.v1)}),this.addRole=t=>l(this,null,function*(){return this.post(b.identity.roles.v1,t)}),this.deleteRole=r=>l(this,[r],function*({roleId:t}){return this.delete(`${b.identity.roles.v1}/${t}`)}),this.updateRole=t=>l(this,null,function*(){let{roleId:r}=t,o=V(t,wL);return this.patch(`${b.identity.roles.v1}/${r}`,o)}),this.attachPermissionsToRole=t=>l(this,null,function*(){let{roleId:r}=t,o=V(t,AL);return this.put(`${b.identity.roles.v1}/${r}/permissions`,o)}),this.getPermissions=()=>l(this,null,function*(){return this.get(b.identity.permissions.v1)}),this.attachPermissionToRoles=t=>l(this,null,function*(){let{permissionId:r}=t,o=V(t,EL);return this.put(`${b.identity.permissions.v1}/${r}/roles`,o)}),this.getPermissionCategories=()=>l(this,null,function*(){return this.get(`${b.identity.permissions.v1}/categories`)}),this.addRoleV2=t=>l(this,null,function*(){return this.post(b.identity.roles.v2,t)})}},lI=new dc("default");var fc=class extends se{constructor(n){super(n),this.getVendorPublicInfo=()=>l(this,null,function*(){return this.get(`${b.vendor}/public`)})}},uI=new fc("default");var pc=class extends se{constructor(n){super(n),this.loadAllUsers=t=>l(this,null,function*(){return this.get(b.identity.subTenants.v1,t)}),this.addUserToTenantAndSubTenants=t=>l(this,null,function*(){return this.post(b.identity.subTenants.v1,t)}),this.removeUserFromTenantAndSubTenants=(t,r)=>l(this,null,function*(){return this.delete(b.identity.subTenants.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.addUserRolesForSubTenants=(t,r,o)=>l(this,null,function*(){return this.post(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.removeUserRolesFromSubTenants=(t,r,o)=>l(this,null,function*(){return this.delete(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.setUserRolesForSubTenants=(t,r,o)=>l(this,null,function*(){return this.patch(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.createSubTenant=(t,r)=>l(this,null,function*(){return this.post(b.tenants.subTenants.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.deleteSubTenant=(t,r)=>l(this,null,function*(){return this.delete(`${b.tenants.subTenants.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(r)})}),this.updateSubTenant=(i,s,c)=>l(this,[i,s,c],function*({tenantId:t},r,o){return this.patch(`${b.tenants.subTenants.v1}/${t}`,r,{headers:this.extractHeadersFromOptions(o)})}),this.updateSubTenantManagement=(i,s,c)=>l(this,[i,s,c],function*({tenantId:t},r,o){return this.put(`${b.tenants.subTenants.v1}/${t}/management`,r,{headers:this.extractHeadersFromOptions(o)})}),this.updateSubAccountAccess=(t,r,o)=>l(this,null,function*(){return this.put(`${b.identity.subTenants.v1}/${t}/access`,r,{headers:this.extractHeadersFromOptions(o)})}),this.addUsersToSubTenant=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.subTenants.v2}/`,t,{headers:this.extractHeadersFromOptions(r)})})}updateSubTenantHierarchySettings({tenantId:n},t,r){return this.put(`${b.tenants.subTenants.v1}/${n}/hierarchy-settings`,t,{headers:this.extractHeadersFromOptions(r)})}},dI=new pc("default");var Cs=class extends se{constructor(n){super(n),this.getConfigs=()=>l(this,null,function*(){return this.get(`${b.directory.v1}`)}),this.updateConfiguration=(t,r)=>l(this,null,function*(){return this.patch(`${b.directory.v1}/${t}`,r)}),this.createConfiguration=t=>l(this,null,function*(){return this.post(`${b.directory.v1}`,t)}),this.deleteConfiguration=(t,r)=>l(this,null,function*(){return this.delete(`${b.directory.v1}/${t}`,{deleteAll:r})}),this.countConfigurationUsers=t=>l(this,null,function*(){return this.get(`${b.directory.temp}/${t}/Users/count`)})}},fI=new Cs("default");var hc=class extends se{constructor(n){super(n),this.impersonate=t=>l(this,null,function*(){return this.post(`${b.identity.impersonate.v1}`,t)})}},pI=new hc("default");var DL=["groupId"],gc=class extends se{constructor(n){super(n),this.getGroupById=(o,i)=>l(this,[o,i],function*({groupId:t},r){return this.get(`${b.identity.groups.v1}/${t}`,y({},r))}),this.getGroups=t=>l(this,null,function*(){return this.get(`${b.identity.groups.v1}`,y({},t))}),this.getGroupsByIds=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.getByIds.v1}`,t,{params:r})}),this.createGroup=t=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}`,t)}),this.updateGroup=t=>l(this,null,function*(){let{groupId:r}=t,o=V(t,DL);return this.patch(`${b.identity.groups.v1}/${r}`,o)}),this.deleteGroup=t=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}`)}),this.addRolesToGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}/${t}/roles`,r)}),this.deleteRolesFromGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}/roles`,r)}),this.addUsersToGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}/${t}/users`,r)}),this.deleteUsersFromGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}/users`,r)}),this.getGroupConfiguration=()=>l(this,null,function*(){return this.get(`${b.identity.groups.configurations.v1}`)}),this.updateGroupConfiguration=t=>l(this,null,function*(){return this.post(`${b.identity.groups.configurations.v1}`,t)})}},hI=new gc("default");var mc=class extends se{constructor(n){super(n),this.getRecommendations=()=>l(this,null,function*(){return this.get(b.securityCenter.recommendations.v1)}),this.getInsights=()=>l(this,null,function*(){return this.get(b.securityCenter.insights.v1)})}},gI=new mc("default");var vc=class extends se{constructor(n){super(n),this.getUserPhoneNumbers=t=>l(this,null,function*(){return this.get(`${b.identity.phoneNumbers.v1}`,t)}),this.getUserOwnPhoneNumbers=()=>l(this,null,function*(){return this.get(`${b.identity.phoneNumbers.v1}/me`)}),this.createPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}`,t)}),this.deletePhoneNumber=t=>l(this,null,function*(){return this.delete(`${b.identity.phoneNumbers.v1}/${t}`)}),this.preVerifyPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/preverify`,t)}),this.verifyPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/verify`,t)}),this.verifyDeletePhoneNumber=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/${t}/delete/verify`,r)})}},mI=new vc("default");var yc=class extends se{constructor(n){super(n),this.getUserApplicationsId=r=>l(this,[r],function*({userId:t}){return this.get(`${b.identity.applications.v1}/${t}/apps`)}),this.getUsersApplicationsId=r=>l(this,[r],function*({userIds:t}){return this.get(`${b.identity.applications.v1}/users-apps`,{userIds:t.join(",")})}),this.getTenantsApplications=()=>l(this,null,function*(){return this.get(b.applications.tenant.v1)}),this.getTenantsApplicationsV2=()=>l(this,null,function*(){return this.get(b.applications.tenant.v2)}),this.getApplicationsData=o=>l(this,[o],function*({appIds:t,includeFreeAccess:r=!0}){return this.get(b.applications.v1,{ids:t.join(","),_includeFreeAccess:r})}),this.assignUserToApplications=t=>l(this,null,function*(){return this.post(`${b.identity.applications.v1}/apps-user`,t)}),this.unassignUserFromApplications=t=>l(this,null,function*(){return this.delete(`${b.identity.applications.v1}/user-apps`,t)}),this.getUsersOfApplications=r=>l(this,[r],function*({appIds:t}){return this.get(`${b.identity.applications.v1}/apps-users`,{appIds:t.join(",")})})}},vI=new yc("default");var Ko={"x-frontegg-api-key":"my-frontegg-api-key","frontegg-vendor-id":"04ae2174-d8d9-4a90-8bab-2548e210a508","frontegg-tenant-id":"02e6ab6f-8b25-48e4-b06d-2c53745ce213","frontegg-user-id":"e5c397a1-7120-4753-9216-e5d7f35d1f2d"},Sc=class extends se{constructor(n){super(n),this.getAgentsConfig=()=>l(this,null,function*(){return this.get(`${b.velo.v1}/config`,void 0,{headers:Ko})}),this.getConversations=()=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversations`,void 0,{headers:Ko})}),this.getConversationById=t=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversation/${t.id}`,void 0,{headers:Ko})}),this.createConversation=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversations`,{message:t.message,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.sendMessage=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversation/${t.conversationId}/messages`,{message:t.message,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.sendApiResponse=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversation/${t.conversationId}/response/${t.callId}`,{data:t.data,status:t.status,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.getConversationResource=t=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversation/${t.conversationId}/resource/${t.resourceId}`,void 0,{headers:Ko})})}},yI=new Sc("default");var bc=class extends se{constructor(n){super(n),this.getUserOwnUsername=()=>l(this,null,function*(){return this.get(`${b.identity.usernames.v1}/me`)}),this.createUsername=t=>l(this,null,function*(){return this.post(`${b.identity.usernames.v1}`,t)}),this.deleteUsername=t=>l(this,null,function*(){return this.delete(`${b.identity.usernames.v1}/${t}`)})}},SI=new bc("default");var wc=class extends se{constructor(n){super(n),this.getUserEmailPolicyConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/user-emails-policy`)})}},bI=new wc("default");var Fm;(function(e){e.FRONTEGG="frontegg",e.SCIM2="scim2"})(Fm||(Fm={}));var Um;(function(e){e.createdAt="createdAt",e.name="name",e.tenantId="tenantId"})(Um||(Um={}));var jm;(function(e){e.CUSTOMER="customer",e.SPAM="spam",e.TEST="test",e.RESELLER="reseller",e.HEADQUARTER="headquarter"})(jm||(jm={}));var Ze;(function(e){e.NEVER="NEVER",e.ALWAYS="ALWAYS",e.ASSIGNABLE="ASSIGNABLE"})(Ze||(Ze={}));var Ac;(function(e){e.DEFAULT_OFF="defaultOff",e.DEFAULT_ON="defaultOn",e.ALWAYS_ON="alwaysOn"})(Ac||(Ac={}));var IL=[/^(.*)\/logout$/g,"/logout",/^\/identity\/resources\/auth\/v[0-9]*\/user\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/impersonation\/v[0-9]$/g,/^\/identity\/resources\/auth\/v[0-9]*\/passwordless\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/webauthn\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/token\/refresh$/g,/^\/identity\/resources\/users\/v[0-9]*\/signUp$/g,/^\/identity\/resources\/users\/v[0-9]*\/activate$/g,/^\/identity\/resources\/users\/v[0-9]*\/invitation\/accept$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/verify$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/[^\/]*\/[^\/]*\/verify$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/[^\/]*\/verify$/g,/^\/oauth\/token$/g,/^\/oauth\/authorize\/silent$/g],CL=`${b.identity.auth.v1}/user/token/refresh`,_L=`${b.oauth.v1}/authorize/silent`,TL=`${b.identity.users.v2}/me`,xL=`${b.identity.users.v2}/me/tenants`,ML=`${b.identity.users.v3}/me/tenants`,PL=b.entitlements.v2;var Vm;(function(e){e.FRONTEGG="frontegg",e.OKTA="okta",e.AZURE_AD="azure-ad",e.OTHER="other"})(Vm||(Vm={}));var Ec;(function(e){e.roles="roles",e.users="users",e.rolesAndUsers="rolesAndUsers"})(Ec||(Ec={}));var lt;(function(e){e.FRONTEGG="frontegg",e.SCIM2="scim2"})(lt||(lt={}));var Dc;(function(e){e.createdAt="createdAt",e.name="name",e.email="email",e.id="id",e.verified="verified",e.isLocked="isLocked",e.provider="provider",e.tenantId="tenantId"})(Dc||(Dc={}));var Qo;(function(e){e.MFA_UNENROLLED="mfa-unenrolled",e.BREACHED_PASSWORDS="breached-passwords",e.INACTIVE="inactive"})(Qo||(Qo={}));var RL=["local","saml","google","github","facebook","microsoft","scim2","slack"];var Xr;(function(e){e.MISSING_PERMISSION="MISSING_PERMISSION",e.MISSING_FEATURE="MISSING_FEATURE",e.BUNDLE_EXPIRED="BUNDLE_EXPIRED"})(Xr||(Xr={}));var _s;(function(e){e.FORCE_MFA="FORCE_MFA",e.BREACHED_PASSWORDS_EXIST="BREACHED_PASSWORDS_EXIST",e.ENABLE_USER_LOCKOUT="ENABLE_USER_LOCKOUT",e.STRENGTHEN_USER_LOCKOUT="STRENGTHEN_USER_LOCKOUT",e.ENABLE_PASSWORD_HISTORY="ENABLE_PASSWORD_HISTORY",e.STRENGTHEN_PASSWORD_HISTORY="STRENGTHEN_PASSWORD_HISTORY",e.ENABLE_FORCE_RELOGIN="ENABLE_FORCE_RELOGIN",e.SET_FORCE_RELOGIN="SET_FORCE_RELOGIN",e.ENABLE_SESSION_CONCURRENCY="ENABLE_SESSION_CONCURRENCY",e.SET_SESSION_CONCURRENCY="SET_SESSION_CONCURRENCY",e.ENABLE_IDLE_SESSION="ENABLE_IDLE_SESSION",e.SET_IDLE_SESSION="SET_IDLE_SESSION",e.ENABLE_IP_RESTRICTIONS="ENABLE_IP_RESTRICTIONS",e.CHANGE_IP_TO_ALLOWLIST="CHANGE_IP_TO_ALLOWLIST",e.ENABLE_DOMAIN_RESTRICTIONS="ENABLE_DOMAIN_RESTRICTIONS",e.CHANGE_DOMAIN_TO_ALLOWLIST="CHANGE_DOMAIN_TO_ALLOWLIST",e.CONFIGURE_SSO="CONFIGURE_SSO"})(_s||(_s={}));var eo;(function(e){e.MFA_FORCED="MFA_FORCED",e.PARTIALLY_FORCED_MFA="PARTIALLY_FORCED_MFA",e.PARTIAL_MFA_USAGE="PARTIAL_MFA_USAGE",e.FULL_MFA_USAGE="FULL_MFA_USAGE",e.BREACHED_PASSWORD_USERS_EXIST="BREACHED_PASSWORD_USERS_EXIST",e.IMPROVE_LOCKOUT_POLICY="IMPROVE_LOCKOUT_POLICY",e.IMPROVE_PASSWORD_HISTORY_POLICY="IMPROVE_PASSWORD_HISTORY_POLICY",e.NO_SESSION_SETTINGS="NO_SESSION_SETTINGS",e.PARTIAL_SESSION_SETTINGS="PARTIAL_SESSION_SETTINGS",e.FULL_SESSION_SETTINGS="FULL_SESSION_SETTINGS",e.NO_IP_RESTRICTIONS="NO_IP_RESTRICTIONS",e.IP_ALLOWLIST="IP_ALLOWLIST",e.IP_DENYLIST="IP_DENYLIST",e.NO_DOMAIN_RESTRICTIONS="NO_DOMAIN_RESTRICTIONS",e.DOMAIN_ALLOWLIST="DOMAIN_ALLOWLIST",e.DOMAIN_DENYLIST="DOMAIN_DENYLIST",e.FULL_PASSWORD_SETTINGS="FULL_PASSWORD_SETTINGS"})(eo||(eo={}));var $m;(function(e){e.SEND_RESET_BREACHED_PASSWORD_EMAIL="SEND_RESET_BREACHED_PASSWORD_EMAIL",e.ADJUST_FORCE_RELOGIN="ADJUST_FORCE_RELOGIN",e.ADJUST_MAX_CONCURRENT_SESSIONS="ADJUST_MAX_CONCURRENT_SESSIONS",e.ADJUST_IDLE_TIMEOUT="ADJUST_IDLE_TIMEOUT"})($m||($m={}));var Ts;(function(e){e.SEVERE="SEVERE",e.WARNING="WARNING",e.INFO="INFO"})(Ts||(Ts={}));var nr;(function(e){e.MFA="MFA",e.SESSIONS="SESSIONS",e.PASSWORD="PASSWORD",e.INACTIVITY="INACTIVITY",e.IP="IP",e.DOMAIN="DOMAIN",e.SSO="SSO"})(nr||(nr={}));var rr;(function(e){e.FREE_ACCESS="FREE_ACCESS",e.MANAGED_ACCESS="MANAGED_ACCESS"})(rr||(rr={}));var wI={auth:JD,securityPolicy:GD,teams:nI,metadata:rI,reports:oI,connectivity:iI,notifications:sI,audits:aI,tenants:KD,accountSettings:cI,roles:lI,subscriptions:tI,vendor:uI,subTenants:dI,featureFlags:zD,directory:fI,impersonate:pI,groups:hI,users:qD,entitlements:QD,securityCenter:gI,userPhoneNumbers:mI,applications:vI,velo:yI,usernames:SI,userEmailPolicy:bI},xs=e=>({auth:new nc(e),securityPolicy:new $o(e),teams:new oc(e),metadata:new ic(e),reports:new sc(e),connectivity:new ac(e),notifications:new cc(e),audits:new lc(e),tenants:new zo(e),accountSettings:new uc(e),roles:new dc(e),subscriptions:new rc(e),vendor:new fc(e),subTenants:new pc(e),featureFlags:new As(e),directory:new Cs(e),impersonate:new hc(e),groups:new gc(e),users:new Go(e),entitlements:new qo(e),securityCenter:new mc(e),userPhoneNumbers:new vc(e),applications:new yc(e),velo:new Sc(e),usernames:new bc(e),userEmailPolicy:new wc(e)});var OL={fetch:Rm,FetchClient:er,ContextHolder:ie,FronteggContext:Pm,api:wI,createApiClient:xs,FronteggApiError:at,AuthStrategyEnum:Te,MachineToMachineAuthStrategy:ct,SocialLoginProviders:ec,ISubscriptionCancellationPolicy:Zo,ISubscriptionStatus:St,PaymentMethodType:Yo,ProviderType:xr,EIdentifierType:Bo};var II=En(yf()),K=(e,n)=>{let t=(0,II.default)(e,y({},n));return $D(y({__isProxy:!0},t))};var Gt;(function(e){e.validate="validate",e.invalid="invalid",e.pending="pending",e.success="success",e.failed="failed"})(Gt||(Gt={}));var Hm={step:Gt.validate},Gm=e=>K(Hm,e);var $I=En(PI()),tv=En(Ym());var Cc="http://schemas.openid.net/pape/policies/2007/06/multi-factor",Zm="mfa",Km=["otp","sms","hwk"],en="SHOULD_STEP_UP",Qm="maxAge";var Se;(function(e){e.preLogin="preLogin",e.magicLinkPreLoginSuccess="magicLinkPreLoginSuccess",e.loginWithSmsOtc="loginWithSmsOtc",e.loginWithQuickSmsOtc="loginWithQuickSmsOtc",e.loginWithOtc="loginWithOtc",e.loginWithPassword="loginWithPassword",e.loginWithTwoFactor="loginWithTwoFactor",e.redirectToSSO="redirectToSSO",e.loginWithSSOFailed="loginWithSSOFailed",e.success="success",e.forceTwoFactor="forceTwoFactor",e.recoverTwoFactor="recoverTwoFactor",e.promptPasskeys="promptPasskeys",e.breachedPassword="breachedPassword",e.breachedPasswordSuccess="breachedPasswordSuccess",e.passwordRotationExpired="passwordRotationExpired",e.passwordRotationNotification="passwordRotationNotification",e.magicLinkPostLoginSuccess="magicLinkPostLoginSuccess"})(Se||(Se={}));var ut;(function(e){e.Login="login",e.RegisterQuickLogin="registerQuickLogin"})(ut||(ut={}));var Jm;(function(e){e.Internal="internal",e.UsbKey="usb-key",e.Android="android",e.Sms="sms"})(Jm||(Jm={}));var Xm;(function(e){e["social-login"]="social-login",e["custom-social-login"]="custom-social-login",e.direct="direct",e.signup="signup"})(Xm||(Xm={}));var ev={[Te.Code]:Se.loginWithOtc,[Te.EmailAndPassword]:Se.loginWithPassword,[Te.MagicLink]:Se.magicLinkPreLoginSuccess,[Te.SmsCode]:Se.loginWithSmsOtc,[Te.UsernameAndPassword]:Se.loginWithPassword,[Te.UsernameAndMagicLink]:Se.magicLinkPreLoginSuccess,[Te.UsernameAndCode]:Se.loginWithOtc,[Te.UsernameAndSms]:Se.loginWithSmsOtc},_c={authenticatedUrl:"/",loginUrl:"/account/login",stepUpUrl:"/account/step-up",logoutUrl:"/account/logout",activateUrl:"/account/activate",impersonationUrl:"/account/impersonate",acceptInvitationUrl:"/account/invitation/accept",forgetPasswordUrl:"/account/forget-password",resetPhoneNumberUrl:"/account/reset-phone-number",resetPasswordUrl:"/account/reset-password",socialLoginCallbackUrl:"/account/social/success",signUpUrl:"/account/sign-up",oidcRedirectUrl:"/account/oidc/callback",samlCallbackUrl:"/account/saml/callback",magicLinkCallbackUrl:"/account/login/magic-link",hostedLoginRedirectUrl:"/oauth/callback",openAppUrl:"/account/redirect",unlockAccountUrl:"/account/unlock",activateWithOTCUrl:"/account/activate/code",acceptInvitationWithOTCUrl:"/account/invitation/code",mfaMobileAuthenticator:"/account/mfa-mobile-authenticator"};var Xo="FRONTEGG_AFTER_AUTH_REDIRECT_URL",Sf="HOSTED_LOGIN_VERIFIER_KEY",_t={retryCount:3};var Y=(e=500)=>new Promise(n=>{setTimeout(n,e)}),bf=(e,n,t,r)=>l(null,null,function*(){let o=0;for(;o<n-1;)try{let i=yield e();if(r&&i===null){if(o++,o>=n)return i;yield new Promise(s=>setTimeout(s,t))}else return i}catch(i){if(o++,o>=n)throw i;yield new Promise(s=>setTimeout(s,t))}return yield e()}),ee=(e,n)=>l(null,null,function*(){return n?bf(e,n.retryCount,n.delay||500,n.shouldRetryWhenNull):e()}),kn=e=>y({},e,{retryConfig:_t}),Tc=e=>e?.traceId||void 0;function xc(e,n){let t=y({},e);return n.forEach(r=>{delete t[r]}),t}function rF(e){let n=typeof e;return e?.constructor==={}.constructor||n==="undefined"||e===null||n==="boolean"||n==="number"||n==="string"||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof File||e instanceof FileList||e instanceof ArrayBuffer||e instanceof ImageData||e instanceof ImageBitmap||e instanceof Array||e instanceof Map||e instanceof Set}function Mc(e){return e==null?void 0:rF(e)&&e.__isProxy!==void 0}var BI=e=>JSON.parse(JSON.stringify(e)),Q=(e,n,t)=>{let r=BI(t),o=(0,$I.default)(e,n);for(let i in o)i!=="__isProxy"&&(i in r?(0,tv.default)(e,[...n,i],r[i]):(0,tv.default)(e,[...n,i],void 0))};var HI=e=>!!e?.statusCode,GI=e=>e instanceof Error?!0:e?.message&&e?.stack&&e?.name==="Error",_=(e,n)=>e?HI(e)?(console.error(e.message),e):(GI(e)?console.error(e.message):typeof e=="string"&&console.error(e),n??new at(ys,500,null,Ss)):n;var Ps="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Pc=new Uint8Array(256);for(let e=0;e<Ps.length;e++)Pc[Ps.charCodeAt(e)]=e;var nv=e=>{let n=new Uint8Array(e),t=n.length,r,o="";for(r=0;r<t;r+=3)o+=Ps[n[r]>>2],o+=Ps[(n[r]&3)<<4|n[r+1]>>4],o+=Ps[(n[r+1]&15)<<2|n[r+2]>>6],o+=Ps[n[r+2]&63];return t%3===2?o=o.substring(0,o.length-1):t%3===1&&(o=o.substring(0,o.length-2)),o},bt=e=>{let n=e.length*.75,t=e.length,r,o=0,i,s,c,a,u=new Uint8Array(n);for(r=0;r<t;r+=4)i=Pc[e.charCodeAt(r)],s=Pc[e.charCodeAt(r+1)],c=Pc[e.charCodeAt(r+2)],a=Pc[e.charCodeAt(r+3)],u[o++]=i<<2|s>>4,u[o++]=(s&15)<<4|c>>2,u[o++]=(c&3)<<6|a&63;return u.buffer};function rv(e,n="file"){let t=(a,u)=>{let p=atob(a),g=[];for(let f=0;f<p.length;f+=512){let h=p.slice(f,f+512),v=new Array(h.length);for(let S=0;S<h.length;S++)v[S]=h.charCodeAt(S);g.push(new Uint8Array(v))}return new Blob(g,{type:u})},r=e.match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/);if(r==null)return null;let o=`image/${r[1]}`,i=r[2],s=t(i,o),c=new FormData;return c.append(n,new File([s],n,{type:o})),c}var gn=e=>{if(e instanceof Array){let n=[];for(let t of e)n.push(gn(t));return n}else{if(e instanceof ArrayBuffer)return nv(e);if(e instanceof Object){let n={};for(let t in e)n[t]=gn(e[t]);return n}}return e},ei=e=>new Promise((n,t)=>{let r=new FileReader;r.readAsText(e),r.onload=()=>n(r.result),r.onerror=t});var Rs="input is invalid type",Rc=typeof ArrayBuffer<"u",de="0123456789abcdef".split(""),oF=[-2147483648,8388608,32768,128],Ln=[24,16,8,0],wf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Af=["hex","array","digest","arrayBuffer"],wt=[];Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Rc&&!ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var WI=function(e){return function(n){let r=new Mr(!0).update(n);return r?.[e]()}},iF=function(){let e=WI("hex");e.create=function(){return new Mr},e.update=function(n){return e.create().update(n)};for(let n=0;n<Af.length;++n){let t=Af[n];e[t]=WI(t)}return e},zI=function(e){return function(n,t){let o=new Ef(n,!0).update(t);return o?.[e]()}},sF=function(){let e=zI("hex");e.create=function(n){return new Ef(n)},e.update=function(n,t){return e.create(n).update(t)};for(let n=0;n<Af.length;++n){let t=Af[n];e[t]=zI(t)}return e},Mr=class e{constructor(n=!1){this.blocks=void 0,this.h0=void 0,this.h1=void 0,this.h2=void 0,this.h3=void 0,this.h4=void 0,this.h5=void 0,this.h6=void 0,this.h7=void 0,this.block=void 0,this.start=void 0,this.bytes=void 0,this.hBytes=void 0,this.finalized=void 0,this.hashed=void 0,this.first=void 0,this.lastByteIndex=void 0,this.sharedMemory=!1,this.toString=()=>this.hex(),this.array=()=>e.prototype.digest(),n?(wt[0]=wt[16]=wt[1]=wt[2]=wt[3]=wt[4]=wt[5]=wt[6]=wt[7]=wt[8]=wt[9]=wt[10]=wt[11]=wt[12]=wt[13]=wt[14]=wt[15]=0,this.blocks=wt):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.sharedMemory=n}update(n){if(this.finalized)return;let t,r=typeof n;if(r!=="string"){if(r==="object"){if(n===null)throw new Error(Rs);if(Rc&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!Rc||!ArrayBuffer.isView(n)))throw new Error(Rs)}else throw new Error(Rs);t=!0}let o,i=0,s,c=n.length,a=this.blocks;for(;i<c;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(s=this.start;i<c&&s<64;++i)a[s>>2]|=n[i]<<Ln[s++&3];else for(s=this.start;i<c&&s<64;++i)o=n.charCodeAt(i),o<128?a[s>>2]|=o<<Ln[s++&3]:o<2048?(a[s>>2]|=(192|o>>6)<<Ln[s++&3],a[s>>2]|=(128|o&63)<<Ln[s++&3]):o<55296||o>=57344?(a[s>>2]|=(224|o>>12)<<Ln[s++&3],a[s>>2]|=(128|o>>6&63)<<Ln[s++&3],a[s>>2]|=(128|o&63)<<Ln[s++&3]):(o=65536+((o&1023)<<10|n.charCodeAt(++i)&1023),a[s>>2]|=(240|o>>18)<<Ln[s++&3],a[s>>2]|=(128|o>>12&63)<<Ln[s++&3],a[s>>2]|=(128|o>>6&63)<<Ln[s++&3],a[s>>2]|=(128|o&63)<<Ln[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}finalize(){if(this.finalized)return;this.finalized=!0;let n=this.blocks,t=this.lastByteIndex;n[16]=this.block,n[t>>2]|=oF[t&3],this.block=n[16],t>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}hash(){let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u,d,p,g,f,h,v,S,D,T,m,E=this.blocks;for(u=16;u<64;++u)f=E[u-15],d=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,f=E[u-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,E[u]=E[u-16]+d+E[u-7]+p<<0;for(m=t&r,u=0;u<64;u+=4)this.first?(S=704751109,f=E[0]-210244248,a=f-1521486534<<0,o=f+143694565<<0,this.first=!1):(d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),p=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),S=n&t,g=S^n&r^m,v=i&s^~i&c,f=a+p+v+wf[u]+E[u],h=d+g,a=o+f<<0,o=f+h<<0),d=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),p=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),D=o&n,g=D^o&t^S,v=a&i^~a&s,f=c+p+v+wf[u+1]+E[u+1],h=d+g,c=r+f<<0,r=f+h<<0,d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),p=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),T=r&o,g=T^r&n^D,v=c&a^~c&i,f=s+p+v+wf[u+2]+E[u+2],h=d+g,s=t+f<<0,t=f+h<<0,d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),p=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),m=t&r,g=m^t&o^T,v=s&c^~s&a,f=i+p+v+wf[u+3]+E[u+3],h=d+g,i=n+f<<0,n=f+h<<0;this.h0=this.h0+n<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+o<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+c<<0,this.h7=this.h7+a<<0}hex(){this.finalize();let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u=de[n>>28&15]+de[n>>24&15]+de[n>>20&15]+de[n>>16&15]+de[n>>12&15]+de[n>>8&15]+de[n>>4&15]+de[n&15]+de[t>>28&15]+de[t>>24&15]+de[t>>20&15]+de[t>>16&15]+de[t>>12&15]+de[t>>8&15]+de[t>>4&15]+de[t&15]+de[r>>28&15]+de[r>>24&15]+de[r>>20&15]+de[r>>16&15]+de[r>>12&15]+de[r>>8&15]+de[r>>4&15]+de[r&15]+de[o>>28&15]+de[o>>24&15]+de[o>>20&15]+de[o>>16&15]+de[o>>12&15]+de[o>>8&15]+de[o>>4&15]+de[o&15]+de[i>>28&15]+de[i>>24&15]+de[i>>20&15]+de[i>>16&15]+de[i>>12&15]+de[i>>8&15]+de[i>>4&15]+de[i&15]+de[s>>28&15]+de[s>>24&15]+de[s>>20&15]+de[s>>16&15]+de[s>>12&15]+de[s>>8&15]+de[s>>4&15]+de[s&15]+de[c>>28&15]+de[c>>24&15]+de[c>>20&15]+de[c>>16&15]+de[c>>12&15]+de[c>>8&15]+de[c>>4&15]+de[c&15];return u+=de[a>>28&15]+de[a>>24&15]+de[a>>20&15]+de[a>>16&15]+de[a>>12&15]+de[a>>8&15]+de[a>>4&15]+de[a&15],u}digest(){this.finalize();let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u=[n>>24&255,n>>16&255,n>>8&255,n&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,o>>24&255,o>>16&255,o>>8&255,o&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,c>>24&255,c>>16&255,c>>8&255,c&255];return u.push(a>>24&255,a>>16&255,a>>8&255,a&255),u}arrayBuffer(){this.finalize();let n=new ArrayBuffer(32),t=new DataView(n);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),t.setUint32(28,this.h7),n}},Ef=class extends Mr{constructor(n,t=!1){super(t),this.inner=void 0,this.oKeyPad=void 0;let r,o=typeof n;if(o==="string"){let a=[],u=n.length,d=0,p;for(r=0;r<u;++r)p=n.charCodeAt(r),p<128?a[d++]=p:p<2048?(a[d++]=192|p>>6,a[d++]=128|p&63):p<55296||p>=57344?(a[d++]=224|p>>12,a[d++]=128|p>>6&63,a[d++]=128|p&63):(p=65536+((p&1023)<<10|n.charCodeAt(++r)&1023),a[d++]=240|p>>18,a[d++]=128|p>>12&63,a[d++]=128|p>>6&63,a[d++]=128|p&63);n=a}else if(o==="object"){if(n===null)throw new Error(Rs);if(Rc&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!Rc||!ArrayBuffer.isView(n)))throw new Error(Rs)}else throw new Error(Rs);if(n.length>64){var i;n=(i=new Mr(!0).update(n))==null?void 0:i.array()}let s=[],c=[];for(r=0;r<64;++r){let a=n[r]||0;s[r]=92^a,c[r]=54^a}Mr.call(this,t),this.update(c),this.oKeyPad=s,this.inner=!0,this.sharedMemory=t}finalize(){if(super.finalize(),this.inner){this.inner=!1;let n=this.array();Mr.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Mr.prototype.finalize.call(this)}}},ov=iF(),aF=sF();function qI(e){return l(this,null,function*(){let n=ov.digest(new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function YI(e){return l(this,null,function*(){let n=yield crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function iv(e){return l(this,null,function*(){var n,t;return(n=window.crypto)!=null&&(t=n.subtle)!=null&&t.digest?YI(e):(console.warn("Generating CodeChallenge in non-secure domain:",window.location.origin),qI(e))})}function Df(e=16){let n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}var mn;(function(e){e.SIGNUP_COMPLETED="signup_completed",e.USER_VERIFIED="user_verified"})(mn||(mn={}));function or(e,n){var t,r;(t=(r=window).onFronteggEvent)==null||t.call(r,e,n)}var Oc=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auth.acceptInvitationState,a)};return{setAcceptInvitationState:o,resetAcceptInvitationState:()=>{Q(e,["auth","acceptInvitationState"],Hm)},acceptInvitation:a=>l(null,null,function*(){if(!a.token||!a.userId){o({error:void 0,step:Gt.invalid});return}try{o({error:void 0,step:Gt.pending}),yield n.auth.acceptInvitation(a),o({step:Gt.success})}catch(u){o({step:Gt.failed,error:_(u)})}}),acceptInvitationWithOTC:a=>l(null,null,function*(){if(!a.token||!a.userId||!a.code){o({error:void 0,step:Gt.invalid});return}try{o({error:void 0,step:Gt.pending}),yield n.auth.acceptInvitationWithOTC(a),o({step:Gt.success})}catch(u){o({step:Gt.validate,error:_(u)})}})}};var sv={loading:!1},av=e=>K(sv,e);var cF=["activeTenant","tenants"],Nc=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.auth.accountSettingsState,u)},i=()=>{Q(e,["auth","accountSettingsState"],sv)},s=({newSettingValues:u})=>{let d=e.auth.tenantsState,{activeTenant:p,tenants:g}=d,f=V(d,cF),h=g.map(S=>S.id!==p?.id?S:y({},S,u)),v=y({},p,u);t.setTenantsState(y({},f,{tenants:h,activeTenant:v}))};return{setAccountSettingsState:o,resetAccountSettingsState:i,saveAccountSettings:u=>l(null,null,function*(){try{var d;o({loading:!0});let{address:g,timezone:f,dateFormat:h,timeFormat:v,currency:S,logo:D}=e.auth.accountSettingsState,T=yield n.accountSettings.updateSettings(y({address:g,timezone:f,dateFormat:h,timeFormat:v,currency:S,logo:D},u));s({newSettingValues:T}),o(y({},T,{loading:!1})),(d=u.callback)==null||d.call(u,T)}catch(g){var p;o({loading:!1,error:_(g)}),(p=u.callback)==null||p.call(u,null,g)}}),loadAccountSettings:u=>l(null,null,function*(){o({loading:!(u!=null&&u.silentLoading),error:null});try{let d=yield ee(()=>n.accountSettings.getSettings(),u?.retryConfig);o(y({},d,{loading:!1}))}catch(d){o({loading:!1,error:_(d)})}})}};var Fn;(function(e){e.activating="activating",e.success="success",e.resend="resend",e.activatingForm="activatingForm"})(Fn||(Fn={}));var cv={step:Fn.activating,loading:!1,submitting:!1,resentEmail:!1,activationStrategy:{loading:!1}},lv=e=>K(cv,e);var Wt;(function(e){e.LOAD_FEATURE_FLAGS="LOAD_FEATURE_FLAGS,",e.LOAD_ADMIN_BOX_METADATA="LOAD_ADMIN_BOX_METADATA,",e.LOAD_SSO_PUBLIC_CONFIGURATION="LOAD_SSO_PUBLIC_CONFIGURATION,",e.LOAD_PUBLIC_AUTH_STRATEGIES_POLICY="LOAD_PUBLIC_AUTH_STRATEGIES_POLICY,",e.LOAD_ALLOW_SIGNUPS="LOAD_ALLOW_SIGNUPS,",e.LOAD_CUSTOM_LOGIN_ROUTES="LOAD_CUSTOM_LOGIN_ROUTES",e.LOAD_PASSWORD_CONFIGURATION="LOAD_PASSWORD_CONFIGURATION"})(Wt||(Wt={}));var Pr;(function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORDLESS="PASSWORDLESS",e.ACTIVATION_LINK="ACTIVATION_LINK"})(Pr||(Pr={}));var to;(function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORD="PASSWORD",e.PHONE_NUMBER="PHONE_NUMBER"})(to||(to={}));var Tt;(function(e){e.profile="profile",e.privacy="privacy",e.personalApiTokens="personalApiTokens",e.account="account",e.users="users",e.groups="groups",e.security="security",e.sso="sso",e.audits="audits",e.webhooks="webhooks",e.apiTokens="apiTokens",e.roles="roles",e.subscriptions="subscription",e.allAccounts="allAccounts"})(Tt||(Tt={}));var lF={profile:Tt.profile,privacy:Tt.privacy,personalApiTokens:Tt.personalApiTokens,account:Tt.account,users:Tt.users,groups:Tt.groups,security:Tt.security,sso:Tt.sso,audits:Tt.audits,webhooks:Tt.webhooks,apiTokens:Tt.apiTokens,roles:Tt.roles,subscriptions:Tt.subscriptions,allAccounts:Tt.allAccounts};var GC=En(uv()),Wf=En(HC()),lj="You must first enable entitlements via Frontegg options to use this function",WC=(e="default")=>{if(!ie.for(e).shouldLoadEntitlements())throw new Error(lj)},zf=(e,n,t,r,o="default")=>(WC(o),(0,Wf.evaluateIsEntitledToPermissions)(n,e,t)),qf=(e,n,t,r,o="default")=>(WC(o),(0,Wf.evaluateIsEntitledToFeature)(n,e,t)),uj=(e,n,t,r,o="default")=>"permissionKey"in n?zf(e,n.permissionKey,t,r,o):qf(e,n.featureKey,t,r,o);function jc(e,n){return(0,GC.default)(e,n)}var Ne;(function(e){e.verify="verify",e.recoveryCode="recoveryCode",e.authenticatorApp="authenticatorApp",e.smsSetPhoneNumber="smsSetPhoneNumber",e.smsVerifyCode="smsVerifyCode",e.emailVerifyCode="emailVerifyCode",e.noMFAEnrolledStepUp="noMFAEnrolledStepUp"})(Ne||(Ne={}));var Yf=e=>{try{return new URL(e),!0}catch{return!1}},dj=(e,n)=>{let t=new URL(window.location.href),r=new URL(e),o=r.origin===t.origin;return n.includes(r.origin)||o},Tv=({authenticatedUrl:e,enforceRedirectToSameSite:n,allowedRedirectOrigins:t,includeQueryParam:r})=>{let o=new URL(window.location.href),i=e,s=o.searchParams.get("redirectUrl");return s?!n||!Yf(s)||dj(s,t)?i=s:console.warn("The redirect url param is not valid, the origin is a different site"):r&&(i+=window.location.search),i},Zf=e=>{let{searchParams:n}=new URL(e),t=n.toString();if(t)return`?${t}`},xv=(e,n=!1)=>{let{pathname:t,href:r}=new URL(e);if(n)return r;let o=Zf(e);return o?t+o:t},Vc=e=>{let t=new URLSearchParams(window.location.search).get(e);return t??void 0},$c="tenantId",zC=e=>{let n=+!!e.webauthn.length,t=+!!e.phones.length,r=+!!e.authenticators.length,o=+!!e.emails.length,i=n+t+r+o;return{numberOfWebAuthnDevices:n,numberOfPhoneDevices:t,numberOfAuthenticators:r,numberOfEmails:o,totalDevices:i}},Bc=e=>{let{numberOfPhoneDevices:n,numberOfAuthenticators:t,numberOfEmails:r,totalDevices:o}=zC(e);if(o===1){if(t)return Ne.authenticatorApp;if(n)return Ne.smsVerifyCode;if(r)return Ne.emailVerifyCode}return Ne.verify},Mv=e=>{if(e.length===1){let[n]=e;if(n===Wo.AuthenticatorApp)return Ne.authenticatorApp;if(n===Wo.SMS)return Ne.smsSetPhoneNumber;if(n===Wo.EmailCode)return Ne.emailVerifyCode}return Ne.verify},Pv=e=>e==="/oauth/callback";function Rv(e){return"email"in e&&typeof e.email=="string"}function Ov(e){return"username"in e&&typeof e.username=="string"}var Kf=e=>{let n=ie.for(e.root.appName).getBasename();return n!=null&&n.endsWith("/")?n.slice(0,-1):n},ci=e=>e.passwordExpiresIn!==void 0&&e.notificationPeriod!==void 0&&e.passwordExpiresIn<=e.notificationPeriod;var li=(e,{maxAge:n}={})=>{if(!e)return!1;let{amr:t=[],acr:r="",auth_time:o}=e;if(n&&o&&!(Date.now()/1e3-o<=n))return!1;let i=r===Cc,s=t.indexOf(Zm)!==-1,c=Km.find(a=>t.indexOf(a))!==void 0;return i&&s&&c};function Qf(){let e=window.location.pathname+window.location.search;window.localStorage.setItem(Xo,e)}var Nv=(e,n,t)=>{Qf();let r=new URLSearchParams(window.location.search);t&&r.set(Qm,t.toString()),n(`${e}${r?`?${r}`:""}`,{refresh:!1})};var fj=["phoneNumber","email"],pj=["authenticatedUrl"],yn=(e,n)=>{let t=ie.for(n);return e.mfaRequired&&e.mfaToken?(t.setAccessToken(null),t.setUser(null),!0):(t.setAccessToken(e.accessToken),t.setUser(e),!1)},ui=(e,n)=>{let t=ie.for(n);return e.resetPasswordToken?(t.setAccessToken(null),!0):(t.setAccessToken(e.accessToken),t.setUser(e),!1)},Jf=(e,n=[])=>Object.entries(e).reduce((t,[r,o])=>typeof o=="object"?[...t,...Jf(o,[...n,r])]:[...t,{type:[...n,r].join("/"),payload:o}],[]),Xf=e=>{if(e==="path"){var n;return((n=window)!=null?n:document).location.pathname}else{var t;let r=(((t=window)!=null?t:document).location.hash||"#").substring(1);return r.indexOf("?")!==-1?r.substring(0,r.indexOf("?")):r}},ep=e=>{let{phoneNumber:n,email:t}=e,r=V(e,fj);return t!=null&&t.length&&Object.assign(r,{email:t}),n!=null&&n.length&&Object.assign(r,{phoneNumber:n}),r},kv=(e,n)=>{let t=y({},_c,n),r=V(t,pj);return Object.values(r).includes(e)};var ce;(function(e){e.USERS="USERS",e.STATS="STATS",e.UPDATE_USER="UPDATE_USER",e.DELETE_USER="DELETE_USER",e.RESEND_ACTIVATE_LINK="RESEND_ACTIVATE_LINK",e.RESEND_INVITATION_LINK="RESEND_INVITATION_LINK",e.ROLES_AND_PERMISSIONS="ROLES_AND_PERMISSIONS",e.CREATE_TOKEN_LINK="CREATE_TOKEN_LINK",e.GET_TOKEN_LINK="GET_TOKEN_LINK",e.UPDATE_TOKEN_LINK="UPDATE_TOKEN_LINK",e.DELETE_TOKEN_LINK="DELETE_TOKEN_LINK",e.CONFIG_TOKEN_LINK="CONFIG_TOKEN_LINK",e.CONFIG_TEMPORARY_USERS="CONFIG_TEMPORARY_USERS",e.UPDATE_USER_EXPIRATION_TIME="UPDATE_USER_EXPIRATION_TIME"})(ce||(ce={}));var hj=["user"],gj=["callback","events"],mj=["user"],vj=["callback","events"],yj=["user"],Sj=["callback"],bj=["callback"],Hc=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.activateAccountState,f)},i=()=>{Q(e,["auth","activateAccountState"],cv)},s=f=>{Object.assign(e.auth.activateAccountState.activationStrategy,f)},c=f=>l(null,null,function*(){let{userId:h,token:v}=f;o({loading:!0,step:Fn.activating});try{e.auth.isAuthenticated&&(yield r.silentLogout());let D=yield n.auth.getActivateAccountStrategy({userId:h,token:v});s({strategy:D,loading:!1,error:void 0}),D.shouldSetPassword&&o({loading:!1,step:Fn.activatingForm})}catch(S){o({loading:!1,error:_(S)})}}),a=D=>l(null,[D],function*({loginResponse:f,events:h,onRedirectTo:v,routes:S}){let{user:T}=f,m=V(f,hj);if(T.redirectLocation){window.location.href=T.redirectLocation;return}if(yn(T,e.root.appName)){o({step:Fn.success});let w=yield r.getMfaRequiredState(T);r.setAuthState(w),yield Y(1e3),v(S.loginUrl,{preserveQueryParams:!0})}else{var E;o({step:Fn.success});let w={email:T.email,origin:Pr.ACTIVATION_LINK,id:T.id,tenantId:T.tenantId,name:T.name,createdAt:new Date};h==null||(E=h.userVerified)==null||E.call(h,w),or(mn.USER_VERIFIED,w),r.afterAuthenticationStateUpdate(y({user:T},m),{isAuthenticated:!0}),yield Y(5e3),yield r.afterAuthNavigation(),i()}});return{setActivateState:o,resetActivateState:i,setActivateStrategyState:s,activateAccount:f=>l(null,null,function*(){let{callback:h,events:v}=f,S=V(f,gj);o({loading:!0,submitting:!0});try{let D=ie.for(e.root.appName).onRedirectTo,T=e.auth.routes,m=yield n.auth.activateAccountV2(S),{user:E}=m,w=V(m,mj);o({submitting:!1}),yield a({loginResponse:y({user:E},w),events:v,onRedirectTo:D,routes:T}),h?.(!0)}catch(D){o({loading:!1,error:_(D)})}}),preActivateAccount:c,getActivateAccountStrategy:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,Sj);s({loading:!0});try{let S=yield n.auth.getActivateAccountStrategy(v);s({strategy:S,loading:!1,error:void 0}),h?.(S)}catch(S){s({loading:!1,error:_(S)})}}),resendActivationEmail:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,bj);r.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:v.email}),o({loading:!0});try{yield n.auth.resendActivationEmail(v),o({loading:!1,error:void 0,resentEmail:!0}),h?.(!0)}catch(S){o({loading:!1,error:_(S)}),h?.(null,S)}finally{r.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:!1})}}),activateAccountWithCode:f=>l(null,null,function*(){let{callback:h,events:v}=f,S=V(f,vj);o({loading:!0,submitting:!0});try{let D=ie.for(e.root.appName).onRedirectTo,T=e.auth.routes,m=yield n.auth.activateAccountWithOTC(S),{user:E}=m,w=V(m,yj);o({submitting:!1}),yield a({loginResponse:y({user:E},w),events:v,onRedirectTo:D,routes:T}),h?.(!0)}catch(D){o({submitting:!1,loading:!1,error:_(D),step:Fn.activating})}})}};var Lv={loading:!1,error:void 0,unlockAccountSuccess:!1},Fv=e=>K(Lv,e);var Gc=(e,n,t)=>{let r=s=>{Object.assign(e.auth.unlockAccountState,s)};return{setUnlockAccountState:r,resetUnlockAccountState:()=>{Q(e,["auth","activateAccountState"],Lv)},unlockAccount:s=>l(null,null,function*(){let{token:c}=s,a=ie.for(e.root.appName).onRedirectTo,u=e.auth.routes;r({loading:!0});try{yield n.users.unlockMe({token:c}),r({loading:!1,error:void 0,unlockAccountSuccess:!0}),yield Y(5e3),a(u.loginUrl)}catch(d){r({loading:!1,error:_(d)})}})}};var Uv={apiTokenType:null,showAddTokenDialog:!1,createdByUserIdColumn:"show",deleteTokenDialog:{open:!1,clientId:""},successDialog:{open:!1,secret:"",clientId:""},loaders:{},apiTokensDataTenant:[],apiTokensDataUser:[],roles:[],permissions:[],errors:{}},jv=e=>K(Uv,e);var $e;(function(e){e.LOAD_API_TOKENS="LOAD_API_TOKENS",e.ADD_API_TOKEN="ADD_API_TOKEN",e.DELETE_API_TOKEN="DELETE_API_TOKEN"})($e||($e={}));var Wc=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.apiTokensState,{loaders:y({},e.auth.apiTokensState.loaders,{[v.key]:v.value})})},i=v=>{Object.assign(e.auth.apiTokensState,{errors:y({},e.auth.apiTokensState.errors,{[v.key]:v.value}),loaders:y({},e.auth.apiTokensState.loaders,{[v.key]:!1})})},s=v=>{Object.assign(e.auth.apiTokensState,v)};return{setApiTokensLoader:o,setApiTokensError:i,setApiTokensState:s,resetApiTokensState:()=>{Q(e,["auth","apiTokensState"],Uv)},loadApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S;let[T=[],m=[]]=yield Promise.all([n.auth.getUserApiTokensData(),n.auth.getTenantApiTokensData()]);s({apiTokensDataUser:T,apiTokensDataTenant:m}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(S=v.callback)==null||S.call(v,!0)}catch(T){var D;i({key:$e.LOAD_API_TOKENS,value:_(T)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,null,T)}}),loadUserApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S,D;let[m=[],E]=yield Promise.all([ee(()=>n.auth.getUserApiTokensData(),v?.retryConfig),ee(()=>n.auth.getUserAccessTokensData(),v?.retryConfig)]),A=((S=E.accessTokens)!=null?S:[]).map(M=>y({},M,{type:ct.AccessToken})).concat(m.map(M=>y({},M,{type:ct.ClientCredentials}))).sort((M,O)=>new Date(O.createdAt)-new Date(M.createdAt));s({apiTokensDataUser:A??[]}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,!0)}catch(m){var T;i({key:$e.LOAD_API_TOKENS,value:_(m)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(T=v.callback)==null||T.call(v,null,m)}}),loadTenantApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S,D;let[m=[],E]=yield Promise.all([ee(()=>n.auth.getTenantApiTokensData(),v?.retryConfig),ee(()=>n.auth.getTenantAccessTokensData(),v?.retryConfig)]),A=((S=E?.accessTokens)!=null?S:[]).map(M=>y({},M,{type:ct.AccessToken})).concat(m.map(M=>y({},M,{type:ct.ClientCredentials}))).sort((M,O)=>new Date(O.createdAt)-new Date(M.createdAt));s({apiTokensDataTenant:A??[]}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,!0)}catch(m){var T;i({key:$e.LOAD_API_TOKENS,value:_(m)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(T=v.callback)==null||T.call(v,null,m)}}),addTenantApiToken:v=>l(null,null,function*(){let{description:S,roleIds:D,expires:T,callback:m}=v,E=$e.ADD_API_TOKEN;o({key:E,value:!0});try{let{policy:w}=e.auth.securityPolicyState.publicPolicy,I=w?.machineToMachineAuthStrategy===ct.AccessToken,A,M=null;T&&(M=T*1440),I?A=yield n.auth.createTenantAccessToken({description:S,expiresInMinutes:M,roleIds:D}):A=yield n.auth.updateTenantApiTokensData({description:S,roleIds:D,expiresInMinutes:M}),s({showAddTokenDialog:!1}),yield Y(200);let O=I?ct.AccessToken:ct.ClientCredentials;e.auth.apiTokensState.apiTokensDataTenant.unshift(y({},A,{type:O})),e.auth.apiTokensState.successDialog={open:!0,secret:A.secret,clientId:I?void 0:A.clientId},m?.(null)}catch(w){i({key:E,value:_(w)}),m?.(null,w)}finally{o({key:E,value:!1})}}),addUserApiToken:v=>l(null,null,function*(){let{description:S,expires:D,callback:T}=v,m=$e.ADD_API_TOKEN;o({key:m,value:!0});try{let{policy:E}=e.auth.securityPolicyState.publicPolicy,w=E?.machineToMachineAuthStrategy===ct.AccessToken,I,A=null;D&&(A=D*1440),w?I=yield n.auth.createUserAccessToken({description:S,expiresInMinutes:A}):I=yield n.auth.updateUserApiTokensData({description:S,expiresInMinutes:A}),s({showAddTokenDialog:!1}),yield Y(200);let M=w?ct.AccessToken:ct.ClientCredentials;e.auth.apiTokensState.apiTokensDataUser.unshift(y({},I,{type:M})),e.auth.apiTokensState.successDialog={open:!0,secret:I.secret,clientId:w?void 0:I.clientId},T?.(null)}catch(E){i({key:m,value:_(E)}),T?.(null,E)}finally{o({key:m,value:!1})}}),deleteUserApiToken:v=>l(null,null,function*(){let S=$e.DELETE_API_TOKEN;o({key:S,value:!0});try{let D=e.auth.apiTokensState.apiTokensDataUser;D.some(m=>m.id===v)?(yield n.auth.deleteUserAccessToken({id:v}),s({apiTokensDataUser:D.filter(m=>m.id!==v),deleteTokenDialog:{open:!1,id:v}})):(yield n.auth.deleteUserApiToken({tokenId:v}),s({apiTokensDataUser:D.filter(m=>m.clientId!==v),deleteTokenDialog:{open:!1,clientId:v}}))}catch(D){i({key:S,value:_(D)})}finally{o({key:S,value:!1})}}),deleteTenantApiToken:v=>l(null,null,function*(){let S=$e.DELETE_API_TOKEN;o({key:S,value:!0});try{let D=e.auth.apiTokensState.apiTokensDataTenant;D.some(m=>m.id===v)?(yield n.auth.deleteTenantAccessToken({id:v}),s({apiTokensDataTenant:D.filter(m=>m.id!==v),deleteTokenDialog:{open:!1,id:v}})):(yield n.auth.deleteTenantApiToken({tokenId:v}),s({apiTokensDataTenant:D.filter(m=>m.clientId!==v),deleteTokenDialog:{open:!1,id:v}}))}catch(D){i({key:S,value:_(D)})}finally{o({key:S,value:!1})}})}};var Vv={loading:!0,fetching:!0,error:null,userApplications:[],accountApplications:[],combinedUserApplications:[]},$v=e=>K(Vv,e);var qC=e=>{var n;return(n=e.map(({appIds:t})=>t).reduce((t,r)=>(r?.forEach(o=>{t&&!t.includes(o)&&t.push(o)}),t),[]))!=null?n:[]},YC=(e,n)=>{if(!e&&!n)return[];let t=new Set(e?.map(s=>s.id)||[]),o=(n?.filter(s=>s.tenantApplicationAccessType===rr.FREE_ACCESS)||[]).filter(s=>!t.has(s.id));return[...e||[],...o]};var zc=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.applicationsState,v)},i=()=>{Q(e,["auth","applicationsState"],Vv)},s=()=>{let{userApplications:v,accountApplications:S}=e.auth.applicationsState,D=YC(v,S);o({combinedUserApplications:D})},c=v=>l(null,null,function*(){o({loading:!0,fetching:!0});try{var S,D;let T=(S=(D=e.auth.user)==null?void 0:D.id)!=null?S:"",m=v?.retryConfig,E=yield ee(()=>n.applications.getUserApplicationsId({userId:T}),m),w=yield ee(()=>n.applications.getApplicationsData({appIds:E}),m);o({userApplications:w,fetching:!1,loading:!1}),s()}catch(T){o({loading:!1,fetching:!1,error:_(T)})}}),a=v=>l(null,null,function*(){let S=v?.retryConfig;o({loading:!0,fetching:!0});try{let D=yield ee(()=>n.applications.getTenantsApplicationsV2(),S),T=[...new Set(D.flatMap(A=>A.assignments.map(M=>M.appId)))],m=yield ee(()=>n.applications.getApplicationsData({appIds:T}),S),E=yield ee(()=>n.applications.getUsersOfApplications({appIds:T}),S),w=new Map;D.forEach(A=>{A.assignments.forEach(M=>{w.set(M.appId,M.accessType)})});let I=m.map(A=>{var M;return y({},A,{userIds:(M=E.find(O=>O.appId===A.id))==null?void 0:M.userIds,tenantApplicationAccessType:w.get(A.id)})});o({accountApplications:I,fetching:!1,loading:!1}),s()}catch(D){o({loading:!1,fetching:!1,error:_(D)})}}),u=D=>l(null,[D],function*({userIds:v,retryConfig:S}){try{let[T,m]=yield Promise.all([ee(()=>n.applications.getUsersApplicationsId({userIds:v}),S),ee(()=>n.applications.getTenantsApplicationsV2(),S)]),E=m.flatMap(M=>M.assignments).filter(M=>M.accessType===rr.FREE_ACCESS).map(M=>M.appId),w=qC(T),I=[...new Set([...w,...E])],A=new Map;if(I.length>0){let M=yield ee(()=>n.applications.getApplicationsData({appIds:I}),S);A=new Map(M.map(O=>[O.id,O]))}return v.reduce((M,O)=>{var L,x;let N=[],k=new Set((L=(x=T.find(P=>P.userId===O))==null?void 0:x.appIds)!=null?L:[]);return A.forEach((P,F)=>{(k.has(F)||P.accessType===rr.FREE_ACCESS||E.includes(F))&&N.push(P)}),M[O]=N,M},{})}catch(T){o({error:_(T)})}}),d="Assignment action failed. Try again or contact support.";return{setApplicationsState:o,resetApplicationsState:i,loadUserApplications:c,loadAccountApplications:a,loadMultipleUsersApplications:u,assignUserToApps:v=>l(null,null,function*(){let{userId:S,appIds:D,callback:T}=v;try{var m,E,w,I,A,M,O,L,x;let N=(m=(E=e.auth)==null||(w=E.user)==null?void 0:w.tenantId)!=null?m:"";yield n.applications.assignUserToApplications({userId:S,appIds:D,tenantId:N});let k=(I=e.auth)==null||(A=I.applicationsState)==null?void 0:A.accountApplications,P=(M=(O=e.auth)==null||(L=O.teamState)==null?void 0:L.users)!=null?M:[],F=(x=k?.filter(C=>D.includes(C.id)))!=null?x:[];F!=null&&F.length&&t.setTeamState({users:P.map(C=>{var R;return C.id===S?y({},C,{applications:[...(R=C.applications)!=null?R:[],...F]}):C})}),T?.(!0)}catch(N){o({error:_(N,d)}),T?.(!1)}}),unassignUserFromApps:v=>l(null,null,function*(){let{userId:S,appIds:D,callback:T}=v;try{var m,E,w,I,A,M,O;let L=(m=(E=e.auth)==null||(w=E.user)==null?void 0:w.tenantId)!=null?m:"";yield n.applications.unassignUserFromApplications({userId:S,appIds:D,tenantId:L});let x=(I=(A=e.auth)==null||(M=A.teamState)==null?void 0:M.users)!=null?I:[],N=(O=x.find(k=>k.id===S))==null?void 0:O.applications;N!=null&&N.length&&D.length&&t.setTeamState({users:x.map(k=>k.id===S?y({},k,{applications:N.filter(P=>!D.includes(P.id))}):k)}),T?.(!0)}catch(L){o({error:_(L,d)}),T?.(!1)}}),assignNewUserToApps:D=>l(null,[D],function*({appIds:v,user:S}){var T,m,E;let[w]=yield r.getFeatureFlags(["multi-apps-admin-portal"]);if(!w)return;let I=(T=e.auth)==null||(m=T.applicationsState)==null?void 0:m.accountApplications,A=(E=I?.filter(x=>x.accessType===rr.FREE_ACCESS||x.tenantApplicationAccessType===rr.FREE_ACCESS))!=null?E:[];if(v!=null&&v.length){var M,O,L;let x=(M=(O=e.auth)==null||(L=O.user)==null?void 0:L.tenantId)!=null?M:"";return yield n.applications.assignUserToApplications({userId:S.id,appIds:v,tenantId:x}),v.map(N=>{var k;return(k=I?.find(P=>P.id===N))!=null?k:[]}).concat(A)}else return A}),mapUsersWithApplicationData:T=>l(null,[T],function*({shouldLoadApps:v,users:S,retryConfig:D}){let[m]=yield t.getFeatureFlags(["multi-apps-admin-portal"]);if(!m||!v)return S;let E=S.map(I=>I.id),w=yield u({userIds:E,retryConfig:D});return w?S.map(I=>w!=null&&w[I.id]?y({},I,{applications:w[I.id]}):I):S})}};var Bv={loading:!0,error:null},Hv=e=>K(Bv,e);var wj=["callback"],qc=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.customLoginState,d)},i=()=>{Q(e,["auth","customLoginState"],Bv)},s=()=>l(null,null,function*(){o({loading:!0});try{let d=yield n.metadata.getAdminBoxMetadata();o({tenantMetadata:d,loading:!1})}catch(d){o({loading:!1,error:_(d)})}}),c=d=>l(null,null,function*(){let{callback:p}=d,g=V(d,wj);try{o({error:null,saving:!0});let f=Jf(g);if(f.length===0)throw new Error("No changes to update");yield n.metadata.updateAdminBoxMetadata({actions:f});let h=yield n.metadata.getAdminBoxMetadata();o({tenantMetadata:h,saving:!1}),p?.(!0)}catch(f){o({error:_(f,"No changes to update"),saving:!1}),p?.(null,f)}}),a=()=>l(null,null,function*(){var d,p,g;if(e.auth.isAuthenticated){var h,v;return(h=(v=e.auth.tenantsState.activeTenant)==null?void 0:v.hasCustomLogin)!=null?h:!1}return!!((d=yield(p=ie.for(e.root.appName).getContext())==null||(g=p.tenantResolver)==null?void 0:g.call(p))==null?void 0:d.tenant)});return{setCustomLoginState:o,resetCustomLoginState:i,loadTenantMetadata:s,updateTenantMetadata:c,customLoginEnabled:a,loadCustomLoginRoutes:d=>l(null,null,function*(){try{var p,g;if(!(yield a())){var f;d==null||(f=d.callback)==null||f.call(d,!0);return}let D=e.auth.isAuthenticated,{getSettings:T,getPublicSettings:m}=n.accountSettings,{applicationUrl:E}=yield ee(D?T:m,d?.retryConfig);if(!E){var h;d==null||(h=d.callback)==null||h.call(d,!0);return}let w=e.auth.routes,I=(p=Zf(E))!=null?p:"";r.setAuthState({routes:y({},w,{customLoginAuthenticatedUrl:E,customLoginUrl:w.loginUrl+I})}),o({customLoginSearchParams:I??void 0}),d==null||(g=d.callback)==null||g.call(d,!0)}catch(S){var v;d==null||(v=d.callback)==null||v.call(d,null,S)}})}};var Sn;(function(e){e.forgotPassword="forgotPassword",e.resetPasswordViaSms="resetPasswordViaSms",e.passwordRecoverySelector="passwordRecoverySelector",e.resetPasswordPage="resetPasswordPage",e.forgotPasswordEmailSuccess="forgotPasswordEmailSuccess",e.resetPasswordSuccess="resetPasswordSuccess"})(Sn||(Sn={}));var Gv={step:Sn.forgotPassword,loading:!1,identifier:"",identifierType:Bo.email,sessionId:"",userId:"",token:"",passwordConfig:null},Wv=e=>K(Gv,e);var Aj=["callback"],Yc=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.forgotPasswordState,f)},i=()=>{Q(e,["auth","forgotPasswordState"],Gv)},s=f=>l(null,null,function*(){o({loading:!0});try{var h;yield n.auth.forgotPassword(f),o({loading:!1,error:void 0,step:Sn.forgotPasswordEmailSuccess}),(h=f.callback)==null||h.call(f,!0)}catch(S){var v;o({loading:!1,error:_(S,"Unknown error occurred")}),(v=f.callback)==null||v.call(f,!1,S)}}),c=()=>l(null,null,function*(){let{identifier:f,identifierType:h}=e.auth.forgotPasswordState;o({loading:!0});try{yield n.auth.resetPasswordViaEmail({identifier:f,identifierType:h}),o({loading:!1,error:void 0,step:Sn.forgotPasswordEmailSuccess})}catch(v){o({loading:!1,error:_(v,"An error occurred while sending recovery email")})}});return{setForgotPasswordState:o,resetForgotPasswordState:i,forgotPassword:s,resetPassword:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,Aj);o({loading:!0});try{yield n.auth.resetPassword(v),o({loading:!1,error:void 0,step:Sn.resetPasswordSuccess}),h?.(!0)}catch(S){o({loading:!1,error:_(S)}),h?.(!1,S)}}),loadPasswordConfig:f=>l(null,null,function*(){o({loading:!0});try{let h=yield n.auth.loadPasswordConfig(f);o({loading:!1,passwordConfig:h})}catch(h){o({loading:!1,error:_(h)})}}),determinePasswordRecoveryStrategy:f=>l(null,null,function*(){o({loading:!0,error:void 0,identifier:f.identifier,identifierType:f.identifierType});try{let h=yield n.auth.getPasswordRecoveryStrategies(),v=h.some(D=>D.strategy===ws.Email&&D.isActive),S=h.some(D=>D.strategy===ws.Sms&&D.isActive);v&&S?o({loading:!1,step:Sn.passwordRecoverySelector,activeStrategies:h}):v?yield c():o(S?{loading:!1,step:Sn.resetPasswordViaSms,activeStrategies:h}:{loading:!1,error:"No active password recovery methods found.",activeStrategies:h})}catch(h){o({loading:!1,error:_(h,"An error occurred while determining recovery strategy")})}}),sendPasswordRecoveryEmail:c,sendPasswordRecoverySms:()=>l(null,null,function*(){let{identifier:f,identifierType:h}=e.auth.forgotPasswordState;o({loading:!0});try{let v=yield n.auth.resetPasswordViaSms({identifier:f,identifierType:h});o({loading:!1,error:void 0,sessionId:v.sessionId})}catch(v){o({loading:!1,error:_(v,"An error occurred while sending recovery sms")})}}),verifyPasswordViaSms:f=>l(null,null,function*(){let{sessionId:h}=e.auth.forgotPasswordState;if(!h){o({loading:!1,error:"Session ID not found in state for verifying password via sms."});return}o({loading:!0});try{let v=yield n.auth.verifyPasswordViaSms({otcToken:f.otcToken,sessionId:h});if(!v.userId||!v.token){let S="Invalid response from server: missing userId or token";throw new Error(S)}o({loading:!1,error:void 0,userId:v.userId,token:v.token,step:Sn.resetPasswordPage})}catch(v){o({loading:!1,error:_(v,"An error occurred while verifying password via sms")})}})}};var di;(function(e){e.success="success",e.notification="notification"})(di||(di={}));var Ej={step:di.notification},zv=e=>K(Ej,e);var Zc=(e,n,t)=>{let r=i=>{Object.assign(e.auth.passwordRotationState,i)};return{setStep:i=>{r({step:i})}}};var qv={loaders:{},errors:{},groups:[],groupsConfiguration:{}},Yv=e=>K(qv,e);var ze;(function(e){e.CREATE_GROUP="CREATE_GROUP",e.GET_GROUP="GET_GROUP",e.GET_GROUPS="GET_GROUPS",e.DELETE_GROUP="DELETE_GROUP",e.UPDATE_GROUP="UPDATE_GROUP",e.ADD_USERS_TO_GROUP="ADD_USERS_TO_GROUP",e.DELETE_USERS_FROM_GROUP="DELETE_USERS_FROM_GROUP",e.ADD_ROLES_TO_GROUP="ADD_ROLES_TO_GROUP",e.DELETE_ROLES_FROM_GROUP="DELETE_ROLES_FROM_GROUP",e.GET_GROUP_CONFIGURATION="GET_GROUP_CONFIGURATION",e.UPDATE_GROUP_CONFIGURATION="UPDATE_GROUP_CONFIGURATION",e.GET_TEAM_USERS="GET_TEAM_USERS"})(ze||(ze={}));var Vs;(function(e){e.roles="roles",e.users="users",e.rolesAndUsers="rolesAndUsers"})(Vs||(Vs={}));var Dj=["roleIds","userIds"],Kc=(e,n,t)=>{let r=m=>{Object.assign(e.auth.groupsState,{loaders:y({},e.auth.groupsState.loaders,{[m.key]:m.value})})},o=m=>{Object.assign(e.auth.groupsState,{errors:y({},e.auth.groupsState.errors,{[m.key]:m.value}),loaders:y({},e.auth.groupsState.loaders,{[m.key]:!1})})},i=m=>{Object.assign(e.auth.groupsState,m)},s=()=>{Q(e,["auth","groupsState"],qv)},c=m=>l(null,null,function*(){let E=ze.GET_GROUPS,w=e.auth.groupsState;r({key:E,value:!0});try{let{groups:I}=yield ee(()=>n.groups.getGroups({_groupsRelations:Vs.rolesAndUsers}),m?.retryConfig);i(y({groups:I},w.selectedGroup&&{selectedGroup:I.find(A=>{var M;return A.id===((M=w.selectedGroup)==null?void 0:M.id)})}))}catch(I){o({key:E,value:_(I)})}finally{r({key:E,value:!1})}}),a=m=>l(null,null,function*(){let E=ze.GET_GROUP;r({key:E,value:!0});try{let w=yield n.groups.getGroupById({groupId:m.groupId},{_groupsRelations:Vs.rolesAndUsers});i({selectedGroup:w})}catch(w){o({key:E,value:_(w)})}finally{r({key:E,value:!1})}}),u=m=>l(null,null,function*(){let E=ze.CREATE_GROUP,{roleIds:w,userIds:I}=m,A=V(m,Dj);r({key:E,value:!0});try{var M;let L=yield n.groups.createGroup(y({name:A.name},!!A.description&&{description:A.description},{color:A.color}));I!=null&&I.length&&h({groupId:L.id,userIds:I}),w!=null&&w.length&&g({groupId:L.id,roleIds:w}),yield c(),m==null||(M=m.callback)==null||M.call(m,!0)}catch(L){var O;o({key:E,value:_(L)}),m==null||(O=m.callback)==null||O.call(m,!1)}finally{r({key:E,value:!1})}}),d=m=>l(null,null,function*(){let E=ze.UPDATE_GROUP;r({key:E,value:!0});try{var w;yield n.groups.updateGroup(m),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;o({key:E,value:_(A)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),p=m=>l(null,null,function*(){let E=ze.DELETE_GROUP;r({key:E,value:!0});try{var w;yield n.groups.deleteGroup(m.groupId),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;o({key:E,value:_(A)}),m==null||(I=m.callback)==null||I.call(m,!1,A)}finally{r({key:E,value:!1})}}),g=m=>l(null,null,function*(){let E=ze.ADD_ROLES_TO_GROUP;r({key:E,value:!0});try{var w;yield n.groups.addRolesToGroup(m.groupId,{roleIds:m.roleIds}),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;o({key:E,value:_(A)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),f=m=>l(null,null,function*(){let E=ze.DELETE_ROLES_FROM_GROUP;r({key:E,value:!0});try{var w;yield n.groups.deleteRolesFromGroup(m.groupId,{roleIds:m.roleIds}),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;o({key:E,value:_(A)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),h=m=>l(null,null,function*(){let E=ze.ADD_USERS_TO_GROUP;r({key:E,value:!0});try{var w;yield n.groups.addUsersToGroup(m.groupId,{userIds:m.userIds}),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;m==null||(I=m.callback)==null||I.call(m,!1),o({key:E,value:_(A)})}finally{r({key:E,value:!1})}}),v=m=>l(null,null,function*(){let E=ze.DELETE_USERS_FROM_GROUP;r({key:E,value:!0});try{var w;yield n.groups.deleteUsersFromGroup(m.groupId,{userIds:m.userIds}),yield c(),m==null||(w=m.callback)==null||w.call(m,!0)}catch(A){var I;o({key:E,value:_(A)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),S=m=>l(null,null,function*(){let E=ze.GET_GROUP_CONFIGURATION;r({key:E,value:!0});try{let w=yield ee(()=>n.groups.getGroupConfiguration(),m?.retryConfig);i({groupsConfiguration:w})}catch(w){o({key:E,value:_(w)})}finally{r({key:E,value:!1})}});return{setUsersGroupsLoader:r,setUsersGroupsError:o,setGroupsState:i,resetUsersGroupsState:s,loadGroups:c,getGroupById:a,createGroup:u,updateGroup:d,deleteGroup:p,addRolesToGroup:g,deleteRolesFromGroup:f,addUsersToGroup:h,deleteUsersFromGroup:v,getGroupConfiguration:S,updateGroupConfiguration:m=>l(null,null,function*(){let E=ze.UPDATE_GROUP_CONFIGURATION;r({key:E,value:!0});try{yield n.groups.updateGroupConfiguration(m),yield S()}catch(w){o({key:E,value:_(w)})}finally{r({key:E,value:!1})}}),getTeamUsers:m=>l(null,null,function*(){let E=ze.GET_TEAM_USERS;r({key:E,value:!0});try{let{items:w}=yield n.users.getUsersV2({_filter:m.filter,_offset:m.pageOffset,_limit:m.pageSize,_includeSubTenants:!1});i({teamUsers:w})}catch(w){o({key:E,value:_(w)})}finally{r({key:E,value:!1})}})}};var Zv={addGroupDialogState:{loading:!1,open:!1},editGroupDialogState:{loading:!1,open:!1},deleteGroupDialogState:{loading:!1,open:!1},addMembersToGroupDialogState:{loading:!1,open:!1,userIds:[]},deleteMemberFromGroupDialogState:{loading:!1,open:!1}},Kv=e=>K(Zv,e);var Qc=(e,n,t)=>({setGroupsDialogsState:v=>{Object.assign(e.auth.groupsDialogsState,v)},resetGroupsDialogsState:()=>{Q(e,["auth","groupsDialogsState"],Zv)},openAddGroupDialog:()=>{e.auth.groupsDialogsState.addGroupDialogState.open=!0},closeAddGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.addGroupDialogState,{open:!1,group:void 0})},openAddMembersToGroupDialog:()=>{e.auth.groupsDialogsState.addMembersToGroupDialogState.open=!0},closeAddMembersToGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.addMembersToGroupDialogState,{open:!1,userIds:[]})},openEditGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.editGroupDialogState,y({},v,{open:!0}))},closeEditGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.editGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.deleteGroupDialogState,y({},v,{open:!0}))},closeDeleteGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.deleteGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteMemberFromGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.deleteMemberFromGroupDialogState,v)},closeDeleteMemberFromGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.deleteMemberFromGroupDialogState,{open:!1,userId:void 0,email:void 0})}});var fi;(function(e){e.impersonating="impersonating",e.success="success"})(fi||(fi={}));var Qv={step:fi.impersonating,loading:!1},Jv=e=>K(Qv,e);var Ij=["callback","events"],Jc=(e,n,t)=>{let r=t,o=c=>{Object.assign(e.auth.impersonateState,c)},i=()=>{Q(e,["auth","impersonateState"],Qv)};return{setImpersonateState:o,resetImpersonateState:i,impersonate:c=>l(null,null,function*(){let{callback:a}=c,u=V(c,Ij);o({loading:!0});try{let d=yield n.impersonate.impersonate(u);o({step:fi.success}),yield Y(1e3),yield r.afterAuthNavigation({preventRedirectUrlOriginCleaning:!0}),i(),a?.(!0)}catch(d){o({loading:!1,error:_(d)})}})}};var Xv={flow:ut.Login,step:Se.preLogin,loading:!1,email:"",tenants:[]},ey=e=>K(Xv,e);var ZC=(e,n,t)=>{let r=t;function o(d){var p,g;return d.startsWith((p=window)==null?void 0:p.location.origin)?d.replace((g=window)==null?void 0:g.location.origin,""):d}function i({user:d,tenants:p=[],activeTenant:g},f={}){let h=e.auth.tenantsState;r.setAuthState(y({user:d,tenantsState:y({},h,{tenants:p,activeTenant:g,loading:!1})},f))}function s(g){return l(this,arguments,function*({customLoginAuthenticatedUrl:d,preventRedirectUrlOriginCleaning:p}){let{routes:f,includeQueryParam:h=!1,enforceRedirectToSameSite:v=!1,allowedRedirectOrigins:S=[]}=e.auth,D=window.localStorage.getItem(Xo);if(d&&!D)return xv(d,p);let{authenticatedUrl:T,loginUrl:m,logoutUrl:E,socialLoginCallbackUrl:w,activateUrl:I,activateWithOTCUrl:A}=f,M=D;(!M||[m,E,w,I,A].includes(M))&&(M=T);let O=Tv({authenticatedUrl:M,includeQueryParam:h,enforceRedirectToSameSite:v,allowedRedirectOrigins:S});return p?O:o(O)})}let c=(g,...f)=>l(null,[g,...f],function*(d,p={}){let{customLoginAuthenticatedUrl:h,forceStepUpUrl:v,shouldStepUpDuringLogin:S,preventRedirectUrlOriginCleaning:D=!1}=p,T=e.auth.onRedirectTo,m;if(v)m=v;else{var E;if(S){let w=window.localStorage.getItem(Xo);w&&!Yf(w)&&(m=w)}m||(m=yield s({customLoginAuthenticatedUrl:h,preventRedirectUrlOriginCleaning:D})),(E=window)==null||E.localStorage.removeItem(Xo)}yield Y(200),yield d(),T(m,{refresh:m.startsWith("http")})});return{afterAuthNavigationUtil:c,afterAuthNavigation:d=>l(null,null,function*(){var p,g;let{customLoginAuthenticatedUrl:f,stepUpUrl:h}=e.auth.routes,v=(p=window)==null?void 0:p.localStorage.getItem(en),S=e.auth.user;if(v){var D;(D=window)==null||D.localStorage.removeItem(en)}if(h&&v&&!li(S))return c(r.resetLoginState,{forceStepUpUrl:h});let T=f;if(!f){var m;yield r.loadCustomLoginRoutes(),T=(m=e.auth.routes)==null?void 0:m.customLoginAuthenticatedUrl}return c(r.resetLoginState,{customLoginAuthenticatedUrl:T,shouldStepUpDuringLogin:!!v,preventRedirectUrlOriginCleaning:(g=d?.preventRedirectUrlOriginCleaning)!=null?g:!1})}),afterStepUpAuthNavigation:()=>l(null,null,function*(){return c(r.resetStepUpState)}),afterAuthenticationStateUpdate:i}};function KC(e,n,t){let r=t,o=a=>l(null,null,function*(){let u=e.root.appName;return hn.getFeatureFlags(a,u)}),i=()=>l(null,null,function*(){return yield r.afterStepUpAuthNavigation()}),s=(a,u)=>l(null,null,function*(){let d=e.auth.loginState,p=e.auth.mfaState.step,[g]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(d.flow===ut.Login){if(g&&d.isBreachedPassword&&!a){r.setLoginState({step:Se.breachedPassword,loading:!1});return}if(ui(u,e.root.appName)){r.setLoginState({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:u.resetPasswordToken,userId:u.userId});return}if(ci(u)){r.setLoginState({step:Se.passwordRotationNotification,loading:!1});return}let f=yield r.__shouldShowPromptPasskeys();p===Ne.smsVerifyCode&&f?r.setLoginState({step:Se.promptPasskeys,loading:!1}):yield r.afterAuthNavigation()}});return{postHandleVerifyMFAResponseForStepUp:i,postHandleVerifyMFAResponseForLogin:s,handleVerifyMFAResponse:(a,u=!1)=>l(null,null,function*(){let{user:d,tenants:p,activeTenant:g}=a;r.setUser(d),r.setTenantsState({tenants:p,activeTenant:g,loading:!1}),d.id&&localStorage.setItem("userId",d.id);let f=!!d.accessToken;return r.setAuthState({isAuthenticated:f}),u?yield i():yield s(f,d)}),getFeatureFlags:o}}var QC=(e,n,t)=>({getMfaRequiredState:(o,i,s=!1,c)=>l(null,null,function*(){var a,u,d;let p=Se.loginWithTwoFactor,g={step:Ne.verify,loading:!1,saving:!1},f=e.auth.loginState,h,v;try{let m=yield ee(()=>n.auth.checkIfAllowToRememberMfaDevice(o.mfaToken),i);h=m.isAllowedToRemember,v=m.mfaDeviceExpiration}catch(m){if(!s)throw m}!("mfaEnrolled"in o&&!o.mfaEnrolled)||((a=o.mfaDevices)==null||(u=a.emails)==null?void 0:u.length)?Object.assign(g,{mfaDevices:o.mfaDevices,mfaToken:o.mfaToken,step:Bc(o.mfaDevices)}):(Object.assign(g,{step:Mv(o.mfaStrategies),qrCode:o.qrCode,recoveryCode:o.recoveryCode,loading:!1,mfaToken:o.mfaToken,mfaStrategies:o.mfaStrategies}),p=Se.forceTwoFactor);let D={},T=localStorage.getItem("register-quick-login");return T&&(D={quickLoginToRegister:T,flow:ut.RegisterQuickLogin}),{user:void 0,isAuthenticated:!1,mfaState:g,loginState:y({},f,D,{mfaToken:o.mfaToken,mfaRequired:o.mfaRequired,loading:!1,error:void 0,step:p,tenantsLoading:!0,email:(d=o.userEmail)!=null?d:c,tenants:[],allowRememberMfaDevice:h,mfaDeviceExpiration:v,isBreachedPassword:o.isBreachedPassword})}})});var Cj=["callback"],JC=(e,n,t)=>{let r=t;function o(u,d,p){return l(this,null,function*(){let g=e.auth.loginState,f={};if(!p){let h=g.flow===ut.Login?Se.success:g.step;f={loginState:{flow:g.flow,quickLoginToRegister:g.quickLoginToRegister,loading:!1,step:h,error:void 0,tenants:u}}}return y({},f,{isAuthenticated:d})})}function i(u,d,p){return l(this,null,function*(){let g=e.auth.loginState;if(g.flow!==ut.Login)return;let[f]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(f&&g.isBreachedPassword&&!u){r.setLoginState({step:Se.breachedPassword,loading:!1}),p?.(!0);return}if(ui(d,e.root.appName)){r.setLoginState({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:d.resetPasswordToken,userId:d.userId}),p?.(!0);return}if(ci(d)){r.setLoginState({step:Se.passwordRotationNotification,loading:!1}),p?.(!0);return}(yield r.__shouldShowPromptPasskeys())?r.setLoginState({step:Se.promptPasskeys,loading:!1}):yield r.afterAuthNavigation(),p?.(!0)})}function s(u){return l(this,null,function*(){yield r.afterStepUpAuthNavigation(),u?.(!0)})}let c=(u,d,p)=>l(null,null,function*(){let{callback:g}=u,f=V(u,Cj);d({loading:!0,error:void 0});try{let{user:h,tenants:v=[],activeTenant:S}=yield n.auth.loginWithMfaV2(f),D=!!h.accessToken,T=yield o(v,D,p);return yield r.afterAuthenticationStateUpdate({user:h,tenants:v,activeTenant:S},T),h.id&&localStorage.setItem("userId",h.id),d({loading:!1,error:void 0}),p?yield s(g):yield i(D,h,g)}catch(h){d({loading:!1,error:_(h)}),g?.(!1,h)}});return{mfaWithAuthenticator:c,loginWithMfa:u=>l(null,null,function*(){return yield c(u,r.setLoginState,!1)})}};var _j=["callback"],Tj=["callback"],XC=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){var d;let{callback:p}=a,g=V(a,_j);u=(d=u)!=null?d:r.setLoginState,u({loading:!0,error:void 0});try{let f=yield n.auth.preVerifyMFAEmailCode(g);r.setMfaState({otcToken:f.otcToken,step:Ne.emailVerifyCode}),u({loading:!1,error:void 0}),p?.(!0)}catch(f){u({error:_(f)}),p?.(null)}}),i=(a,u)=>l(null,null,function*(){var d;let{callback:p}=a,g=V(a,Tj);u=(d=u)!=null?d:r.setLoginState,u({loading:!0});try{let f=yield n.auth.verifyMFAEmailCodeV2(g);yield r.handleVerifyMFAResponse(f),u({loading:!1,error:void 0}),p?.(!0)}catch(f){u({loading:!1,error:_(f)}),p?.(null)}});return{preVerifyMFAEmailCode:o,verifyMFAEmailCode:i,preVerifyMFAEmailCodeForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFAEmailCodeForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState)})}};var xj=["callback","deviceId"],Mj=["callback","deviceId"],e_=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){let{callback:d,deviceId:p}=a,g=V(a,xj);u({loading:!1,error:void 0});try{let f=yield n.auth.preVerifyMFASMSForLogin(p,g);r.setMfaState({otcToken:f.otcToken,step:Ne.smsVerifyCode,phoneNumber:f.phoneNumber}),u({loading:!1,error:void 0}),d?.(!0)}catch(f){u({loading:!1,error:_(f)}),d?.(null)}}),i=(a,u,d=!1)=>l(null,null,function*(){let{callback:p,deviceId:g}=a,f=V(a,Mj);u({loading:!0});try{let h=yield n.auth.verifyMFASMSForLoginV2(g,f);yield r.handleVerifyMFAResponse(h,d),u({loading:!1,error:void 0}),p?.(!0)}catch(h){u({loading:!1,error:_(h)}),p?.(null)}});return{preVerifyMFASMS:o,verifyMFASMS:i,preVerifyMFASMSForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFASMSForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState,!1)})}};var Pj=["callback","deviceId"],Rj=["callback","deviceId"],t_=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){let{callback:d,deviceId:p}=a,g=V(a,Pj);u({loading:!0});try{var f;let h=yield n.auth.preVerifyMFAWebAuthnForLogin(p,g),v=y({},h.options,{challenge:bt(h.options.challenge),allowCredentials:(f=h.options.allowCredentials)==null?void 0:f.map(S=>y({},S,{id:bt(S.id)}))});u({loading:!1,error:void 0}),d?.({options:v,webauthnToken:h.webauthnToken})}catch(h){u({loading:!1,error:_(h)}),d?.(null)}}),i=(a,u,d)=>l(null,null,function*(){let{callback:p,deviceId:g}=a,f=V(a,Rj);u({loading:!0});try{let h=gn(f.publicKey),v=yield n.auth.verifyMFAWebAuthnForLoginV2(g,y({},f,{options:h}));yield r.handleVerifyMFAResponse(v,d),u({loading:!1,error:void 0}),p?.(!0)}catch(h){u({loading:!1,error:_(h)}),p?.(null)}});return{preVerifyMFAWebAuthn:o,verifyMFAWebAuthn:i,preVerifyMFAWebAuthnForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFAWebAuthnForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState,!1)})}};var n_=(e,n,t)=>{let r=t,o=()=>l(null,null,function*(){let u=yield n.auth.silentOAuthRefreshTokenV2();if(u!=null&&u.user)yield r.afterAuthenticationStateUpdate(u,{isAuthenticated:!0,isLoading:!1});else throw new Error("couldn't refresh user token with oauth service")}),i=u=>l(null,null,function*(){var d;let{routes:p,onRedirectTo:g}=e.auth,{context:f,urlStrategy:h}=e.root;if(Xf(h)===p.hostedLoginRedirectUrl){console.debug("Calling loginWithRedirect while in hostedLoginCallback route");return}r.setAuthState({isLoading:!0});let S=Df(),D=Df(),T=yield iv(D);localStorage.setItem(Sf,D);let m=Kf(e),E=`${window.location.origin}${h==="path"?"":"#"}${m??""}${p.hostedLoginRedirectUrl}`;yield r.loadCustomLoginRoutes();let w=(d=e.auth.customLoginState)==null?void 0:d.customLoginSearchParams;w&&(E.endsWith("/")&&(E=E.slice(0,-1)),E+=w);let A=`${n.fetch.getBaseUrl(f,"/oauth/authorize")}/oauth/authorize`,M=y({response_type:"code",client_id:f.appId||f.clientId||"INVALID-CLIENT-ID",scope:"openid email profile",redirect_uri:E,code_challenge:T,code_challenge_method:"S256",nonce:S},u);if(f.tenantResolver){var O;let k=yield(O=f.tenantResolver)==null?void 0:O.call(f);k!=null&&k.tenant&&(M.organization=k.tenant)}let L=Vc($c);L&&(M.tenantId=L);let x=new URLSearchParams(M),N=`${A}?${x.toString()}`;g(N,{refresh:!0})});return{requestHostedLoginAuthorize:u=>l(null,null,function*(){var d;(d=localStorage)==null||d.removeItem(en);let p=e.auth.disableSilentRefresh;if(u?.prompt==="login")return yield i(u);try{if(p)throw new Error("silent refresh is disabled");return yield o()}catch{return yield i(u)}}),requestHostedLoginAuthorizeV2:u=>l(null,null,function*(){var d,p;let{shouldRedirectToLogin:g,firstTime:f,loginDirectAction:h}=u??{},{additionalParams:v}=u??{};if((d=localStorage)==null||d.removeItem(en),f){let D=e.root.urlStrategy,T=Xf(D);if(r.setAuthState({isLoading:!0}),Pv(T))return}let S=e.auth.disableSilentRefresh;if(h&&(v=v||{},v.login_direct_action=btoa(JSON.stringify(h))),((p=v)==null?void 0:p.prompt)==="login")return yield i(v);try{if(S)throw new Error("silent refresh is disabled");return yield o()}catch{if(!g){r.setAuthState({isLoading:!1});return}return yield i(v)}}),__requestHostedLoginAuthorize:i,__requestHostedLoginSilentAuthorize:o,handleHostedLoginCallback:u=>l(null,null,function*(){var d;let p=localStorage.getItem(Sf)||"INVALID-CODE-VERIFIER",g=e.auth.routes,f=e.root.urlStrategy,h=Kf(e),v=`${window.location.origin}${f==="path"?"":"#"}${h??""}${g.hostedLoginRedirectUrl}`;yield r.loadCustomLoginRoutes();let S=(d=e.auth.customLoginState)==null?void 0:d.customLoginSearchParams;S&&(v.endsWith("/")&&(v=v.slice(0,-1)),v+=S);let D={code:u.code,redirect_uri:v,code_verifier:p,grant_type:"authorization_code"};try{let T=yield n.auth.exchangeOAuthTokensV2(D);r.afterAuthenticationStateUpdate(T,{isAuthenticated:!0,isLoading:!1})}catch(T){r.setAuthState({isLoading:!1}),console.error("Failed to exchangeOAuthTokens",T)}finally{let T=e.auth.user,m=window.localStorage.getItem(en);window.localStorage.removeItem(en),m&&li(T)?yield r.afterStepUpAuthNavigation():yield r.afterAuthNavigation()}})}};var At;(function(e){e.LOAD_SSO_CONFIGURATIONS="LOAD_SSO_CONFIGURATIONS",e.SAVE_SSO_CONFIGURATION="SAVE_SSO_CONFIGURATION",e.UPDATE_SSO_CONFIGURATION="UPDATE_SSO_CONFIGURATION",e.SAVE_SSO_CONFIGURATION_BY_METADATA="SAVE_SSO_CONFIGURATION_BY_METADATA",e.UPDATE_SSO_CONFIGURATION_BY_METADATA="UPDATE_SSO_CONFIGURATION",e.DELETE_SSO_CONFIGURATION="DELETE_SSO_CONFIGURATION",e.SAVE_SSO_DOMAIN="SAVE_SSO_DOMAIN",e.DELETE_SSO_DOMAIN="DELETE_SSO_DOMAIN",e.VALIDATE_SSO_DOMAIN="VALIDATE_SSO_DOMAIN",e.UPDATE_SSO_DEFAULT_ROLES="UPDATE_SSO_DEFAULT_ROLES",e.DELETE_SSO_GROUPS="DELETE_SSO_GROUPS",e.SAVE_SSO_GROUPS="SAVE_SSO_GROUPS",e.GET_SSO_AUTHORIZATION_ROLES="GET_SSO_AUTHORIZATION_ROLES"})(At||(At={}));var pi;(function(e){e.Saml="saml",e.Okta="okta",e.Azure="azure",e.Google="google",e.Oidc="oidc"})(pi||(pi={}));var Oj=["callback","error"],Nj=["callback"],kj=["callback"],Lj=["callback"],Fj=["callback"],Uj=["callback","events"],jj=["callback"],Vj=["callback"],$j=["user"],Bj=["callback"],Hj=["callback"],Gj=["callback"],Wj=["callback"],zj=["callback"],qj=["callback"],Xc=(e,n,t)=>{let r=t,o=ie.for(e.root.appName),i=()=>l(null,null,function*(){let H=e.auth.user;if(!(H!=null&&H.refreshToken)){o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1});return}try{let j={grant_type:"refresh_token",refresh_token:H?.refreshToken},Z=yield n.auth.exchangeOAuthTokensV2(j),q=yield u(Z.user);r.afterAuthenticationStateUpdate(y({},Z,{user:q}),{isAuthenticated:!0})}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1})}}),s=H=>{var j;let{routes:Z,loginState:q}=e.auth,re=(j=localStorage.getItem("register-quick-login"))!=null?j:q.quickLoginToRegister;return re&&localStorage.getItem(`${H.id}-${re}`)!=="true"&&!window.location.pathname.endsWith(Z.logoutUrl)},c=()=>l(null,null,function*(){try{let{routes:j,loginState:Z,onRedirectTo:q}=e.auth,{user:re,tenants:be=[],activeTenant:ke}=yield n.auth.refreshTokenV3();if(yn(re,e.root.appName)){let De=yield r.getMfaRequiredState(re);r.setAuthState(De),q(j.loginUrl,{preserveQueryParams:!0})}else{var H;re.id&&localStorage.setItem("userId",re.id);let De=(H=localStorage.getItem("register-quick-login"))!=null?H:Z.quickLoginToRegister,Le=s(re),ft=yield u(re);r.afterAuthenticationStateUpdate({user:ft,tenants:be,activeTenant:ke},{loginState:y({},Z,{quickLoginToRegister:De,flow:Le?ut.RegisterQuickLogin:ut.Login}),isAuthenticated:!0}),yield d(Le)}}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:void 0,isAuthenticated:!1})}}),a=()=>l(null,null,function*(){e.auth.hostedLoginBox?yield i():yield c()}),u=H=>l(null,null,function*(){var j;let Z=(j=e.auth.user)==null?void 0:j.entitlements;return jc(Z,H?.entitlements)?y({},H,{entitlements:Z}):H}),d=H=>l(null,null,function*(){var j;let Z=new URL((j=window)==null?void 0:j.location.href),{routes:q,loginState:re,onRedirectTo:be}=e.auth,ke=Z.searchParams.get("invitationToken"),De=[q.socialLoginCallbackUrl,q.oidcRedirectUrl,q.samlCallbackUrl,q.magicLinkCallbackUrl];ke||De.push(q.loginUrl,q.signUpUrl),H?be(q.loginUrl):De.some(Le=>Le&&window.location.pathname.endsWith(Le))&&(re.isNewUser&&q.signUpSuccessUrl&&q.socialLoginCallbackUrl===window.location.pathname?be(q.signUpSuccessUrl,{refresh:q.signUpSuccessUrl.startsWith("http")}):yield r.afterAuthNavigation())}),p=H=>l(null,null,function*(){try{var j;let{isActive:q}=yield ee(n.auth.getSSOPublicConfiguration,H?.retryConfig);r.setAuthState({isSSOAuth:q}),H==null||(j=H.callback)==null||j.call(H,{isSSOAuth:q})}catch(q){var Z;r.setAuthState({isSSOAuth:!1}),H==null||(Z=H.callback)==null||Z.call(H,null,q)}}),g=H=>l(null,null,function*(){let j;try{var Z;let q=yield ee(n.metadata.getSamlMetadata,H?.retryConfig);j=q==null||(Z=q.configuration)==null?void 0:Z.acsUrl}catch(q){console.error(q)}r.setAuthState({ssoACS:j})}),f=Z=>l(null,[Z],function*({accessToken:H,user:j}){if(!H){r.setAuthState({user:void 0,isAuthenticated:!1});return}let{onRedirectTo:q,routes:re}=e.auth;if(yn(j,e.root.appName)){let be=yield r.getMfaRequiredState(j,_t,!0);r.setAuthState(be),q(re.loginUrl,{preserveQueryParams:!0})}}),h=H=>{Object.assign(e.auth.loginState,H)},v=()=>{Q(e,["auth","loginState"],Xv)},S=H=>kn({callback:(Z,q)=>{!q||q.statusCode<500||r.setErrorByRequestName({requestName:H,traceId:Tc(q)})}}),D=H=>l(null,null,function*(){let j=[],Z=[];j.push(a()),H&&(r.setAuthState({isLoading:!0}),j.push(r.loadSocialLoginsConfigurationV2(kn())),j.push(r.loadAllowSignUps(S(Wt.LOAD_ALLOW_SIGNUPS))),j.push(r.loadPublicAuthStrategiesPolicy(S(Wt.LOAD_PUBLIC_AUTH_STRATEGIES_POLICY))),j.push(r.loadSignUpStrategies()),j.push(p(S(Wt.LOAD_SSO_PUBLIC_CONFIGURATION))),j.push(r.loadVendorPublicInfo(kn())),j.push(g(kn())),Z.push(r.loadCustomLoginRoutes(S(Wt.LOAD_CUSTOM_LOGIN_ROUTES)))),yield Promise.all(j),Z.length>0&&(yield Promise.all(Z)),r.setAuthState({isLoading:!1})}),T=H=>l(null,null,function*(){let j=[];j.push(r.loadSocialLoginsConfigurationV2(kn())),j.push(r.loadAllowSignUps(S(Wt.LOAD_ALLOW_SIGNUPS))),j.push(p(S(Wt.LOAD_SSO_PUBLIC_CONFIGURATION))),j.push(r.loadSignUpStrategies()),j.push(r.loadVendorPublicInfo(kn())),j.push(g()),j.push(f(H)),j.push(r.loadCustomLoginRoutes(S(Wt.LOAD_CUSTOM_LOGIN_ROUTES))),yield Promise.all(j)}),m=H=>l(null,null,function*(){let{callback:j,error:Z}=H,q=V(H,Oj),re=e.auth.securityPolicyState.publicPolicy.policy;if(!(re!=null&&re.authStrategy)){r.setLoginState({step:Se.loginWithPassword,loading:!1}),j?.();return}re?.authStrategy===Te.EmailAndPassword?(r.setLoginState({step:Se.loginWithPassword,loading:!1}),j?.()):[Te.MagicLink,Te.Code,Te.SmsCode].includes(re?.authStrategy)?yield r.passwordlessPreLogin(y({},q,{type:re?.authStrategy,callback:j})):(r.setLoginState({step:Se.loginWithPassword,loading:!1,error:_(Z)}),j?.())}),E=H=>l(null,null,function*(){let{email:j,username:Z,recaptchaToken:q,invitationToken:re,callback:be}=H;h({loading:!0});try{let ft=e.auth.onRedirectTo,Pt=Vc($c),An=yield n.auth.preLoginV2(y({},j?{email:j}:{},Z?{username:Z}:{},{tenantId:Pt})),{address:yi,idpType:go}=An??{};if(yi){let Or=yi;if(go===pi.Oidc&&!Or.includes("redirect_uri")){let{oidcRedirectUrl:lb}=e.auth.routes;Or+=`&redirect_uri=${window.location.origin}${lb}`}if(jo.isLoginWithSSOAvailable()){var ke;jo.loginWithSSO((ke=j??Z)!=null?ke:""),h({loading:!1}),be?.()}else h({step:Se.redirectToSSO,loading:!1,ssoRedirectUrl:Or}),setTimeout(()=>{ft(Or,{refresh:!0})},2e3)}else{var De;yield m({email:(De=j??Z)!=null?De:"",recaptchaToken:q,callback:be,invitationToken:re})}}catch(ft){var Le;yield m({email:(Le=j??Z)!=null?Le:"",recaptchaToken:q,callback:be,invitationToken:re,error:ft})}}),w=H=>l(null,null,function*(){let{onRedirectTo:j,routes:Z}=e.auth;h({loading:!0});try{let q=yield n.auth.postLogin(H);r.setAuthState({user:q.accessToken?q:void 0,isAuthenticated:!!q.accessToken}),yield r.afterAuthNavigation()}catch{setTimeout(()=>{j(Z.authenticatedUrl)},1e3),h({step:Se.loginWithSSOFailed,loading:!1})}}),I=H=>l(null,null,function*(){let{email:j,username:Z,password:q,recaptchaToken:re,invitationToken:be,callback:ke}=H;h({loading:!0});try{let{user:De,tenants:Le=[],activeTenant:ft}=yield n.auth.loginv2(y({},j?{email:j}:{},Z?{username:Z}:{},{password:q,recaptchaToken:re,invitationToken:be})),{onRedirectTo:Pt,routes:An}=e.auth;if(yn(De,e.root.appName)){let yi=yield r.getMfaRequiredState(De,_t,!0,j);r.setAuthState(yi),Pt(An.loginUrl,{preserveQueryParams:!0})}else{let[yi]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(ui(De,e.root.appName))h({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:De.resetPasswordToken,userId:De.userId});else{let go=e.auth.loginState,Or=!!De.accessToken;De.id&&localStorage.setItem("userId",De.id),r.afterAuthenticationStateUpdate({user:De,tenants:Le,activeTenant:ft},{loginState:{flow:go.flow,quickLoginToRegister:go.quickLoginToRegister,email:j,loading:!1,error:void 0,mfaToken:De.mfaToken,step:go.flow===ut.Login?Se.success:go.step,tenants:Le,tenantsLoading:!0,isBreachedPassword:De.isBreachedPassword},isAuthenticated:Or}),go.flow===ut.Login&&(yi&&De.isBreachedPassword&&!Or?h({step:Se.breachedPassword,loading:!1}):Or&&(ci(De)?h({step:Se.passwordRotationNotification,loading:!1}):(yield r.__shouldShowPromptPasskeys())?(h({step:Se.promptPasskeys,loading:!1}),Pt(An.loginUrl,{preserveQueryParams:!0})):yield r.afterAuthNavigation()))}}jo.isSuggestSavePasswordAvailable()&&jo.suggestSavePassword(j,q),localStorage.removeItem("register-quick-login"),ke?.(!0)}catch(De){o.setAccessToken(null),o.setUser(null),ke?.(!1,De),h({email:j,error:_(De),loading:!1})}}),A=H=>l(null,null,function*(){let j=e.auth.hostedLoginBox;r.setAuthState({isLoading:!0});try{j?yield n.auth.OAuthLogout():yield n.auth.logout()}catch{}o.isSessionPerTenantEnabled()&&Es(),r.resetAuthState(),yield r.requestAuthorize(!0),H?.()}),M=H=>l(null,null,function*(){var j;try{yield n.auth.logout()}catch{}o.isSessionPerTenantEnabled()&&Es(),setTimeout(()=>{var Z;return H==null||(Z=H.callback)==null?void 0:Z.call(H,!0)},(j=H?.callbackTimeout)!=null?j:500)}),O=H=>l(null,null,function*(){h({loading:!0});try{var j;yield n.auth.recoverMfaToken(H),h({loading:!1,error:void 0,step:Se.preLogin}),r.setAuthState({user:void 0,isAuthenticated:!1}),(j=H.callback)==null||j.call(H,!0)}catch(q){var Z;h({error:_(q),loading:!1}),(Z=H.callback)==null||Z.call(H,!1,q)}}),L=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Nj);try{h({loading:!0});let q=yield n.auth.passwordlessPreLogin(y({},Z,{type:Te.SmsCode}));h({step:Se.loginWithQuickSmsOtc,loading:!1,phoneNumber:q?.phoneNumber,error:void 0}),j?.(!0)}catch(q){h({error:_(q),loading:!1}),j?.(!1,q)}}),x=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,kj);try{h({loading:!0});let q=yield n.auth.changePhoneNumberWithVerification(Z);h({phoneNumber:Z.phoneNumber,loading:!1,changePhoneId:q.changePhoneId,step:Se.loginWithQuickSmsOtc,error:void 0}),j?.(!0)}catch(q){h({error:_(q),loading:!1})}}),N=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Lj);try{h({loading:!0}),yield n.auth.verifyChangePhoneNumber(Z),h({loading:!1}),j?.(!0)}catch(q){h({error:_(q),loading:!1})}}),k=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Fj);try{var q;h({loading:!0});let re;Rv(Z)&&(re=Z.email);let be;Ov(Z)&&(be=Z.username);let ke=yield n.auth.passwordlessPreLogin(y({},Z,{email:re,username:(q=be)!=null?q:""})),De=ev[Z.type];h({step:De,loading:!1,phoneNumber:ke?.phoneNumber,email:re,error:void 0}),j?.()}catch(re){h({error:_(re),loading:!1}),j?.(null,re)}}),P=H=>l(null,null,function*(){let{callback:j,events:Z}=H,q=V(H,Uj);try{h({loading:!0});let{user:be,tenants:ke=[],activeTenant:De}=yield n.auth.passwordlessPostLoginV2(q),{routes:Le,onRedirectTo:ft}=e.auth;if(yn(be,e.root.appName)){let Pt=yield r.getMfaRequiredState(be);r.setAuthState(Pt),ft(Le.loginUrl,{preserveQueryParams:!0})}else{let Pt=e.auth.loginState;if(be.emailVerified){var re;let An={email:be.email,origin:Pr.PASSWORDLESS,id:be.id,tenantId:be.tenantId,createdAt:new Date,name:be.name};Z==null||(re=Z.userVerified)==null||re.call(Z,An),or(mn.USER_VERIFIED,An)}be.id&&localStorage.setItem("userId",be.id),r.afterAuthenticationStateUpdate({user:be,tenants:ke,activeTenant:De}),h({error:void 0}),r.setAuthState({isLoading:!1}),Pt.flow===ut.Login?(yield r.__shouldShowPromptPasskeys())?(r.setLoginState({step:Se.promptPasskeys,loading:!1}),ft(Le.loginUrl,{preserveQueryParams:!0})):(r.setAuthState({isAuthenticated:!0}),H.type===Te.MagicLink&&(r.setLoginState({step:Se.magicLinkPostLoginSuccess,loading:!1}),yield Y(5e3)),yield r.afterAuthNavigation()):ft(Le.loginUrl,{preserveQueryParams:!0}),localStorage.removeItem("register-quick-login"),j?.(!0)}}catch(be){h({error:_(be,"Failed to authenticate")}),j?.(null,be)}finally{h({loading:!1})}}),F=H=>l(null,null,function*(){try{h({loading:!0});let{name:j}=yield n.auth.verifyInviteToken(H);h({inviteTokenTenantName:j})}catch(j){h({inviteTokenError:_(j,"We couldn't verify your invitation")})}finally{h({loading:!1})}}),C=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,jj);try{var q;r.setPasskeysState({loading:!0}),h({loading:!0});let{options:re}=yield n.auth.webAuthnPreLogin(Z);re.challenge=bt(re.challenge),re.allowCredentials=(q=re.allowCredentials)==null?void 0:q.map(be=>y({},be,{id:bt(be.id)})),h({error:void 0}),j?.(re)}catch(re){h({error:_(re)}),j?.(null)}finally{r.setPasskeysState({loading:!1}),h({loading:!1})}}),R=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Vj);try{var q;r.setPasskeysState({loading:!0}),h({loading:!0});let re=gn(Z.publicKey),be=yield n.auth.webAuthnPostLoginV2(y({},re,{response:y({},re.response,{userHandle:(q=re.response.userHandle)!=null?q:void 0}),recaptchaToken:Z.recaptchaToken,invitationToken:Z.invitationToken})),{user:ke}=be,De=V(be,$j);if(yn(ke,e.root.appName)){let{routes:Le,onRedirectTo:ft}=e.auth,Pt=yield r.getMfaRequiredState(ke);r.setAuthState(Pt),ft(Le.loginUrl,{preserveQueryParams:!0})}else ke.id&&localStorage.setItem("userId",ke.id),r.afterAuthenticationStateUpdate(y({user:ke},De),{isAuthenticated:!0}),h({error:void 0}),yield r.afterAuthNavigation(),j?.(!0)}catch(re){h({error:_(re)}),j?.(null)}finally{r.setPasskeysState({loading:!1}),h({loading:!1})}}),U=H=>l(null,null,function*(){let{callback:j}=H;try{h({loading:!0});let{options:Z}=yield n.auth.webAuthnCreateNewDeviceSession();Z.user.id=bt(Z.user.id),Z.challenge=bt(Z.challenge),Z.excludeCredentials=[],j?.(Z)}catch(Z){h({error:_(Z)}),j?.(null)}finally{h({loading:!1})}}),G=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Bj);try{h({loading:!0});let q=gn(Z.publicKey),re=q?.authenticatorAttachment==="platform"?Is.Platform:Is.CrossPlatform;yield n.auth.verifyNewDeviceSession({id:q.id,response:q.response,deviceType:re}),j?.(!0)}catch(q){h({error:_(q)}),j?.(null)}finally{h({loading:!1})}}),z=H=>l(null,null,function*(){let{callback:j}=H;try{r.setAuthState({userIpData:{loading:!0}});let{ip:Z,country_code:q}=yield n.metadata.getCurrentUserIpMetadata();r.setAuthState({userIpData:{ip:Z,countryCode:q,loading:!1}}),r.setAuthState({userIp:Z}),j?.({ip:Z,countryCode:q})}catch{r.setAuthState({userIpData:{loading:!1}}),j?.(!1)}}),W=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Hj);h({loading:!0});try{var q;let re=yield n.auth.preEnrollMFAWebAuthnForLogin(Z),be=y({},re.options,{challenge:bt(re.options.challenge),user:y({},re.options.user,{id:bt(re.options.user.id)}),excludeCredentials:(q=re.options.excludeCredentials)==null?void 0:q.map(ke=>y({},ke,{id:bt(ke.id)}))});h({loading:!1}),j?.({options:be,webauthnToken:re.webauthnToken})}catch(re){h({loading:!1,error:_(re)}),j?.(null)}}),$=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Gj);h({loading:!0});try{let q=gn(Z.publicKey),re=yield n.auth.enrollMFAWebAuthnForLoginV2(y({},Z,{options:q}));yield pe(re),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),B=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Wj);h({loading:!0});try{let q=yield n.auth.enrollMFAAuthenticatorAppForLoginV2(Z);yield pe(q),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),te=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,zj);h({loading:!0});try{let q=yield n.auth.preEnrollMFASMSForLogin(Z);r.setMfaState({otcToken:q.otcToken,step:Ne.smsVerifyCode,phoneNumber:q.phoneNumber}),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),ae=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,qj);h({loading:!0});try{let q=yield n.auth.enrollMFASMSForLoginV2(Z);yield pe(q),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),pe=H=>l(null,null,function*(){let{user:j,tenants:Z=[],activeTenant:q}=H,re={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1};j!=null&&j.recoveryCode&&(re.recoveryCode=j.recoveryCode),r.setMfaState(re),r.setUser(j),r.setTenantsState({tenants:Z,activeTenant:q,loading:!1}),j.id&&localStorage.setItem("userId",j.id)}),ye=H=>l(null,null,function*(){h({loading:!0});try{yield n.auth.forgotPassword(H),h({loading:!1,error:void 0,step:Se.breachedPasswordSuccess}),r.setAuthState({isAuthenticated:!1})}catch(j){h({loading:!1,error:_(j)})}}),Mt=()=>l(null,null,function*(){let{user:H}=e.auth;if(!(H!=null&&H.refreshToken)){o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1});return}try{let j={grant_type:"refresh_token",refresh_token:H?.refreshToken},Z=yield n.auth.exchangeOAuthTokensV2(j),q=yield u(Z.user);r.afterAuthenticationStateUpdate(y({},Z,{user:q}),{isAuthenticated:!0})}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1})}}),qe=()=>l(null,null,function*(){try{let{routes:j,loginState:Z,onRedirectTo:q}=e.auth,{user:re,tenants:be=[],activeTenant:ke}=yield n.auth.refreshTokenV3();if(yn(re,e.root.appName)){let De=yield r.getMfaRequiredState(re);r.setAuthState(De),q(j.loginUrl,{preserveQueryParams:!0})}else{let De=yield u(re);if(yield r.__shouldShowPromptPasskeys())r.setLoginState({step:Se.promptPasskeys,loading:!1}),r.afterAuthenticationStateUpdate({user:De,tenants:be,activeTenant:ke},{isLoading:!1}),q(j.loginUrl,{preserveQueryParams:!0});else{var H;re.id&&localStorage.setItem("userId",re.id);let ft=(H=localStorage.getItem("register-quick-login"))!=null?H:Z.quickLoginToRegister,Pt=s(re);r.afterAuthenticationStateUpdate({user:De,tenants:be,activeTenant:ke},{loginState:y({},Z,{quickLoginToRegister:ft,flow:Pt?ut.RegisterQuickLogin:ut.Login}),isAuthenticated:!0}),yield d(Pt)}}}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:void 0,isAuthenticated:!1})}});return y({setLoginState:h,resetLoginState:v,requestAuthorize:D,requestAuthorizeSSR:T,preLogin:E,postLogin:w,login:I,logout:A,silentLogout:M,recoverMfa:O,quickSmsPasswordlessPreLogin:L,changePhoneNumberWithVerification:x,verifyChangePhoneNumber:N,passwordlessPreLogin:k,passwordlessPostLogin:P,verifyInviteToken:F,webAuthnPrelogin:C,webAuthnPostLogin:R,webAuthnCreateNewDeviceSession:U,webAuthnVerifyNewDeviceSession:G,getUserIP:z,preEnrollMFAWebAuthnForLogin:W,enrollMFAWebAuthnForLogin:$,enrollMFAAuthenticatorAppForLogin:B,preEnrollMFASMSForLogin:te,enrollMFASMSForLogin:ae,handleEnrollMFAResponse:pe,resetBreachedPassword:ye,refreshTokenForSocialLogins:()=>l(null,null,function*(){e.auth.hostedLoginBox?yield Mt():yield qe()}),__refreshToken:a},n_(e,n,t),ZC(e,n,t),KC(e,n,t),QC(e,n,t),JC(e,n,t),XC(e,n,t),e_(e,n,t),t_(e,n,t))};var ty={step:Ne.verify,loading:!1,saving:!1},ny=e=>K(ty,e);var Yj=["callback"],Zj=["callback"],Kj=["user"],Qj=["deviceId"],Jj=["deviceId"],Xj=["callback"],e2=["callback"],t2=["deviceId","callback"],el=(e,n,t)=>{let r=t;function o(w){return l(this,null,function*(){let I=e.auth.mfaState.step;return{step:w.recoveryCode?Ne.recoveryCode:I,loading:!1,saving:!1,error:void 0,recoveryCode:w?.recoveryCode}})}let i=w=>{Object.assign(e.auth.mfaState,w)};return{setMfaState:i,resetMfaState:()=>{Q(e,["auth","mfaState"],ty)},getMFADevices:()=>l(null,null,function*(){i({loading:!0});try{let w=yield n.auth.getMFADevices();i({loading:!1,error:void 0,mfaDevices:w})}catch(w){i({loading:!1,error:_(w)})}}),getMFAStrategies:w=>l(null,null,function*(){i({loading:!0});try{let A=(yield ee(()=>n.auth.getMFAStrategiesConfig(),w?.retryConfig)).strategies.filter(({isActive:M})=>M).map(({strategy:M})=>M);i({loading:!1,error:void 0,mfaStrategies:A})}catch(I){i({loading:!1,error:_(I)})}}),enrollMfa:()=>l(null,null,function*(){i({saving:!0});try{let{qrCode:w}=yield n.auth.enrollMfa();i({saving:!1,error:void 0,qrCode:w})}catch(w){i({saving:!1,error:_(w)})}}),verifyMfa:w=>l(null,null,function*(){let{callback:I}=w,A=V(w,Yj);i({saving:!0});try{let M=e.auth.user,O=yield n.auth.verifyMfa(A),L=yield n.auth.getMFADevices(),x=yield o(O);i(y({},x,{mfaDevices:L})),r.setUser(y({},M,{mfaEnrolled:!0})),I?.(x.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),verifyMfaAfterForce:w=>l(null,null,function*(){let{callback:I}=w,A=V(w,Zj);i({loading:!0});try{let M=yield n.auth.loginWithMfaV2(A),{user:O}=M,L=V(M,Kj),x={step:Ne.recoveryCode,loading:!1,saving:!1,error:void 0};O!=null&&O.recoveryCode&&(x.recoveryCode=O.recoveryCode),i(x),yield r.afterAuthenticationStateUpdate(y({user:O},L)),I?.(x.recoveryCode)}catch(M){i({loading:!1,error:_(M)}),I?.(null,M)}}),disableMfa:w=>l(null,null,function*(){i({saving:!0});try{var I;yield n.auth.disableMfa(w);let M=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:M}),(I=w.callback)==null||I.call(w,!0)}catch(M){var A;i({saving:!1,error:_(M)}),(A=w.callback)==null||A.call(w,!1,M)}}),preDisableMfaSms:w=>l(null,null,function*(){let{deviceId:I}=w,A=V(w,Qj);i({saving:!0});try{var M;let L=yield n.auth.preDisableMFASMS(I);i({saving:!1,error:void 0,otcToken:L.otcToken,phoneNumber:L.phoneNumber}),(M=A.callback)==null||M.call(A,!0)}catch(L){var O;i({saving:!1,error:_(L)}),(O=A.callback)==null||O.call(A,!1,L)}}),disableMfaSms:w=>l(null,null,function*(){let{deviceId:I}=w,A=V(w,Jj);i({saving:!0});try{var M;yield n.auth.disableMFASMS(I,A);let L=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:L}),(M=A.callback)==null||M.call(A,!0)}catch(L){var O;i({saving:!1,error:_(L)}),(O=A.callback)==null||O.call(A,!1,L)}}),preEnrollMfaSms:w=>l(null,null,function*(){i({saving:!0});try{var I;let M=yield n.auth.preEnrollMFASMS(w);i({saving:!1,error:void 0,otcToken:M.otcToken,phoneNumber:M.phoneNumber}),(I=w.callback)==null||I.call(w,!0)}catch(M){var A;i({saving:!1,error:_(M)}),(A=w.callback)==null||A.call(w,!1,M)}}),enrollMfaSms:w=>l(null,null,function*(){let{callback:I}=w,A=V(w,Xj);i({saving:!0});try{let M=yield n.auth.enrollMFASMS(A),O=yield n.auth.getMFADevices(),L=yield o(M);i(y({},L,{mfaDevices:O})),I?.(L.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),preEnrollMfaWebAuthn:w=>l(null,null,function*(){i({saving:!0});try{var I,A;let O=yield n.auth.preEnrollMFAWebAuthn(),L=y({},O.options,{challenge:bt(O.options.challenge),user:y({},O.options.user,{id:bt(O.options.user.id)}),excludeCredentials:(I=O.options.excludeCredentials)==null?void 0:I.map(x=>y({},x,{id:bt(x.id)}))});i({saving:!1}),(A=w.callback)==null||A.call(w,{options:L,webauthnToken:O.webauthnToken})}catch(O){var M;i({saving:!1,error:_(O)}),(M=w.callback)==null||M.call(w,null,O)}}),enrollMfaWebAuthn:w=>l(null,null,function*(){let{callback:I}=w,A=V(w,e2);i({saving:!0});try{let M=gn(A.publicKey),O=yield n.auth.enrollMFAWebAuthn(y({},A,{options:M})),L=yield n.auth.getMFADevices(),x=yield o(O);i(y({},x,{mfaDevices:L})),I?.(x.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),preDisableMfaWebAuthn:w=>l(null,null,function*(){let{deviceId:I,callback:A}=w;i({saving:!0});try{var M;let O=yield n.auth.preDisableMFAWebAuthn(I),L=y({},O.options,{challenge:bt(O.options.challenge),allowCredentials:(M=O.options.allowCredentials)==null?void 0:M.map(x=>y({},x,{id:bt(x.id)}))});i({saving:!1}),A?.({options:L,webauthnToken:O.webauthnToken})}catch(O){i({saving:!1,error:_(O)}),A?.(null,O)}}),disableMfaWebAuthn:w=>l(null,null,function*(){let{deviceId:I,callback:A}=w,M=V(w,t2);i({saving:!0});try{let O=gn(M.publicKey);yield n.auth.disableMFAWebAuthn(I,y({},M,{options:O}));let L=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:L}),A?.(!0)}catch(O){i({saving:!1,error:_(O)}),A?.(!1,O)}}),__getMfaStateAfterEnroll:o}};var tp={loaders:{},errors:{},accounts:{tenantId:"",children:[]},accountsQueryParams:{_limit:50,_offset:0,_filter:"",_subTenantId:""},searchAccountsData:[],rootAccount:{tenantId:""},selectedAccount:{tenantId:"",userJwt:{accessToken:"",expiresIn:0,expires:""},users:[],usersQueryParams:{_offset:0,_limit:10,_order:Xa.DESC,_sortBy:Dc.name},usersPageOffset:0,accountSettings:{}}},ry=e=>K(tp,e);var dt;(function(e){e.GET_ACCOUNTS="GET_ACCOUNTS",e.SEARCH_ACCOUNTS="SEARCH_ACCOUNTS",e.SET_ROOT_ACCOUNT_DATA="SET_ROOT_ACCOUNT_DATA",e.SET_SELECTED_SUB_ACCOUNT_DATA="SET_SELECTED_SUB_ACCOUNT_DATA",e.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT="LOAD_NUMBER_OF_USERS_FOR_ACCOUNT",e.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER="UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER",e.CREATE_SUB_ACCOUNT="CREATE_SUB_ACCOUNT",e.UPDATE_SUB_ACCOUNT="UPDATE_SUB_ACCOUNT",e.DELETE_SUB_ACCOUNT="DELETE_SUB_ACCOUNT",e.GET_ACCOUNT_USERS="GET_ACCOUNT_USERS",e.ADD_USERS_TO_ACCOUNT="ADD_USERS_TO_ACCOUNT",e.DELETE_USERS_FROM_ACCOUNT="DELETE_USERS_FROM_ACCOUNT",e.SET_USER_ROLES_FOR_SUB_ACCOUNT="SET_USER_ROLES_FOR_SUB_ACCOUNT",e.UPDATE_SUB_ACCOUNT_SETTINGS="UPDATE_SUB_ACCOUNT_SETTINGS",e.UPDATE_SUB_ACCOUNT_MANAGEMENT="UPDATE_SUB_ACCOUNT_MANAGEMENT",e.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS="UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS",e.GET_USER_JWT="GET_USER_JWT",e.GET_TEAM_USERS="GET_TEAM_USERS"})(dt||(dt={}));function hi(e,n,t){var r,o;if(e.tenantId===n){var i;let c=[...(i=e?.children)!=null?i:[],...t].filter((a,u,d)=>u===d.findIndex(p=>p.tenantId===a.tenantId));return y({},e,{children:c})}return y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(s=>hi(s,n,t)))!=null?r:[]})}var oy=({items:e},n)=>e.map(t=>{var r,o;return{name:t.name,tenantId:t.tenantId,numberOfUsers:(r=(o=n.find(i=>i.tenantId===t.tenantId))==null?void 0:o.totalUsers)!=null?r:0,createdAt:t.createdAt,metadata:t.metadata,isReseller:t.isReseller,subAccountAccessType:t.subAccountAccessType}});function tl(e,n){var t;return y({},e,{children:(t=e.children)!=null&&t.length?e.children.filter(r=>r.tenantId!==n).map(r=>tl(r,n)):[]})}var nl=(e,n,t)=>{var r,o;return e.tenantId===n?y({},e,{name:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>nl(i,n,t)))!=null?r:[]})};var rl=(e,n,t)=>{var r,o;return e.tenantId===n?y({},e,{subAccountAccessType:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>rl(i,n,t)))!=null?r:[]})};var ol=(e,n,t)=>{var r,o;return e?e.tenantId===n?y({},e,{isReseller:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>ol(i,n,t)))!=null?r:[]}):{}};var il=(e,n,t)=>{let r=x=>{Object.assign(e.auth.allAccountsState,{loaders:y({},e.auth.allAccountsState.loaders,{[x.key]:x.value})})},o=x=>{Object.assign(e.auth.allAccountsState,{errors:y({},e.auth.allAccountsState.errors,{[x.key]:x.value}),loaders:y({},e.auth.allAccountsState.loaders,{[x.key]:!1})})},i=x=>{Object.assign(e.auth.allAccountsState,x)},s=x=>{Object.assign(e.auth.allAccountsState.selectedAccount,x)},c=()=>{Q(e,["auth","allAccountsState"],tp)},a=()=>{Q(e,["auth","allAccountsState","selectedAccount"],tp.selectedAccount)},u=()=>e.auth.allAccountsState,d=x=>l(null,null,function*(){let N=dt.GET_ACCOUNTS;r({key:N,value:!0});let{accountsQueryParams:k}=u(),{jwt:P,_limit:F,_offset:C}=x,R={_offset:C??k._offset,_limit:F??k._limit,_subTenantId:x?._subTenantId};try{if(!!P){var U;let{selectedAccount:W}=u(),{items:$,_links:B}=yield n.tenants.searchSubTenants(R,{jwt:P}),te=yield n.tenants.getTenantsUsersCount({tenantIds:$.map(ye=>ye.tenantId)},{jwt:P}),ae=oy({items:$},te),pe=hi(W.accounts?W.accounts:W,(U=x?._subTenantId)!=null?U:"",ae.map(ye=>({name:ye.name,tenantId:ye.tenantId,numberOfUsers:ye.numberOfUsers,createdAt:ye.createdAt,metadata:ye.metadata,children:[],loadMoreLink:B?.next,isReseller:ye.isReseller})));s({accounts:pe})}else{var G;let{accounts:W}=u(),{items:$,_links:B}=yield n.tenants.searchSubTenants(R),te=yield n.tenants.getTenantsUsersCount({tenantIds:$.map(ye=>ye.tenantId)}),ae=oy({items:$},te),pe=hi(W,(G=x?._subTenantId)!=null?G:"",ae.map(ye=>({name:ye.name,tenantId:ye.tenantId,numberOfUsers:ye.numberOfUsers,createdAt:ye.createdAt,metadata:ye.metadata,children:[],loadMoreLink:B?.next,isReseller:ye.isReseller})));i({accounts:pe})}}catch(z){o({key:N,value:_(z)})}finally{r({key:N,value:!1})}}),p=x=>l(null,null,function*(){let{jwt:N}=x,k=dt.SEARCH_ACCOUNTS;r({key:k,value:!0});let{rootAccount:P}=u();try{if(x!=null&&x._subTenantId){var F;let{items:C}=yield n.tenants.searchSubTenants({_offset:0,_limit:50,_filter:(F=x?._filter)!=null?F:"",_subTenantId:x._subTenantId},{jwt:N});i({searchAccountsData:[...C,{name:P.name,tenantId:P.tenantId}]})}}catch(C){o({key:k,value:_(C)})}finally{r({key:k,value:!1})}}),g=x=>l(null,null,function*(){let N=dt.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER;r({key:N,value:!0});let{selectedAccount:k}=u(),{userId:P,allowAccess:F,jwt:C,callback:R}=x;try{var U;yield n.subTenants.updateSubAccountAccess(P,{allowAccess:F},{jwt:C}),s({users:k==null||(U=k.users)==null?void 0:U.map(G=>G.id===P?y({},G,{subAccountAccessAllowed:F}):G)}),R?.(!0)}catch(G){o({key:N,value:_(G)}),R?.(!1)}finally{r({key:N,value:!1})}}),f=x=>l(null,null,function*(){let N=dt.CREATE_SUB_ACCOUNT;r({key:N,value:!0});let{name:k,parentTenantId:P,tenantId:F,jwt:C,callback:R}=x;try{if(!!C){let{accounts:G,selectedAccount:z}=u(),W=yield n.subTenants.createSubTenant({name:k,parentTenantId:P,tenantId:F},{jwt:C}),$=hi(G,P??"",[{name:W.name,tenantId:W.tenantId,numberOfUsers:0,createdAt:new Date}]),B=hi(y({name:"",tenantId:""},z?.accounts),P??"",[{name:W.name,tenantId:W.tenantId,numberOfUsers:0,createdAt:new Date}]);i({accounts:$}),s({accounts:B})}else{let{accounts:G}=u(),z=yield n.subTenants.createSubTenant({name:k,tenantId:F,parentTenantId:P}),W=hi(G,P??"",[{name:z.name,tenantId:z.tenantId,numberOfUsers:0,createdAt:new Date}]);i({accounts:W})}R?.(!0)}catch(U){o({key:N,value:_(U)}),R?.(!1)}finally{r({key:N,value:!1})}}),h=x=>l(null,null,function*(){}),v=x=>l(null,null,function*(){let N=dt.DELETE_SUB_ACCOUNT;r({key:N,value:!0});let{jwt:k,tenantId:P,callback:F}=x;try{if(!!k){let{selectedAccount:R,accounts:U}=u();yield n.subTenants.deleteSubTenant(P,{jwt:k});let G=tl(U,P),z=tl(R.accounts,P);i({accounts:G}),s({accounts:z})}else{let{accounts:R}=u();yield n.subTenants.deleteSubTenant(P);let U=tl(R,P);i({accounts:U})}F?.(!0)}catch(C){o({key:N,value:_(C)}),F?.(!1)}finally{r({key:N,value:!1})}}),S=x=>l(null,null,function*(){let N=dt.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;r({key:N,value:!0});let{jwt:k,callback:P,tenantId:F,subAccountAccessType:C}=x;if(C)try{if(!!k){let{selectedAccount:U,accounts:G}=u();yield n.subTenants.updateSubTenantHierarchySettings({tenantId:F},{subAccountAccessType:C},{jwt:k});let z=rl(U.accounts,F,C);s({subAccountAccessType:C,accounts:z});let W=rl(G,F,C);i({accounts:W})}else{let{accounts:U}=u();yield n.subTenants.updateSubTenantHierarchySettings({tenantId:F},{subAccountAccessType:C});let G=rl(U,F,C);i({accounts:G})}P?.(!0)}catch(R){o({key:N,value:_(R)}),P?.(!1)}finally{r({key:N,value:!1})}}),D=x=>l(null,null,function*(){let N=dt.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;r({key:N,value:!0});let{jwt:k,name:P,callback:F,tenantId:C}=x;try{if(!!k){let{selectedAccount:U,accounts:G}=u();yield n.subTenants.updateSubTenant({tenantId:C},{name:P},{jwt:k});let z=nl(U.accounts,C,P);s({name:P,accounts:z});let W=nl(G,C,P);i({accounts:W})}else{let{accounts:U}=u();yield n.subTenants.updateSubTenant({tenantId:C},{name:P});let G=nl(U,C,P);i({accounts:G})}F?.(!0)}catch(R){o({key:N,value:_(R)}),F?.(!1)}finally{r({key:N,value:!1})}}),T=x=>l(null,null,function*(){let N=dt.UPDATE_SUB_ACCOUNT_MANAGEMENT;t.setAllAccountsLoader({key:N,value:!0});let{jwt:k,isReseller:P,callback:F,tenantId:C,shouldUpdateSelectedAccount:R}=x,U=!!k;try{if(R){let{selectedAccount:G,accounts:z}=e.auth.allAccountsState;yield n.subTenants.updateSubTenantManagement({tenantId:C},{isReseller:P},k?{jwt:k}:void 0);let W=ol(G.accounts,C,P??!1);s({accounts:W}),U||s({isReseller:P});let $=ol(z,C,P??!1);i({accounts:$})}else{let{accounts:G}=e.auth.allAccountsState;n.subTenants.updateSubTenantManagement({tenantId:C},{isReseller:P},k?{jwt:k}:void 0);let z=ol(G,C,P??!1);i({accounts:z})}F?.(!0)}catch(G){o({key:N,value:_(G)}),F?.(!1)}finally{r({key:N,value:!1})}}),m=x=>l(null,null,function*(){let{users:N,tenantId:k,jwt:P,callback:F,allowSubAccountAccess:C=!1,roleIds:R}=x,U=dt.ADD_USERS_TO_ACCOUNT;try{r({key:U,value:!0}),yield n.subTenants.addUsersToSubTenant({users:N,tenantId:k,allowSubAccountAccess:C,roleIds:R},{jwt:P}),yield E({jwt:P,_tenantId:k}),F?.(!0)}catch(G){o({key:U,value:_(G)}),F?.(!1)}finally{r({key:U,value:!1})}}),E=x=>l(null,null,function*(){var N,k,P,F,C,R,U,G;let{jwt:z,_tenantId:W,_email:$}=x,B=dt.GET_ACCOUNT_USERS;r({key:B,value:!0});let te=u(),ae=(N=(k=x?._offset)!=null?k:te==null||(P=te.selectedAccount)==null||(F=P.usersQueryParams)==null?void 0:F._offset)!=null?N:0,pe=(C=(R=x?._limit)!=null?R:te==null||(U=te.selectedAccount)==null||(G=U.usersQueryParams)==null?void 0:G._limit)!=null?C:10,ye=y({_offset:ae,_limit:pe,_tenantId:W,_includeSubTenants:!1},!!$&&{_email:$});try{let{items:Mt,_metadata:{totalItems:qe,totalPages:Ue}}=yield n.users.getUsersV3(ye,{jwt:z}),H={totalUsersItems:qe,totalUsersPages:Ue,usersQueryParams:y({_offset:ae??0,_limit:pe??10},!!$&&{_email:$})};if(Mt.length){let j=Mt.map(be=>be.id),Z=yield n.roles.getRoles(),q=yield n.users.getUsersRoles({ids:j},{jwt:z}),re=Mt.map(be=>{var ke,De;let Le=q==null||(ke=q.find(ft=>ft.userId===be.id))==null?void 0:ke.roleIds;return y({},be,{roles:(De=Le?.map(ft=>{var Pt;return(Pt=Z?.find(An=>An.id===ft))!=null?Pt:[]}))!=null?De:[]})});s(y({users:re},H))}else s(y({users:[]},H))}catch(Mt){o({key:B,value:_(Mt)})}finally{r({key:B,value:!1})}});return{setAllAccountsLoader:r,setAllAccountsError:o,setAllAccountsState:i,setSelectedAccountState:s,resetAllAccountsState:c,clearSelectedAccount:a,loadAccounts:d,searchAccounts:p,updateSubAccountAccessForUser:g,createSubAccount:f,updateSubAccount:h,deleteSubAccount:v,updateSubAccountSettings:D,updateSubAccountManagement:T,updateSubAccountHierarchySettings:S,addUsersToAccount:m,getAccountUsers:E,deleteUsersFromAccount:x=>l(null,null,function*(){let N=dt.DELETE_USERS_FROM_ACCOUNT;r({key:N,value:!0});let{userId:k,subTenants:P,jwt:F,callback:C}=x;try{yield n.subTenants.removeUserFromTenantAndSubTenants({userId:k,subTenants:P},{jwt:F}),yield E({jwt:F,_tenantId:P[0].tenantId}),C?.(!0)}catch(R){o({key:N,value:_(R)}),C?.(!1)}finally{r({key:N,value:!1})}}),setUserRolesForSubAccount:x=>l(null,null,function*(){let{userId:N,subTenantsRoles:k,jwt:P,callback:F}=x,C=dt.SET_USER_ROLES_FOR_SUB_ACCOUNT;try{r({key:C,value:!0});let{selectedAccount:R}=u();yield n.subTenants.setUserRolesForSubTenants(N,{subTenantsRoles:k},{jwt:P}),yield E({jwt:P,_tenantId:R.tenantId}),F?.(!0)}catch(R){o({key:C,value:_(R)}),F?.(!1)}finally{r({key:C,value:!1})}}),getUserJwtForSubAccount:x=>l(null,null,function*(){let{tenantId:N,callback:k}=x,P=dt.GET_USER_JWT;try{r({key:P,value:!0});let F=yield n.users.GetUserJwt({tenantId:N});s({userJwt:F,accessPermission:!0}),k?.(!0)}catch(F){o({key:P,value:_(F)}),s({accessPermission:!1}),k?.(!1)}finally{r({key:P,value:!1})}}),setRootAccountData:()=>l(null,null,function*(){let x=dt.SET_ROOT_ACCOUNT_DATA;r({key:x,value:!0});let{activeTenant:N}=e.auth.tenantsState,{accounts:k}=u();if(N)try{var P;let F=yield n.tenants.getTenantsUsersCount({tenantIds:[N?.tenantId]}),C={name:N?.name,tenantId:N?.tenantId,numberOfUsers:(P=F[0])==null?void 0:P.totalUsers,createdAt:N?.createdAt};i({rootAccount:C,accounts:y({},k,C)})}catch(F){o({key:x,value:_(F)})}finally{r({key:x,value:!1})}}),setSelectedSubAccountData:x=>l(null,null,function*(){let{jwt:N}=x,k=dt.SET_SELECTED_SUB_ACCOUNT_DATA;try{var P,F,C,R,U,G,z;r({key:k,value:!0});let W=yield n.accountSettings.getSettings({jwt:N}),[$,B,te]=yield Promise.all([n.tenants.getTenantsUsersCount({tenantIds:[(P=W?.tenantId)!=null?P:""]},{jwt:N}),n.tenants.getParentTenants({jwt:N}),n.tenants.getHierarchyMetadata({_tenantIds:[(F=W?.tenantId)!=null?F:""]},{jwt:N})]);s({tenantId:(C=W.tenantId)!=null?C:"",name:W.name,numberOfUsersObject:$[0],parentsAccounts:B,numberOfSubAccounts:(R=te[0])==null?void 0:R.totalSubTenants,accountSettings:W,accounts:{name:W.name,tenantId:(U=W.tenantId)!=null?U:"",numberOfUsers:(G=$[0])==null?void 0:G.totalUsers,createdAt:void 0,children:[]}}),yield E({jwt:N,_tenantId:(z=W?.tenantId)!=null?z:""})}catch(W){o({key:k,value:_(W)})}finally{r({key:k,value:!1})}}),loadNumberOfUsersForSelectedSubAccount:x=>l(null,null,function*(){let{tenantId:N,jwt:k}=x,P=dt.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT;try{r({key:P,value:!0});let F=yield n.tenants.getTenantsUsersCount({tenantIds:[N]},{jwt:k});s({numberOfUsersObject:F[0]})}catch(F){o({key:P,value:_(F)})}finally{r({key:P,value:!1})}})}};var bn={createSubAccountDialog:{loading:!1,open:!1,error:!1,jwt:"",canSelectParentAccount:!1},updateSubAccountDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1,jwt:""},disableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},enableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},updateSubAccountHierarchySettingsDialog:{accountId:"",accountName:"",subAccountAccessType:Ac.DEFAULT_OFF,loading:!1,open:!1,error:!1},deleteSubAccountDialog:{accountId:"",accountName:"",isParentAccount:!1,loading:!1,open:!1,error:!1,jwt:""},addUsersToAccountDialog:{loading:!1,open:!1,accountName:"",accountId:"",permissionToGiveAccessToSubAccounts:!1,jwt:""},deleteUserFromAccountDialog:{userId:"",userName:"",accountId:"",loading:!1,open:!1,jwt:""},editUserRolesDialog:{loading:!1,open:!1,jwt:"",accountId:"",userId:"",userName:"",userRoles:[]}},iy=e=>K(bn,e);var sl=(e,n,t)=>({setAllAccountDialogsState:A=>{Object.assign(e.auth.allAccountsDialogsState,A)},resetAllAccountDialogsState:()=>{Q(e,["auth","allAccountsDialogsState"],bn)},openCreateSubAccountDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.createSubAccountDialog,y({},A,{open:!0}))},closeCreateSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","createSubAccountDialog"],bn.createSubAccountDialog)},openUpdateSubAccountDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.updateSubAccountDialog,y({},A,{open:!0}))},closeUpdateSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","updateSubAccountDialog"],bn.updateSubAccountDialog)},openEnableSubAccountManagementDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.enableSubAccountManagementDialog,y({},A,{open:!0}))},closeEnableSubAccountManagementDialog:()=>{Q(e,["auth","allAccountsDialogsState","enableSubAccountManagementDialog"],bn.enableSubAccountManagementDialog)},openUpdateSubAccountHierarchySettingsDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.updateSubAccountHierarchySettingsDialog,y({},A,{open:!0}))},closeUpdateSubAccountHierarchySettingsDialog:()=>{Q(e,["auth","allAccountsDialogsState","updateSubAccountHierarchySettingsDialog"],bn.updateSubAccountHierarchySettingsDialog)},openDisableSubAccountManagementDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.disableSubAccountManagementDialog,y({},A,{open:!0}))},closeDisableSubAccountManagementDialog:()=>{Q(e,["auth","allAccountsDialogsState","disableSubAccountManagementDialog"],bn.disableSubAccountManagementDialog)},openDeleteSubAccountDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.deleteSubAccountDialog,y({},A,{open:!0}))},closeDeleteSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","deleteSubAccountDialog"],bn.deleteSubAccountDialog)},openAddUsersToAccountDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.addUsersToAccountDialog,y({},A,{open:!0}))},closeAddUsersToAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","addUsersToAccountDialog"],bn.addUsersToAccountDialog)},openDeleteUserFromAccountDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.deleteUserFromAccountDialog,y({},A,{open:!0}))},closeDeleteUserFromAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","deleteUserFromAccountDialog"],bn.deleteUserFromAccountDialog)},openEditUserRolesDialog:A=>{Object.assign(e.auth.allAccountsDialogsState.editUserRolesDialog,y({},A,{open:!0}))},closeEditUserRolesDialog:()=>{Q(e,["auth","allAccountsDialogsState","editUserRolesDialog"],bn.editUserRolesDialog)}});var sy={devices:[],loading:!1,error:null},ay=e=>K(sy,e);var al=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.passkeysState,d)},i=()=>{Q(e,["auth","passkeysState"],sy)},s=()=>l(null,null,function*(){o({loading:!0});try{let{devices:d}=yield n.auth.getWebAuthnDevices();o({devices:d,loading:!1})}catch(d){o({loading:!1,error:_(d,null)})}}),c=d=>l(null,null,function*(){let{callback:p,deviceId:g}=d;o({loading:!0});try{yield n.auth.deleteWebAuthnDevice(g);let h=e.auth.passkeysState.devices.filter(v=>v.id!==g);o({devices:h,loading:!1}),p?.(!0)}catch(f){o({loading:!1,error:_(f,null)}),p?.(null,f)}});function a(d){return l(this,null,function*(){var p;return!!(d!=null&&(p=d.secondaryAuthStrategies)!=null&&p.some(({isActive:g,strategy:f})=>g&&f===tc.Passkeys))})}function u(){return l(this,null,function*(){let{publicAuthStrategyPolicy:d}=e.auth.securityPolicyState,{policy:p}=d,g=yield a(p),f=localStorage.getItem("preferred-login-method")==="Passkeys",h=localStorage.getItem("dont-show-again-prompt-passkeys")==="true",[v]=yield r.getFeatureFlags(["show-passkeys-new"]);if(!v||!g||f||h)return!1;{let{devices:S}=yield n.auth.getWebAuthnDevices();return o({devices:S??[]}),(S!=null&&S.length?S.length:0)===0}})}return{setPasskeysState:o,resetPasskeysState:i,loadWebAuthnDevices:s,deleteWebAuthnDevice:c,__shouldShowPromptPasskeys:u}};var cy={loading:!1,error:null},ly=e=>K(cy,e);var n2=["callback","profilePictureUrl"],cl=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.auth.profileState,p)};return{setProfileState:o,resetProfileState:()=>{Q(e,["auth","profileState"],cy)},loadProfile:()=>l(null,null,function*(){o({loading:!0});try{let p=yield bf(n.teams.getProfile,3,2e3),g=e.auth.user;r.setUser(y({},g,p)),o({profile:p,loading:!1})}catch(p){o({loading:!1,error:_(p)})}}),saveProfile:p=>l(null,null,function*(){let{callback:g,profilePictureUrl:f}=p,h=V(p,n2);o({saving:!0,error:null,loading:!0});try{var v;let S=(v=e.auth.profileState.profile)!=null?v:{},D=S.profilePictureUrl;if(f!==S.profilePictureUrl&&f&&(f||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)){let I=rv(f,"image");if(I){D=yield n.teams.updateProfileImage(I);let A=Date.now().toString(),M=new URL(D);M.searchParams.set("t",A),D=M.href}}let T=y({},S,h,{profilePictureUrl:D}),m=yield n.users.updateUserProfileV2(T),E=e.auth.user;r.setUser(y({},E,m)),r.setProfileState({profile:m,saving:!1,loading:!1}),g?.(T)}catch(S){o({saving:!1,error:_(S),loading:!1}),g?.(null,S)}}),changePassword:p=>l(null,null,function*(){o({loading:!0});try{var g;yield n.teams.changePassword(p),o({loading:!1,error:void 0}),(g=p.callback)==null||g.call(p,!0)}catch(h){var f;o({loading:!1,error:_(h)}),(f=p.callback)==null||f.call(p,null,h)}}),updateEmail:p=>l(null,null,function*(){let{email:g,callback:f}=p;o({saving:!0,error:null,loading:!0});try{yield n.teams.updateEmail(g),o({saving:!1,error:null,loading:!1}),f?.(!0)}catch(h){o({saving:!1,error:_(h),loading:!1}),f?.(null,h)}}),verifyEmail:p=>l(null,null,function*(){let{email:g,code:f,callback:h}=p;o({saving:!0,error:null,loading:!0});try{yield n.teams.verifyEmail(g,f),yield r.__refreshToken(),o({saving:!1,error:null,loading:!1}),h?.(!0)}catch(v){o({saving:!1,error:_(v),loading:!1}),h?.(null,v)}})}};var uy={loading:!1},dy=e=>K(uy,e);var r2=["callback"],o2=["id"],ll=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.auth.provisioningState,p)},i=()=>{Q(e,["auth","provisioningState"],uy)},s=(p,g)=>l(null,null,function*(){let{count:f}=yield ee(()=>n.directory.countConfigurationUsers(p.id),g);return y({},p,{count:f})});return{setProvisioningState:o,resetProvisioningState:i,__loadCountForConnection:s,loadProvisionConnections:p=>l(null,null,function*(){o({loading:!0,error:null});try{let g=p?.retryConfig,f=yield ee(()=>n.directory.getConfigs(),g),h=yield Promise.all(f.map(v=>s(v,g)));o({connections:h,loading:!1})}catch(g){o({error:_(g),loading:!1})}}),createProvisionConnection:p=>l(null,null,function*(){let{callback:g}=p,f=V(p,r2);o({loading:!0,error:null});try{let h=yield n.directory.createConfiguration(f),v=yield n.directory.getConfigs(),S=yield Promise.all(v.map(D=>s(D)));o({connections:S,loading:!1}),g?.(h)}catch(h){o({error:_(h),loading:!1})}}),deleteProvisionConnection:p=>l(null,null,function*(){let{id:g,callback:f}=p;o({loading:!0,error:null});try{yield n.directory.deleteConfiguration(g,p.deleteAll);let h=yield n.directory.getConfigs(),v=yield Promise.all(h.map(S=>s(S)));o({connections:v,loading:!1}),f?.(!0)}catch(h){o({error:_(h),loading:!1}),f?.(!1,h)}}),updateProvisionConnection:p=>l(null,null,function*(){let{id:g}=p,f=V(p,o2);o({loading:!0,error:null});try{yield n.directory.updateConfiguration(g,f);let h=yield n.directory.getConfigs(),v=yield Promise.all(h.map(S=>s(S)));o({connections:v,loading:!1})}catch(h){o({error:_(h),loading:!1})}})}};var so;(function(e){e.ResetPhoneNumber="ResetPhoneNumber",e.VerifyResetPhoneNumber="VerifyResetPhoneNumber",e.ChangePhoneNumber="ChangePhoneNumber"})(so||(so={}));var fy={step:so.ResetPhoneNumber,loading:!1},py=e=>K(fy,e);var i2=["callback"],s2=["callback"],a2=["callback"],ul=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.auth.resetPhoneNumberState,u)};return{setResetPhoneNumberState:o,resetResetPhoneNumberState:()=>{Q(e,["auth","resetPhoneNumberState"],fy)},resetPhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,i2);o({loading:!0});try{let g=yield n.auth.resetPhoneNumber(p);o({loading:!1,error:void 0,resetPhoneNumberToken:g.resetPhoneNumberToken,step:so.VerifyResetPhoneNumber}),r.setLoginState({email:p.email})}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}}),verifyResetPhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,s2);o({loading:!0});try{let g=yield n.auth.verifyResetPhoneNumber(p);o({loading:!1,error:void 0,changePhoneNumberToken:g.changePhoneNumberToken,step:so.ChangePhoneNumber}),d?.(!0)}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}}),changePhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,a2);o({loading:!0});try{let{onRedirectTo:g,routes:f}=e.auth;yield n.auth.changePhoneNumber({phoneNumber:p.phoneNumber,changePhoneNumberToken:p.changePhoneNumberToken}),r.setLoginState({step:Se.loginWithSmsOtc}),yield r.passwordlessPreLogin({type:Te.SmsCode,email:p.email,recaptchaToken:p.recaptchaToken}),g(f.loginUrl),o({loading:!1}),d?.(!0)}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}})}};var hy={loaders:{},errors:{},roles:[],permissions:[],permissionCategories:[]},gy=e=>K(hy,e);var nn;(function(e){e.EDIT_ROLE_DIALOG="editRoleDialog",e.DELETE_ROLE_DIALOG="deleteRoleDialog",e.LOAD_ROLES="loadRoles",e.ADD_ROLE="addRole",e.MANAGE_PERMISSIONS="managePermissions"})(nn||(nn={}));var c2=["callback"],l2=["callback"],u2=["callback"],d2=["callback"],f2=["callback"],p2=["callback"],dl=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.rolesState,v)},i=()=>{Q(e,["auth","rolesState"],hy)},s=v=>{Object.assign(e.auth.rolesState,{loaders:y({},e.auth.rolesState.loaders,{[v.key]:v.value})})},c=v=>{Object.assign(e.auth.rolesState,{errors:y({},e.auth.rolesState.errors,{[v.key]:v.value}),loaders:y({},e.auth.rolesState.loaders,{[v.key]:!1})})},a=v=>l(null,null,function*(){var S;let D=nn.LOAD_ROLES;s({key:D,value:!((S=v?.silentLoading)!=null&&S)});try{let T=v?.retryConfig,[m,E,w]=yield Promise.all([ee(()=>n.roles.getRoles(),T),ee(()=>n.roles.getPermissions(),T),ee(()=>n.roles.getPermissionCategories(),T)]),{selectedRole:I}=e.auth.rolesState,A=m?.find(({id:M})=>I?.id===M);o({roles:m,permissions:E,permissionCategories:w,selectedRole:A})}catch(T){c({key:D,value:_(T)})}finally{s({key:D,value:!1})}}),u=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,c2),T=nn.ADD_ROLE;s({key:T,value:!0});try{let m=yield n.roles.addRole(D);yield a({silentLoading:!0}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),d=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,l2),T=nn.ADD_ROLE;s({key:T,value:!0});try{let m=yield n.roles.addRoleV2(D);yield a({silentLoading:!0}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),p=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,u2),T=nn.EDIT_ROLE_DIALOG;s({key:T,value:!0});try{let m=yield n.roles.updateRole(D);yield a({silentLoading:!0}),o({saving:!1}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),g=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,d2),T=nn.DELETE_ROLE_DIALOG;s({key:T,value:!0});try{yield n.roles.deleteRole(D),yield a({silentLoading:!0}),o({saving:!1}),S?.(!0)}catch(m){c({key:T,value:_(m)}),S?.(!1,m)}finally{s({key:T,value:!1})}}),f=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,f2),T=nn.MANAGE_PERMISSIONS;s({key:T,value:!0});try{let m=yield n.roles.attachPermissionsToRole(D);yield a({silentLoading:!0}),o({saving:!1}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}});return{setRolesState:o,setRolesStateLoader:s,setRolesStateError:c,resetRolesState:i,loadRolesAndPermissions:a,addRole:u,addRoleV2:d,updateRole:p,deleteRole:g,attachPermissionsToRole:f,attachPermissionToRoles:v=>l(null,null,function*(){let{callback:S}=v,D=V(v,p2),T=nn.MANAGE_PERMISSIONS;s({key:T,value:!0});try{yield Promise.all(D.roleIds.map(m=>f({roleId:m,permissionIds:[D.permissionId]}))),yield a({silentLoading:!0}),S?.(!0)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}})}};var h2={ipRestrictions:{loading:!1,pagination:{_offset:0,_limit:4,_filter:He.ALLOW},totalPages:1,userIpValid:!1},emailDomainRestrictions:{loading:!1}},my=e=>K(h2,e);var g2=["callback"],m2=["callback"],v2=["callback"],y2=["callback"],fl=(e,n,t)=>{let r=t,o=k=>{var P,F,C;return{_filter:(P=k?._filter)!=null?P:He.ALLOW,_limit:(F=k?._limit)!=null?F:10,_offset:(C=k?._offset)!=null?C:0}},i=k=>(...P)=>l(null,null,function*(){let[F]=yield r.getFeatureFlags(["security-center-admin-portal-major-version"]);yield k(...P),F&&(yield r.loadRecommendations(kn()),yield r.loadInsights(kn()))}),s=k=>{Object.assign(e.auth.restrictionsState,k)},c=k=>{Object.assign(e.auth.restrictionsState.ipRestrictions,k)},a=k=>{Object.assign(e.auth.restrictionsState.emailDomainRestrictions,k)},u=()=>l(null,null,function*(){c({loading:!0,error:null});try{let k=e.auth.restrictionsState.ipRestrictions,P=yield n.auth.getIPRestrictionsConfig(),F=o({_filter:P.strategy,_limit:k.pagination._limit,_offset:k.pagination._offset}),{items:C,_metadata:{totalPages:R}}=yield n.auth.getIPRestrictions(F);c({data:{restrictions:C,config:P},totalPages:R,pagination:F,loading:!1})}catch(k){c({error:_(k),loading:!1})}}),d=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,g2);c({saving:!0,error:null});try{var C,R;yield n.auth.createIPRestriction(F);let U=e.auth.restrictionsState.ipRestrictions,G=o(U.pagination),{items:z,_metadata:{totalPages:W}}=yield n.auth.getIPRestrictions(G),$=z;yield f(),c({data:{config:(C=(R=U.data)==null?void 0:R.config)!=null?C:{isActive:!1,strategy:He.ALLOW},restrictions:$},pagination:G,totalPages:W,saving:!1}),P?.(!0)}catch(U){c({saving:!1,error:_(U)}),P?.(null,U)}}),p=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,m2);c({saving:!0,error:null});try{yield n.auth.updateIPRestrictionConfig(F);let C=e.auth.restrictionsState.ipRestrictions,R=yield n.auth.getIPRestrictionsConfig(),U=o(y({},C.pagination,{_filter:R.strategy})),{items:G,_metadata:{totalPages:z}}=yield n.auth.getIPRestrictions(U),W=G;yield f(),c({data:{config:R,restrictions:W},pagination:U,totalPages:z,saving:!1}),P?.(!0)}catch(C){c({saving:!1,error:_(C)}),P?.(null,C)}}),g=k=>l(null,null,function*(){let{id:P,callback:F}=k;c({saving:!0,error:null});try{var C;yield n.auth.deleteIPRestriction(P);let R=e.auth.restrictionsState.ipRestrictions,U=o(R.pagination),{items:G,_metadata:{totalPages:z}}=yield n.auth.getIPRestrictions(U),W=G;yield f(),c({data:{config:((C=R.data)==null?void 0:C.config)||{isActive:!1,strategy:He.ALLOW},restrictions:W},pagination:U,totalPages:z,saving:!1}),F?.(!0)}catch(R){c({saving:!1,error:_(R)}),F?.(null,R)}}),f=()=>l(null,null,function*(){try{let{valid:k}=yield n.auth.testCurrentIpInAllowList();c({userIpValid:k})}catch(k){c({error:_(k)})}}),h=k=>l(null,null,function*(){let{callback:P}=k;c({saving:!0,error:null});try{var F,C;let R=(F=((C=e.auth.userIpData)==null?void 0:C.ip)||e.auth.userIp)!=null?F:"";yield Promise.all([n.auth.createIPRestriction({ip:R,isActive:!0,description:"My IP",strategy:He.ALLOW}),n.auth.updateIPRestrictionConfig({isActive:!0})]);let U=e.auth.restrictionsState.ipRestrictions,G=o(U.pagination),{items:z,_metadata:{totalPages:W}}=yield n.auth.getIPRestrictions(G),$=z;c({data:{config:{isActive:!0,strategy:He.ALLOW},restrictions:$},userIpValid:!0,pagination:G,totalPages:W,saving:!1}),P?.(!0)}catch(R){c({saving:!1,error:R}),P?.(!1,R)}}),v=()=>l(null,null,function*(){a({loading:!0,error:null});try{let k=yield n.auth.getDomainRestrictionsConfig(),F=(yield n.auth.getDomainRestrictions()).items.filter(C=>C.type===k.listType);a({data:{restrictions:F,config:k},loading:!1})}catch(k){a({error:_(k),loading:!1})}}),S=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,v2);a({saving:!0,error:null});let C=e.auth.restrictionsState.emailDomainRestrictions;try{var R;yield n.auth.createDomainRestriction(F);let G=(yield n.auth.getDomainRestrictions()).items.filter(z=>{var W;return z.type===((W=C.data)==null?void 0:W.config.listType)});a({data:{config:((R=C.data)==null?void 0:R.config)||{active:!1,blockPublicDomains:!1,listType:F.type},restrictions:G},saving:!1}),P?.(!0)}catch(U){a({saving:!1,error:_(U)}),P?.(null,U)}}),D=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,y2);a({saving:!0,error:null});try{let C=yield n.auth.updateDomainRestrictionConfig(F),U=(yield n.auth.getDomainRestrictions()).items.filter(G=>G.type===C.listType);a({data:{config:C,restrictions:U},saving:!1}),P?.(!0)}catch(C){a({saving:!1,error:_(C)}),P?.(null,C)}}),T=k=>l(null,null,function*(){let{id:P}=k;a({saving:!0,error:null});let F=e.auth.restrictionsState.emailDomainRestrictions;try{var C;yield n.auth.deleteDomainRestriction(P);let U=(yield n.auth.getDomainRestrictions()).items.filter(G=>{var z;return G.type===((z=F.data)==null?void 0:z.config.listType)});a({data:{config:((C=F.data)==null?void 0:C.config)||{active:!1,blockPublicDomains:!1,listType:He.ALLOW},restrictions:U},saving:!1})}catch(R){a({saving:!1,error:_(R)})}}),m=i(u),E=i(d),w=i(p),I=i(g),A=i(f),M=i(h),O=i(v),L=i(S),x=i(D),N=i(T);return{setRestrictionsState:s,setIpRestrictionsState:c,setEmailDomainRestrictionsState:a,__securityCenterSagaWrapper:i,loadIpRestrictions:m,saveIpRestriction:E,saveIpRestrictionsConfig:w,deleteIpRestriction:I,checkIfUserIpValid:A,addCurrentUserIpAndActivate:M,loadEmailDomainRestrictions:O,saveEmailDomainRestriction:L,saveEmailDomainRestrictionsConfig:x,deleteEmailDomainRestriction:N}};var vy={loaders:{},errors:{},recommendations:void 0,insights:void 0,hasSecurityChanges:!1,score:0,breachedPasswordUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},unenrolledMfaUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},inactiveUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10,_maxInactiveSeconds:7776e3}}},yy=e=>K(vy,e);var Et;(function(e){e.RECOMMENDATIONS="recommendations",e.INSIGHTS="insights",e.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS="sendBulkResetBreachedPasswordEmails",e.SEND_BREACHED_PASSWORD_EMAIL="sendBreachedPasswordEmail",e.BREACHED_PASSWORD_USERS_TABLE="breachedPasswordUsersTable",e.UNENROLLED_MFA_USERS_TABLE="unenrolledMfaUsersTable",e.INACTIVE_USERS_TABLE="inactiveUsersTable"})(Et||(Et={}));var S2=["callback"],pl=(e,n,t)=>{let r=t,o=T=>l(null,null,function*(){let m=T.map(A=>A.id),E=yield n.roles.getRoles(),w=yield n.users.getUsersRoles({ids:m});return T.map(A=>{var M,O;let L=w==null||(M=w.find(x=>x.userId===A.id))==null?void 0:M.roleIds;return y({},A,{roles:(O=L?.map(x=>{var N;return(N=E?.find(k=>k.id===x))!=null?N:[]}))!=null?O:[]})})}),i=T=>l(null,null,function*(){var m,E,w,I;let{key:A,tableState:M,updateStateKey:O,_offset:L,_limit:x,_preset:N,_email:k,_maxInactiveSeconds:P}=T;u({key:A,value:!1}),a({key:A,value:!0});let F=(m=L??(M==null||(E=M.queryParams)==null?void 0:E._offset))!=null?m:0,C=(w=x??(M==null||(I=M.queryParams)==null?void 0:I._limit))!=null?w:10,R=y({_offset:F,_limit:C,_includeSubTenants:!1,_preset:N,_maxInactiveSeconds:P},!!k&&{_email:k});try{let{items:U,_metadata:{totalItems:G,totalPages:z}}=yield n.users.getUsersV3(R),W={totalUsersItems:G,totalUsersPages:z,usersPageOffset:F,queryParams:y({_offset:F,_limit:C,_maxInactiveSeconds:P},!!k&&{_email:k})};if(U.length){let $=yield o(U);r.setSecurityCenterState({[O]:y({users:$},W)})}else s({[O]:y({users:[]},W)})}catch(U){u({key:A,value:_(U)})}finally{a({key:A,value:!1})}}),s=T=>{Object.assign(e.auth.securityCenterState,T)},c=()=>{Q(e,["auth","securityCenterState"],vy)},a=T=>{Object.assign(e.auth.securityCenterState,{loaders:y({},e.auth.securityCenterState.loaders,{[T.key]:T.value})})},u=T=>{Object.assign(e.auth.securityCenterState,{errors:y({},e.auth.securityCenterState.errors,{[T.key]:T.value}),loaders:y({},e.auth.securityCenterState.loaders,{[T.key]:!1})})};return{setSecurityCenterState:s,resetSecurityCenterState:c,setSecurityCenterStateLoader:a,setSecurityCenterStateError:u,loadRecommendations:T=>l(null,null,function*(){let m=Et.RECOMMENDATIONS;a({key:m,value:!0});try{var E;let{recommendations:w,scoring:I}=yield ee(()=>n.securityCenter.getRecommendations(),T?.retryConfig);s({recommendations:w.items,score:(E=I?.score)!=null?E:0})}catch(w){u({key:m,value:_(w)})}finally{a({key:m,value:!1})}}),loadInsights:T=>l(null,null,function*(){let m=Et.INSIGHTS;a({key:m,value:!0});try{let{insights:E}=yield yield ee(()=>n.securityCenter.getInsights(),T?.retryConfig);s({insights:E.items})}catch(E){u({key:m,value:_(E)})}finally{a({key:m,value:!1})}}),sendResetBreachedPasswordEmail:T=>l(null,null,function*(){let{callback:m}=T,E=V(T,S2),w=Et.SEND_BREACHED_PASSWORD_EMAIL;u({key:w,value:!1}),a({key:w,value:!0});try{yield n.auth.forgotPassword(E),m?.(!0)}catch(I){u({key:w,value:_(I)}),m?.(!1,I)}finally{a({key:w,value:!1})}}),sendBulkResetBreachedPasswordEmails:T=>l(null,null,function*(){let{callback:m}=T,E=Et.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS;u({key:E,value:!1}),a({key:E,value:!0});try{yield n.users.sendResetBreachedPasswordEmails(),m?.(!0)}catch(w){u({key:E,value:_(w)}),m?.(!1)}finally{a({key:E,value:!1})}}),loadBreachedPasswordUsers:T=>l(null,null,function*(){var m;let E=Et.BREACHED_PASSWORD_USERS_TABLE,w=(m=e.auth.securityCenterState)==null?void 0:m.breachedPasswordUsersTable;yield i(y({key:E,updateStateKey:"breachedPasswordUsersTable",_preset:Qo.BREACHED_PASSWORDS,tableState:w},T))}),loadUnenrolledMfaUsers:T=>l(null,null,function*(){var m;let E=Et.UNENROLLED_MFA_USERS_TABLE,w=(m=e.auth.securityCenterState)==null?void 0:m.unenrolledMfaUsersTable;yield i(y({key:E,updateStateKey:"unenrolledMfaUsersTable",_preset:Qo.MFA_UNENROLLED,tableState:w},T))}),loadInactiveUsers:T=>l(null,null,function*(){var m;let E=Et.INACTIVE_USERS_TABLE,w=(m=e.auth.securityCenterState)==null?void 0:m.inactiveUsersTable;yield i(y({key:E,updateStateKey:"inactiveUsersTable",_preset:Qo.INACTIVE,tableState:w},T))}),markSecurityCenterStateAsChanged:(T=!0)=>{s({hasSecurityChanges:T})}}};var Sy={globalPolicy:{loading:!0},publicPolicy:{loading:!1},vendorMfaPolicy:{loading:!0},mfaPolicy:{loading:!0},vendorLockoutPolicy:{loading:!0},lockoutPolicy:{loading:!0},captchaPolicy:{loading:!0},passwordHistoryPolicy:{loading:!0},passwordPolicy:{loading:!0},vendorPasswordHistoryPolicy:{loading:!0},publicAuthStrategyPolicy:{loading:!0},passwordRotationPolicy:{loading:!0}},by=e=>K(Sy,e);function r_(e,n){let t=n!=null,r=e!=null;if(!(!t&&!r))return t?r?Math.min(e,n):n:e}var b2=["callback"],w2=["callback"],A2=["callback"],E2=["callback"],hl=(e,n,t)=>{let r=t,o=($,B)=>l(null,null,function*(){var te,ae;if(!(yield r.customLoginEnabled()))return $;let ye=yield i(B);return ye!=null&&(te=ye.mainAuthStrategies)!=null&&(ae=te[0])!=null&&ae.strategy?y({},$,{authStrategy:ye.mainAuthStrategies[0].strategy}):$}),i=$=>l(null,null,function*(){let B=e.auth.isAuthenticated,te;return B?te=yield ee(n.auth.getPublicAuthStrategiesConfigForAuthenticatedUser,$):te=yield ee(n.auth.getVendorPublicAuthStrategiesConfig,$),te}),s=$=>l(null,null,function*(){var B,te;let ae=yield r.customLoginEnabled();if(!$||!ae)return;let{policy:pe}=(B=(te=e.auth.securityPolicyState)==null?void 0:te.publicPolicy)!=null?B:{policy:null};u({policy:y({},pe,{authStrategy:$}),loading:!1})}),c=$=>{Object.assign(e.auth.securityPolicyState,$)},a=$=>{Object.assign(e.auth.securityPolicyState.globalPolicy,$)},u=$=>{Object.assign(e.auth.securityPolicyState.publicPolicy,$)},d=$=>{Object.assign(e.auth.securityPolicyState.mfaPolicy,$)},p=$=>{Object.assign(e.auth.securityPolicyState.vendorMfaPolicy,$)},g=$=>{Object.assign(e.auth.securityPolicyState.lockoutPolicy,$)},f=$=>{Object.assign(e.auth.securityPolicyState.vendorLockoutPolicy,$)},h=$=>{Object.assign(e.auth.securityPolicyState.captchaPolicy,$)},v=$=>{Object.assign(e.auth.securityPolicyState.passwordHistoryPolicy,$)},S=$=>{Object.assign(e.auth.securityPolicyState.vendorPasswordHistoryPolicy,$)},D=$=>{Object.assign(e.auth.securityPolicyState.passwordRotationPolicy,$)},T=$=>{Object.assign(e.auth.securityPolicyState.passwordPolicy,$)},m=$=>{Object.assign(e.auth.securityPolicyState.publicAuthStrategyPolicy,$)},E=()=>{Q(e,["auth","securityPolicyState"],Sy)},w=$=>l(null,null,function*(){let B={retryConfig:$?.retryConfig};yield Promise.all([I(),O(),L(B),x(B),N(B),F(),k(B),R(B)])}),I=$=>l(null,null,function*(){a({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getGlobalSecurityPolicy(),$?.retryConfig);a({policy:B,loading:!1})}catch(B){a({error:_(B),loading:!1})}}),A=$=>l(null,null,function*(){u({loading:!0,error:null});try{let B=yield n.auth.getVendorConfig(),te=yield o(B,$?.retryConfig);u({policy:te,loading:!1})}catch(B){u({error:_(B),loading:!1})}}),M=$=>l(null,null,function*(){T({loading:!0,error:null});try{var B;let ae=yield ee(()=>n.auth.getPasswordConfigPolicy(),$?.retryConfig);T({policy:ae,loading:!1}),$==null||(B=$.callback)==null||B.call($,ae)}catch(ae){var te;T({error:_(ae),loading:!1}),$==null||(te=$.callback)==null||te.call($,null,ae)}}),O=$=>l(null,null,function*(){d({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getMfaPolicy(),$?.retryConfig);d({policy:B,loading:!1})}catch(B){d({error:_(B),loading:!1})}}),L=$=>l(null,null,function*(){d({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorMfaPolicy(),$?.retryConfig);p({policy:B,loading:!1})}catch(B){p({error:_(B),loading:!1})}}),x=$=>l(null,null,function*(){g({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getLockoutPolicy(),$?.retryConfig);g({policy:B,loading:!1})}catch(B){g({error:_(B),loading:!1})}}),N=$=>l(null,null,function*(){f({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorLockoutPolicy(),$?.retryConfig);f({policy:B,loading:!1})}catch(B){f({error:_(B),loading:!1})}}),k=$=>l(null,null,function*(){g({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getCaptchaPolicy(),$?.retryConfig);h({policy:B,loading:!1})}catch(B){h({error:_(B),loading:!1})}}),P=()=>l(null,null,function*(){v({loading:!0,error:null});try{let $=yield n.auth.getPasswordHistoryPolicy();v({policy:$,loading:!1})}catch($){v({error:_($),loading:!1})}}),F=$=>l(null,null,function*(){S({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorPasswordHistoryPolicy(),$?.retryConfig);S({policy:B,loading:!1})}catch(B){S({error:_(B),loading:!1})}}),C=()=>l(null,null,function*(){D({loading:!0,error:null});try{let $=yield n.securityPolicy.getPasswordRotationPolicy(),B=yield n.securityPolicy.getVendorPasswordRotationPolicy(),te={passwordRotationVendorConfig:B};$&&(B!=null&&B.isActive?te.passwordRotationTenantConfig=$!=null&&$.isActive?y({},$,{rotationPeriod:r_(B.rotationPeriod,$.rotationPeriod)}):B:te.passwordRotationTenantConfig=$),D({policy:y({},te),loading:!1})}catch($){D({error:_($),loading:!1})}}),R=$=>l(null,null,function*(){m({loading:!0,error:null});try{var B,te,ae;let ye=yield i($?.retryConfig);yield s(ye==null||(B=ye.mainAuthStrategies)==null||(te=B[0])==null?void 0:te.strategy),m({policy:ye,loading:!1}),$==null||(ae=$.callback)==null||ae.call($,ye)}catch(ye){var pe;m({error:_(ye),loading:!1}),$==null||(pe=$.callback)==null||pe.call($,null,ye)}});return{setSecurityPolicyState:c,setSecurityPolicyGlobalState:a,setSecurityPolicyPublicState:u,setSecurityPolicyMfaState:d,setSecurityPolicyVendorMfaState:p,setSecurityPolicyLockoutState:g,setSecurityPolicyVendorLockoutState:f,setSecurityPolicyCaptchaState:h,setSecurityPolicyPasswordHistoryState:v,setSecurityPolicyVendorPasswordHistoryState:S,setSecurityPolicyPasswordRotationState:D,resetSecurityPolicyState:E,setSecurityPolicyPasswordState:T,setSecurityPolicyAuthStrategyPublicState:m,loadSecurityPolicy:w,loadGlobalSecurityPolicy:I,loadPublicSecurityPolicy:A,loadVendorPasswordConfig:M,loadSecurityPolicyMfa:O,loadSecurityPolicyVendorMfa:L,loadSecurityPolicyLockout:x,loadSecurityPolicyVendorLockout:N,loadSecurityPolicyCaptcha:k,loadSecurityPolicyPasswordHistory:P,loadSecurityPolicyVendorPasswordHistory:F,loadSecurityPolicyPasswordRotation:C,loadPublicAuthStrategiesPolicy:R,saveSecurityPolicyMfa:$=>l(null,null,function*(){let{callback:B}=$,te=V($,b2);d({saving:!0,error:null});try{let ae=yield n.auth.securityPolicy.saveMfaPolicy(te);d({policy:ae,saving:!1}),B?.(ae)}catch(ae){d({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyLockout:$=>l(null,null,function*(){let{callback:B}=$,te=V($,w2);g({saving:!0,error:null});try{let ae=yield n.auth.saveLockoutPolicy(te);g({policy:ae,saving:!1}),B?.(ae)}catch(ae){g({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyPasswordHistory:$=>l(null,null,function*(){let{callback:B}=$,te=V($,A2);v({saving:!0,error:null});try{let ae=yield n.auth.savePasswordHistoryPolicy(te);v({policy:ae,saving:!1}),B?.(ae)}catch(ae){v({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyPasswordRotation:$=>l(null,null,function*(){let{callback:B}=$,te=V($,E2);D({saving:!0,error:null});try{yield n.securityPolicy.savePasswordRotationPolicy(te.passwordRotationTenantConfig||{}),D({policy:te,saving:!1}),B?.(te)}catch(ae){D({saving:!1,error:_(ae)}),B?.(null,ae)}}),__getSecurityPolicyPublicStateWithCustomLogin:o}};var wy={loading:!1,configurations:{}},Ay=e=>K(wy,e);var D2=["callback"],gl=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auth.sessionsPolicyState,a)};return{setSessionsPolicyState:o,resetSessionsPolicyState:()=>{Q(e,["auth","sessionsPolicyState"],wy)},loadSessionsPolicy:()=>l(null,null,function*(){o({loading:!0,error:null});try{let a=yield n.auth.getSessionConfigurations();o({configurations:a,loading:!1})}catch(a){r.setSessionsState({error:a,loading:!1})}}),createOrUpdateSessionsPolicy:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,D2);try{o({loading:!0,error:null}),yield n.auth.createOrUpdateSessionConfigrations(d),yield r.loadSessionsPolicy(),u?.(!0)}catch(p){o({error:p,loading:!1})}})}};var Ey={loading:!1,sessions:[]},Dy=e=>K(Ey,e);var ml=(e,n,t)=>{let r=d=>{Object.assign(e.auth.sessionsState,d)},o=()=>{Q(e,["auth","sessionsState"],Ey)},i=d=>l(null,null,function*(){r({loading:!0,error:null});try{let p=yield ee(()=>n.auth.getCurrentUserSessions(),d?.retryConfig);r({sessions:p,loading:!1})}catch(p){r({error:_(p),loading:!1})}});return{setSessionsState:r,resetSessionsState:o,loadUserSessions:i,loadCurrentUserSession:()=>l(null,null,function*(){r({loading:!0,error:null});try{let d=yield n.auth.getCurrentUserSession();r({currentSession:d,loading:!1})}catch(d){r({error:_(d),loading:!1})}}),deleteUserSession:d=>l(null,null,function*(){let{id:p}=d;r({loading:!0,error:null});try{yield n.auth.deleteSessionForUser(p),yield i()}catch(g){r({error:_(g),loading:!1})}}),deleteAllUserSessions:()=>l(null,null,function*(){r({loading:!0,error:null});try{yield n.auth.deleteAllSessionsForUser(),yield i()}catch(d){r({error:_(d),loading:!1})}}),revokeUserSessions:d=>l(null,null,function*(){let{callback:p,userId:g}=d;r({loading:!0,error:null});try{yield n.auth.revokeSessionsForUser(g),r({loading:!1}),p?.(!0)}catch(f){r({error:_(f),loading:!1}),p?.(!1)}})}};var ao;(function(e){e.SignUp="SignUp",e.SignUpSuccess="SignUpSuccess",e.VerifyPhone="VerifyPhone"})(ao||(ao={}));var Iy={loading:!1,allowSignUps:!1,allowNotVerifiedUsersLogin:!1,firstLoad:!0,stage:ao.SignUp,strategies:{[bs.Email]:{enabled:!0,required:!0},[bs.PhoneNumber]:{enabled:!1,required:!1}}},Cy=e=>K(Iy,e);var I2=["events","url"],C2=["events","url"],vl=(e,n,t)=>{let r=t,o=ie.for(e.root.appName),i=f=>{Object.assign(e.auth.signUpState,f)},s=()=>{Q(e,["auth","signUpState"],Iy)},c=()=>{let{allowSignUps:f,allowNotVerifiedUsersLogin:h}=e.auth.signUpState;s(),i({allowSignUps:f,allowNotVerifiedUsersLogin:h})},a=(f,h,v,S,D,T=to.PASSWORD)=>{var m;let{email:E,name:w,companyName:I,phoneNumber:A,url:M}=f,O={email:E,name:w,companyName:I,url:M,phoneNumber:A||void 0,authenticationType:T,id:h,tenantId:v,createdAt:new Date,activationToken:S};D==null||(m=D.signUpComplete)==null||m.call(D,O),or(mn.SIGNUP_COMPLETED,O)},u=f=>l(null,null,function*(){let{events:h}=f,v=V(f,I2);if(i({loading:!0}),!v.phoneNumber)throw new Error("Phone number is required for phone number signup");try{var S,D,T;let{routes:m,onRedirectTo:E}=e.auth,{tenantId:w,userId:I,activationToken:A}=yield n.auth.signUpUserWithPhoneNumber(ep(v));v.invitationToken||a(v,I,w,A,h,to.PHONE_NUMBER);let{enabled:M,siteKey:O}=(S=e.auth.securityPolicyState.captchaPolicy.policy)!=null?S:{},L=M&&O?yield(D=window.grecaptcha)==null||(T=D.execute)==null?void 0:T.call(D,{action:"login"}):"";r.passwordlessPreLogin({recaptchaToken:L,phoneNumber:v.phoneNumber,type:Te.SmsCode,callback:(x,N)=>{if(!x&&N)throw N;E(m.loginUrl),r.setLoginState({step:Se.loginWithSmsOtc,phoneNumber:v.phoneNumber})}})}catch(m){o.setAccessToken(null),o.setUser(null),i({error:_(m)})}finally{i({loading:!1})}});return{setSignUpState:i,resetSignUpState:s,resetSignUpStateSoft:c,signUpUser:f=>l(null,null,function*(){let{events:h}=f,v=V(f,C2);i({loading:!0});let S=e.auth.signUpState.strategies.phoneNumber;if(S!=null&&S.required&&S!=null&&S.enabled&&v.phoneNumber)return u(f);try{let{routes:D,onRedirectTo:T}=e.auth,{shouldActivate:m,user:E,tenantId:w,userId:I,tenants:A=[],activeTenant:M,activationToken:O}=yield n.auth.signUpUser(ep(v));if(v.invitationToken||a(v,I,w,O,h),!m&&E&&yn(E,e.root.appName)){let L=yield r.getMfaRequiredState(E,_t,!0,v.email);r.setAuthState(L),T(D.loginUrl)}else if(m&&O){let L=new URLSearchParams({userId:I||"",token:O||""}),x=`${D.activateWithOTCUrl}?${L.toString()}`;i({loading:!1,shouldActivate:m,stage:ao.SignUpSuccess}),T(x)}else{let L=e.auth.tenantsState;i({loading:!1,shouldActivate:m,stage:ao.SignUpSuccess}),r.setAuthState({user:E,isAuthenticated:!!(E!=null&&E.accessToken),tenantsState:y({},L,{tenants:A,activeTenant:M})})}}catch(D){o.setAccessToken(null),o.setUser(null),i({error:_(D)})}finally{i({loading:!1})}}),signUpUserWithPhoneNumber:u,loadAllowSignUps:f=>l(null,null,function*(){i({loading:!0});try{var h;let S=yield ee(n.auth.getVendorConfig,f?.retryConfig),D=yield r.__getSecurityPolicyPublicStateWithCustomLogin(S,f?.retryConfig),{allowSignups:T,allowNotVerifiedUsersLogin:m}=S;i({loading:!1,allowSignUps:T,allowNotVerifiedUsersLogin:m,firstLoad:!1}),r.setSecurityPolicyPublicState({policy:D,loading:!1}),f==null||(h=f.callback)==null||h.call(f,D||S)}catch(S){var v;i({loading:!1,error:_(S),firstLoad:!1}),f==null||(v=f.callback)==null||v.call(f,null,S)}}),loadSignUpStrategies:()=>l(null,null,function*(){try{let f=yield n.auth.getSignUpStrategies();i({strategies:f.reduce((h,{isActive:v,strategy:S,isRequired:D})=>(h[S]={enabled:v,required:D},h),{})})}catch{}})}};var _y={loading:!1,error:null,phoneNumbers:void 0},Ty=e=>K(_y,e);var _2=["callback"],T2=["callback"],x2=["callback"],M2=["callback","phoneId"],P2=["callback","phoneId"],R2=["callback"],yl=(e,n,t)=>{let r=f=>{Object.assign(e.auth.smsState,f)},o=()=>{Q(e,["auth","smsState"],_y)},i=()=>l(null,null,function*(){r({loading:!0});let f={_limit:10,_offset:0};try{let{items:h}=yield n.userPhoneNumbers.getUserPhoneNumbers(f);r({phoneNumbers:h})}catch(h){r({error:_(h)})}finally{r({loading:!1})}}),s=()=>l(null,null,function*(){r({loading:!0});try{let f=yield n.userPhoneNumbers.getUserOwnPhoneNumbers();r({phoneNumbers:f})}catch(f){r({error:_(f)})}finally{r({loading:!1})}});return{setSmsState:r,resetSmsState:o,loadPhoneNumbers:i,loadUserOwnPhoneNumbers:s,setUpPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,T2);try{let{otcToken:S}=yield n.userPhoneNumbers.createPhoneNumber(v);r({otcToken:S}),yield i(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}}),setUpOwnPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,_2);try{let{otcToken:S}=yield n.userPhoneNumbers.createPhoneNumber(v);r({otcToken:S}),yield s(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}}),verifyPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,x2);r({loading:!0});try{yield n.userPhoneNumbers.verifyPhoneNumber(v),yield i(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}finally{r({loading:!1})}}),deletePhoneNumber:f=>l(null,null,function*(){let{callback:h,phoneId:v}=f,S=V(f,M2);r({loading:!0});try{let{otcToken:D}=yield n.userPhoneNumbers.deletePhoneNumber(v);r({otcToken:D}),h?.(!0)}catch(D){r({error:_(D)}),h?.(!1,D)}finally{r({loading:!1})}}),verifyDeletePhoneNumber:f=>l(null,null,function*(){let{callback:h,phoneId:v}=f,S=V(f,P2);r({loading:!0});try{yield n.userPhoneNumbers.verifyDeletePhoneNumber(v,S),yield i(),h?.(!0)}catch(D){r({error:_(D)}),h?.(!1,D)}finally{r({loading:!1})}}),preVerifyPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,R2);r({loading:!0});try{let{otcToken:S}=yield n.userPhoneNumbers.preVerifyPhoneNumber(v);r({otcToken:S}),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}finally{r({loading:!1})}})}};var xy={firstLoad:!0,loading:!1,error:""},My=e=>K(xy,e);var O2=["authorizationUrl"],N2=["events","url"],Sl=(e,n,t)=>{let r=t,o=p=>l(null,null,function*(){let g=e.auth.isAuthenticated,f;return g?f=yield ee(n.auth.getSocialLoginProvidersV2ForAuthenticatedUser,p):f=yield ee(n.auth.getSocialLoginProvidersV2,p),f}),i=p=>{Object.assign(e.auth.socialLoginState,p)};return{setSocialLoginsState:i,resetSocialLoginsState:()=>{Q(e,["auth","socialLoginState"],xy)},setSocialLoginError:p=>{i({error:p.error,loading:!1,firstLoad:!1})},loadSocialLoginsConfiguration:()=>l(null,null,function*(){try{i({loading:!0});let p=yield n.auth.getSocialLoginProviders();i({socialLoginsConfig:p,loading:!1,firstLoad:!1})}catch(p){i({error:_(p),loading:!1,firstLoad:!1})}}),loadSocialLoginsConfigurationV2:p=>l(null,null,function*(){try{var g;let h=e.root.context;i({loading:!0});let v=yield o(p?.retryConfig),{providers:S}=yield ee(n.auth.getCustomSocialLoginProvidersV1,p?.retryConfig),T={socialLoginsConfigV2:v.map(m=>{let{authorizationUrl:E}=m,w=V(m,O2),I=n.fetch.getBaseUrl(h,E??"");return y({},w,{authorizationUrl:E?`${I}${E}`:null})}),customSocialLoginsConfig:S,loading:!1,firstLoad:!1};i(T),p==null||(g=p.callback)==null||g.call(p,T)}catch(h){var f;p==null||(f=p.callback)==null||f.call(p,null,h),i({error:_(h),loading:!1,firstLoad:!1})}}),loginViaSocialLogin:p=>l(null,null,function*(){let{events:g,url:f}=p,h=V(p,N2);try{i({loading:!0});let{email:D,isNewUser:T,userId:m,tenantId:E,name:w}=yield n.auth.loginViaSocialLogin(h);if(T){var v,S;let I={email:D,url:f,createdAt:new Date,id:m,tenantId:E},A=y({},I,{socialProvider:h.provider,authenticationType:to.SOCIAL_LOGIN});g==null||(v=g.signUpComplete)==null||v.call(g,A),or(mn.SIGNUP_COMPLETED,A);let M=y({},I,{origin:Pr.SOCIAL_LOGIN,name:w});g==null||(S=g.userVerified)==null||S.call(g,M),or(mn.USER_VERIFIED,M)}m&&localStorage.setItem("userId",m),r.setLoginState({email:D,isNewUser:T}),r.refreshTokenForSocialLogins(),localStorage.removeItem("register-quick-login"),i({loading:!1})}catch(D){i({loading:!1,error:_(D,"Failed to authenticate"),firstLoad:!1})}})}};var Py={firstLoad:!0,loading:!0,saving:!1,errors:{},loaders:{},ssoConfigurations:[]},Ry=e=>K(Py,e);var k2=["callback","samlVendor"],o_=(e,n,t)=>{let r=t,o=()=>l(null,null,function*(){try{let E=yield n.auth.getSamlRoles(),w=yield n.auth.getSamlRolesGroups();s({authorizationRoles:E.roleIds,rolesGroups:w,error:void 0})}catch(E){s({error:_(E)})}}),i=E=>l(null,null,function*(){try{yield Promise.all(E.map(w=>n.auth.updateSamlGroup({id:w.id,roleIds:w.roleIds,group:w.group})))}catch(w){s({error:_(w)})}}),s=E=>{Object.assign(e.auth.ssoState,E)};return{setSSOState:s,resetSSOState:()=>{Q(e,["auth","ssoState"],Py)},setSSOLoader:E=>{Object.assign(e.auth.ssoState,{loaders:y({},e.auth.ssoState.loaders,{[E.key]:E.value})})},setSSOError:E=>{Object.assign(e.auth.ssoState,{errors:y({},e.auth.ssoState.errors,{[E.key]:E.value}),loaders:y({},e.auth.ssoState.loaders,{[E.key]:!1})})},loadSSOConfigurations:()=>l(null,null,function*(){try{var E,w;s({loading:!0});let I=yield n.auth.getSamlConfiguration(),A=yield n.auth.getOidcConfiguration(),M=yield n.metadata.getSamlMetadata();I.acsUrl=M==null||(E=M.configuration)==null?void 0:E.acsUrl,I.spEntityId=M==null||(w=M.configuration)==null?void 0:w.spEntityId,I.isSamlActive=M?.isActive,s({samlConfiguration:I,oidcConfiguration:A,loading:!1,firstLoad:!1})}catch(I){s({error:_(I),loading:!1})}}),saveSSOConfigurations:E=>l(null,null,function*(){let{callback:w,samlVendor:I}=E,A=V(E,k2),M=e.auth.ssoState.samlConfiguration,O=y({},M,A),L="saving";O?.enabled!==M?.enabled&&(L="loading");try{if(!(O!=null&&O.domain)){s({samlConfiguration:y({},M,O)});return}else s({error:void 0,[L]:!0});if(E.type===pi.Saml){var x,N;let C=yield n.metadata.getSamlMetadata();O.acsUrl=C==null||(x=C.configuration)==null?void 0:x.acsUrl,O.spEntityId=C==null||(N=C.configuration)==null?void 0:N.spEntityId}let P=xc(O,["validated","generatedVerification","createdAt","updatedAt"]);M?.domain!==P?.domain&&(P.ssoEndpoint="",P.publicCertificate="",P.signRequest=!1),P.type=I?.toLowerCase();let F=yield n.auth.updateSamlConfiguration(P);F.isSamlActive=M?.isSamlActive,s({samlConfiguration:F,error:void 0,[L]:!1}),w?.(!0)}catch(k){s({samlConfiguration:M,error:_(k),[L]:!1}),w?.(null,k)}}),saveSSOConfigurationsFile:E=>l(null,null,function*(){let w=e.auth.ssoState.samlConfiguration,I="saving";s({error:void 0,[I]:!0});try{let A=yield ei(E[0]),M=yield n.auth.updateSamlVendorMetadata({metadata:A});M.isSamlActive=w?.isSamlActive,s({samlConfiguration:M,error:void 0,[I]:!1})}catch(A){s({samlConfiguration:w,error:_(A),[I]:!1})}}),saveSSOConfigurationsFileWithCallback:E=>l(null,null,function*(){let{configFile:w,callback:I}=E,A=e.auth.ssoState.samlConfiguration,M="saving";s({error:void 0,[M]:!0});try{let O=yield ei(w),L=yield n.auth.updateSamlVendorMetadata({metadata:O});L.isSamlActive=A?.isSamlActive,s({samlConfiguration:L,error:void 0,[M]:!1}),I?.(!0)}catch(O){s({samlConfiguration:A,error:_(O),[M]:!1}),I?.(null,O)}}),validateSSODomain:E=>l(null,null,function*(){let{callback:w}=E??{},I=e.auth.ssoState.samlConfiguration;if(!I){let A=new Error("IllegalState: samlConfiguration is not defined");console.error(A),w?.(null,A);return}try{s({error:void 0,saving:!0}),yield n.auth.validateSamlDomain(),s({samlConfiguration:y({},I,{validated:!0}),error:void 0,saving:!1}),w?.(!0)}catch(A){s({samlConfiguration:y({},I,{validated:!1}),error:_(A),saving:!1}),w?.(null,A)}}),loadSSOAuthorizationRoles:()=>l(null,null,function*(){try{let E=yield n.auth.getSamlRoles(),w=yield n.auth.getSamlRolesGroups();s({authorizationRoles:E.roleIds,rolesGroups:w,error:void 0})}catch(E){s({error:_(E)})}}),updateSSOAuthorizationRoles:E=>l(null,null,function*(){let{callback:w,authorizationRoles:I,groups:A}=E;try{s({error:void 0,saving:!0}),yield n.auth.updateSamlRoles({roleIds:I}),A&&(yield i(A)),yield o(),s({error:void 0,saving:!1}),w?.(!0)}catch(M){s({error:_(M),saving:!1}),w?.(null,M)}}),deleteSamlGroup:E=>l(null,null,function*(){let{id:w,callback:I}=E;try{s({error:void 0,saving:!0}),yield n.auth.deleteSamlGroup({id:w}),yield o(),s({error:void 0,saving:!1}),I?.(!0)}catch(A){s({error:_(A),saving:!1}),I?.(null,A)}}),createSamlGroup:E=>l(null,null,function*(){let{group:w,roleIds:I,callback:A}=E;try{s({error:void 0,saving:!0}),yield n.auth.createSamlGroup({group:w,roleIds:I}),yield o(),s({error:void 0,saving:!1}),A?.(!0)}catch(M){s({error:_(M),saving:!1}),A?.(null,M)}}),oidcPostlogin:E=>l(null,null,function*(){let w={code:E.code,redirectUri:E.redirectUri,RelayState:E.state};try{s({loading:!0}),yield n.auth.oidcPostLoginV2(w),yield r.__refreshToken(),s({loading:!1})}catch(I){s({loading:!1,error:_(I,"Failed to authenticate"),firstLoad:!1})}})}};var L2=["callback"],F2=["callback","ssoConfigId"],U2=["callback","ssoConfigId"],j2=["callback","ssoConfigId"],i_=(e,n,t)=>{let r=t,o=w=>l(null,null,function*(){try{return yield ee(()=>n.auth.getOidcConfiguration(),w)}catch{return null}}),i=w=>l(null,null,function*(){try{return yield ee(()=>n.metadata.getSamlMetadata(),w)}catch{return null}}),s=(w,I,A)=>l(null,null,function*(){r.setSSOLoader({key:w,value:!0});try{yield A()}catch(M){r.setSSOError({key:w,value:_(M)}),I?.(null,M)}finally{r.setSSOLoader({key:w,value:!1})}});return{loadSSOConfigurationsV2:w=>l(null,null,function*(){yield s(At.LOAD_SSO_CONFIGURATIONS,void 0,()=>l(null,null,function*(){let[I,A]=yield Promise.all([o(w?.retryConfig),i(w?.retryConfig)]),M=yield ee(()=>n.auth.getSSOConfigurations(),w?.retryConfig);r.setSSOState({ssoConfigurations:M,oidcConfiguration:I,samlMetadata:A})}))}),saveSSOConfigurationV2:w=>l(null,null,function*(){let{callback:I}=w,A=V(w,L2),M=e.auth.ssoState.ssoConfigurations;yield s(At.SAVE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){var O;let L=yield n.auth.createSSOConfiguration(y({},A,{enabled:(O=A.enabled)!=null?O:!1}));r.setSSOState({ssoConfigurations:[...M,L]}),I?.(L)}))}),updateSSOConfiguration:w=>l(null,null,function*(){let{callback:I,ssoConfigId:A}=w,M=V(w,F2),O=e.auth.ssoState.ssoConfigurations;yield s(At.UPDATE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){let L=yield n.auth.updateSSOConfiguration(A,M),x=O.map(N=>N.id===A?L:N);r.setSSOState({ssoConfigurations:x}),I?.(L)}))}),deleteSSOConfiguration:w=>l(null,null,function*(){let{ssoConfigId:I,callback:A}=w,M=e.auth.ssoState.ssoConfigurations;yield s(At.DELETE_SSO_CONFIGURATION,A,()=>l(null,null,function*(){yield n.auth.deleteSSOConfiguration(I),r.setSSOState({ssoConfigurations:M.filter(({id:O})=>O!==I)}),A?.(!0)}))}),saveSSODomain:w=>l(null,null,function*(){let{callback:I,ssoConfigId:A}=w,M=V(w,U2),O=e.auth.ssoState.ssoConfigurations;yield s(At.SAVE_SSO_DOMAIN,I,()=>l(null,null,function*(){let L=yield n.auth.createSSODomain(A,M),x=O.map(N=>N.id===A?y({},N,{domains:[...N.domains,L]}):N);r.setSSOState({ssoConfigurations:x}),I?.(L)}))}),deleteSSODomain:w=>l(null,null,function*(){let{ssoConfigId:I,domainId:A,callback:M}=w,O=e.auth.ssoState.ssoConfigurations;yield s(At.DELETE_SSO_DOMAIN,M,()=>l(null,null,function*(){yield n.auth.deleteSSODomain(I,A);let L=O.map(x=>x.id===I?y({},x,{domains:x.domains.filter(({id:N})=>N!==A)}):x);r.setSSOState({ssoConfigurations:L}),M?.(!0)}))}),validateSSODomainV2:w=>l(null,null,function*(){let{callback:I,domainId:A,ssoConfigId:M}=w;yield s(At.VALIDATE_SSO_DOMAIN,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations;yield n.auth.validateSSODomainV2(M,A);let L=O.map(x=>x.id===M?y({},x,{domains:x.domains.map(N=>N.id===A?y({},N,{validated:!0}):N)}):x);r.setSSOState({ssoConfigurations:L}),I?.(!0)}))}),setSSOGroups:w=>l(null,null,function*(){let{groupsToAdd:I,groupsToDelete:A,ssoConfigId:M,callback:O}=w;yield s(At.SAVE_SSO_GROUPS,O,()=>l(null,null,function*(){let L=e.auth.ssoState.ssoConfigurations;yield Promise.all(A.map(k=>n.auth.deleteSSOGroup(M,k))),yield Promise.all(I.map(k=>n.auth.createSSOGroup(M,k)));let x=yield n.auth.getSSOGroups(M),N=L.map(k=>k.id===M?y({},k,{groups:x}):k);r.setSSOState({ssoConfigurations:N}),O?.(!0)}))}),updateSSOGroups:w=>l(null,null,function*(){let{ssoConfigId:I,changedGroups:A,callback:M}=w;yield s(At.SAVE_SSO_GROUPS,M,()=>l(null,null,function*(){yield Promise.all(A.map(O=>n.auth.updateSSOGroup(I,O))),M?.(!0)}))}),setSSODefaultRoles:w=>l(null,null,function*(){let{callback:I,ssoConfigId:A,roleIds:M}=w;yield s(At.UPDATE_SSO_DEFAULT_ROLES,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations;yield n.auth.setSSODefaultRoles(A,{roleIds:M});let L=O.map(x=>x.id===A?y({},x,{roleIds:M}):x);r.setSSOState({ssoConfigurations:L}),I?.(!0)}))}),saveSSOConfigurationByMetadata:w=>l(null,null,function*(){let{configFile:I,callback:A}=w;yield s(At.SAVE_SSO_CONFIGURATION_BY_METADATA,A,()=>l(null,null,function*(){let M=e.auth.ssoState.ssoConfigurations,O=yield ei(I),L=yield n.auth.createSSOConfigurationByMetadata({metadata:O});r.setSSOState({ssoConfigurations:[...M,L]}),A?.(L)}))}),updateSSOConfigurationByMetadata:w=>l(null,null,function*(){let{callback:I,ssoConfigId:A,configFile:M}=w;yield s(At.UPDATE_SSO_CONFIGURATION_BY_METADATA,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations,L=yield ei(M),x=yield n.auth.updateSSOConfigurationByMetadata(A,{metadata:L}),N=O.map(k=>k.id===A?x:k);r.setSSOState({ssoConfigurations:N}),I?.(x)}))}),saveSSOConfigurationByUrl:w=>l(null,null,function*(){let{metadataUrl:I,configMetadata:A,ssoConfigId:M,callback:O}=w;yield s(At.SAVE_SSO_CONFIGURATION_BY_METADATA,O,()=>l(null,null,function*(){let L=e.auth.ssoState.ssoConfigurations,x={url:I,configMetadata:A},N,k;M?(N=yield n.auth.updateSSOConfigurationByMetadataUrl(M,x),k=L.map(P=>P.id===M?N:P)):(N=yield n.auth.createSSOConfigurationByMetadataUrl(x),k=[N,...L]),r.setSSOState({ssoConfigurations:k}),O?.(N)}))}),saveSSOConfigurationByData:w=>l(null,null,function*(){let{callback:I,ssoConfigId:A}=w,M=V(w,j2),O=e.auth.ssoState.ssoConfigurations;yield s(At.SAVE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){let L,x;A?(L=yield n.auth.updateSSOConfiguration(A,M),x=O.map(N=>N.id===A?L:N)):(L=yield n.auth.createSSOConfiguration(M),x=[L,...O]),r.setSSOState({ssoConfigurations:x}),I?.(L)}))})}};var bl=(e,n,t)=>y({},o_(e,n,t),i_(e,n,t));var Oy={loading:!1,mfaDevices:void 0,mfaToken:""},Ny=e=>K(Oy,e);var V2="MFA is not enrolled",$2=e=>e?.message===V2,s_=(e,n,t)=>{let r=t,o=a=>l(null,null,function*(){yield r.afterAuthenticationStateUpdate(a),yield r.afterStepUpAuthNavigation()}),i=d=>l(null,[d],function*({mfaToken:a,mfaDevices:u}){r.setStepUpState({mfaDevices:u,mfaToken:a});let p=yield Bc(u);r.setMfaState({step:p})}),s=a=>l(null,null,function*(){if($2(a)){r.setMfaState({step:Ne.noMFAEnrolledStepUp});return}window.localStorage.setItem(en,"true");let u=e.auth.routes;ie.for(e.root.appName).onRedirectTo(u.logoutUrl,{preserveQueryParams:!0})});return{generateStepUpSession:a=>l(null,null,function*(){let{maxAge:u,callback:d}=a;r.setStepUpState({mfaDevices:void 0,mfaToken:""});try{let p=yield n.auth.generateStepupSession({maxAge:u});p.hasOwnProperty("user")?yield o(p):yield i(p),d?.(!0)}catch(p){d?.(!1),yield s(p)}})}};var a_=(e,n,t)=>{let r=t;return{stepUpHostedLogin:i=>l(null,null,function*(){var s,c;let a={acr_values:Cc},{maxAge:u}=i||{};u!==void 0&&(a.max_age=u.toString());let d=(s=e.auth.tenantsState)==null||(c=s.activeTenant)==null?void 0:c.alias;d&&(a.organization=d),Qf(),window.localStorage.setItem(en,"true"),yield r.__requestHostedLoginAuthorize(a)})}};var wl=(e,n,t)=>{let r=t;return y({setStepUpState:f=>{Object.assign(e.auth.stepUpState,f)},resetStepUpState:()=>{Q(e,["auth","stepUpState"],Oy)},stepUpWithAuthenticator:f=>l(null,null,function*(){yield r.mfaWithAuthenticator(f,r.setStepUpState,!0)}),preVerifyMFASMSForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFASMS(f,r.setStepUpState)}),verifyMFASMSForStepUp:f=>l(null,null,function*(){yield r.verifyMFASMS(f,r.setStepUpState,!0)}),preVerifyMFAWebAuthnForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFAWebAuthn(f,r.setStepUpState)}),verifyMFAWebAuthnForStepUp:f=>l(null,null,function*(){yield r.verifyMFAWebAuthn(f,r.setStepUpState,!0)}),preVerifyMFAEmailCodeForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFAEmailCode(f,r.setStepUpState)}),verifyMFAEmailCodeForStepUp:f=>l(null,null,function*(){yield r.verifyMFAEmailCode(f,r.setStepUpState)})},s_(e,n,t),a_(e,n,t))};var ky={loaders:{},pageOffset:0,pageSize:20,errors:{},users:[],allUsers:[],roles:[],permissions:[],totalPages:0,shouldShowSubTenantUsersIfReseller:!1,allUsersQueryParams:{_filter:null,_offset:0,_limit:20,_order:"DESC",_sortBy:"name"},addUserDialogState:{loading:!1,open:!1},deleteUserDialogState:{loading:!1,open:!1},lockUserDialogState:{loading:!1,open:!1},enableUserDialogState:{loading:!1,open:!1},disableUserDialogState:{loading:!1,open:!1}},Ly=e=>K(ky,e);var B2=["callback","appIds"],H2=["roles"],G2=["callback","profileImage"],W2=["callback"],z2=["callback"],q2=["callback"],c_=(e,n,t)=>{let r=t,o=m=>l(null,null,function*(){try{let{groups:E}=yield ee(()=>n.groups.getGroups({_groupsRelations:Ec.roles}),m);return E}catch{return[]}}),i=m=>l(null,null,function*(){r.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0});try{var E;let I=m?.retryConfig,[{items:A},{items:M}]=yield Promise.all([ee(()=>n.teams.loadAvailableRoles(),I),ee(()=>n.teams.loadAvailablePermissions(),I)]);r.setTeamState({roles:A,permissions:M}),m==null||(E=m.callback)==null||E.call(m,{roles:A,permissions:M})}catch(I){var w;m==null||(w=m.callback)==null||w.call(m,null,I),r.setTeamError({key:ce.ROLES_AND_PERMISSIONS,value:_(I)})}finally{r.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!1})}}),s=m=>l(null,null,function*(){var E,w,I,A;let{silentLoading:M,callback:O}=m,L=e.auth.teamState,x=(E=m.pageSize)!=null?E:L.pageSize,N=(w=m.pageOffset)!=null?w:L.pageOffset,k=(I=m.filter)!=null?I:L.filter,P=(A=m.sort)!=null?A:L.sort;r.setTeamLoader({key:ce.USERS,value:!M}),r.setTeamState({pageSize:x,pageOffset:N,filter:k,sort:P});try{let[{items:F,totalPages:C,totalItems:R}]=yield Promise.all([n.teams.loadUsers({pageSize:x,pageOffset:N,filter:k,sort:P}),i()]);r.setTeamState({users:F,totalPages:C,totalItems:R}),O?.(F)}catch(F){r.setTeamError({key:ce.USERS,value:_(F)}),r.setTeamState({totalPages:0,users:[]}),O?.(null,F)}r.setTeamLoader({key:ce.USERS,value:!1})}),c=m=>l(null,null,function*(){var E,w,I,A,M;let{silentLoading:O,callback:L,shouldLoadRoles:x=!0,shouldLoadApps:N,retryConfig:k}=m,P=e.auth.teamState,F=(E=m.pageSize)!=null?E:P.pageSize,C=(w=m.pageOffset)!=null?w:P.pageOffset,R=(I=m.filter)!=null?I:P.filterV2,U=(A=m.sort)!=null?A:P.sortV2,G=(M=m?.shouldShowSubTenantUsersIfReseller)!=null?M:P?.shouldShowSubTenantUsersIfReseller;r.setTeamLoader({key:ce.USERS,value:!O}),r.setTeamState({pageSize:F,pageOffset:C,filterV2:R,sortV2:U});try{let[{items:z,_metadata:{totalPages:W,totalItems:$}},{items:B},{items:te},ae]=yield Promise.all([ee(()=>n.users.getUsersV2(y({},R?.length&&{_filter:R},U&&{_sortBy:U},m.order&&{_order:m.order},{_offset:C,_limit:F,_includeSubTenants:G})),k),ee(()=>n.teams.loadAvailableRoles(),k),ee(()=>n.teams.loadAvailablePermissions(),k),o(k),x?i({retryConfig:k}):void 0]),ye=z.map(qe=>{var Ue;let H=qe==null||(Ue=qe.groups)==null?void 0:Ue.map(j=>ae.filter(Z=>Z.id===j.id)).flat();return y({},qe,{groups:H})}).map(qe=>y({},qe,{roleIds:qe.roles.map(Ue=>Ue.id)})),Mt=yield t.mapUsersWithApplicationData({shouldLoadApps:N,users:ye,retryConfig:k});t.setTeamState({users:Mt,totalPages:W,totalItems:$,roles:B,permissions:te}),L?.(z)}catch(z){console.error("Failed to load users",z),r.setTeamError({key:ce.USERS,value:_(z)}),r.setTeamState({totalPages:0,users:[]}),L?.(null,z)}r.setTeamLoader({key:ce.USERS,value:!1})}),a=m=>l(null,null,function*(){var E,w,I,A;let{silentLoading:M,callback:O,shouldLoadRoles:L=!0,shouldLoadApps:x,retryConfig:N}=m,k=e.auth.teamState,P=(E=m.pageSize)!=null?E:k.pageSize,F=(w=m.pageOffset)!=null?w:k.pageOffset,C=(I=m.sort)!=null?I:k.sortV2,R=(A=m?.shouldShowSubTenantUsersIfReseller)!=null?A:k?.shouldShowSubTenantUsersIfReseller;r.setTeamLoader({key:ce.USERS,value:!M}),r.setTeamState({pageSize:P,pageOffset:F});try{let{items:U,_metadata:{totalPages:G,totalItems:z}}=yield n.users.getUsersV3(y({},C&&{_sortBy:C},m.order&&{_order:m.order},{_offset:F,_limit:P,_includeSubTenants:R},u(m))),W=U.map(Ue=>Ue.id),[{items:$},{items:B},te,ae,pe,ye]=yield Promise.all([W.length>0?n.users.getUsersUsernames({userIds:W}):[],n.teams.loadAvailableRoles(),n.teams.loadAvailablePermissions(),W.length>0?n.users.getUsersRoles({ids:W}):[],W.length>0?n.users.getUsersGroups({ids:W}):[],o(N),L?i({retryConfig:N}):void 0]),Mt=U.map(Ue=>{var H;let j=ae.find(Le=>Le.userId===Ue.id),Z=j?.roleIds||[],q=B.filter(Le=>Z.includes(Le.id)),re=pe.find(Le=>Le.userId===Ue.id),be=re?.groupIds||[],ke=ye.filter(Le=>be.includes(Le.id)),De=$==null||(H=$.find(Le=>Le.userId===Ue.id))==null?void 0:H.username;return Ue.name||(Ue.name=De),y({},Ue,{roles:q,roleIds:Z,groups:ke,permissions:q.flatMap(Le=>Le.permissions)})}),qe=yield t.mapUsersWithApplicationData({shouldLoadApps:x,users:Mt,retryConfig:N});t.setTeamState({users:qe,totalPages:G,totalItems:z,roles:B,permissions:te}),O?.(Mt)}catch(U){console.error("Failed to load users v3",U),r.setTeamError({key:ce.USERS,value:_(U)}),r.setTeamState({totalPages:0,users:[]}),O?.(null,U)}r.setTeamLoader({key:ce.USERS,value:!1})}),u=m=>{let{identifier:E,identifierType:w,email:I}=m;return w==="username"&&E!=null&&E.length?{_identifier:E,_identifierType:"username"}:I!=null&&I.length?{_email:I}:{}};return{loadRoles:i,loadUsers:s,loadUsersV2:c,loadUsersV3:a,addUser:m=>l(null,null,function*(){let{callback:E,appIds:w}=m,I=V(m,B2),A=e.auth.teamState;r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!0})});try{var M;let O=yield n.teams.addUser(I),{roles:L}=O,x=V(O,H2),N=(M=L?.map(F=>F.id))!=null?M:[],k=y({},x,{roleIds:N,roles:L||[],groups:[]}),P=yield t.assignNewUserToApps({appIds:w,user:k});P&&(k.applications=P),E?.(k),r.setTeamState({users:[k,...A.users],addUserDialogState:{open:!1,loading:!1}})}catch(O){console.error("Failed to add user",O),r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!1,error:_(O)})}),E?.(null,O)}}),addUsersBulk:m=>l(null,null,function*(){let{callback:E}=m,w=e.auth.teamState;r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!0})});let I=[],A=[],M=m.emails.map(L=>y({email:L,roleIds:m.roleIds},m.expirationInSeconds&&{expirationInSeconds:m.expirationInSeconds}));r.setTeamState({addUserDialogState:{open:!0,loading:!0}});for(let L=0;L<M.length;L++){let x=M.at(L);try{yield n.teams.addUser(x),I.push(x.email)}catch{A.push(x.email)}}let O={pageOffset:0,pageSize:10,filter:"",silentLoading:m.emails.length>0};yield r.loadUsersV2(O),r.setTeamState({addUserDialogState:{loading:!1}}),E?.({unallowedEmails:A,allowedEmails:I})}),updateUser:m=>l(null,null,function*(){let{callback:E}=m,w=V(m,G2),{id:I}=w,A=e.auth.teamState,M=A.users.find(L=>L.id===w.id);if(M===void 0){E?.(null,"User not in state");return}r.setTeamLoader({key:ce.UPDATE_USER,value:I||""}),r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!0})}),r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!0}),users:A.users.map(L=>L.id===w.id?y({},L,w):L)});try{var O;M.roleIds.length>0&&((O=w.roleIds)==null?void 0:O.length)===0&&(w.roleIds=[""]);let{item:L}=yield n.teams.updateUser(w);E?.(L),r.setTeamState({users:A.users.map(x=>x.id===L.id?y({},x,L,{groups:x.groups,createdAt:x.createdAt,customData:x.customData,lastLogin:x.lastLogin}):x)}),r.setTeamLoader({key:ce.UPDATE_USER,value:!1})}catch(L){r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!1,error:_(L)}),users:A.users.map(x=>x.id===w.id?y({},x,M):x)}),r.setTeamLoader({key:ce.UPDATE_USER,value:!1}),E?.(null,L)}}),deleteUser:m=>l(null,null,function*(){let{callback:E}=m,w=V(m,W2),I=e.auth.teamState;r.setTeamState({deleteUserDialogState:y({},I.deleteUserDialogState,{loading:!0})});try{yield n.teams.deleteUser(w),E?.(!0),r.setTeamState({users:I.users.filter(A=>A.id!==w.userId),deleteUserDialogState:{open:!1,loading:!1}})}catch(A){r.setTeamState({deleteUserDialogState:y({},I.deleteUserDialogState,{loading:!1,error:_(A)})}),E?.(null,A)}}),enableUser:m=>l(null,null,function*(){let{callback:E,userId:w}=m,I=e.auth.teamState;r.setTeamState({enableUserDialogState:y({},I.enableUserDialogState,{loading:!0})});try{yield n.teams.enableUser(w),E?.(!0),r.setTeamState({users:I.users.map(A=>A.id===w?y({},A,{isDisabled:!1}):A),enableUserDialogState:{open:!1,loading:!1}})}catch(A){r.setTeamState({enableUserDialogState:y({},I.enableUserDialogState,{loading:!1,error:_(A)})}),E?.(null,A)}}),disableUser:m=>l(null,null,function*(){let{callback:E,userId:w}=m,I=e.auth.teamState;r.setTeamState({disableUserDialogState:y({},I.disableUserDialogState,{loading:!0})});try{yield n.teams.disableUser(w),E?.(!0),r.setTeamState({users:I.users.map(A=>A.id===w?y({},A,{isDisabled:!0}):A),disableUserDialogState:{open:!1,loading:!1}})}catch(A){r.setTeamState({disableUserDialogState:y({},I.disableUserDialogState,{loading:!1,error:_(A)})}),E?.(null,A)}}),getTemporaryUsersConfig:m=>l(null,null,function*(){r.setTeamError({key:ce.CONFIG_TEMPORARY_USERS,value:!1});try{let E=yield ee(()=>n.teams.getTemporaryUserConfiguration(),m?.retryConfig);r.setTeamState({temporaryUsersConfig:E})}catch(E){r.setTeamError({key:ce.CONFIG_TEMPORARY_USERS,value:_(E)})}}),updateUserExpirationTime:m=>l(null,null,function*(){let{callback:E}=m,w=V(m,z2),I=e.auth.teamState;r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});try{let A=yield n.teams.updateUserExpirationTime(w);r.setTeamState({users:I.users.map(M=>M.id===w.userId?y({},M,{temporaryExpirationDate:new Date(A.temporaryExpirationDate)}):M)}),E?.(!0)}catch(A){r.setTeamError({key:ce.UPDATE_USER_EXPIRATION_TIME,value:_(A)}),E?.(null,A)}finally{r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}}),setUserAsPermanent:m=>l(null,null,function*(){let{callback:E}=m,w=V(m,q2),I=e.auth.teamState;r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});try{yield n.teams.setPermanentUser(w.userId),r.setTeamState({users:I.users.map(A=>A.id===w.userId?y({},A,{temporaryExpirationDate:void 0}):A)}),E?.(!0)}catch(A){r.setTeamError({key:ce.UPDATE_USER_EXPIRATION_TIME,value:_(A)}),E?.(null,A)}finally{r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}})}};var Y2=["callback","userId"],Z2=["callback"],K2=["callback"],l_=(e,n,t)=>{let r=t;return{loadAllSubTenantsUsers:a=>l(null,null,function*(){var u,d,p,g,f;let{silentLoading:h,callback:v}=a,D=e.auth.teamState.allUsersQueryParams,T=(u=a._limit)!=null?u:D._limit,m=(d=a._offset)!=null?d:D._offset,E=(p=a._filter)!=null?p:D._filter,w=(g=a._sortBy)!=null?g:D._sortBy,I=(f=a._order)!=null?f:D._order,A={_limit:T||20,_offset:m||0,_filter:E||"",_sortBy:w||"name",_order:I||"DESC"};r.setTeamLoader({key:ce.USERS,value:!h}),r.setTeamState({allUsersQueryParams:A,pageOffset:A._offset});try{let[{items:M,_metadata:{totalPages:O,totalItems:L}},{items:x},{items:N}]=yield Promise.all([n.subTenants.loadAllUsers(y({},A)),n.teams.loadAvailableRoles(),n.teams.loadAvailablePermissions()]);r.setTeamState({allUsers:M,totalPages:O,totalItems:L,roles:x,permissions:N}),v?.(M)}catch(M){r.setTeamError({key:ce.USERS,value:_(M)}),r.setTeamState({totalPages:0,users:[]}),v?.(null,M)}r.setTeamLoader({key:ce.USERS,value:!1})}),setUserRolesForSubTenants:a=>l(null,null,function*(){let{callback:u,userId:d}=a,p=V(a,Y2),g=e.auth.teamState;r.setTeamState({addUserDialogState:y({},g.addUserDialogState,{loading:!0})});try{yield n.subTenants.setUserRolesForSubTenants(d,p);let f=g.allUsers.find(v=>v.id===d),h=[];f&&(h=f.tenants.map(v=>{var S;return y({},v,{roles:((S=p.subTenantsRoles.find(D=>D.tenantId===v.tenantId))==null?void 0:S.roleIds.map(D=>g.roles.find(({id:m})=>D===m)).filter(D=>D))||v.roles})})),r.setTeamState({allUsers:[...g.allUsers.filter(v=>v.id!==d),...f?[y({},f,{tenants:h})]:[]],addUserDialogState:{open:!1,loading:!1}}),u?.(!0)}catch(f){r.setTeamState({addUserDialogState:y({},g.addUserDialogState,{loading:!1,error:_(f)})}),u?.(null,f)}}),deleteUserFromSubTenants:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,Z2),p=e.auth.teamState;r.setTeamState({deleteUserDialogState:y({},p.deleteUserDialogState,{loading:!0})});try{yield n.subTenants.removeUserFromTenantAndSubTenants(d),u?.(!0),r.setTeamState({allUsers:p.allUsers.filter(g=>g.id!==d.userId&&g.tenants.length===d.subTenants.length),deleteUserDialogState:{open:!1,loading:!1}})}catch(g){r.setTeamState({deleteUserDialogState:y({},p.deleteUserDialogState,{loading:!1,error:_(g)})}),u?.(null,g)}}),addUserToSubTenants:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,K2),p=e.auth.teamState;r.setTeamState({addUserDialogState:y({},p.addUserDialogState,{loading:!0})});try{yield n.subTenants.addUserToTenantAndSubTenants(d);let{items:g,_metadata:{totalPages:f,totalItems:h}}=yield n.subTenants.loadAllUsers({_limit:20,_offset:0,_filter:"",_sortBy:"name",_order:"DESC"});r.setTeamState({allUsers:g,totalPages:f,totalItems:h,addUserDialogState:{open:!1,loading:!1}}),u?.(null)}catch(g){r.setTeamState({addUserDialogState:y({},p.addUserDialogState,{loading:!1,error:_(g)})}),u?.(null,g)}})}};var Q2=["callback"],J2=["callback"],X2=["callback"],eV=["callback"],u_=(e,n,t)=>{let r=t,o=(u,d,p,g)=>l(null,null,function*(){r.setTeamLoader({key:u,value:d});try{yield g()}catch(f){r.setTeamError({key:u,value:_(f)}),p?.(null,f)}finally{r.setTeamLoader({key:u,value:!1})}});return{resendActivationLink:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,Q2);yield o(ce.RESEND_ACTIVATE_LINK,p.userId,d,()=>l(null,null,function*(){yield n.teams.resendActivationLink(p),d?.(!0)}))}),resendInvitationLink:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,J2);yield o(ce.RESEND_INVITATION_LINK,p.email,d,()=>l(null,null,function*(){yield n.teams.resendInvitationLink(p),d?.(!0)}))}),resendInvitationEmail:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,X2);yield o(ce.RESEND_INVITATION_LINK,d,p.email,()=>l(null,null,function*(){yield n.auth.resendInvitationEmail(p),d?.(!0)}))}),resendInvitationLinkToAllSubTenants:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,eV);yield o(ce.RESEND_INVITATION_LINK,p.email,d,()=>l(null,null,function*(){yield n.teams.resendInvitationLinkToAllTenants(p),d?.(!0)}))})}};var d_=(e,n,t)=>{let r=t,o=u=>l(null,null,function*(){r.setTeamError({key:ce.CONFIG_TOKEN_LINK,value:!1});try{let d=yield ee(()=>n.teams.getInviteLinkConfiguration(),u);r.setTeamState({inviteTokenState:y({},d)})}catch(d){r.setTeamError({key:ce.CONFIG_TOKEN_LINK,value:_(d)})}});return{getInvitationLink:u=>l(null,null,function*(){r.setTeamError({key:ce.GET_TOKEN_LINK,value:!1});try{let d=u?.retryConfig;yield o(d);let p=yield ee(()=>n.teams.getInviteUserLink(),d),{inviteTokenState:g}=e.auth.teamState;r.setTeamState({inviteTokenState:y({},g,p)})}catch(d){r.setTeamError({key:ce.GET_TOKEN_LINK,value:_(d)})}}),createInvitationLink:u=>l(null,null,function*(){let{callback:d,expiresInMinutes:p,shouldSendEmail:g,roleIds:f}=u;r.setTeamError({key:ce.CREATE_TOKEN_LINK,value:!1});let{inviteTokenState:h}=e.auth.teamState;try{let[v]=yield r.getFeatureFlags(["invite_user_modal_enhancements_frontend"]),S;v?S=yield n.teams.createInviteUserLinkV2({expiresInMinutes:p??43200,shouldSendEmail:g??!0,roleIds:f??[]}):S=yield n.teams.createInviteUserLink({expiresInMinutes:43200}),r.setTeamState({inviteTokenState:y({},h,S)}),d?.(S.token)}catch(v){d?.(null,v),r.setTeamError({key:ce.CREATE_TOKEN_LINK,value:_(v)})}}),updateInvitationLink:u=>l(null,null,function*(){let{callback:d,expiresInMinutes:p,shouldSendEmail:g}=u;r.setTeamError({key:ce.UPDATE_TOKEN_LINK,value:!1});try{let{inviteTokenState:f}=e.auth.teamState,h=yield n.teams.updateInviteUserLink({expiresInMinutes:p,shouldSendEmail:g});r.setTeamState({inviteTokenState:y({},f,h)}),d?.(!0)}catch(f){d?.(null,f),r.setTeamError({key:ce.UPDATE_TOKEN_LINK,value:_(f)})}}),deleteInvitationLink:u=>l(null,null,function*(){let{callback:d}=u??{};r.setTeamError({key:ce.DELETE_TOKEN_LINK,value:!1});try{yield n.teams.deleteInviteUserLink(),yield o(),d?.(!0)}catch(p){r.setTeamError({key:ce.DELETE_TOKEN_LINK,value:_(p)}),d?.(!1,p)}})}};var Al=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.teamState,f)};return y({setTeamLoader:f=>{Object.assign(e.auth.teamState,{loaders:y({},e.auth.teamState.loaders,{[f.key]:f.value})})},setTeamError:f=>{Object.assign(e.auth.teamState,{errors:y({},e.auth.teamState.errors,{[f.key]:f.value}),loaders:y({},e.auth.teamState.loaders,{[f.key]:!1})})},setTeamState:o,resetTeamState:()=>{Q(e,["auth","teamState"],ky)},openAddUserDialog:f=>{o({addUserDialogState:y({open:!0,loading:!1,error:!1},f)})},closeAddUserDialog:f=>{var h,v;(h=(v=e.auth.teamState.addUserDialogState).onClose)==null||h.call(v,f),o({addUserDialogState:{loading:!1,error:!1,open:!1}})},openDeleteUserDialog:f=>{o({deleteUserDialogState:y({open:!0,loading:!1,error:!1},f)})},closeDeleteUserDialog:f=>{var h,v;(h=(v=e.auth.teamState.deleteUserDialogState).onClose)==null||h.call(v,f),o({deleteUserDialogState:{loading:!1,error:!1,open:!1}})},lockUser:f=>l(null,null,function*(){})},c_(e,n,t),l_(e,n,t),u_(e,n,t),d_(e,n,t))};var Fy={tenants:[],subTenants:[],switchingTenant:!1,loading:!0,tenantTree:null},Uy=e=>K(Fy,e);var El=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.tenantsState,d)};return{setTenantsState:o,resetTenantsState:()=>{Q(e,["auth","tenantsState"],Fy)},switchTenant:d=>l(null,null,function*(){let{tenantId:p,silentReload:g,callback:f}=d;g?r.setTenantsState({switchingTenant:!0}):r.setAuthState({isLoading:!0});try{yield n.tenants.switchTenant({tenantId:p}),g&&r.resetAuthState({isLoading:!1,isAuthenticated:!0,user:e.auth.user}),yield r.__refreshToken(),f?.(!0)||(g?r.setTenantsState({switchingTenant:!1}):r.setAuthState({isLoading:!1}))}catch(h){g?r.setTenantsState({switchingTenant:!1}):r.setAuthState({isLoading:!1}),f?.(!1,h)}}),loadTenants:d=>l(null,null,function*(){o({loading:!0});try{var p;let h=yield Jr(e.root.appName)();o({tenants:h.tenants,activeTenant:h.activeTenant,loading:!1}),d==null||(p=d.callback)==null||p.call(d,[])}catch(f){var g;d==null||(g=d.callback)==null||g.call(d,[],f),o({loading:!1})}}),loadSubTenants:d=>l(null,null,function*(){o({loading:!0});try{var p;let f=yield retryIfNeeded(()=>n.tenants.getSubTenants(),d?.retryConfig);o({subTenants:f,loading:!1}),d==null||(p=d.callback)==null||p.call(d,!0)}catch(f){var g;o({loading:!1}),d==null||(g=d.callback)==null||g.call(d,null,f)}}),loadSubTenantsTree:d=>l(null,null,function*(){o({loading:!0});try{var p;let f=yield n.tenants.getSubTenantsAsTree();o({tenantTree:f,loading:!1}),d==null||(p=d.callback)==null||p.call(d,!0)}catch(f){var g;o({loading:!1}),d==null||(g=d.callback)==null||g.call(d,null,f)}})}};var jy={loading:!1,error:null,username:void 0,fetching:!0},Vy=e=>K(jy,e);var Dl=(e,n,t)=>{let r=a=>{Object.assign(e.auth.usernamesState,a)},o=()=>{Q(e,["auth","usernamesState"],jy)},i=()=>l(null,null,function*(){r({loading:!0});try{let a=yield n.usernames.getUserOwnUsername();r({username:a?.username,loading:!1,fetching:!1})}catch(a){r({error:_(a),fetching:!1})}finally{r({loading:!1,fetching:!1})}}),s=a=>l(null,null,function*(){r({loading:!0});try{if(e.auth.usernamesState.username===a.username){var u;(u=a.callback)==null||u.call(a);return}if(e.auth.usernamesState.username&&e.auth.usernamesState.username!==a.username&&(yield c(e.auth.usernamesState.username),!a.username)){var d;r({username:void 0,loading:!1}),(d=a.callback)==null||d.call(a);return}if(a.username){var p;yield n.usernames.createUsername(a),r({username:a.username,loading:!1}),(p=a.callback)==null||p.call(a)}}catch(g){r({error:_(g)})}finally{r({loading:!1})}}),c=a=>l(null,null,function*(){r({loading:!0});try{yield n.usernames.deleteUsername(a),r({username:void 0,loading:!1})}catch(u){r({error:_(u)})}finally{r({loading:!1})}});return{resetUsernamesState:o,loadUserOwnUsername:i,saveUserUsername:s,deleteUserUsername:c}};var tV={userEmailPolicyConfig:null,loading:!1},$y=e=>K(tV,e);var Il=(e,n,t)=>{let r=i=>{Object.assign(e.auth.userEmailPolicyState,i)};return{loadUserEmailPolicyState:()=>l(null,null,function*(){r({loading:!0});try{let i=yield n.userEmailPolicy.getUserEmailPolicyConfig();r({loading:!1,userEmailPolicyConfig:i})}catch(i){r({loading:!1,error:_(i)})}}),setUserEmailPolicyState:r}};var Cl=(e,n,t)=>{let r=t,o=c=>{e.auth.user&&(e.auth.user.entitlements=c)},i=c=>{var a;let u=(a=e.auth.user)==null?void 0:a.entitlements;jc(u,c)||o(c)};return{setEntitlements:o,handleFetchedEntitlements:i,loadEntitlements:c=>l(null,null,function*(){let a=c?.callback;try{let u=yield n.entitlements.loadEntitlementsV2();i(u),a?.(!0)}catch{a?.(!1)}})}};var By;(function(e){e[e.Email=0]="Email",e[e.Otc=1]="Otc",e[e.Success=2]="Success"})(By||(By={}));var nV=["routes"],rV=["requestName"],Hy=e=>{let n=e??{},{routes:t}=n,r=V(n,nV);return K(y({routes:y({},_c,t),onRedirectTo:()=>{},isAuthenticated:!1,isLoading:!0,isSSOAuth:!1,user:null,error:void 0,errorByRequest:{},userIp:void 0,userIpData:{loading:!1}},r,{acceptInvitationState:Gm(r?.acceptInvitationState),accountSettingsState:av(r?.accountSettingsState),activateAccountState:lv(r?.activateAccountState),unlockAccountState:Fv(r?.unlockAccountState),apiTokensState:jv(r?.apiTokensState),applicationsState:$v(r?.applicationsState),customLoginState:Hv(r?.customLoginState),forgotPasswordState:Wv(r?.forgotPasswordState),passwordRotationState:zv(r?.passwordRotationState),groupsState:Yv(r?.groupsState),groupsDialogsState:Kv(r?.groupsDialogsState),impersonateState:Jv(r?.impersonateState),loginState:ey(r?.loginState),mfaState:ny(r?.mfaState),allAccountsState:ry(r?.allAccountsState),allAccountsDialogsState:iy(r?.allAccountsDialogsState),passkeysState:ay(r?.passkeysState),profileState:ly(r?.profileState),provisioningState:dy(r?.provisioningState),resetPhoneNumberState:py(r?.resetPhoneNumberState),rolesState:gy(r?.rolesState),restrictionsState:my(r?.restrictionsState),securityCenterState:yy(r?.securityCenterState),securityPolicyState:by(r?.securityPolicyState),sessionsPolicyState:Ay(r?.sessionsPolicyState),sessionsState:Dy(r?.sessionsState),signUpState:Cy(r?.signUpState),smsState:Ty(r?.smsState),socialLoginState:My(r?.socialLoginState),ssoState:Ry(r?.ssoState),stepUpState:Ny(r?.stepUpState),teamState:Ly(r?.teamState),tenantsState:Uy(r?.tenantsState),usernamesState:Vy(r?.usernamesState),userEmailPolicyState:$y(r?.userEmailPolicyState)}))},Gy=(e,n,t,r)=>{let o=qe=>{Object.keys(qe).forEach(Ue=>{let H=Ue;Mc(e.auth[H])?Object.assign(e.auth[H],qe[H]):e.auth[H]=qe[H]})},i=(qe={})=>{Q(e,["auth"],y({},r,qe))},s=qe=>{o({user:qe})},c=qe=>{let{requestName:Ue}=qe,H=V(qe,rV);e.auth.errorByRequest=y({},e.auth.errorByRequest,{[Ue]:y({},H,{isError:!0})})},a=Oc(e,n,t),u=Nc(e,n,t),d=Hc(e,n,t),p=Gc(e,n,t),g=Wc(e,n,t),f=zc(e,n,t),h=qc(e,n,t),v=Cl(e,n,t),S=Yc(e,n,t),D=Zc(e,n,t),T=Kc(e,n,t),m=Qc(e,n,t),E=Jc(e,n,t),w=Xc(e,n,t),I=el(e,n,t),A=il(e,n,t),M=sl(e,n,t),O=al(e,n,t),L=cl(e,n,t),x=ll(e,n,t),N=ul(e,n,t),k=dl(e,n,t),P=fl(e,n,t),F=pl(e,n,t),C=hl(e,n,t),R=gl(e,n,t),U=ml(e,n,t),G=vl(e,n,t),z=yl(e,n,t),W=Sl(e,n,t),$=bl(e,n,t),B=wl(e,n,t),te=Al(e,n,t),ae=El(e,n,t),pe=Dl(e,n,t),ye=Il(e,n,t),Mt={acceptInvitationActions:a,accountSettingsActions:u,activateAccountActions:d,unlockAccountActions:p,apiTokensActions:g,applicationsActions:f,customLoginActions:h,entitlementsActions:v,forgotPasswordActions:S,passwordRotationActions:D,groupsActions:T,groupsDialogsActions:m,impersonateActions:E,loginActions:w,mfaActions:I,allAccountsActions:A,allAccountsDialogActions:M,passkeysActions:O,profileActions:L,provisioningActions:x,resetPhoneNumberActions:N,rolesActions:k,restrictionsActions:P,securityCenterActions:F,securityPolicyActions:C,sessionsPolicyActions:R,sessionsActions:U,signUpActions:G,smsActions:z,socialLoginActions:W,ssoActions:$,stepUpActions:B,teamActions:te,tenantsActions:ae,usernamesActions:pe,usersEmailsPolicyActions:ye};return[y({setAuthState:o,setErrorByRequestName:c,setState:o,resetAuthState:i,setUser:s},Object.values(Mt).reduce((qe,Ue)=>y({},qe,Ue),{})),Mt]};var Wy={isLoading:!1,isSaving:!1,list:[],processIds:[],slackChannels:{isLoading:!1}},np=e=>K(Wy,e);var f_=["email","slack","sms","webhook"],$s={sms:{title:"connectivity.sms",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({enabled:t})=>t))!=null?n:!1},image:"sms"},email:{title:"common.email",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({enabled:t})=>t))!=null?n:!1},image:"email"},slack:{title:"connectivity.slack",events:e=>{var n;return(e==null||(n=e.slackSubscriptions)==null?void 0:n.length)||0},isActive:e=>!!(e!=null&&e.slackSubscriptions.some(({isActive:n})=>n)),image:"slack"},webhook:{title:"connectivity.webhook",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({isActive:t})=>t))!=null?n:!1},image:"webhook"}};var oV=["id"],iV=["id","enabled"],Bs=(e,n,t)=>{let r={slack:n.connectivity.getSlackConfiguration,email:n.connectivity.getEmailConfiguration,sms:n.connectivity.getSMSConfiguration,webhook:n.connectivity.getWebhooksConfigurations,categories:n.connectivity.getCategories,channelMap:n.connectivity.getChannelMaps},o=["categories","channelMap"],i={slack:n.connectivity.postSlackConfiguration,email:n.connectivity.postEmailConfiguration,sms:n.connectivity.postSMSConfiguration,webhook:n.connectivity.postWebhooksConfiguration},s=x=>{Object.assign(e.connectivity,x)},c=x=>{var N;let k=(N=e.connectivity.retryResult)!=null?N:{};e.connectivity.retryResult=y({},k,x)},a=()=>{Q(e,["connectivity"],Wy)},u=(x,N,k)=>l(null,null,function*(){try{return yield ee(()=>r[x](N),k)}catch{return}}),d=()=>l(null,null,function*(){try{s({slackChannels:{isLoading:!0}});let x=yield n.connectivity.getSlackChannels();s({error:void 0,slackChannels:{isLoading:!1,data:x}})}catch{s({error:void 0,slackChannels:{isLoading:!1}})}}),p=x=>l(null,null,function*(){let N=x??f_;s({isLoading:!0});try{let k=yield Promise.all([...N.map(C=>u(C,void 0,_t)),u("categories",void 0,_t),l(null,null,function*(){return(yield Promise.all(N.map(R=>u("channelMap",R,_t)))).reduce((R,U,G)=>y({},R,{[`${N[G]}`]:U}),{})})]),P=yield u("webhook",void 0,_t),F=k.reduce((C,R,U)=>N[U]?k[k.length-1][N[U]].length?y({},C,{[`${N[U]}`]:R,list:[...C.list,{id:U,key:N[U],events:$s[N[U]].events(R),active:$s[N[U]].isActive(R),platform:$s[N[U]].title,image:$s[N[U]].image}]}):C:y({},C,{[`${o[U-N.length]}`]:R}),{list:[],webhook:P});s(y({},F,{error:void 0,isSaving:!1,isLoading:!1}))}catch(k){s({isLoading:!1,error:_(k)})}}),g=x=>l(null,null,function*(){var N;let k=(N=e.connectivity.slack)==null?void 0:N.slackSubscriptions;if(!k)return;let{slackSubscriptions:P}=x;yield Promise.all([...P.reduce((F,C)=>{var R,U;return!C.id&&C.slackEvents&&(R=C.slackEvents[0].channelIds)!=null&&R.length?[...F,C]:k?.find(z=>{let{id:W}=z,$=V(z,oV);return W===C.id&&JSON.stringify(y({id:W},$))!==JSON.stringify(C)})&&C.slackEvents&&(U=C.slackEvents[0].channelIds)!=null&&U.length?[...F,C]:F},[]).map(F=>i.slack(F)),...P.reduce((F,C)=>C.id&&!C.slackEvents[0].channelIds.length?[...F,C]:F,[]).map(F=>n.connectivity.deleteSlackConfiguration(F))])}),f=(x,N)=>l(null,null,function*(){let k=e.connectivity.processIds,P=e.connectivity[N];if(!P)return;let F=[];try{F=yield Promise.all([...x.reduce((C,R)=>!P.find(({eventKey:G})=>G===R.eventKey)&&R.subscriptions[0].recipients.filter(G=>G).length?[...C,R]:C,[]).map(C=>N==="email"?n.connectivity.postEmailConfiguration(C):n.connectivity.postSMSConfiguration(C)),...x.reduce((C,R)=>{let U=P.find(({eventKey:G})=>G===R.eventKey);return U&&JSON.stringify(U)!==JSON.stringify(R)?[...C,R]:C},[]).map(C=>{let{subscriptions:R,eventKey:U}=C,G=R[0],{id:z="",enabled:W}=G,$=V(G,iV);return Promise.all([N==="email"?n.connectivity.patchEmailConfiguration({eventKey:U,enabled:W}):n.connectivity.patchSMSConfiguration({eventKey:U,enabled:W}),N==="email"?n.connectivity.putEmailSubscriptions(z,U,y({},$,{enabled:W})):n.connectivity.putSMSSubscriptions(z,U,y({},$,{enabled:W}))])}),...x.reduce((C,R)=>{let U=P.find(({eventKey:G})=>G===R.eventKey);return U&&U.subscriptions[0].recipients.length&&!R.subscriptions[0].recipients.filter(G=>!!G).length?[...C,R]:C},[]).map(({eventKey:C,subscriptions:R})=>N==="email"?n.connectivity.deleteEmailSubscriptions(C,R[0].id||""):n.connectivity.deleteSMSSubscriptions(C,R[0].id||""))])}catch{}if(F.length){let C=yield u(N);s({error:void 0,isSaving:!1,[`${N}`]:C,processIds:C.id?k.filter(R=>R!==C.id):k}),yield h(N,C)}else s({error:void 0,isSaving:!1,[`${N}`]:P,processIds:k})}),h=(x,N)=>l(null,null,function*(){let{list:k}=e.connectivity,P=k.find(({key:C})=>C===x);if(!P)return;let F=$s[x].isActive(N);F!==P.active&&s({list:k.map(C=>C.key===x?y({},C,{active:F}):C)})}),v=x=>l(null,null,function*(){let{platform:N,data:k,callback:P}=x,F=e.connectivity.processIds;try{if(s({isSaving:!0,processIds:N==="webhook"?[k._id,...F]:F}),N==="slack"?yield g(k):["sms","email"].includes(N)?yield f(k,N):yield i[N](k),!["sms","email"].includes(N)){let C=yield u(N);N==="webhook"&&(C.id=k._id),s({error:void 0,isSaving:!1,[`${N}`]:C,processIds:C.id?F.filter(R=>R!==C.id):F}),yield h(N,C),P?.(!0)}}catch(C){s({error:_(C),isSaving:!1,isLoading:!1})}}),S=x=>l(null,null,function*(){try{yield n.connectivity.postSlackCode(x)}catch{}s({error:void 0,isSaving:!1})}),D=()=>l(null,null,function*(){let x=e.connectivity.slackChannels;try{s({slackChannels:y({},x,{isLoadingScope:!0})});let{clientId:N}=yield n.connectivity.getSlackScope();s({slackChannels:{error:void 0,clientId:N,isLoadingScope:!1,isLoading:!1}})}catch{s({slackChannels:{error:void 0,isLoadingScope:!1,isLoading:!1}})}}),T=x=>l(null,null,function*(){let{callback:N,webhookId:k}=x,P=e.connectivity.processIds;try{s({isSaving:!0}),yield n.connectivity.deleteWebhooksConfiguration(k)}catch(C){N?.(null,_(C))}let F=yield u("webhook");F&&s({error:void 0,isSaving:!1,webhook:F,processIds:F.id?P.filter(C=>C!==F.id):P}),N?.(!0)}),m=x=>l(null,null,function*(){try{s({isTesting:!0});let{statusCode:N,body:k}=yield n.connectivity.postWebhookTest(x);if([201,200].includes(N)){let P=JSON.stringify(k,null,2);s({isTesting:!1,testResult:{status:"success",message:P}})}else s({isTesting:!1,testResult:{status:"failed"}})}catch(N){s({isTesting:!1,testResult:{status:"failed",message:_(N)}})}}),E=x=>l(null,null,function*(){try{let{statusCode:N}=yield n.connectivity.postWebhookRetry(x);c({[x]:{isProcess:!1,success:N===202}})}catch{c({[x]:{isProcess:!1,success:!1}})}}),w=x=>l(null,null,function*(){let{id:N,limit:k,offset:P}=x,F=e.connectivity.webhookLogs;try{s({webhookLogs:y({},F,{isLoading:!0})});let C=yield n.connectivity.getWebhookLog(N,P,k);s({error:void 0,webhookLogs:y({isLoading:!1},C)})}catch{s({error:void 0,webhookLogs:{isLoading:!1}})}});return{setConnectivityState:s,initData:a,resetConnectivityState:a,loadSlackActions:d,loadSlackChannels:d,loadDataAction:p,loadConnectivityChannels:p,postDataAction:v,postChannelData:v,postCodeAction:S,postSlackCode:S,loadScope:D,loadSlackPermissions:D,deleteWebhookConfigAction:T,deleteWebhookConfig:T,postWebhookTestAction:m,postWebhookTest:m,postWebhookRetryAction:E,postWebhookRetry:E,loadWebhookLogsAction:w,loadWebhookLogs:w,cleanWebhookTestData:()=>{s({testResult:void 0})},cleanWebhookLogsData:()=>l(null,null,function*(){s({webhookLogs:void 0})}),cleanWebhookTestMessage:x=>l(null,null,function*(){var N;s({testResult:{status:(N=x.testResult)==null?void 0:N.status,message:void 0}})}),cleanError:()=>l(null,null,function*(){s({error:void 0})}),cleanSlackData:()=>l(null,null,function*(){s({slackChannels:{isLoading:!1}})})}};var zy;(function(e){e.UNKNWON="unknown",e.CARD="card"})(zy||(zy={}));var qy={loading:!1,error:null,fetching:!0,config:null},Yy=e=>K(qy,e);var gi;(function(e){e.STRIPE="Stripe"})(gi||(gi={}));var wn;(function(e){e.ACTIVE="ACTIVE",e.CANCELED="CANCELED",e.INCOMPLETE="INCOMPLETE",e.EXPIRED="EXPIRED",e.TRIALING="TRIALING"})(wn||(wn={}));var _l;(function(e){e.AT_PERIOD_END="atPeriodEnd"})(_l||(_l={}));var Tl=(e,n,t)=>{let r=a=>{Object.assign(e.subscriptions.config,a)},o=()=>{Q(e,["subscriptions","config"],qy)},i=a=>{Object.assign(e.subscriptions.config,{error:a,loading:!1,fetching:!1})},s=()=>l(null,null,function*(){r({loading:!0});try{let a=yield n.subscriptions.getStripePaymentProviderConfiguration(),u={paymentProvider:gi.STRIPE,apiKey:a.publishableKey};r({config:u}),r({loading:!1,fetching:!1})}catch(a){i(_(a))}});return{setPaymentConfigState:r,resetPaymentConfigState:o,loadPaymentConfiguration:()=>l(null,null,function*(){r({loading:!0});try{var a;((a=yield n.subscriptions.getPaymentProviders())!=null?a:[]).find(p=>p.status==="1"&&p.providerType===xr.Stripe)?yield s():i(_("Payment provider not configured"))}catch(u){i(_(u))}})}};var Zy={loading:!1,error:null,fetching:!0},Ky=e=>K(Zy,e);function p_({policy:e}){return{policy:sV(e)}}function sV(e){return _l.AT_PERIOD_END}function h_(e){switch(e){case St.ACTIVE:return wn.ACTIVE;case St.INCOMPLETE:return wn.INCOMPLETE;case St.CANCELED:return wn.CANCELED;case St.EXPIRED:return wn.EXPIRED;case St.TRIALING:return wn.TRIALING;default:return wn.EXPIRED}}var xl=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.subscriptions.billing.information,u)},i=()=>{Q(e,["subscriptions","billing","information"],Zy)},s=u=>{o({error:u,loading:!1,fetching:!1})},c=(u,d)=>l(null,null,function*(){o({loading:!0});try{var p,g;let f=yield n.subscriptions.getSubscriptionSummaries(u),{currentPlanId:h,externallyManaged:v}=f,S=null,D;v?D=yield n.subscriptions.getSubscriptionPlan(h):([,D]=yield Promise.all([r.loadSubscription(),n.subscriptions.getSubscriptionPlan(h)]),S=e.subscriptions.billing.subscription.subscription||null),o(y({loading:!1,fetching:!1,summary:f},S?{subscription:{id:S.id,externalId:S.externalId,startDate:S.startDate,currentPeriodStart:S.currentPeriodStart,currentPeriodEnd:S.currentPeriodEnd,status:d?wn.ACTIVE:h_(S.status),cancellation:S.cancellation&&p_(S.cancellation),trialEnd:S.trialEnd?S.trialEnd:null}}:{},D?{plan:{id:D.id,name:D.name,description:D.description,price:((p=D.price)==null?void 0:p.amount)||0,currency:((g=D.price)==null?void 0:g.currency)||"usd",recurringInterval:"month",slug:D.slug}}:{}))}catch(f){s(_(f))}});return{setBillingInformationState:o,resetBillingInformationState:i,loadSummaries:c,loadBillingInformation:u=>l(null,null,function*(){var d,p;let g=(d=e.subscriptions.config.config)==null?void 0:d.paymentProvider,f=(p=e.auth.user)==null?void 0:p.tenantId;if(!g||!f){s(new at(g?"Not authorized":"Internal feature failure",500,null));return}yield c(f,u)})}};var Qy={loading:!1,error:null,fetching:!0,invoices:[],invoiceDownload:{loading:!1,error:null}},Jy=e=>K(Qy,e);var Ml=(e,n,t)=>{let r=u=>{Object.assign(e.subscriptions.billing.invoices,u)},o=()=>{Q(e,["subscriptions","billing","invoices"],Qy)},i=u=>{r({error:u,loading:!1,fetching:!1})},s=u=>{Object.assign(e.subscriptions.billing.invoices.invoiceDownload,u)},c=()=>l(null,null,function*(){r({loading:!0});try{let d=(yield n.subscriptions.getSubscriptionInvoices()).map(p=>({id:p.id,externalId:p.externalId,subscriptionId:p.subscriptionId,paymentDate:new Date(Date.parse(p.paymentDate)),totalAmount:+((p.totalAmount||0)/100).toFixed(2),currency:p.currency||"usd",paid:p.paid||!1,receiptNumber:p.receiptNumber}));r({loading:!1,fetching:!1,invoices:d})}catch(u){i(_(u))}}),a=u=>l(null,null,function*(){s({loading:!0,error:null});try{yield n.subscriptions.getSubscriptionInvoicePdf(u.invoiceId,u.filename),s({loading:!1,error:null})}catch(d){s({loading:!1,error:_(d,null)})}});return{setBillingInvoiceState:r,resetBillingInvoiceState:o,loadInvoices:c,loadBillingInvoices:c,downloadInvoice:a,downloadBillingInvoice:a}};var Xy={loading:!1,error:null,fetching:!0},eS=e=>K(Xy,e);var Pl=(e,n,t)=>{let r=g=>{Object.assign(e.subscriptions.billing.paymentMethod,g)},o=()=>{Q(e,["subscriptions","billing","paymentMethod"],Xy)},i=g=>{r({loading:g})},s=g=>{r({error:g,loading:!1,fetching:!1})},c=()=>l(null,null,function*(){i(!0);try{let f=(yield n.subscriptions.getPaymentMethods())[0];r({paymentMethod:f,loading:!1,fetching:!1})}catch(g){s(_(g))}});return{setBillingPaymentMethodState:r,resetBillingPaymentMethodState:o,loadPaymentMethod:c,submitPaymentMethod:()=>l(null,null,function*(){i(!0)}),submitPaymentMethodError:g=>l(null,null,function*(){s(g)}),submitPaymentMethodSuccess:()=>l(null,null,function*(){return yield c()}),updatePaymentMethodBillingDetails:g=>l(null,null,function*(){i(!0);let{id:f,email:h,address:v,callback:S}=g;try{yield n.subscriptions.updatePaymentMethodBillingDetails(f,y({email:h},v)),yield c(),S?.(!0)}catch(D){s(_(D)),S?.(!1,D)}finally{i(!1)}})}};var tS={loading:!1,error:null,fetching:!0,cancellation:{loading:!1,error:null},renewal:{loading:!1,error:null}},nS=e=>K(tS,e);var Rl=(e,n,t)=>{let r=t,o=S=>{Object.assign(e.subscriptions.billing.subscription,S)},i=()=>{Q(e,["subscriptions","billing","subscription"],tS)},s=S=>{o({error:S,loading:!1,fetching:!1})},c=S=>{o({loading:S})},a=S=>{Object.assign(e.subscriptions.billing.subscription.cancellation,{loading:S})},u=S=>{Object.assign(e.subscriptions.billing.subscription.cancellation,{error:S})},d=S=>{Object.assign(e.subscriptions.billing.subscription.renewal,{loading:S})},p=S=>{Object.assign(e.subscriptions.billing.subscription.renewal,{error:S})},g=()=>l(null,null,function*(){c(!0);try{let[S]=yield n.subscriptions.getManagedSubscriptions();o({subscription:S,fetching:!1,loading:!1,error:null})}catch(S){s(_(S))}});return{setBillingSubscriptionState:o,resetBillingSubscriptionState:i,setCancellationLoading:a,setCancellationError:u,setRenewalLoading:d,setRenewalError:p,loadSubscription:g,loadSubscriptionTenant:()=>l(null,null,function*(){var S;let D=(S=e.auth.user)==null?void 0:S.tenantId;if(!D){s(new at("TenantId is not defined",500,null));return}yield r.loadSummaries(D)}),cancelSubscription:()=>l(null,null,function*(){let{subscription:S}=e.subscriptions.billing.subscription;if(!S){u(new at("Subscription not found",500,null));return}if(S!=null&&S.externallyManaged){u(new at("Billing is externally managed",500,null));return}let{id:D,cancellation:T,status:m}=S||{};if(!T&&m===St.ACTIVE)try{a(!0),yield n.subscriptions.cancelManagedSubscription(D),yield g(),a(!1)}catch(w){u(_(w))}}),renewSubscription:()=>l(null,null,function*(){let{subscription:S}=e.subscriptions.billing.subscription;if(!S){p(new at("Subscription not found",500,null));return}if(S!=null&&S.externallyManaged){p(new at("Billing is externally managed",500,null));return}let{id:D,cancellation:T}=S||{};if(T?.policy===Zo.AT_PERIOD_END)try{d(!0),yield n.subscriptions.renewManagedSubscription(D),yield g(),d(!1)}catch(E){p(_(E))}})}};var g_=e=>K({information:Ky(e?.information),invoices:Jy(e?.invoices),paymentMethod:eS(e?.paymentMethod),subscription:nS(e?.subscription)}),m_=(e,n,t)=>{let r=xl(e,n,t),o=Pl(e,n,t),i=Ml(e,n,t),s=Rl(e,n,t);return[y({},r,o,i,s),{information:r,invoices:i,paymentMethod:o,subscription:s}]};var rS={loading:!1,error:null,fetching:!0,plans:[]},oS=e=>K(rS,e);var Ol=(e,n,t)=>{let r=c=>{Object.assign(e.subscriptions.plans,c)},o=()=>{Q(e,["subscriptions","plans"],rS)},i=c=>{r({loading:!1,fetching:!1,error:c})};return{setPlansState:r,resetPlansState:o,loadPlans:()=>l(null,null,function*(){r({loading:!0});try{let a=(yield n.subscriptions.getSubscriptionPlans()).map(u=>{var d,p;return{id:u.id,name:u.name,description:u.description,price:((d=u.price)==null?void 0:d.amount)||0,currency:((p=u.price)==null?void 0:p.currency)||"usd",recurringInterval:"month",slug:u.slug}});r({fetching:!1,loading:!1,plans:a})}catch(c){i(_(c))}})}};var iS={fetching:!0,loading:!1,error:null,confirmed:!1},sS=e=>K(iS,e);var Nl=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.subscriptions.checkout,p)};return{setCheckoutState:o,resetCheckoutState:()=>{Q(e,["subscriptions","checkout"],iS)},loadCheckout:()=>{o({fetching:!1,loading:!1,error:null,confirmed:!1})},resetCheckout:()=>{o({loading:!1,error:null,confirmed:!1})},submitCheckout:()=>{o({loading:!0,error:null})},confirmCheckout:p=>l(null,null,function*(){let{paymentMethodId:g,planId:f}=p,h=e.subscriptions.billing.subscription.subscription,v=e.subscriptions.billing.information.summary,S=h?.status===St.TRIALING,D=!!(v!=null&&v.paymentMethodId);if(!h){o({loading:!1,error:new at("Subscription not found",500,null)});return}if(o({loading:!0,error:null}),S&&D){o({loading:!1,error:null,confirmed:!0}),r.setBillingSubscriptionState({subscription:y({},h,{status:St.ACTIVE})});return}try{yield n.subscriptions.updateManagedSubscription(h.id,{paymentMethodId:g,planId:f}),yield Promise.all([r.loadBillingInformation(),r.loadPaymentMethod(),r.loadInvoices()]),o({loading:!1,error:null,confirmed:!0})}catch(T){o({loading:!1,error:_(T)})}}),errorCheckout:p=>{o({loading:!1,error:p})}}};var aS={loading:!1,error:null,cardSetupIntentSecret:null},cS=e=>K(aS,e);var kl=(e,n,t)=>{let r=c=>{Object.assign(e.subscriptions.stripe,c)},o=()=>{Q(e,["subscriptions","stripe"],aS)},i=c=>{Object.assign(e.subscriptions.stripe,{error:c,loading:!1,fetching:!1})};return{createCardSetupIntentSecret:c=>l(null,null,function*(){r({loading:!0,error:null,cardSetupIntentSecret:null});try{let a={};c&&(a.paymentMethodId=c);let{setupIntentSecret:u}=yield n.subscriptions.createStripePaymentMethodSetupIntentSecret(a);r({cardSetupIntentSecret:u,loading:!1})}catch(a){i(_(a))}}),setStripeState:r,resetStripeState:o}};var lS={loading:!1,fetching:!0,vendorPublicConfig:null},uS=e=>K(lS,e);var Ll=(e,n,t)=>{let r=a=>{Object.assign(e.subscriptions.vendorPublicConfig,a)},o=()=>{Q(e,["subscriptions","vendorPublicConfig"],lS)},i=a=>{Object.assign(e.subscriptions.vendorPublicConfig,{error:a,loading:!1,fetching:!1})},s=a=>{Object.assign(e.subscriptions.vendorPublicConfig,{error:null,loading:a})};return{setVendorPublicConfigState:r,resetVendorPublicConfigState:o,setVendorPublicConfigError:i,setVendorPublicConfigLoading:s,loadVendorPublicConfiguration:()=>l(null,null,function*(){s(!0);try{let a=yield n.subscriptions.getVendorPublicConfigurations();r({fetching:!1,loading:!1,vendorPublicConfig:a})}catch(a){i(_(a))}})}};var dS=e=>K({config:Yy(e?.config),billing:g_(e?.billing),plans:oS(e?.plans),checkout:sS(e?.checkout),stripe:cS(e?.stripe),vendorPublicConfig:uS(e?.vendorPublicConfig)}),fS=(e,n,t)=>{let r=Tl(e,n,t),[o,i]=m_(e,n,t),s=Ol(e,n,t),c=Nl(e,n,t),a=kl(e,n,t),u=Ll(e,n,t);return[y({},r,o,s,c,a,u),{config:r,billing:i,plans:s,checkout:c,stripe:a,vendorPublicConfig:u}]};var pS={loading:!1},rp=e=>K(pS,e);var Hs=(e,n,t)=>{let r=s=>{Object.assign(e.vendor,s)},o=()=>{Q(e,["vendor"],pS)},i=s=>l(null,null,function*(){r({loading:!0});try{var c;let a=yield ee(()=>n.vendor.getVendorPublicInfo(),s?.retryConfig);a.whiteLabelMode=(c=a.whiteLabelMode)!=null?c:!1,r(y({},a,{loading:!1}))}catch(a){r({loading:!1}),console.error("failed to getVendorPublicInfo - ",a)}});return{setVendorState:r,resetVendorState:o,loadVendorPublicInfo:i,loadVendorPublicConfiguration:i}};var hS={loading:!0,pageOffset:0,pageSize:20,logs:[],sort:[],filter:[],totalPages:0,isDownloadingCsv:!1},gS=e=>K(hS,e);var Fl=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auditLogs.auditLogsState,a)};return{setAuditLogsState:o,resetAuditLogsState:()=>{Q(e,["auditLogs","auditLogsState"],hS)},exportAuditsCsv:()=>l(null,null,function*(){let a=e.auditLogs.auditLogsState,{columns:u}=e.auditLogs.auditsMetadataState;try{let d=a.filter,g=a.sort.reduce((v,S)=>y({},v,{sortBy:S.id,sortDirection:S.desc?"desc":"asc"}),{}),f=d.reduce((v,S)=>y({},v,{[S.id]:S.value}),{});o({isDownloadingCsv:!0}),yield n.audits.exportAudits(y({endpoint:"csv/v2",headerProps:u,offset:0,outputFileName:"audits.csv"},g,f))}catch(d){console.error("failed to export audits - ",d)}o({isDownloadingCsv:!1})}),loadAuditLogs:a=>l(null,null,function*(){o({loading:!(a!=null&&a.silentLoading),error:null});let u=e.auditLogs.auditLogsState,d=a?.retryConfig,{columns:p}=e.auditLogs.auditsMetadataState;try{var g,f,h,v,S;let T=(g=a.pageSize)!=null?g:u.pageSize,m=(f=a.pageOffset)!=null?f:u.pageOffset,E=(h=a.filter)!=null?h:u.filter,w=(v=a.sort)!=null?v:u.sort;o({pageSize:T,pageOffset:m,filter:E,sort:w});let I=w.reduce((L,x)=>y({},L,{sortBy:x.id,sortDirection:x.desc?"desc":"asc"}),{}),A=E.reduce((L,x)=>y({},L,{[x.id]:x.value}),{});p||(yield r.loadAuditsMetadata({retryConfig:d}));let{data:M,total:O}=yield ee(()=>n.audits.getAudits(y({offset:m,count:T},I,A)),d);o({loading:!1,logs:M??[],totalPages:+Math.ceil(O/T)}),a==null||(S=a.callback)==null||S.call(a,!0)}catch(T){var D;o({loading:!1,error:_(T)}),a==null||(D=a.callback)==null||D.call(a,null,T)}})}};var mS={loading:!0},vS=e=>K(mS,e);var Ul=(e,n,t)=>{let r=t,o=c=>{Object.assign(e.auditLogs.auditsMetadataState,c)};return{setAuditsMetadataState:o,resetAuditsMetadataState:()=>{Q(e,["auditLogs","auditsMetadataState"],mS)},loadAuditsMetadata:c=>l(null,null,function*(){o({loading:!0,error:null});try{let{properties:a}=yield ee(()=>n.metadata.getAuditsMetadata(),c?.retryConfig);o({columns:a,loading:!1})}catch(a){o({error:a,loading:!1})}})}};var yS=e=>({auditLogsState:gS(e?.auditLogsState),auditsMetadataState:vS(e?.auditsMetadataState)}),SS=(e,n,t)=>y({},Fl(e,n,t),Ul(e,n,t));var TT=En(Ym());var aV={total:0,offset:0,filter:"",sortBy:"createdAt",context:null,filters:[],rowsData:[],lastUpdated:new Date,isLoading:!0,isFetchMore:!1,totalToday:0,currentPage:0,headerProps:[],sortDirection:"desc",severeThisWeek:0,predefinedFilters:[],isDownloadingCsv:!1,virtualScroll:!1},bS=e=>K(aV,e);var wS=20,AS=(e,n,t)=>{let r=t,o=P=>{e.audits.context=P},i=()=>{e.audits.isLoading=!0},s=P=>{e.audits.virtualScroll=P},c=()=>{e.audits.isLoading=!0},a=()=>{e.audits.isFetchMore=!0},u=()=>{e.audits.isLoading=!1},d=()=>{e.audits.isDownloadingCsv=!0},p=()=>{e.audits.isDownloadingCsv=!1},g=P=>{e.audits.error=void 0,e.audits.totalToday=P.totalToday,e.audits.severeThisWeek=P.severeThisWeek},f=P=>{var F;e.audits.error=(F=e.audits.error)!=null?F:{},Object.assign(e.audits.error,{[P.name]:P.error})},h=P=>{e.audits.error={},e.audits.headerProps=P.properties,e.audits.themeAudits=P.theme?P.theme.styles:{}},v=P=>{e.audits.error={},e.audits.rowsData=P.rowsData,e.audits.lastUpdated=new Date,e.audits.total=P.total},S=P=>{e.audits.error={},e.audits.offset=P.offset,e.audits.currentPage=P.currentPage,e.audits.isFetchMore=!1},D=P=>{e.audits.filters=P,e.audits.currentPage=0,e.audits.offset=0,e.audits.isLoading=!0},T=P=>{e.audits.filter=P,e.audits.currentPage=0,e.audits.offset=0,e.audits.isLoading=!0},m=P=>{e.audits.currentPage=P-1,e.audits.offset=e.audits.currentPage*wS,e.audits.isLoading=!0},E=P=>{e.audits.sortBy=P.sortBy,e.audits.currentPage=0,e.audits.sortDirection=P.sortDirection==="asc"?"desc":"asc",e.audits.offset=0,e.audits.isLoading=!0},w=P=>{e.audits.predefinedFilters=P;let F=Object.keys(P).map(C=>({key:C,value:P[C]}));e.audits.filters=F},I=()=>l(null,null,function*(){let{sortBy:P,sortDirection:F}=e.audits;try{let C=yield n.audits.getAuditsStats({sortBy:P,sortDirection:F,count:wS});g(C)}catch(C){let R={name:"stats",error:C};console.error("failed to load stats - ",C),f(R)}}),A=()=>l(null,null,function*(){try{let P=yield n.metadata.getAuditsMetadata();h(P)}catch(P){let F={name:"metadata",error:P};console.error("failed to load metadata - ",P),f(F)}}),M=P=>P.reduce((F,C)=>(F[C.key]=C.value,F),{}),O=P=>l(null,null,function*(){let{filters:F,sortBy:C,sortDirection:R,filter:U,offset:G,virtualScroll:z}=e.audits,{appendMode:W=z,onlyOneLoad:$=!0,offset:B=0}=P||{},{rowsData:te}=W?e.audits:{rowsData:[]};try{let ae=M(F),{data:pe,total:ye}=yield n.audits.getAudits(y({},z&&{paginationMode:"virtual"},{sortDirection:R,sortBy:C,filter:U},ae,{offset:z?te.length+B||te.length+G:B||G,count:wS}));v({rowsData:[...te,...pe],total:ye}),$&&u()}catch(ae){let pe={name:"audits",error:ae};console.error("failed to load audits - ",ae),f(pe)}});return{initData:()=>l(null,null,function*(){i(),yield Promise.all([I(),A(),O({onlyOneLoad:!1})]),u()}),loadAudits:O,removeFilter:P=>l(null,null,function*(){let{filters:F}=e.audits,C=F.findIndex(U=>U.key===P.key);if(C<0)return;let R=[...F.slice(0,C),...F.slice(C+1)];D(R)}),filterData:P=>l(null,null,function*(){let{filters:F}=e.audits,C=F.findIndex(U=>U.key===P.key);C<0&&(C=F.length);let R=[...F.slice(0,C),P,...F.slice(C+1)];D(R)}),exportCSV:()=>l(null,null,function*(){let{filters:P,sortBy:F,sortDirection:C,filter:R,headerProps:U=[]}=e.audits,G=M(P);d();let z="audits.csv";try{yield n.audits.exportAudits(y({endpoint:"csv/v2",headerProps:U,sortDirection:C,sortBy:F,filter:R},G,{offset:0,outputFileName:z}))}catch(W){console.error("failed to export audits - ",W)}finally{p()}})}};var J=(e,n)=>Object.keys(e).reduce((t,r)=>{let o=r;return n.includes(r)?y({},t,{[r]:e[o]}):y({},t,{[r]:()=>{console.debug(`Action ${String(r)} was called`)}})},{});var v_=(e,n,t)=>{let r=Oc(e,n,t);return J(r,["setAcceptInvitationState","resetAcceptInvitationState"])};var y_=(e,n,t)=>{let r=Nc(e,n,t),o=J(r,["setAccountSettingsState","resetAccountSettingsState"]);return o.saveAccountSettings=i=>l(null,null,function*(){var s;o.setAccountSettingsState({loading:!0}),yield Y();let c=e.auth.accountSettingsState,{address:a,timezone:u,dateFormat:d,timeFormat:p,currency:g,logo:f}=c,h=y({address:a,timezone:u,dateFormat:d,timeFormat:p,currency:g,logo:f},i);o.setAccountSettingsState(y({},h,{loading:!1})),(s=i.callback)==null||s.call(i,h)}),o.loadAccountSettings=i=>l(null,null,function*(){o.setAccountSettingsState({loading:!(i!=null&&i.silentLoading),error:null}),yield Y(),o.setAccountSettingsState(y({address:"Tel-aviv",timezone:"Asia/Jerusalem",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",currency:"USD",loading:!1},i))}),o};var S_=(e,n,t)=>{let r=Hc(e,n,t);return J(r,["setActivateState","resetActivateState","setActivateStrategyState"])};var b_=(e,n,t)=>{let r=il(e,n,t);return J(r,["setAllAccountsLoader","setAllAccountsError","setAllAccountsState","setSelectedAccountState","resetAllAccountsState","clearSelectedAccount"])};var ip={clientId:"CLIENT_ID_16806d3d-8fc3-4450-be97-abdaf66b723e",secret:"SECRET_16806d3d-8fc3-4450-be97-abdaf66b723e",createdAt:"createdAt",description:"Demo API Token (preview only)"},jl=y({},ip,{roleIds:[],tenantId:"my-tenant-id",createdByUserId:"createdByUserId"}),lo=[{id:"a040dcf6-b907-4e83-9970-6bd23c88fd40",key:"ReadOnly",name:"Read Only",description:null,isDefault:!1,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],vendorId:"vendorId"},{id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0",key:"Admin",name:"Admin",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","16647407-ed6f-4ca6-83a0-86225d921959","f403c6b9-1abe-4ec7-9971-aa032255fc25","a43e059d-d731-44b1-94bb-fb6b16c62210"],vendorId:"vendorId"},{id:"1234",key:"Support",name:"Support",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","f26b00f8-ffe0-4739-b15c-7db15c27ea26","a9c803b0-ebfa-49b9-9607-f0d3a390ee61"],tenantId:"tenantId",vendorId:"vendorId"}],cV=[{id:"roleId",key:"admin",isDefault:!1,name:"Admin",description:null,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],tenantId:"tenantId",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date}],lV=[{id:"8d71b676-754c-4600-afe7-ca5add1e6809",key:"fe.*",name:"General Admin",description:"description",categoryId:"category",fePermission:!0,createdAt:new Date,updatedAt:new Date,roleIds:[]}],Vl={sub:"",tenants:[],id:"testId",name:"Demo User Name",email:"demo-user@frontegg.com",mfaEnrolled:!0,profilePictureUrl:"https://www.gravatar.com/avatar/42b2ad2bad6fc9b9db5086dfcf8072ac?d=https://ui-avatars.com/api/fe/128/random?t=1617261890875?t=1617261917434",roles:cV,permissions:lV,tenantId:"my-tenant-id",tenantIds:["my-tenant-id"],activatedForTenant:!0,metadata:JSON.stringify({phoneNumber:"+972-54123456",jobTitle:"Developer",address:{city:"Tel Aviv",country:"Israel"}}),verified:!1},Bn=y({},Vl,{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MTY5YmY0Zi02YmI5LTQ5NGMtOGNkZS05MDc4NDQ0NWY4MDciLCJuYW1lIjoiRHVtbXkgVXNlciIsImVtYWlsIjoiZHVtbXlAZnJvbnRlZ2cuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm1ldGFkYXRhIjp7fSwicm9sZXMiOlsiYWRtaW4iXSwicGVybWlzc2lvbnMiOlsiZmUuKiJdLCJ0ZW5hbnRJZCI6Im15LXRlbmFudC1pZCIsInRlbmFudElkcyI6WyJteS10ZW5hbnQtaWQiXSwicHJvZmlsZVBpY3R1cmVVcmwiOiJodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLzQyYjJhZDJiYWQ2ZmM5YjlkYjUwODZkZmNmODA3MmFjP2Q9aHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvZmUvMTI4L3JhbmRvbT90PTE2MTcyNjE4OTA4NzU_dD0xNjE3MjYxOTE3NDM0IiwidHlwZSI6InVzZXJUb2tlbiIsImlhdCI6MTYxNzkwNjMyNCwiZXhwIjoxNjE3OTkyNzI0LCJpc3MiOiJmcm9udGVnZyJ9.paaXLkpWEWbQmUtoK2P8IwXCxK4WJp7XhXonvzF8g1I",expiresIn:86400,mfaRequired:!1,refreshToken:"refresh-token-dummy-de39dc9c-9d22-4852-b7f5-c3c0aa613b58",type:"userToken",iat:1617906324,exp:1617992724,iss:"frontegg",email_verified:!0}),w_={loading:!1,error:void 0,saving:!0,profile:Vl},A_={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date,allowOverrideEnforcePasswordHistory:!0,allowOverridePasswordComplexity:!1,allowOverridePasswordExpiration:!1,allowSignups:!0,apiTokensEnabled:!0,cookieSameSite:"cookieSameSite",defaultRefreshTokenExpiration:0,defaultTokenExpiration:1,publicKey:"publicKey"},E_={allowSignups:!0,allowNotVerifiedUsersLogin:!1,apiTokensEnabled:!0,forcePermissions:!1,authStrategy:Te.EmailAndPassword,machineToMachineAuthStrategy:ct.ClientCredentials},ES={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date},uo={id:"id",enabled:!0,maxAttempts:1,createdAt:new Date,updatedAt:new Date},$l={id:"id",enabled:!0,historySize:1,createdAt:new Date,updatedAt:new Date},DS={enabled:!0,domain:"domain",validated:!0,generatedVerification:"generatedVerification",ssoEndpoint:"ssoEndpoint",publicCertificate:"publicCertificate",signRequest:!0,createdAt:new Date,updatedAt:new Date,acsUrl:void 0,spEntityId:void 0,oidcClientId:void 0,oidcSecret:void 0,type:void 0},Bl={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",properties:[],vendorId:"vendorId",entityName:"saml",isActive:!0,configuration:{acsUrl:"acsUrl",spEntityId:"spEntityId"}},Gs=[{id:"id",description:"description",key:"key",name:"name",permissions:[],permissionLevel:1}],IS={firstLoad:!1,loading:!1,error:void 0,saving:!1,samlConfiguration:DS,roles:Gs,authorizationRoles:[],errors:{},loaders:{},ssoConfigurations:[]},Hl=[{description:"string",fePermission:!0,id:"id",key:"key",name:"name",roleIds:[],createdAt:new Date,updatedAt:new Date,categoryId:"categoryId"}],op={id:"id2",email:"demo-user2@frontegg.com",name:"Demo User Name2",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,verified:!1,createdAt:new Date().toISOString(),customData:void 0,lastLogin:void 0,mfaEnabled:void 0,roles:[lo[0]],groups:[{id:"id2",name:"Developers",color:"#03A9F4",roles:[lo[0]],managedBy:lt.FRONTEGG}]},uV={id:op.id,email:op.email,name:op.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[lo[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},co={id:"id",email:"demo-user@frontegg.com",name:"Demo User Name",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,createdAt:new Date(2022,4,1).toISOString(),verified:!0,customData:void 0,lastLogin:new Date(2022,5,25).toISOString(),mfaEnabled:void 0,roles:[lo[1]],groups:[{id:"id1",name:"Designers",color:"#E1F5E2",roles:[lo[0]],managedBy:lt.FRONTEGG}]},dV={id:co.id,email:co.email,name:co.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[lo[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},fV={metadata:"",mfaEnrolled:!1,provider:"",sub:"",tenantIds:[],tenants:[],verified:!1,id:"id",email:"email",name:"name",tenantId:"tenantId",createdAt:new Date},CS=[co,op],_S=[dV,uV],TS=[fV],xS=[{id:"my-tenant-id",isReseller:!1,name:"Frontegg demo",deletedAt:null,metadata:void 0,tenantId:"my-tenant-id",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date,address:void 0,timezone:void 0,dateFormat:void 0,timeFormat:void 0,currency:void 0,logo:void 0}],MS=[{id:"laptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date,ipAddress:"190.194.88.251",current:!0},{id:"iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_2_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1",createdAt:new Date(Date.now()-1e4),ipAddress:"191.49.203.21"},{id:"tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",createdAt:new Date(Date.now()-3e4),ipAddress:"130.19.196.136"},{id:"anotherlaptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date(Date.now()-1002232300),ipAddress:"2.228.163.92"}];var PS={isActive:!0,strategy:He.ALLOW},Gl=[{updatedAt:new Date,createdAt:new Date,id:"1",ip:"255.255.255.255",isActive:!0,strategy:He.ALLOW,description:"My IP"},{updatedAt:new Date,createdAt:new Date,id:"2",ip:"255.255.255.254",isActive:!0,strategy:He.ALLOW,description:"IP 2"},{updatedAt:new Date,createdAt:new Date,id:"3",ip:"255.255.255.253",isActive:!0,strategy:He.BLOCK,description:"IP 3"},{updatedAt:new Date,createdAt:new Date,id:"4",ip:"255.255.255.253",isActive:!0,strategy:He.BLOCK,description:"IP 4"}],Vn=e=>{let n=[];return Array.from({length:e}).forEach((t,r)=>{n.push(y({},co,{name:"Demo User",id:`id${r}`,profilePictureUrl:null,createdAt:new Date}))}),n},$n=e=>({id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0"+e,key:e,name:e,description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:[],tenantId:"tenantId",vendorId:"vendorId"}),D_=[{id:"id1",name:"Designers",color:"#E1F5E2",description:"The whole design team",users:Vn(6),roles:[$n("Editor")],metadata:'{"lastTermsCheck":"2022-08-16T10:31:11.270Z"}',managedBy:lt.FRONTEGG},{id:"id2",name:"Developers",color:"#03A9F4",description:"All frontend and backend developers",users:Vn(44),roles:[$n("Editor")],managedBy:lt.FRONTEGG},{id:"id3",name:"Product",color:"#E1583E",description:"PMs and team leads",users:Vn(8),roles:[$n("Viewer")],managedBy:lt.FRONTEGG},{id:"id4",name:"Management",color:"#9AE0FF",description:"Executives",users:Vn(5),roles:[$n("Admin")],managedBy:lt.FRONTEGG},{id:"id5",name:"Sales",color:"#ED8E7C",users:Vn(21),description:"BDR, AE, and inside sales",roles:[$n("Viewer")],managedBy:lt.FRONTEGG},{id:"id6",name:"Support",color:"#A79D7B",users:Vn(23),description:"Dev success and customer success",roles:[$n("Admin")],managedBy:lt.FRONTEGG},{id:"id7",name:"Marketing",color:"#2CA744",users:Vn(10),description:"The marketing department",roles:[$n("Viewer")],managedBy:lt.FRONTEGG},{id:"id8",name:"HR",color:"#EAE1C2",users:Vn(4),description:"Human resources",roles:[$n("Viewer")],managedBy:lt.FRONTEGG},{id:"id9",name:"Finance",color:"#5587C0",users:Vn(3),roles:[$n("Viewer")],managedBy:lt.FRONTEGG},{id:"id10",name:"Operations",color:"#B1CAE7",users:Vn(8),roles:[$n("Editor")],managedBy:lt.FRONTEGG},{id:"id11",name:"Legal",color:"#2CA744",users:Vn(4),roles:[$n("Viewer")],managedBy:lt.FRONTEGG}],RS={scoring:{score:79},recommendations:{items:[{code:_s.FORCE_MFA,severity:Ts.WARNING,category:nr.MFA},{code:_s.ENABLE_FORCE_RELOGIN,severity:Ts.WARNING,category:nr.SESSIONS}]}},I_={insights:{items:[{category:nr.MFA,code:eo.PARTIALLY_FORCED_MFA,metadata:{totalUsers:2,mfa:{enrolledUsersCount:1}}},{category:nr.SESSIONS,code:eo.PARTIAL_SESSION_SETTINGS,metadata:{totalUsers:2,sessions:{idleTimeoutRecommendation:1800}}},{category:nr.PASSWORD,code:eo.IMPROVE_PASSWORD_HISTORY_POLICY,metadata:{password:{userLockoutRecommendation:5,historyRecommendations:5}}},{category:nr.DOMAIN,code:eo.NO_IP_RESTRICTIONS,metadata:{restrictions:{ipsCount:1,domainsCount:1}}}]}},C_={users:_S,totalUsersItems:2,totalUsersPages:1,usersPageOffset:0},__={users:[_S[0]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0,queryParams:{_maxInactiveSeconds:7776e3}},T_={users:[_S[1]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0},xfe=[{id:"8d71b676-754c-4600-afe7-ca5add1e6809",key:"fe.secure.*",name:"Secure write",description:"all secure access permissions",categoryId:"77154759-0a04-4669-b6b4-0858d3c1190e",fePermission:!0,assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date},{id:"85e1fd7b-2bb7-498f-8521-5f8e5774c01e",key:"fe.account-hierarchy.write.subAccountAccess",name:"Give access to sub accounts",description:"Give a user access to sub account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"a1807695-54a2-4f95-95de-a9b246488aae",key:"fe.account-hierarchy.read.subAccount",name:"Read sub accounts",description:"Read sub accounts",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"04dbcc11-61db-40a9-9577-9b73e50d1d03",key:"fe.secure.read.*",name:"Secure read",description:"all secure access read permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"77154759-0a04-4669-b6b4-0858d3c1190e",fePermission:!0},{id:"a1807695-54a2-4f95-95de-a9b246488aae",key:"fe.account-hierarchy.read.subAccount",name:"Read sub accounts",description:"Read sub accounts",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"85e1fd7b-2bb7-498f-8521-5f8e5774c01e",key:"fe.account-hierarchy.write.subAccountAccess",name:"Give access to sub accounts",description:"Give a user access to sub account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"a9c803b0-ebfa-49b9-9607-f0d3a390ee61",key:"fe.account-settings.delete.account",name:"Delete Account",description:"Delete my account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"42aaebe1-893d-4da5-99d7-375a4537b7a4",fePermission:!0},{id:"f26b00f8-ffe0-4739-b15c-7db15c27ea26",key:"fe.account-settings.write.custom-login-box",name:"Edit custom login settings",description:"Write account's custom login box styling",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"42aaebe1-893d-4da5-99d7-375a4537b7a4",fePermission:!0},{id:"a43e059d-d731-44b1-94bb-fb6b16c62210",key:"fe.connectivity.delete.*",name:"Connectivity delete",description:"all connectivity delete permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d18fccaa-e09a-4e6e-b902-cc9c615ff12d",fePermission:!0},{id:"f403c6b9-1abe-4ec7-9971-aa032255fc25",key:"fe.connectivity.delete.slackAppRegistration",name:"Delete slack application registration",description:"allow user to delete slack app registration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"e8c0e727-f562-449a-82c5-f7691defde02",key:"fe.connectivity.read.*",name:"Connectivity read",description:"all connectivity read permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d18fccaa-e09a-4e6e-b902-cc9c615ff12d",fePermission:!0},{id:"2a5dcd6d-57a3-45c4-815f-c265609cc1f7",key:"fe.connectivity.read.emailConfig",name:"Read email configuration",description:"read email integration configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"2d7b4be7-8269-4ff4-81d6-0c92e95790d5",fePermission:!0},{id:"4fee0eb0-5b17-450b-bea4-b9b908230bda",key:"fe.connectivity.read.eventCategories",name:"Read events categories",description:"view connectivity events categories",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"31c7a260-55d6-43d5-a872-4f9e22982ff5",fePermission:!0},{id:"750a96a5-8abf-4340-b91a-723c7bb8bcfd",key:"fe.connectivity.read.events",name:"Read events",description:"view connectivity events",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"31c7a260-55d6-43d5-a872-4f9e22982ff5",fePermission:!0},{id:"ef2a5f1a-74c5-431f-b1a6-d4fb5026e374",key:"fe.connectivity.read.slackApp",name:"Read slack application",description:"get slack application configuration in order to register",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"9fc1fa37-a8b9-4931-b2b5-5de55df25289",key:"fe.connectivity.read.slackChannels",name:"Read slack channels",description:"view registered slack workspace channels",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"87c3df9d-0ab2-4e97-bfc8-777a68ba2543",key:"fe.connectivity.read.slackSubscriptions",name:"Read slack subscriptions",description:"view slack events subscriptions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"7826470b-151f-4bab-b2c0-785e09878616",key:"fe.connectivity.read.slackUsers",name:"Read slack users",description:"view registered slack workspace users",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"ee779734-a7e3-47b3-ace9-944f9bee8ad8",key:"fe.connectivity.read.smsConfig",name:"Read SMS configuration",description:"read SMS integration configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"5743fccc-b4ea-4907-bdca-7446ea088974",fePermission:!0},{id:"54583a96-c731-4a84-9abc-1b8b827f06ae",key:"fe.connectivity.read.userBellNotifications",name:"Read bell notifications",description:"view user bell notifications",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"18d2584b-7f03-4038-ab93-bc2b0f4511be",fePermission:!0},{id:"2dfde8ef-7df2-4426-bb8d-33615e399a4d",key:"fe.connectivity.read.webhookLogs",name:"Read webhooks logs",description:"view webhooks logs",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"e74e5390-396b-429c-9544-62417912d018",fePermission:!0},{id:"16647407-ed6f-4ca6-83a0-86225d921959",key:"fe.connectivity.read.webhooks",name:"Read webhooks",description:"view webhooks configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"e74e5390-396b-429c-9544-62417912d018",fePermission:!0}];var xt=[];for(sp=0;sp<256;++sp)xt.push((sp+256).toString(16).slice(1));var sp;function x_(e,n=0){return(xt[e[n+0]]+xt[e[n+1]]+xt[e[n+2]]+xt[e[n+3]]+"-"+xt[e[n+4]]+xt[e[n+5]]+"-"+xt[e[n+6]]+xt[e[n+7]]+"-"+xt[e[n+8]]+xt[e[n+9]]+"-"+xt[e[n+10]]+xt[e[n+11]]+xt[e[n+12]]+xt[e[n+13]]+xt[e[n+14]]+xt[e[n+15]]).toLowerCase()}var ap,pV=new Uint8Array(16);function OS(){if(!ap&&(ap=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ap))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ap(pV)}var hV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),NS={randomUUID:hV};function gV(e,n,t){if(NS.randomUUID&&!n&&!e)return NS.randomUUID();e=e||{};var r=e.random||(e.rng||OS)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(var o=0;o<16;++o)n[t+o]=r[o];return n}return x_(r)}var fo=gV;var M_=(e,n,t)=>{let r=Wc(e,n,t),o=J(r,["setApiTokensState","resetApiTokensState","setApiTokensLoader","setApiTokensError"]);return o.addTenantApiToken=i=>l(null,null,function*(){let{description:s,roleIds:c,callback:a}=i;o.setApiTokensLoader({key:$e.ADD_API_TOKEN,value:!0});let{apiTokensDataTenant:u}=e.auth.apiTokensState,d=y({},jl,{description:s,roleIds:c,clientId:`CLIENT_ID_${fo()}`});o.setApiTokensState({showAddTokenDialog:!1}),yield Y(200),o.setApiTokensState({apiTokensDataTenant:[...u,d],successDialog:{open:!0,secret:d.secret,clientId:d.clientId}}),yield Y(200),o.setApiTokensLoader({key:$e.ADD_API_TOKEN,value:!1}),a?.(null)}),o.deleteTenantApiToken=i=>l(null,null,function*(){o.setApiTokensLoader({key:$e.DELETE_API_TOKEN,value:!0}),yield Y(200);let s=[jl];o.setApiTokensState({apiTokensDataTenant:s.filter(c=>c.clientId!==i),deleteTokenDialog:{open:!1,clientId:i}}),o.setApiTokensLoader({key:$e.DELETE_API_TOKEN,value:!1})}),o.loadApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[ip],a=[jl];o.setApiTokensState({apiTokensDataUser:c,apiTokensDataTenant:a}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o.loadUserApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[ip];o.setApiTokensState({apiTokensDataUser:c}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o.loadTenantApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[jl];o.setApiTokensState({apiTokensDataTenant:c}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o};var P_=(e,n,t)=>{let r=zc(e,n,t);return J(r,["setApplicationsState","resetApplicationsState"])};var R_=(e,n,t)=>{let r=qc(e,n,t),o=J(r,["setCustomLoginState","resetCustomLoginState"]);return o.loadTenantMetadata=()=>l(null,null,function*(){o.setCustomLoginState({loading:!0}),yield Y(),o.setCustomLoginState({loading:!1})}),o.updateTenantMetadata=i=>l(null,null,function*(){let{callback:s}=i;o.setCustomLoginState({loading:!0,error:null}),yield Y(),o.setCustomLoginState({loading:!1,error:null}),s?.(!0)}),o};var O_=(e,n,t)=>{let r=Cl(e,n,t);return J(r,["setEntitlements","handleFetchedEntitlements"])};var N_=(e,n,t)=>{let r=Yc(e,n,t),o=J(r,["setForgotPasswordState","resetForgotPasswordState"]);return o.loadPasswordConfig=i=>l(null,null,function*(){o.setForgotPasswordState({loading:!0});try{o.setForgotPasswordState({loading:!1,passwordConfig:{allowPassphrases:!0,maxLength:128,minLength:6,minPhraseLength:6,minOptionalTestsToPass:1}})}catch(s){o.setForgotPasswordState({loading:!1,error:_(s)})}}),o};var k_=(e,n,t)=>{let r=Zc(e,n,t),o=J(r,["setStep"]);return o.setStep(di.success),o};var L_=(e,n,t)=>{let r=Kc(e,n,t),o=J(r,["setGroupsState","resetUsersGroupsState","setUsersGroupsLoader","setUsersGroupsError"]);return o.loadGroups=()=>l(null,null,function*(){let i=ze.GET_GROUPS;o.setUsersGroupsLoader({key:i,value:!0});let s=D_;o.setGroupsState({groups:s}),o.setUsersGroupsLoader({key:i,value:!1})}),o.createGroup=i=>l(null,null,function*(){var s;let c=ze.CREATE_GROUP,{groups:a}=e.auth.groupsState;o.setUsersGroupsLoader({key:c,value:!0}),yield Y(500),o.setGroupsState({groups:[y({},i,{id:`${i.name}ID`,managedBy:lt.FRONTEGG}),...a??[]]}),i==null||(s=i.callback)==null||s.call(i,!0),o.setUsersGroupsLoader({key:c,value:!1})}),o.updateGroup=i=>l(null,null,function*(){var s,c,a,u,d;let p=ze.UPDATE_GROUP,g=e.auth.groupsState;o.setUsersGroupsLoader({key:p,value:!0}),yield Y(500),o.setGroupsState({groups:g==null||(s=g.groups)==null?void 0:s.map(f=>{var h;return f.id===i.groupId?y({},i,{id:i.groupId,name:(h=i?.name)!=null?h:"",managedBy:lt.FRONTEGG}):f}),selectedGroup:y({},g?.selectedGroup,{name:(c=i?.name)!=null?c:"",color:(a=i?.color)!=null?a:"",description:(u=i?.description)!=null?u:""})}),i==null||(d=i.callback)==null||d.call(i,!0),o.setUsersGroupsLoader({key:p,value:!1})}),o.deleteGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.filter(d=>d.id!==i.groupId)}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.addRolesToGroup=i=>l(null,null,function*(){var s,c;let a=ze.ADD_ROLES_TO_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{roles:[...(p=d?.roles)!=null?p:[],...i.roleIds.map(g=>({id:g,name:g}))]}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.deleteRolesFromGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_ROLES_FROM_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{roles:d==null||(p=d.roles)==null?void 0:p.filter(g=>!i.roleIds.includes(g.id))}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.addUsersToGroup=i=>l(null,null,function*(){var s,c;let a=ze.ADD_USERS_TO_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{users:[...(p=d?.users)!=null?p:[],...i.userIds.map(g=>({id:g,name:g}))]}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.deleteUsersFromGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_USERS_FROM_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{users:d==null||(p=d.users)==null?void 0:p.filter(g=>!i.userIds.includes(g.id))}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.getGroupConfiguration=()=>l(null,null,function*(){let i=ze.GET_GROUP_CONFIGURATION,{groupsConfiguration:s}=e.auth.groupsState;o.setUsersGroupsLoader({key:i,value:!0}),s&&o.setGroupsState({groupsConfiguration:y({},s)}),o.setUsersGroupsLoader({key:i,value:!1})}),o.updateGroupConfiguration=i=>l(null,null,function*(){let s=ze.UPDATE_GROUP_CONFIGURATION,{groupsConfiguration:c}=e.auth.groupsState;o.setUsersGroupsLoader({key:s,value:!0}),c&&o.setGroupsState({groupsConfiguration:y({},c,i)}),o.setUsersGroupsLoader({key:s,value:!1})}),o};var F_=(e,n,t)=>{let r=Jc(e,n,t);return J(r,["setImpersonateState","resetImpersonateState"])};var U_=(e,n,t)=>{let r=t,o=Xc(e,n,r),i=J(o,["setLoginState","resetLoginState","afterAuthNavigation"]);return i.requestAuthorize=s=>l(null,null,function*(){s&&r.setAuthState({isLoading:!0});let c=Bn;yield r.loadTenants(),r.setAuthState({user:c,isAuthenticated:!0,isLoading:!1})}),i.getUserIP=s=>l(null,null,function*(){let{callback:c}=s;try{let{ip:a}=Gl[0];yield r.setAuthState({userIpData:{ip:a},userIp:a}),c?.(!0,a)}catch(a){c?.(!1,a)}}),i};var mV=["callback"],vV=["callback"],j_=(e,n,t)=>{let r=t,o=el(e,n,r),i=J(o,["setMfaState","resetMfaState"]);return i.enrollMfa=()=>l(null,null,function*(){i.setMfaState({saving:!0}),i.setMfaState({saving:!1,error:void 0,qrCode:"test"})}),i.verifyMfa=s=>l(null,null,function*(){let{callback:c}=s,a=V(s,mV),{mfaDevices:u={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y();let d={token:"token",recoveryCode:"recoveryCode"},p={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:y({},u,{authenticators:[{id:"authenticator-id"}]})};d!=null&&d.recoveryCode&&(p.recoveryCode=d.recoveryCode),i.setMfaState(p),r.setUser(y({},Bn,{mfaEnrolled:!0})),c?.(p.recoveryCode)}),i.disableMfa=s=>l(null,null,function*(){var c;let{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({saving:!1,error:void 0,mfaDevices:y({},a,{authenticators:[]})}),r.setUser(y({},Bn)),(c=s.callback)==null||c.call(s,!0)}),i.verifyMfaAfterForce=s=>l(null,null,function*(){let{callback:c}=s,a=V(s,vV);i.setMfaState({loading:!0}),yield Y();let u=y({},a,{recoveryCode:"recoveryCode"}),d={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1};u!=null&&u.recoveryCode&&(d.recoveryCode=u.recoveryCode),i.setMfaState(d),yield Y(),r.setUser(y({},Bn,{mfaEnrolled:!0})),c?.(d.recoveryCode)}),i.preDisableMfaSms=s=>l(null,null,function*(){i.setMfaState({saving:!0});try{var c;i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),(c=s.callback)==null||c.call(s,!0)}catch(u){var a;i.setMfaState({saving:!1,error:_(u)}),(a=s.callback)==null||a.call(s,!1,u)}}),i.disableMfaSms=s=>l(null,null,function*(){var c;let{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({loading:!1,error:void 0,mfaDevices:y({},a,{phones:[]})}),r.setUser(y({},Bn)),(c=s.callback)==null||c.call(s,!0)}),i.preEnrollMfaSms=s=>l(null,null,function*(){var c;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),(c=s.callback)==null||c.call(s,!0)}),i.enrollMfaSms=s=>l(null,null,function*(){let{callback:c}=s,{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y();let u={token:"token",recoveryCode:"recoveryCode"},d={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:y({},a,{phones:[{id:"phone-id",phoneNumber:"+972504589346"}]})};u!=null&&u.recoveryCode&&(d.recoveryCode=u.recoveryCode),i.setMfaState(d),r.setUser(y({},Bn,{mfaEnrolled:!0})),c?.(d.recoveryCode)}),i};var V_=(e,n,t)=>{let r=al(e,n,t);return J(r,["setPasskeysState","resetPasskeysState"])};var yV=["callback","profilePictureUrl"],$_=(e,n,t)=>{let r=cl(e,n,t),o=J(r,["setProfileState","resetProfileState"]);return o.loadProfile=()=>l(null,null,function*(){o.setProfileState({loading:!0}),yield Y(),t.setUser(y({},Bn,Vl)),o.setProfileState({loading:!1,profile:Vl})}),o.saveProfile=i=>l(null,null,function*(){let{callback:s,profilePictureUrl:c}=i,a=V(i,yV);o.setProfileState({saving:!0,error:null});let u=w_,d=u.profile.profilePictureUrl;c!==u.profile.profilePictureUrl&&c&&(c||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)&&(d=c);let p=y({},u.profile,a,{profilePictureUrl:d}),g=Bn;yield Y(),t.setUser(y({},g,p)),o.setProfileState({loading:!1,error:null,saving:!1,profile:p}),s?.(p)}),o.changePassword=i=>l(null,null,function*(){var s;o.setProfileState({loading:!0}),yield Y(),o.setProfileState({loading:!1,error:void 0}),(s=i.callback)==null||s.call(i,!0)}),o.updateEmail=i=>l(null,null,function*(){var s;o.setProfileState({saving:!0,error:null,loading:!0}),yield Y(),o.setProfileState({saving:!1,error:null,loading:!1}),(s=i.callback)==null||s.call(i,!0)}),o.verifyEmail=i=>l(null,null,function*(){var s;o.setProfileState({saving:!0,error:null,loading:!0}),yield Y(),o.setProfileState({saving:!1,error:null,loading:!1}),(s=i.callback)==null||s.call(i,!0)}),o};var B_=(e,n,t)=>{let r=ll(e,n,t);return J(r,["setProvisioningState","resetProvisioningState"])};var H_=(e,n,t)=>{let r=ul(e,n,t);return J(r,["setResetPhoneNumberState","resetResetPhoneNumberState"])};var G_=(e,n,t)=>{let r=dl(e,n,t),o=J(r,["setRolesState","setRolesStateError","setRolesStateLoader","resetRolesState"]);return o.loadRolesAndPermissions=i=>l(null,null,function*(){var s;let c=nn.LOAD_ROLES;o.setRolesStateLoader({key:c,value:!((s=i?.silentLoading)!=null&&s)});try{o.setRolesState({roles:lo})}catch(a){o.setRolesStateError({key:c,value:_(a)})}finally{o.setRolesStateLoader({key:c,value:!1})}}),o};var SV=["callback"],bV=["callback"],wV=["callback"],AV=["callback"],W_=(e,n,t)=>{let r=fl(e,n,t),o=J(r,["setRestrictionsState","setIpRestrictionsState","setEmailDomainRestrictionsState"]);return o.loadIpRestrictions=()=>l(null,null,function*(){o.setIpRestrictionsState({loading:!0,error:null}),o.setIpRestrictionsState({data:{restrictions:Gl.filter(i=>i.strategy===PS.strategy),config:PS},totalPages:1,pagination:{_filter:He.ALLOW,_limit:50,_offset:0},loading:!1})}),o.loadEmailDomainRestrictions=()=>l(null,null,function*(){o.setEmailDomainRestrictionsState({loading:!0,error:null}),o.setEmailDomainRestrictionsState({loading:!1,data:{restrictions:[{domain:"mock.com",id:"1",type:He.ALLOW}],config:{active:!0,listType:He.ALLOW,blockPublicDomains:!1}}})}),o.saveIpRestriction=i=>l(null,null,function*(){var s,c,a;let{callback:u}=i,d=V(i,SV);o.setIpRestrictionsState({saving:!0,error:null});let p=e.auth.restrictionsState.ipRestrictions,g=p.data.restrictions.filter(f=>f.ip!==d.ip);o.setIpRestrictionsState({data:{config:(s=(c=p.data)==null?void 0:c.config)!=null?s:{isActive:!1,strategy:He.ALLOW},restrictions:[...g,y({},d,{createdAt:new Date,updatedAt:new Date,id:fo(),isActive:(a=d.isActive)!=null?a:!0,strategy:p.data.config.strategy})]},totalPages:1,pagination:{_filter:He.ALLOW,_limit:50,_offset:0},saving:!1}),u?.(!0)}),o.saveIpRestrictionsConfig=i=>l(null,null,function*(){var s,c,a;let{callback:u}=i,d=V(i,bV),p=e.auth.restrictionsState.ipRestrictions;o.setIpRestrictionsState({saving:!0,error:null}),o.setIpRestrictionsState({data:{config:y({},(s=p.data)==null?void 0:s.config,d),restrictions:(c=(a=p.data)==null?void 0:a.restrictions)!=null?c:[]},pagination:{_filter:He.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1}),o.setIpRestrictionsState({saving:!1,error:null}),u?.(!0)}),o.deleteIpRestriction=i=>l(null,null,function*(){var s;let{callback:c,id:a}=i;o.setIpRestrictionsState({saving:!0,error:null});let u=e.auth.restrictionsState.ipRestrictions;o.setIpRestrictionsState({data:{config:((s=u.data)==null?void 0:s.config)||{isActive:!1,strategy:He.ALLOW},restrictions:u.data.restrictions.filter(d=>d.id!==a)},pagination:{_filter:He.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1,error:null}),c?.(!0)}),o.checkIfUserIpValid=()=>l(null,null,function*(){o.setIpRestrictionsState({loading:!0,error:null});try{let i=e.auth.restrictionsState.ipRestrictions,s=Gl[0].ip,c=!!i.data.restrictions.find(a=>a.isActive&&a.ip===s);o.setIpRestrictionsState({userIpValid:c,loading:!1})}catch(i){o.setIpRestrictionsState({error:_(i),loading:!1})}}),o.saveEmailDomainRestriction=i=>l(null,null,function*(){var s,c;let{callback:a}=i,u=V(i,wV),d=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),a?.(!0),o.setEmailDomainRestrictionsState({data:{config:((s=d.data)==null?void 0:s.config)||{active:!1,blockPublicDomains:!1,listType:u.type},restrictions:[...((c=d.data)==null?void 0:c.restrictions)||[],y({},u,{id:Date.now().toString()})]},saving:!1})}),o.saveEmailDomainRestrictionsConfig=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,AV),u=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),c?.(!0),o.setEmailDomainRestrictionsState({data:{config:{active:a.active,blockPublicDomains:a.blockPublicDomains||!1,listType:a.type||He.ALLOW},restrictions:[...((s=u.data)==null?void 0:s.restrictions)||[]]},saving:!1})}),o.deleteEmailDomainRestriction=i=>l(null,null,function*(){var s,c;let{id:a}=i,u=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),o.setEmailDomainRestrictionsState({data:{config:((s=u.data)==null?void 0:s.config)||{active:!1,blockPublicDomains:!1,listType:He.ALLOW},restrictions:(((c=u.data)==null?void 0:c.restrictions)||[]).filter(d=>d.id===a)},saving:!1})}),o};var z_=(e,n,t)=>{let r=pl(e,n,t),o=J(r,["setSecurityCenterState","setSecurityCenterStateError","setSecurityCenterStateLoader","resetSecurityCenterState"]);return o.loadRecommendations=()=>l(null,null,function*(){let i=Et.RECOMMENDATIONS;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({recommendations:RS.recommendations.items,score:RS.scoring.score}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadInsights=()=>l(null,null,function*(){let i=Et.INSIGHTS;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({insights:I_.insights.items}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadBreachedPasswordUsers=()=>l(null,null,function*(){let i=Et.BREACHED_PASSWORD_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({breachedPasswordUsersTable:C_}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadUnenrolledMfaUsers=()=>l(null,null,function*(){let i=Et.UNENROLLED_MFA_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({unenrolledMfaUsersTable:T_}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadInactiveUsers=()=>l(null,null,function*(){let i=Et.INACTIVE_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({inactiveUsersTable:__}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.sendResetBreachedPasswordEmail=i=>l(null,null,function*(){let{callback:s}=i,c=Et.SEND_BREACHED_PASSWORD_EMAIL;o.setSecurityCenterStateLoader({key:c,value:!0}),yield Y(),s?.(!0),o.setSecurityCenterStateLoader({key:c,value:!1})}),o};var EV=["callback"],DV=["callback"],IV=["callback"],q_=(e,n,t)=>{let r=hl(e,n,t),o=J(r,["setSecurityPolicyState","setSecurityPolicyGlobalState","setSecurityPolicyPublicState","setSecurityPolicyMfaState","setSecurityPolicyVendorMfaState","setSecurityPolicyLockoutState","setSecurityPolicyVendorLockoutState","setSecurityPolicyCaptchaState","setSecurityPolicyPasswordHistoryState","setSecurityPolicyVendorPasswordHistoryState","resetSecurityPolicyState","setSecurityPolicyPasswordState","setSecurityPolicyAuthStrategyPublicState"]);return o.loadSecurityPolicy=()=>l(null,null,function*(){o.setSecurityPolicyGlobalState({loading:!0,error:null}),yield Promise.all([o.loadSecurityPolicyMfa(),o.loadSecurityPolicyVendorMfa(),o.loadSecurityPolicyLockout(),o.loadSecurityPolicyVendorLockout(),o.loadSecurityPolicyPasswordHistory(),o.loadSecurityPolicyVendorPasswordHistory(),o.loadSecurityPolicyCaptcha()]),yield Y(),o.setSecurityPolicyGlobalState({policy:A_,loading:!1})}),o.loadPublicSecurityPolicy=()=>l(null,null,function*(){o.setSecurityPolicyPublicState({loading:!0,error:null});try{o.setSecurityPolicyPublicState({policy:E_,loading:!1})}catch(i){o.setSecurityPolicyPublicState({error:_(i),loading:!1})}}),o.saveSecurityPolicyMfa=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,EV);o.setSecurityPolicyMfaState({saving:!0,error:null});let u=y({},uo,{id:(s=a.id)!=null?s:uo.id,enforceMFAType:a.enforceMFAType});yield Y(),o.setSecurityPolicyMfaState({policy:u,saving:!1}),c?.(u)}),o.loadSecurityPolicyMfa=()=>l(null,null,function*(){o.setSecurityPolicyMfaState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyMfaState({policy:ES,loading:!1})}),o.loadSecurityPolicyVendorMfa=()=>l(null,null,function*(){o.setSecurityPolicyVendorMfaState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorMfaState({policy:ES,loading:!1})}),o.saveSecurityPolicyLockout=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,DV);o.setSecurityPolicyLockoutState({saving:!0,error:null}),yield Y();let a=y({},uo,c,{id:c.id?c.id:uo.id});s?.(a),o.setSecurityPolicyLockoutState({policy:a,saving:!1})}),o.loadSecurityPolicyLockout=()=>l(null,null,function*(){o.setSecurityPolicyLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyLockoutState({policy:uo,loading:!1})}),o.loadSecurityPolicyVendorLockout=()=>l(null,null,function*(){o.setSecurityPolicyVendorLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorLockoutState({policy:uo,loading:!1})}),o.loadSecurityPolicyCaptcha=()=>l(null,null,function*(){o.setSecurityPolicyLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyLockoutState({policy:uo,loading:!1})}),o.saveSecurityPolicyPasswordHistory=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,IV);o.setSecurityPolicyPasswordHistoryState({saving:!0,error:null}),yield Y();let a=y({},$l,c,{id:c.id?c.id:$l.id});s?.(a),o.setSecurityPolicyPasswordHistoryState({policy:a,saving:!1})}),o.loadSecurityPolicyPasswordHistory=()=>l(null,null,function*(){o.setSecurityPolicyPasswordHistoryState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyPasswordHistoryState({policy:$l,loading:!1})}),o.loadSecurityPolicyVendorPasswordHistory=()=>l(null,null,function*(){o.setSecurityPolicyVendorPasswordHistoryState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorPasswordHistoryState({policy:$l,loading:!1})}),o};var CV=["callback"],Y_=(e,n,t)=>{let r=gl(e,n,t),o=J(r,["setSessionsPolicyState","resetSessionsPolicyState"]);return o.loadSessionsPolicy=()=>l(null,null,function*(){o.setSessionsPolicyState({loading:!0,error:null});let i=e.auth.sessionsPolicyState;o.setSessionsPolicyState(y({},i,{loading:!1}))}),o.createOrUpdateSessionsPolicy=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,CV);o.setSessionsPolicyState({loading:!0,error:null}),s?.(!0),o.setSessionsPolicyState({configurations:c,loading:!1})}),o};var Z_=(e,n,t)=>{let r=ml(e,n,t),o=J(r,["setSessionsState","resetSessionsState"]);return o.loadUserSessions=()=>l(null,null,function*(){o.setSessionsState({loading:!0,error:null}),o.setSessionsState({sessions:MS,loading:!1})}),o.deleteUserSession=i=>l(null,null,function*(){let{id:s}=i;o.setSessionsState({loading:!0,error:null});let a=e.auth.sessionsState.sessions.filter(u=>u.id!==s);o.setSessionsState({sessions:a,loading:!1})}),o.deleteAllUserSessions=()=>l(null,null,function*(){o.setSessionsState({loading:!0,error:null});let i=MS.filter(s=>s.current);o.setSessionsState({sessions:i,loading:!1})}),o};var K_=(e,n,t)=>{let r=vl(e,n,t);return J(r,["setSignUpState","resetSignUpState","resetSignUpStateSoft"])};var Q_=(e,n,t)=>{let r=yl(e,n,t);return J(r,["setSmsState","resetSmsState"])};var J_=(e,n,t)=>{let r=Sl(e,n,t);return J(r,["setSocialLoginsState","resetSocialLoginsState","setSocialLoginError"])};var _V=["callback","samlVendor"],X_=(e,n,t)=>{let r=bl(e,n,t),o=J(r,["setSSOState","resetSSOState"]);return o.loadSSOConfigurations=()=>l(null,null,function*(){o.setSSOState({loading:!0}),yield Y(),o.setSSOState({samlConfiguration:DS,loading:!1,firstLoad:!1})}),o.saveSSOConfigurations=i=>l(null,null,function*(){var s,c;let{callback:a,samlVendor:u}=i,d=V(i,_V),p=IS.samlConfiguration,g=y({},p,d),f="saving";if(g?.enabled!==p.enabled&&(f="loading"),!(g!=null&&g.domain)){o.setSSOState({samlConfiguration:y({},p,g)});return}else o.setSSOState({error:void 0,[f]:!0});yield Y(),g.acsUrl=Bl==null||(s=Bl.configuration)==null?void 0:s.acsUrl,g.spEntityId=Bl==null||(c=Bl.configuration)==null?void 0:c.spEntityId;let v=xc(g,["validated","generatedVerification","createdAt","updatedAt"]);p?.domain!==v?.domain&&(v.ssoEndpoint="",v.publicCertificate="",v.signRequest=!1),v.type=u?.toLowerCase(),yield Y(),o.setSSOState({samlConfiguration:v,error:void 0,[f]:!1}),a?.(!0)}),o.saveSSOConfigurationsFile=i=>l(null,null,function*(){let s="saving";o.setSSOState({error:void 0,[s]:!0});let c=e.auth.ssoState.samlConfiguration,a=y({},c,{enabled:!0},i[0]);o.setSSOState({samlConfiguration:a,error:void 0,[s]:!1})}),o.validateSSODomain=i=>l(null,null,function*(){let{callback:s}=i??{},c=IS.samlConfiguration;o.setSSOState({error:void 0,saving:!0}),yield Y(),o.setSSOState({samlConfiguration:y({},c,{validated:!0}),error:void 0,saving:!1}),s?.(!0)}),o.loadSSOAuthorizationRoles=()=>l(null,null,function*(){yield Y();let i={roleIds:["1","2","3"]};o.setSSOState({authorizationRoles:i.roleIds,error:void 0})}),o.updateSSOAuthorizationRoles=i=>l(null,null,function*(){let{callback:s,authorizationRoles:c}=i;o.setSSOState({error:void 0,saving:!0}),yield Y(),o.setSSOState({authorizationRoles:c,error:void 0,saving:!1}),s?.(!0)}),o};var eT=(e,n,t)=>{let r=wl(e,n,t);return J(r,["setStepUpState","resetStepUpState"])};var TV=["callback"],xV=["callback"],MV=["callback","profileImage"],PV=["callback"],RV=["callback"],OV=["callback"],NV=["callback"],kV=["callback"],LV=["callback"],FV=["callback"],UV=["callback"],tT=(e,n,t)=>{let r=Al(e,n,t),o=J(r,["setTeamState","resetTeamState","setTeamLoader","setTeamError","openAddUserDialog","closeAddUserDialog","openDeleteUserDialog","closeDeleteUserDialog"]);return o.loadUsersV3=i=>l(null,null,function*(){var s,c,a,u;let{silentLoading:d,callback:p}=i,g=e.auth.teamState,f=(s=i.pageSize)!=null?s:g.pageSize,h=(c=i.pageOffset)!=null?c:g.pageOffset,v=(a=i.filter)!=null?a:g.filterV2,S=(u=i.sort)!=null?u:g.sortV2;o.setTeamLoader({key:ce.USERS,value:!d}),o.setTeamState({pageSize:f,pageOffset:h,filterV2:v,sortV2:S});let D=2,T=10;yield Y(),o.setTeamState({users:CS,totalPages:D,totalItems:T,roles:Gs,permissions:Hl}),o.setTeamLoader({key:ce.USERS,value:!1}),p?.(CS)}),o.loadAllSubTenantsUsers=i=>l(null,null,function*(){var s,c,a,u,d;let{silentLoading:p,callback:g}=i,f=e.auth.teamState,h=(s=i._limit)!=null?s:f.allUsersQueryParams._limit,v=(c=i._offset)!=null?c:f.allUsersQueryParams._offset,S=(a=i._filter)!=null?a:f.allUsersQueryParams._filter,D=(u=i._sortBy)!=null?u:f.allUsersQueryParams._sortBy,T=(d=i._order)!=null?d:f.allUsersQueryParams._order;o.setTeamLoader({key:ce.USERS,value:!p}),o.setTeamState({allUsersQueryParams:{_limit:h,_offset:v,_filter:S,_sortBy:D,_order:T}});let m=2,E=10;yield Y(),o.setTeamState({allUsers:TS,totalPages:m,totalItems:E,roles:Gs,permissions:Hl}),o.setTeamLoader({key:ce.USERS,value:!1}),g?.(TS)}),o.loadRoles=i=>l(null,null,function*(){var s;o.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0}),yield Y(),o.setTeamState({roles:Gs,permissions:Hl}),o.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0}),i==null||(s=i.callback)==null||s.call(i,{roles:Gs,permissions:Hl})}),o.addUser=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,TV),a=e.auth.teamState;o.setTeamState({addUserDialogState:y({},a.addUserDialogState,{loading:!0})}),yield Y();let u=new Date,d=y({},co,{groups:[]},c,{id:`${fo()}`,temporaryExpirationDate:c.expirationInSeconds?new Date(u.setSeconds(u.getSeconds()+c.expirationInSeconds)):void 0});s?.(d),o.setTeamState({users:[d,...a.users],addUserDialogState:{open:!1,loading:!1}})}),o.addUserToSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,xV),a=e.auth.teamState;o.setTeamState({addUserDialogState:y({},a.addUserDialogState,{loading:!0})}),yield Y();let u=y({},co,c,{id:`${fo()}`});o.setTeamState({users:[u,...a.users],addUserDialogState:{open:!1,loading:!1}}),s?.(null)}),o.updateUser=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,MV),{id:u}=a,d=e.auth.teamState,p=d.users.find(f=>f.id===a.id);o.setTeamLoader({key:ce.UPDATE_USER,value:u||""}),o.setTeamState({addUserDialogState:y({},d.addUserDialogState,{loading:!0})}),o.setTeamState({addUserDialogState:y({},d.addUserDialogState,{loading:!0}),users:d.users.map(f=>f.id===a.id?y({},f,a):f)}),p.roleIds.length>0&&((s=a.roleIds)==null?void 0:s.length)===0&&(a.roleIds=[""]),yield Y();let g=y({},p,a);c?.(g),o.setTeamState({users:d.users.map(f=>f.id===g.id?y({},f,g,{createdAt:f.createdAt,customData:f.customData,lastLogin:f.lastLogin}):f)}),o.setTeamLoader({key:ce.UPDATE_USER,value:!1})}),o.deleteUser=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,PV),a=e.auth.teamState;o.setTeamState({deleteUserDialogState:y({},a.deleteUserDialogState,{loading:!0})}),yield Y(),s?.(!0),o.setTeamState({users:a.users.filter(u=>u.id!==c.userId),deleteUserDialogState:{open:!1,loading:!1}})}),o.updateUserExpirationTime=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,RV),a=e.auth.teamState;o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});let u=new Date;o.setTeamState({users:a.users.map(d=>d.id===c.userId?y({},d,{temporaryExpirationDate:c.expirationInSeconds?new Date(u.setSeconds(u.getSeconds()+c.expirationInSeconds)):void 0}):d)}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}),o.setUserAsPermanent=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,OV),a=e.auth.teamState;o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0}),o.setTeamState({users:a.users.map(u=>u.id===c.userId?y({},u,{temporaryExpirationDate:void 0}):u)}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}),o.deleteUserFromSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,NV),a=e.auth.teamState;o.setTeamState({deleteUserDialogState:y({},a.deleteUserDialogState,{loading:!0})}),yield Y(),s?.(!0),o.setTeamState({allUsers:a.allUsers.filter(u=>u.id!==c.userId),deleteUserDialogState:{open:!1,loading:!1}})}),o.resendActivationLink=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,kV);o.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:c.userId}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:!1})}),o.resendInvitationLink=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,LV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o.resendInvitationEmail=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,FV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o.resendInvitationLinkToAllSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,UV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o};var nT=(e,n,t)=>{let r=El(e,n,t),o=J(r,["setTenantsState","resetTenantsState"]);return o.loadTenants=()=>l(null,null,function*(){o.setTenantsState({loading:!0}),o.setTenantsState({tenants:xS,activeTenant:xS[0],loading:!1})}),o};var rT=(e,n,t)=>{let r=Gc(e,n,t);return J(r,["setUnlockAccountState","resetUnlockAccountState"])};var oT=(e,n,t)=>{let r=Il(e,n,t);return J(r,["setUserEmailPolicyState"])};var jV=["requestName"],iT=(e,n,t,r)=>{let o=v_(e,n,t),i=y_(e,n,t),s=rT(e,n,t),c=S_(e,n,t),a=b_(e,n,t),u=sl(e,n,t),d=M_(e,n,t),p=P_(e,n,t),g=R_(e,n,t),f=O_(e,n,t),h=N_(e,n,t),v=k_(e,n,t),S=L_(e,n,t),D=Qc(e,n,t),T=F_(e,n,t),m=U_(e,n,t),E=j_(e,n,t),w=V_(e,n,t),I=$_(e,n,t),A=B_(e,n,t),M=H_(e,n,t),O=W_(e,n,t),L=G_(e,n,t),x=z_(e,n,t),N=q_(e,n,t),k=Z_(e,n,t),P=Y_(e,n,t),F=K_(e,n,t),C=Q_(e,n,t),R=J_(e,n,t),U=X_(e,n,t),G=eT(e,n,t),z=tT(e,n,t),W=nT(e,n,t),$=Dl(e,n,t),B=oT(e,n,t),te={acceptInvitationActions:o,accountSettingsActions:i,unlockAccountActions:s,activateAccountActions:c,allAccountsActions:a,allAccountsDialogActions:u,apiTokensActions:d,applicationsActions:p,customLoginActions:g,entitlementsActions:f,forgotPasswordActions:h,passwordRotationActions:v,groupsActions:S,groupsDialogsActions:D,impersonateActions:T,loginActions:m,mfaActions:E,passkeysActions:w,profileActions:I,provisioningActions:A,resetPhoneNumberActions:M,restrictionsActions:O,rolesActions:L,securityCenterActions:x,securityPolicyActions:N,sessionsActions:k,sessionsPolicyActions:P,signUpActions:F,smsActions:C,socialLoginActions:R,ssoActions:U,stepUpActions:G,teamActions:z,tenantsActions:W,usernamesActions:$,usersEmailsPolicyActions:B},ae=Ue=>{Object.keys(Ue).forEach(H=>{let j=H;Mc(e.auth[j])?Object.assign(e.auth[j],Ue[j]):e.auth[j]=Ue[j]})};return{authActions:y({setState:ae,setAuthState:ae,setErrorByRequestName:Ue=>{let{requestName:H}=Ue,j=V(Ue,jV);e.auth.errorByRequest=y({},e.auth.errorByRequest,{[H]:y({},j,{isError:!0})})},resetAuthState:()=>{Q(e,["auth"],r)},setUser:Ue=>{ae({user:Ue})}},o,i,c,s,a,u,d,p,g,f,h,v,S,D,T,m,E,w,I,A,M,O,L,x,N,k,P,F,C,R,U,G,z,W,$,B),authStateActions:te}};var VV=(e,n)=>(t,r)=>t[e]>r[e]?n?-1:1:r[e]>t[e]?n?1:-1:0,$V=e=>n=>e.filter(BV).every(t=>n[t.id].includes(t.value)),BV=e=>e.id!=="createdAt",sT=(e,n)=>{let{data:t}=GV,r=t.filter($V(e));if(n.length){let{id:o,desc:i=!1}=n[0];r=r.sort(VV(o,i))}return{data:r,total:r.length}},HV=()=>{switch(Math.floor(Math.random()*6)){case 0:return{action:"Updated profile",description:"User updated profile details",severity:"Info"};case 1:return{action:"User logged in",severity:"Info",description:"User logged in to the product"};case 2:return{action:"User failed to login",severity:"High",description:"User failed to login with password"};case 3:return{action:"Added user",severity:"Info",description:"Added user david+535@frontegg.com to tenant"};case 4:return{action:"Assigned roles",severity:"Info",description:"Assigned 0 roles for user"};case 5:return{action:"Removed user david+108@frontegg.com from account",severity:"Info",description:"Removed access from the account for user david+108@frontegg.com"}}},GV={total:20,data:Array.from(Array(5).keys()).map(e=>y({ip:"198.143.51.1",user:"Demo User Name",email:"demo-user@frontegg.com"},HV(),{json:{key1:"value1",key2:"value2",key3:"value3",key4:"value4"},tenantId:"my-tenant-id",vendorId:"my-vendor-id",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36",createdAt:`2022-04-07 10:${50-e}:40.201`}))},aT={properties:[{showInTable:!0,name:"createdAt",displayName:"Time",type:"Timestamp",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!1},{showInTable:!0,name:"email",displayName:"User",type:"Email",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"action",displayName:"Action",type:"AlphaNumeric",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!0,name:"description",type:"AlphaNumeric",sortable:!1,filterable:!1,displayName:"Description",isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"ip",displayName:"IP Address",type:"IpAddress",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"severity",displayName:"Severity",type:"Severity",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"userAgent",displayName:"User Agent",type:"AlphaNumeric",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!1,name:"json",type:"Json",sortable:!0,filterable:!0,displayName:"Json Data",showInMoreInfo:"Always",isPredefined:!1}]};var cT=(e,n,t)=>{let r=Fl(e,n,t),o=J(r,["setAuditLogsState","resetAuditLogsState"]);return o.loadAuditLogs=i=>l(null,null,function*(){o.setAuditLogsState({loading:!i.silentLoading,error:null});let s=e.auditLogs.auditLogsState,{columns:c}=e.auditLogs.auditsMetadataState;try{var a,u,d,p,g;let h=(a=i.pageSize)!=null?a:s.pageSize,v=(u=i.pageOffset)!=null?u:s.pageOffset,S=(d=i.filter)!=null?d:s.filter,D=(p=i.sort)!=null?p:s.sort;o.setAuditLogsState({pageSize:h,pageOffset:v,filter:S,sort:D}),c||(yield t.loadAuditsMetadata());let{data:T,total:m}=sT(S,D);o.setAuditLogsState({loading:!1,logs:T??[],totalPages:+Math.ceil(m/h)}),i==null||(g=i.callback)==null||g.call(i,!0)}catch(h){var f;o.setAuditLogsState({loading:!1,error:_(h)}),i==null||(f=i.callback)==null||f.call(i,null,h)}}),o};var lT=(e,n,t)=>{let r=Ul(e,n,t),o=J(r,["setAuditsMetadataState","resetAuditsMetadataState"]);return o.loadAuditsMetadata=()=>l(null,null,function*(){o.setAuditsMetadataState({loading:!0,error:null});try{let{properties:i}=aT;o.setAuditsMetadataState({columns:i,loading:!1})}catch(i){o.setAuditsMetadataState({error:i,loading:!1})}}),o};var uT=(e,n,t)=>{let r=cT(e,n,t),o=lT(e,n,t);return y({},r,o)};var dT=(e,n,t)=>{let r=Bs(e,n,t);return J(r,["setConnectivityState","resetConnectivityState","initData","resetConnectivityState","cleanWebhookTestData","cleanWebhookLogsData","cleanWebhookTestMessage","cleanError","cleanSlackData"])};var fT=(e,n,t)=>{let r=Tl(e,n,t),o=J(r,["setPaymentConfigState","resetPaymentConfigState"]);return o.loadPaymentConfiguration=()=>l(null,null,function*(){o.setPaymentConfigState({loading:!0}),yield Y(500),o.setPaymentConfigState({loading:!1,fetching:!1,config:{paymentProvider:gi.STRIPE,apiKey:""}})}),o};var cp={id:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",externalId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",startDate:"2021-09-20T08:08:51.000Z",status:St.ACTIVE,externallyManaged:!1,cancellation:null,currentPeriodStart:"2021-09-20T08:08:51.000Z",currentPeriodEnd:"2021-10-20T08:08:51.000Z",plan:{slug:"test"}},po=[{id:"prod_J60fUEvI7qV1eL",externalId:"prod_J60fUEvI7qV1eL",name:"Premium",description:"",price:{id:"price_1IToe8Ewsu4qiqnndAV76J69",externalId:"price_1IToe8Ewsu4qiqnndAV76J69",currency:"usd",amount:1e4},slug:"premium"},{id:"prod_J60duauCpXfcur",externalId:"prod_J60duauCpXfcur",name:"Free",description:"Totally free plan. Nothing to pay.",price:{id:"price_1ITocfEwsu4qiqnnnBHDx9fQ",externalId:"price_1ITocfEwsu4qiqnnnBHDx9fQ",currency:"usd",amount:0},slug:"free"}],pT=[{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-09-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""},{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-08-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""}],hT=[{id:"id",externalId:"externalId",type:Yo.CARD,isDefault:!0,last4:"4242",expMonth:11,expYear:25,brand:"visa",billingDetails:{name:"Dummy",email:"dummy@email.com"}}],gT={allowPlanDowngrade:!0,allowPlanCancellation:!0};var mT=(e,n,t)=>{let r=xl(e,n,t),o=J(r,["setBillingInformationState","resetBillingInformationState"]);return o.loadBillingInformation=()=>l(null,null,function*(){var i,s;o.setBillingInformationState({loading:!0}),yield Y(500),o.setBillingInformationState({loading:!1,fetching:!1,summary:{subscriptionId:cp.id,paymentMethodId:"mockPaymentMethodId",tenantConfigurationId:"mockTenantConfigurationId",providerType:xr.Stripe,externallyManaged:!1,currentPlanId:po[0].id,defaultPlanId:po[0].id},plan:y({},po[0],{price:(i=po[0].price)==null?void 0:i.amount,currency:(s=po[0].price)==null?void 0:s.currency,recurringInterval:"month"})})}),o};var vT=(e,n,t)=>{let r=Pl(e,n,t),o=J(r,["setBillingPaymentMethodState","resetBillingPaymentMethodState"]);return o.loadPaymentMethod=()=>l(null,null,function*(){o.setBillingPaymentMethodState({loading:!0}),yield Y(500),o.setBillingPaymentMethodState({paymentMethod:hT[0],loading:!1,fetching:!1})}),o};var yT=(e,n,t)=>{let r=Ml(e,n,t),o=J(r,["setBillingInvoiceState","resetBillingInvoiceState"]);return o.loadBillingInvoices=()=>l(null,null,function*(){o.setBillingInvoiceState({loading:!0}),yield Y(500);let i="Premium";o.setBillingInvoiceState({loading:!1,fetching:!1,invoices:pT.map(s=>y({},s,{selectedPlan:i,paymentDate:new Date(Date.parse(s.paymentDate)),totalAmount:+((s.totalAmount||0)/100).toFixed(2)}))})}),o.loadInvoices=o.loadBillingInvoices,o};var ST=(e,n,t)=>{let r=Rl(e,n,t),o=J(r,["setBillingSubscriptionState","resetBillingSubscriptionState","setCancellationLoading","setCancellationError","setRenewalLoading","setRenewalError"]);return o.loadSubscription=()=>l(null,null,function*(){o.setBillingSubscriptionState({loading:!0}),yield Y(500),o.setBillingSubscriptionState({subscription:cp,fetching:!1,loading:!1,error:null})}),o};var bT=(e,n,t)=>{let r=mT(e,n,t),o=vT(e,n,t),i=yT(e,n,t),s=ST(e,n,t);return[y({},r,o,i,s),{information:r,invoices:i,paymentMethod:o,subscription:s}]};var wT=(e,n,t)=>{let r=Ol(e,n,t),o=J(r,["setPlansState","resetPlansState"]);return o.loadPlans=()=>l(null,null,function*(){o.setPlansState({loading:!0}),yield Y(500),o.setPlansState({fetching:!1,loading:!1,plans:po.map(i=>{var s,c;return y({},i,{price:((s=i.price)==null?void 0:s.amount)||0,currency:((c=i.price)==null?void 0:c.currency)||"usd",recurringInterval:"month"})})})}),o};var AT=(e,n,t)=>{let r=Nl(e,n,t);return J(r,["setCheckoutState","resetCheckoutState","errorCheckout","resetCheckout"])};var ET=(e,n,t)=>{let r=kl(e,n,t);return J(r,[])};var DT=(e,n,t)=>{let r=Ll(e,n,t),o=J(r,["setVendorPublicConfigState","resetVendorPublicConfigState","setVendorPublicConfigError","setVendorPublicConfigLoading"]);return o.loadVendorPublicConfiguration=()=>l(null,null,function*(){o.setVendorPublicConfigLoading(!0),yield Y(),o.setVendorPublicConfigState({fetching:!1,loading:!1,vendorPublicConfig:gT})}),o};var IT=(e,n,t)=>{let r=fT(e,n,t),[o,i]=bT(e,n,t),s=wT(e,n,t),c=AT(e,n,t),a=ET(e,n,t),u=DT(e,n,t);return[y({},r,o,s,c,a,u),{config:r,billing:i,plans:s,checkout:c,stripe:a,vendorPublicConfig:u}]};var CT=(e,n,t)=>{let r=Hs(e,n,t),o=J(r,["setVendorState","resetVendorState"]);return o.loadVendorPublicInfo=()=>l(null,null,function*(){try{o.setVendorState({whiteLabelMode:!1}),yield Y()}catch(i){console.error("failed to getVendorPublicInfo - ",i)}}),o.loadVendorPublicConfiguration=o.loadVendorPublicInfo,o};var WV=(e,n,t,r)=>{let{authActions:o,authStateActions:i}=iT(e,n,t,r),s=dT(e,n,t),[c,a]=IT(e,n,t),u=CT(e,n,t),d=uT(e,n,t);return{authActions:o,authStateActions:i,connectivityActions:s,subscriptionsActions:c,subscriptionsStateActions:a,vendorActions:u,auditsActions:d}},_T=WV;var zV=(e,n,t=!1,r,o,i=!1,s="path")=>lp({name:e.appName,context:e.context,storeHolder:n,previewMode:t,builderMode:i,urlStrategy:s,initialState:{root:y({},e),auth:y({},o?.auth,r),connectivity:y({},o?.connectivity),subscriptions:y({},o?.subscriptions),vendor:y({},o?.vendor),auditLogs:y({},o?.auditLogs),audits:y({},o?.audits)}}),lp=e=>{var n,t,r,o,i,s,c;let{storeHolder:a}=e,u=typeof window>"u",d=a;if(u&&a==null)throw Error("createFronteggStore(initState, storeHolder) failed, storeHolder must not be null in Server-Side rendering");if(d||(d=window),d.store)return d.store;let p=e.name||"default",{context:g,previewMode:f=!1,builderMode:h=!1,urlStrategy:v="path"}=e,S=ie.for(p);!f&&!h&&S.setContext(g),g.requestCredentials===void 0&&(g.requestCredentials="include");let D=Hy((n=e.initialState)==null?void 0:n.auth),T=np((t=e.initialState)==null?void 0:t.connectivity),m=dS((r=e.initialState)==null?void 0:r.subscriptions),E=rp((o=e.initialState)==null?void 0:o.vendor),w=yS((i=e.initialState)==null?void 0:i.auditLogs),I=bS((s=e.initialState)==null?void 0:s.audits),A=(c=e.initialState)==null?void 0:c.auth;A&&Object.keys(A).forEach(F=>{(0,TT.default)(D,F,A[F],{merge:!0})});let M=JSON.parse(JSON.stringify(D)),O=K({root:{appName:p,context:g,urlStrategy:v,previewMode:f},auth:D,connectivity:T,subscriptions:m,vendor:E,auditLogs:w,audits:I});typeof window<"u"&&window.localStorage&&window.localStorage.DEBUG_FRONTEGG_STORE==="true"&&Mm(O,{name:`${p} Store`,enabled:!0});let L={},x={};S.setContext(e.context),S.setAppName(p);let N=xs(p),k=new er(p),P=y({},N,{fetch:k});if(e.previewMode||e.builderMode){let{authActions:F,authStateActions:C,connectivityActions:R,subscriptionsActions:U,subscriptionsStateActions:G,vendorActions:z,auditsActions:W}=_T(O,P,x,M);L.auth=C,L.connectivity=R,L.subscriptions=G,L.vendor=z,L.auditLogs=W,L.audits={},Object.assign(x,y({},F,R,U,z,W));let $={dispatch:B=>{setTimeout(()=>{let[te,...ae]=B.type.split("/"),pe=ae.join("/");te==="auth"&&typeof F[pe]=="function"?F[pe](B.payload):te==="connectivity"&&typeof R[pe]=="function"?R[pe](B.payload):te==="subscriptions"&&typeof U[pe]=="function"?U[pe](B.payload):te==="vendor"&&typeof z[pe]=="function"&&z[pe](B.payload)})},getState:()=>O,subscribe:B=>Tr(O,B),subscribeStateChanged:B=>Tr(O,()=>B(O)),store:O,actions:x,stateActions:L};return e.previewMode&&$.dispatch({type:"auth/requestAuthorize",payload:!0}),d&&(d.store=$),$}else{let[F,C]=Gy(O,P,x,M),R=Bs(O,P,x),[U,G]=fS(O,P,x),z=Hs(O,P,x),W=SS(O,P,x),$=AS(O,P,x);return L.auth=C,L.connectivity=R,L.subscriptions=G,L.vendor=z,L.auditLogs=W,L.audits=$,Object.assign(x,y({},F,R,U,z,W)),{dispatch:B=>{let[te,...ae]=B.type.split("/"),pe=ae.join("/");te==="auth"&&typeof F[pe]=="function"?F[pe](B.payload):te==="connectivity"&&typeof R[pe]=="function"?R[pe](B.payload):te==="subscriptions"&&typeof U[pe]=="function"?U[pe](B.payload):te==="vendor"&&typeof z[pe]=="function"&&z[pe](B.payload)},getState:()=>O,subscribe:B=>Tr(O,B),subscribeStateChanged:B=>Tr(O,()=>B(O)),store:O,actions:x,stateActions:L}}};var eb={};wp(eb,{AccountDetailsPageTabs:()=>ZS,AccountPageFields:()=>$S,COUNTRY_FILTER_TYPE:()=>FS,DomainRestrictionsTabFields:()=>YS,GeneralSettingsTabFields:()=>zS,InviteUserModalFields:()=>VS,IpRestrictionsTabFields:()=>qS,Metadata:()=>zs,PrivacyPageFields:()=>jS,ProfilePageFields:()=>US,SecurityPageTabs:()=>GS,SessionManagementTabFields:()=>WS,SignupFields:()=>LS,SubscriptionsPageFields:()=>HS,UsersTableColumns:()=>BS,alpha:()=>xT,fieldAppearance:()=>qV,tabAppearance:()=>YV});var LS;(function(e){e.phoneNumber="phoneNumber"})(LS||(LS={}));var FS;(function(e){e.ALLOWED="allowedCountries",e.BLOCKED="blockedCountries"})(FS||(FS={}));var US;(function(e){e.Name="name",e.Username="username",e.PhoneNumber="phoneNumber",e.Address="address",e.JobTitle="jobTitle"})(US||(US={}));var jS;(function(e){e.LoginSessions="loginSessions",e.Mfa="mfa"})(jS||(jS={}));var VS;(function(e){e.Name="name",e.PhoneNumber="phoneNumber",e.Username="username"})(VS||(VS={}));var $S;(function(e){e.CompanyName="companyName",e.Address="address",e.Website="website",e.Timezone="timezone",e.Currency="currency"})($S||($S={}));var BS;(function(e){e.User="user",e.Applications="applications",e.Groups="groups",e.Roles="roles",e.JoinedAt="joinedAt",e.LastSeen="lastSeen",e.ManagedBy="managedBy"})(BS||(BS={}));var HS;(function(e){e.Invoices="invoices"})(HS||(HS={}));var GS;(function(e){e.SessionManagement="sessionManagement",e.GeneralSettings="generalSettings",e.IpRestrictions="ipRestrictions",e.DomainRestrictions="domainRestrictions"})(GS||(GS={}));var WS;(function(e){e.IdleSessionTimeout="idleSessionTimeout",e.ForceReLogin="forceReLogin",e.MaximumConcurrentSessions="maximumConcurrentSessions"})(WS||(WS={}));var zS;(function(e){e.Mfa="mfa",e.UserLockout="userLockout",e.PasswordHistory="passwordHistory"})(zS||(zS={}));var qS;(function(e){e.IpAddressRestrictions="ipAddressRestrictions"})(qS||(qS={}));var YS;(function(e){e.RestrictSignupByEmailDomain="restrictSignupByEmailDomain"})(YS||(YS={}));var ZS;(function(e){e.Settings="settings",e.CustomLogin="customLogin"})(ZS||(ZS={}));var qV={hidden:"hidden",viewOnly:"viewOnly",edit:"edit"},YV={hidden:"hidden",edit:"edit"};var Ws=En(yf());function KS(e,n=0,t=1){return Math.min(Math.max(n,e),t)}function ZV(e){e=e.substr(1);let n=new RegExp(`.{1,${e.length>=6?2:1}}`,"g"),t=e.match(n);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function KV(e){let n=e.toString(16);return n.length===1?`0${n}`:n}function Wl(e){if(e.type)return e;if(e.charAt(0)==="#")return Wl(ZV(e));let n=e.indexOf("("),t=e.substring(0,n);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+e);let r=e.substring(n+1,e.length-1),o,i;if(t==="color"){if(i=r.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020."+o)}else i=r.split(",");let s=i.map(c=>parseFloat(c));return{type:t,values:s,colorSpace:o}}function QS(e){let{type:n,colorSpace:t}=e,{values:r}=e;return n.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):n.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),n.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${n}(${r})`}function zl(e){if(e.indexOf("#")===0)return e;let{values:n}=Wl(e);return`#${n.map((t,r)=>KV(r===3?Math.round(255*t):t)).join("")}`}function xT(e,n){return e=Wl(e),n=KS(n),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${n}`:e.values[3]=n,QS(e)}function ql(e,n){if(e=Wl(e),n=KS(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)e.values[t]*=1-n;return QS(e)}function JS(e,n){if(e=Wl(e),n=KS(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*n;else if(e.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)e.values[t]+=(1-e.values[t])*n;return QS(e)}var XS=e=>{if(e)return{main:e,light:zl(JS(e,.4)),dark:zl(ql(e,.15)),hover:zl(ql(e,.15)),active:zl(ql(e,.2))}},up=e=>{if(e)return{main:e,light:JS(e,.7),dark:ql(e,.2)}},MT=(e,n)=>{var t,r,o,i,s,c,a,u,d,p,g,f;return!(e!=null&&e.palette)||typeof(e==null||(t=e.palette)==null?void 0:t.primary)!="string"?{}:y({},n,{palette:{primary:y({},XS(e==null||(r=e.palette)==null?void 0:r.primary),{contrastText:(o=e==null||(i=e.palette)==null?void 0:i.primaryText)!=null?o:"#000000"}),secondary:y({},XS(e==null||(s=e.palette)==null?void 0:s.secondary),{contrastText:(c=e==null||(a=e.palette)==null?void 0:a.secondaryText)!=null?c:"#000000"}),danger:y({},XS(e==null||(u=e.palette)==null?void 0:u.error),{contrastText:"#FFF"}),success:y({},up(e==null||(d=e.palette)==null?void 0:d.success),{contrastText:"#FFF"}),error:y({},up(e==null||(p=e.palette)==null?void 0:p.error),{contrastText:"#FFF"}),warning:y({},up(e==null||(g=e.palette)==null?void 0:g.warning),{contrastText:"#FFF"}),info:y({},up(e==null||(f=e.palette)==null?void 0:f.info),{contrastText:"#FFF"})}})};var Nt={theme:{},themeV2:{},localizations:{},navigation:{usage:{visibility:"hidden",permissions:["fe.usage.read"],featureFlag:"fe-usage-page"},webhooks:{visibility:"hidden",permissions:["fe.connectivity.read.webhooks"]},roles:{visibility:"hidden",permissions:["fe.secure.read.roles"]},users:{visibility:"always",permissions:["fe.secure.read.users"],inviteDialog:{phoneNumberField:"optional"}},personalApiTokens:{visibility:"hidden",permissions:["fe.secure.read.userApiTokens"]},apiTokens:{visibility:"hidden",permissions:["fe.secure.read.tenantApiTokens"]},profile:{visibility:"always"},privacy:{visibility:"always"},account:{visibility:"always",permissions:["fe.secure.read.accountSettings"]},security:{visibility:"always",permissions:["fe.secure.read.securityPolicy"]},sso:{visibility:"hidden",permissions:["fe.secure.read.samlConfiguration"]},provisioning:{visibility:"hidden",permissions:["fe.secure.read.provisioningConfiguration"]},audits:{visibility:"always",permissions:["fe.secure.read.audits"]},subscriptions:{visibility:"hidden",permissions:["fe.subscriptions.*"]},allAccounts:{visibility:"byPermissions",permissions:["fe.account-hierarchy.read.subAccount"]},groups:{visibility:"hidden",permissions:["fe.secure.read.groups"]}}},zs=(()=>{class e{constructor(){this._theme=Nt.theme,this._themeV2=Nt.themeV2,this._navigation=Nt.navigation,this._localizations=Nt.localizations,this._integrations=Nt.integrations}static getInstance(t="default"){return this._instances[t]}static set(t,r="default"){let o=new e;return o.set(t),e._instances[r]=o,o}get theme(){var t;return(t=this._theme)!=null?t:{}}get themeV2(){var t;return(t=this._themeV2)!=null?t:{}}get navigation(){var t;return(t=this._navigation)!=null?t:{}}get localizations(){var t;return(t=this._localizations)!=null?t:{}}get integrations(){var t;return(t=this._integrations)!=null?t:{}}set(t){try{var r,o,i,s,c,a,u,d,p;this._navigation=Ws.default.all([(r=Nt.navigation)!=null?r:{},(o=t?.navigation)!=null?o:{}]),this._theme=Ws.default.all([(i=Nt.theme)!=null?i:{},MT(t?.theme,Nt.theme)]),this._themeV2=Ws.default.all([(s=Nt.themeV2)!=null?s:{},(c=t?.themeV2)!=null?c:{}]),this._localizations=Ws.default.all([(a=Nt.localizations)!=null?a:{},(u=t?.localizations)!=null?u:{}]),this._integrations=Ws.default.all([(d=Nt.integrations)!=null?d:{},(p=t?.integrations)!=null?p:{}])}catch{this._navigation=Nt.navigation,this._theme=Nt.theme,this._themeV2=Nt.themeV2,this._localizations=Nt.localizations,this._integrations=Nt.integrations}}}return e._instances={},e})();var PT=function(n){return n.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(function(t){return t.toLowerCase()}).join("")},mi=function(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=document.createElement(t);return Object.keys(r).forEach(function(i){return o.setAttribute(i,r[i])}),n.appendChild(o),o};var RT=function(n){var t=n.toString();if(t){var r=new URL(window.location.href);r.search=t,window.history.pushState(null,"",r.toString())}};var tb={cdnVersion:"7.87.0"};var nb={admin_portal_ip_restrictions:"on",admin_portal_domain_restrictions:"on","new-mfa-pages":"on","show-passkeys-new":"on","groups-admin-box-new":"on","msp-all-accounts-new":"on","temporary-users":"on"};var rb=En(Dm());var OT=En(yf());var QV=function(n){return/^GTM-[a-zA-Z0-9]+$/.test(n)},NT=function(n){var t,r=zs.getInstance(n),o=r==null||(t=r.integrations)==null?void 0:t.gtm;o?.filter(function(i){var s=i.id,c=i.enabled;return c&&QV(s)}).forEach(function(i){var s=i.id,c=document.createElement("script");c.innerHTML=`
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','`.concat(s,`');
      `),document.body.appendChild(c)})},kT=function(){var e=Ct(rb.default.mark(function n(t,r,o){var i,s,c,a;return rb.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=(i=t.metadataOverrides)==null?void 0:i.url,s){d.next=3;break}return d.abrupt("return",t);case 3:return d.prev=3,d.next=6,ee(function(){return r.sendRequest({url:s,method:"GET",credentials:"omit"})},o);case 6:if(c=d.sent,!c){d.next=10;break}return a=(0,OT.default)(t,c),d.abrupt("return",a);case 10:d.next=15;break;case 12:d.prev=12,d.t0=d.catch(3),console.error("Failed to get metadata overrides",d.t0);case 15:return d.abrupt("return",t);case 16:case"end":return d.stop()}},n,null,[[3,12]])}));return function(t,r,o){return e.apply(this,arguments)}}();var LT=function(){function e(n,t){var r=this,o,i,s,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;ms(this,e),this.name=void 0,this.iframeRendering=void 0,this.options=void 0,this.loading=!0,this.cdnUrl="https://assets.frontegg.com/admin-box/".concat(tb.cdnVersion),this.assetsUrl="https://adminBox.frontegg.com/admin-box/".concat(tb.cdnVersion),this.customElementName="",this.adminPortalEl=void 0,this.adminPortalRenderer=void 0,this.loginBoxEl=void 0,this.checkoutDialogEl=void 0,this.checkoutDialogRenderer=void 0,this.adminPortalContainer=void 0,this.loginBoxContainer=void 0,this.checkoutDialogContainer=void 0,this.loginBoxRenderer=void 0,this.store=void 0,this.loadingListeners=[],this.fetchClient=void 0,this.apiClient=void 0,this.updateLocalizations=void 0,this.loadAdminBoxMetadata=Ct(Ge.default.mark(function S(){var D,T,m,E,w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(r.options.metadata){A.next=21;break}return A.prev=1,A.next=4,ee(function(){return r.fetchClient.get("/metadata",{entityName:"adminBox"})},_t);case 4:return E=A.sent,w=(D=E==null||(T=E.rows)==null||(m=T[0])==null?void 0:m.configuration)!=null?D:{},A.prev=6,A.next=9,kT(w,r.fetchClient,_t);case 9:r.options.metadata=A.sent,A.next=15;break;case 12:A.prev=12,A.t0=A.catch(6),console.error("failed to get admin portal overridden metadata",A.t0);case 15:A.next=21;break;case 17:A.prev=17,A.t1=A.catch(1),console.error("failed to get admin portal metadata",A.t1),r.dispatchErrorByRequestName(A.t1,Wt.LOAD_ADMIN_BOX_METADATA);case 21:zs.set(r.options.metadata,r.name);case 22:case"end":return A.stop()}},S,null,[[1,17],[6,12]])})),this.requestAuthorize=Ct(Ge.default.mark(function S(){var D,T,m;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:m=(D=r.options.authOptions)==null||(T=D.hostedLoginOptions)==null?void 0:T.loadUserOnFirstLoad,!r.options.builderMode&&r.options.framework!=="nextjs"&&(r.options.hostedLoginBox&&!r.options.customLoginBox?m&&r.store.dispatch({type:"auth/requestHostedLoginAuthorizeV2",payload:{shouldRedirectToLogin:!1,firstTime:!0}}):r.store.dispatch({type:"auth/requestAuthorize",payload:!0}));case 2:case"end":return w.stop()}},S)})),this.loadFeatureFlags=Ct(Ge.default.mark(function S(){var D;return Ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(r.options.previewMode||r.options.builderMode)){m.next=4;break}hn.set(nb,r.name),m.next=16;break;case 4:return m.prev=4,m.next=7,ee(function(){return r.apiClient.featureFlags.loadFeatureFlags()},_t);case 7:D=m.sent,r.options.overrideFeatureFlags&&Object.assign(D,r.options.overrideFeatureFlags),hn.set(D,r.name),m.next=16;break;case 12:m.prev=12,m.t0=m.catch(4),console.error("failed to get admin portal feature flags",m.t0),r.dispatchErrorByRequestName(m.t0,Wt.LOAD_FEATURE_FLAGS);case 16:case"end":return m.stop()}},S,null,[[4,12]])})),this.setFeatureFlagsForPreview=function(S){hn.set(Object.assign({},nb,S),r.name)},this.queryFeatureFlags=function(S){return hn.getFeatureFlags(S,r.name)},this.updateLocalizationsSetter=function(S){r.updateLocalizations=S},this.getEntitlementsFromStore=function(){var S;return(S=r.store.getState().auth.user)==null?void 0:S.entitlements},this.getUserFromStore=function(){return r.store.getState().auth.user},this.getEntitlementsQueryData=function(S){var D=r.getUserFromStore(),T=r.getEntitlementsFromStore(),m={custom:S,jwt:D};return{entitlements:T,attributes:m}},this.createCMCRenderOptions=function(S,D){return{injector:r,options:r.options,props:S,themeOptions:D.themeOptions,localizations:D.localizations,containerStyle:D.containerStyle}},this.renderUsersTable=function(){var S=Ct(Ge.default.mark(function D(T,m,E){var w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return w=A.sent,A.abrupt("return",w.renderUsersTable(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return A.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderInviteUserDialog=function(){var S=Ct(Ge.default.mark(function D(T,m,E){var w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return w=A.sent,A.abrupt("return",w.renderInviteUserDialog(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return A.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderChangePasswordForm=function(){var S=Ct(Ge.default.mark(function D(T,m,E){var w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return w=A.sent,A.abrupt("return",w.renderChangePasswordForm(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return A.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderProfilePage=function(){var S=Ct(Ge.default.mark(function D(T,m,E){var w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return w=A.sent,A.abrupt("return",w.renderProfilePage(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return A.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderEditEmailForm=function(){var S=Ct(Ge.default.mark(function D(T,m,E){var w;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return w=A.sent,A.abrupt("return",w.renderEditEmailForm(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return A.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.getUsersTableStore=function(){var S=Ct(Ge.default.mark(function D(T){var m;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return m=w.sent,w.abrupt("return",m.useUsersTableStore(T));case 4:case"end":return w.stop()}},D)}));return function(D){return S.apply(this,arguments)}}(),this.getInviteUserDialogStore=function(){var S=Ct(Ge.default.mark(function D(T){var m;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return m=w.sent,w.abrupt("return",m.useInviteUserDialogStore(T));case 4:case"end":return w.stop()}},D)}));return function(D){return S.apply(this,arguments)}}();var u=PT(t),d="frontegg-app-".concat(u);this.iframeRendering=c,this.name=u,this.options=Object.assign({},n,{contextOptions:Object.assign({requestCredentials:"include"},n.contextOptions)}),this.fetchClient=new er(this.name),this.apiClient=xs(this.name),this.options.cdnUrl&&(this.cdnUrl=this.options.cdnUrl),this.options.assetsUrl&&(this.assetsUrl=this.options.assetsUrl),ie.for(this.name).setCdnUrl(this.cdnUrl),ie.for(this.name).setAssetsUrl(this.assetsUrl),this.customElementName=d;var p=this.options.authOptions?Object.assign({},this.options.authOptions,{hostedLoginBox:this.options.hostedLoginBox}):{hostedLoginBox:this.options.hostedLoginBox};if(p.onRedirectTo=n.onRedirectTo,p.disableSilentRefresh=(o=this.options.authOptions)==null?void 0:o.disableSilentRefresh,this.options.store){if(this.store=this.options.store,!a&&this.options.store.getState().root.appName!==t)throw Error("Mismatch in store names")}else{var g,f;this.store=lp({context:this.options.contextOptions,name:this.name,builderMode:this.options.builderMode,previewMode:this.options.previewMode,storeHolder:this,urlStrategy:this.options.urlStrategy,initialState:{auth:Object.assign({},p,(g=this.options.authOptions)!=null?g:{}),auditLogs:Object.assign({},(f=this.options.auditsOptions)!=null?f:{})}})}Za.setInstance(u,this);var h=ie.for(u);h.setAppName(u),this.setEntitlementsOptions(n.entitlementsOptions),this.setSessionContext({enableSessionPerTenant:(i=n.authOptions)==null?void 0:i.enableSessionPerTenant,skipUserLoading:(s=n.authOptions)==null?void 0:s.skipUserLoading});var v=n.basename;v&&h.setBasename(v)}return vs(e,[{key:"setEntitlementsOptions",value:function(t){ie.for(this.name).setEntitlementsOptions(Object.assign({},t))}},{key:"setSessionContext",value:function(t){ie.for(this.name).setSessionContext(Object.assign({},t))}},{key:"dispatchErrorByRequestName",value:function(t,r){t?.statusCode<500||this.store.dispatch({type:"auth/setErrorByRequestName",payload:{requestName:r,traceId:Tc(t)}})}},{key:"initContainers",value:function(){var n=Ct(Ge.default.mark(function r(o){return Ge.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.adminPortalEl=o.adminPortalEl,this.loginBoxEl=o.loginBoxEl,this.checkoutDialogEl=o.checkoutDialogEl,this.adminPortalContainer=o.adminPortalContainer,this.loginBoxContainer=o.loginBoxContainer,this.checkoutDialogContainer=o.checkoutDialogContainer;try{this.options.framework!=="nextjs"&&document.body.classList.add("frontegg-loading")}catch{console.error("Failed to add frontegg-loading to body classList")}return s.next=9,Promise.all([this.loadFeatureFlags(),this.loadAdminBoxMetadata(),this.requestAuthorize()]);case 9:!this.options.previewMode&&!this.options.customLoginBox&&(this.loadLoginBox(),NT(this.name)),this.options.lazyLoadAdminPortal||this.loadScript("FronteggAdminPortal");case 11:case"end":return s.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"updateMetadata",value:function(t){if(zs.set(t,this.name),t!=null&&t.localizations){var r;(r=this.updateLocalizations)==null||r.call(this,t.localizations)}}},{key:"addOnLoadedListener",value:function(t){if(!this.loading){t();return}this.loadingListeners.push(t)}},{key:"ready",value:function(t){this.loading?t():this.addOnLoadedListener(t)}},{key:"loginWithRedirect",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/requestHostedLoginAuthorize",payload:t})}},{key:"loginWithRedirectV2",value:function(t){this.store.dispatch({type:"auth/requestHostedLoginAuthorizeV2",payload:t})}},{key:"logout",value:function(t){this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/logout",payload:t})}},{key:"loadScript",value:function(t){var r=this;return new Promise(function(o,i){var s=window;if(s[t]){o(s[t]);return}var c={FronteggLoginBox:"login-box/index.js",FronteggAdminPortal:"admin-portal/index.js"},a=document.createElement("script");a.src="".concat(r.cdnUrl,"/").concat(c[t]),a.setAttribute("id","".concat(t,"Script")),a.setAttribute("cdn-url",r.cdnUrl),a.onload=function(){s["".concat(t,"Init")]?o(s["".concat(t,"Init")]({FronteggRestApi:Bm,FronteggTypes:eb,FronteggReduxStore:kS})):o(s[t])},a.onerror=function(u){console.log("Profile page error",u),i(u)},document.body.append(a)})}},{key:"loadLoginBox",value:function(){var n=Ct(Ge.default.mark(function r(){var o;return Ge.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.loadScript("FronteggLoginBox");case 2:o=s.sent,o.render(this.loginBoxEl,{injector:this,options:this.options}),this.loading=!1,this.loadingListeners.forEach(function(c){try{c()}catch(a){console.error("Failed to call loadLoginBoxListener",a)}}),this.loadingListeners=[];case 7:case"end":return s.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"showAdminPortal",value:function(){var n=Ct(Ge.default.mark(function r(o){var i,s,c,a,u,d;return Ge.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i=o??{isMultiApp:!1},s=i.isMultiApp,c=this.queryFeatureFlags(["multi-apps-admin-portal"]),a=RD(c,1),u=a[0],ie.for(this.name).setRequestSource(Qa.AdminPortal),g.next=5,this.loadScript("FronteggAdminPortal");case 5:d=g.sent,this.adminPortalRenderer=d.render(this.adminPortalEl,{injector:this,options:Object.assign({isMultiApp:u&&s},this.options)});case 7:case"end":return g.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"openHostedAdminPortal",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.options.contextOptions.baseUrl,o="".concat(r,"/oauth/portal");if(t){window.open(o,"_blank");return}window.location.href=o}},{key:"hideAdminPortal",value:function(){try{var t,r=new URLSearchParams(window.location.search);(t=this.adminPortalRenderer)==null||t.unmount(),RT(r),ie.for(this.name).setRequestSource(null)}catch(o){console.error("Failed to unmount admin portal",o)}}},{key:"showCheckoutDialog",value:function(){var n=Ct(Ge.default.mark(function r(o){var i;return Ge.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.loadScript("FronteggAdminPortal");case 2:i=c.sent,this.checkoutDialogRenderer=i.renderCheckoutDialog(this.checkoutDialogEl,Object.assign({injector:this},o,{options:this.options}));case 4:case"end":return c.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"hideCheckoutDialog",value:function(){try{var t;(t=this.checkoutDialogRenderer)==null||t.unmount()}catch(r){console.error("Failed to unmount checkout dialog",r)}}},{key:"getFeatureEntitlements",value:function(t,r){var o=this.getEntitlementsQueryData(r),i=o.entitlements,s=o.attributes;return qf(i,t,s)}},{key:"getPermissionEntitlements",value:function(t,r){var o=this.getEntitlementsQueryData(r),i=o.entitlements,s=o.attributes;return zf(i,t,s)}},{key:"getEntitlements",value:function(t,r){return"permissionKey"in t?this.getPermissionEntitlements(t.permissionKey,r):this.getFeatureEntitlements(t.featureKey,r)}},{key:"loadEntitlements",value:function(t){this.store.dispatch({type:"auth/loadEntitlements",payload:{callback:t}})}},{key:"stepUp",value:function(t){var r=this.store.getState(),o=r?.auth||{},i=o.hostedLoginBox,s=o.routes.stepUpUrl;if(i){this.store.dispatch({type:"auth/stepUpHostedLogin",payload:t});return}Nv(s,r.auth.onRedirectTo,t?.maxAge)}},{key:"isSteppedUp",value:function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=((t=this.store.getState())==null?void 0:t.auth)||{},i=o.user;return li(i,r)}},{key:"switchTenant",value:function(t){this.store.dispatch({type:"auth/switchTenant",payload:t})}},{key:"close",value:function(){this.hideAdminPortal(),this.hideCheckoutDialog()}}]),e}();function ho(e,n){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ho(e,n)}function FT(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ho(e,n)}function UT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jT(e,n){if(n&&(Ir(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UT(e)}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vi(e)}function VT(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function ob(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ob=function(){return!!e})()}function $T(e,n,t){if(ob())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var o=new(e.bind.apply(e,r));return t&&ho(o,t.prototype),o}function dp(e){var n=typeof Map=="function"?new Map:void 0;return dp=function(r){if(r===null||!VT(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,o)}function o(){return $T(r,arguments,vi(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ho(o,r)},dp(e)}function JV(e){var n=XV();return function(){var r=vi(e),o;if(n){var i=vi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jT(this,o)}}function XV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var BT=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=new LT(n,t);if(typeof document<"u"){var o;if(!n.contextOptions.baseUrl){var i=new Error('Edit <FronteggProvider/> options { ContextOptions: { baseUrl: "" } } in order to connect your application');throw document.body.innerHTML="",alert(i.message),i}if(!customElements.get("frontegg-app")){var s=function(a){FT(d,a);var u=JV(d);function d(){var p;ms(this,d);for(var g=arguments.length,f=new Array(g),h=0;h<g;h++)f[h]=arguments[h];return p=u.call.apply(u,[this].concat(f)),p.app=null,p}return vs(d,[{key:"connectedCallback",value:function(){this.updateContent()}},{key:"attributeChangedCallback",value:function(g,f,h){if(g==="app-name"){if(f===null||f===h)return;this.innerHTML="",h===null?this.remove():this.updateContent()}console.debug("attributeChangedCallback",g,f,h)}},{key:"updateContent",value:function(){var g,f=(g=this.getAttribute("app-name"))!=null?g:"default",h=Za.getInstance(f);if(h===null)throw Error("FronteggApp not found for appName: '".concat(f,"'"));this.setAttribute("id","frontegg-app-".concat(h.name));var v=mi(this,"div",{id:"frontegg-admin-portal-container-".concat(h.name)}),S=mi(this,"div",{id:"frontegg-login-box-container-".concat(h.name)}),D=mi(this,"div",{id:"frontegg-checkout-dialog-container-".concat(h.name)}),T=v.attachShadow({mode:"open"}),m=n.iframeRendering?S:S.attachShadow({mode:"open"}),E=D.attachShadow({mode:"open"}),w=mi(T,"div",{id:"frontegg-admin-portal-".concat(h.name),class:"frontegg-root-content"}),I=mi(m,"div",{id:"frontegg-login-box-".concat(h.name),class:"frontegg-root-content"}),A=mi(E,"div",{id:"frontegg-checkout-dialog-".concat(h.name),class:"frontegg-root-content"});h.initContainers({adminPortalEl:w,loginBoxEl:I,adminPortalContainer:v,loginBoxContainer:S,checkoutDialogContainer:D,checkoutDialogEl:A})}}],[{key:"observedAttributes",get:function(){return["app-name"]}}]),d}(dp(HTMLElement));customElements.define("frontegg-app",s)}(o=document.querySelector('frontegg-app[app-name="'.concat(r.name,'"]')))==null||o.remove();var c=document.createElement("frontegg-app");c.setAttribute("app-name",r.name),document.body.appendChild(c)}return r};var HT={name:"@angular/core",version:"19.2.11",description:"Angular - the core framework",author:"angular",license:"MIT",engines:{node:"^18.19.1 || ^20.11.1 || >=22.0.0"},exports:{"./schematics/*":{default:"./schematics/*.js"},"./event-dispatch-contract.min.js":{default:"./event-dispatch-contract.min.js"},"./package.json":{default:"./package.json"},".":{types:"./index.d.ts",default:"./fesm2022/core.mjs"},"./primitives/di":{types:"./primitives/di/index.d.ts",default:"./fesm2022/primitives/di.mjs"},"./primitives/event-dispatch":{types:"./primitives/event-dispatch/index.d.ts",default:"./fesm2022/primitives/event-dispatch.mjs"},"./primitives/signals":{types:"./primitives/signals/index.d.ts",default:"./fesm2022/primitives/signals.mjs"},"./rxjs-interop":{types:"./rxjs-interop/index.d.ts",default:"./fesm2022/rxjs-interop.mjs"},"./testing":{types:"./testing/index.d.ts",default:"./fesm2022/testing.mjs"}},dependencies:{tslib:"^2.3.0"},peerDependencies:{rxjs:"^6.5.3 || ^7.4.0","zone.js":"~0.15.0"},repository:{type:"git",url:"https://github.com/angular/angular.git",directory:"packages/core"},"ng-update":{migrations:"./schematics/migrations.json",packageGroup:["@angular/core","@angular/bazel","@angular/common","@angular/compiler","@angular/compiler-cli","@angular/animations","@angular/elements","@angular/platform-browser","@angular/platform-browser-dynamic","@angular/forms","@angular/platform-server","@angular/upgrade","@angular/router","@angular/language-service","@angular/localize","@angular/service-worker"]},schematics:"./schematics/collection.json",sideEffects:!1,module:"./fesm2022/core.mjs",typings:"./index.d.ts",type:"module"};var sb=En(uv()),t$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=mt({type:e,selectors:[["frontegg"]],standalone:!1,decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),n$={version:"7.17.4"},fp=class{constructor(){this.contextOptions={baseUrl:"https://sub-domain.frontegg.com"}}},rn=(()=>{class e{constructor(t,r,o){var i,s;if(this.config=t,this.router=r,this.ngZone=o,this.isLoadingSubject=new oe(!0),this.isAuthenticatedSubject=new oe(!1),this.stateSubject=new oe({}),this.authStateSubject=new oe({isLoading:!0,isAuthenticated:!1}),this.auditsStateSubject=new oe({}),this.connectivityStateSubject=new oe({}),this.subscriptionsStateSubject=new oe({}),this.vendorStateSubject=new oe({}),!this.config)throw Error("Need to pass config: FronteggConfigOptions in FronteggAppModule.forRoot(config)");window.CYPRESS_CONFIG&&(this.config=window.CYPRESS_CONFIG);let c=(p,g)=>{var f;let h=window.location.origin,v=p;v.startsWith(h)&&h!=="/"&&(v=v.substring(h.length-1)),(g?.preserveQueryParams||kv(v,(f=t.authOptions)===null||f===void 0?void 0:f.routes))&&(v=`${v}${window.location.search}`),g?.refresh?window.location.href=v:this.ngZone.run(()=>{g?.replace?this.router.navigateByUrl(v,{replaceUrl:!0}):this.router.navigateByUrl(v)})},a={fronteggSdkVersion:`@frontegg/angular@${n$.version}`,framework:`${Ja.Angular}@${HT.version}`},u=(i=this.config.appName)!==null&&i!==void 0?i:"default";this.config=Object.assign(Object.assign({},this.config),{appName:u,contextOptions:Object.assign(Object.assign({},this.config.contextOptions),{metadataHeaders:a}),authOptions:Object.assign(Object.assign({},this.config.authOptions),{hostedLoginOptions:Object.assign({loadUserOnFirstLoad:!0},(s=this.config.authOptions)===null||s===void 0?void 0:s.hostedLoginOptions),onRedirectTo:c})}),ie.for(u).setOnRedirectTo(c),this.fronteggApp=BT(Object.assign({onRedirectTo:c},this.config)),this.router.resetConfig([...this.mapAuthComponents,{path:"",canActivate:[GT],children:[...this.router.config]}]);let d=this.fronteggApp.store.getState();this.updateState(d),this.fronteggApp.store.subscribe(()=>{this.updateState(this.fronteggApp.store.getState())})}get state$(){return this.stateSubject.asObservable()}get authState$(){return this.authStateSubject.asObservable()}get auditsState$(){return this.auditsStateSubject.asObservable()}get connectivityState$(){return this.connectivityStateSubject.asObservable()}get subscriptionsState$(){return this.subscriptionsStateSubject.asObservable()}get vendorState$(){return this.vendorStateSubject.asObservable()}get isLoading$(){return this.isLoadingSubject.asObservable()}get isAuthenticated$(){return this.isAuthenticatedSubject.asObservable()}updateState(t){this.isLoadingSubject.getValue()!==t.auth.isLoading&&this.isLoadingSubject.next(t.auth.isLoading),this.isAuthenticatedSubject.getValue()!==t.auth.isAuthenticated&&this.isAuthenticatedSubject.next(t.auth.isAuthenticated),this.stateSubject.next(t),this.authStateSubject.next(t.auth),this.auditsStateSubject.next(t.audits),this.connectivityStateSubject.next(t.connectivity),this.subscriptionsStateSubject.next(t.subscriptions),this.vendorStateSubject.next(t.vendor)}get mapAuthComponents(){let t=this.authRoutes;return Object.keys(t).filter(r=>r!=="authenticatedUrl"&&r!=="signUpSuccessUrl"&&r!=null).map(r=>{var o;return{path:(o=t[r])===null||o===void 0?void 0:o.substring(1),component:t$}})}get authRoutes(){return this.fronteggApp.store.getState().auth.routes}showAdminPortal(t){this.fronteggApp.showAdminPortal(t)}openHostedAdminPortal(t){this.fronteggApp.openHostedAdminPortal(t)}hideAdminPortal(){var t;(t=this.fronteggApp)===null||t===void 0||t.hideAdminPortal()}showCheckoutDialog(t){this.fronteggApp.showCheckoutDialog(t)}hideCheckoutDialog(){var t;(t=this.fronteggApp)===null||t===void 0||t.hideCheckoutDialog()}}return e.\u0275fac=function(t){return new(t||e)(le(fp),le(Ht),le(Be))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),GT=(()=>{class e{constructor(t){this.fronteggAppService=t}canActivate(t,r){return new je(o=>{this.fronteggAppService.isLoading$.subscribe(i=>{i||o.next(!0)})})}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ib=class{parse(n){return new On().parse(n)}serialize(n){return new On().serialize(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/").replace(/(https?):\/([\w\d])/gi,"$1://$2")}},r$=(e,n)=>{Be.isInAngularZone()?n():e.run(n)},ab=(()=>{class e{constructor(t){this.fronteggAppService=t,this.userStateSubject=new oe(void 0);let r=this.fronteggAppService.fronteggApp.store.getState();this.updateUserStateIfNeeded(r.auth),this.fronteggAppService.fronteggApp.store.subscribe(()=>{let o=this.fronteggAppService.fronteggApp.store.getState();this.updateUserStateIfNeeded(o.auth)})}updateUserStateIfNeeded(t){let r=t.user;this.userStateSubject.value!==r&&this.userStateSubject.next(r)}getUserManipulatorSubscription(t,r){let o=new oe(void 0),i=this.userStateSubject.subscribe(a=>{o.next(t(a))}),s=o.asObservable().subscribe(r),c=s.unsubscribe.bind(s);return s.unsubscribe=()=>{c(),i.unsubscribe()},s}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dr=(()=>{class e{constructor(t,r,o){this.fronteggAppService=t,this.router=r,this.fronteggUserSubscriptionService=o,this.authStateSubject=new oe({isAuthenticated:!1,isLoading:!0}),this.acceptInvitationStateSubject=new oe({}),this.accountSettingsStateSubject=new oe({}),this.activateAccountStateSubject=new oe({}),this.apiTokensStateSubject=new oe({}),this.forgotPasswordStateSubject=new oe({}),this.loginStateSubject=new oe({}),this.mfaStateSubject=new oe({}),this.profileStateSubject=new oe({}),this.rolesStateSubject=new oe({}),this.routesSubject=new oe({}),this.securityPolicyStateSubject=new oe({}),this.signUpStateSubject=new oe({}),this.socialLoginStateSubject=new oe({}),this.ssoStateSubject=new oe({}),this.teamStateSubject=new oe({}),this.tenantsStateSubject=new oe({}),this.userSubject=new oe({}),this.isAuthenticatedSubject=new oe(!1),this.isLoadingSubject=new oe(!0),this.isSSOAuthSubject=new oe(!1),this.ssoACSSubject=new oe(""),this.customLoginStateSubject=new oe({}),this.groupsStateSubject=new oe({}),this.groupsDialogsStateSubject=new oe({}),this.impersonateStateSubject=new oe({}),this.allAccountsStateSubject=new oe({}),this.allAccountsDialogsStateSubject=new oe({}),this.passkeysStateSubject=new oe({}),this.provisioningStateSubject=new oe({}),this.resetPhoneNumberStateSubject=new oe({}),this.restrictionsStateSubject=new oe({}),this.securityCenterStateSubject=new oe({}),this.sessionsPolicyStateSubject=new oe({}),this.sessionsStateSubject=new oe({}),this.smsStateSubject=new oe({}),this.stepUpStateSubject=new oe({}),this.applicationsStateSubject=new oe({}),this.userIpSubject=new oe(void 0),this.keepSessionAliveSubject=new oe(void 0),this.socialLoginOptionsSubject=new oe(void 0),this.includeQueryParamSubject=new oe(void 0),this.hostedLoginBoxSubject=new oe(void 0),this.disableSilentRefreshSubject=new oe(void 0),this.enforceRedirectToSameSiteSubject=new oe(void 0),this.allowedRedirectOriginsSubject=new oe(void 0),this.stepUp=a=>this.fronteggAppService.fronteggApp.stepUp(a),this.setState=a=>this.dispatchAction("setState",a),this.resetState=()=>this.dispatchAction("resetState"),this.setUser=a=>this.dispatchAction("setUser",a),this.setLoginState=a=>this.dispatchAction("setLoginState",a),this.resetLoginState=()=>this.dispatchAction("resetLoginState"),this.requestAuthorize=a=>this.dispatchAction("requestAuthorize",a),this.loginWithRedirect=(a,u,d,p)=>{this.isHostedLoginCallbackRoute()||(this.dispatchAction("requestHostedLoginAuthorizeV2",{additionalParams:a,shouldRedirectToLogin:u??!0,firstTime:d??!1,loginDirectAction:p}),this.setState({isLoading:!0}))},this.preLogin=a=>this.dispatchAction("preLogin",a),this.postLogin=a=>this.dispatchAction("postLogin",a),this.login=a=>this.dispatchAction("login",a),this.loginWithMfa=a=>this.dispatchAction("loginWithMfa",a),this.recoverMfa=a=>this.dispatchAction("recoverMfa",a),this.logout=a=>this.dispatchAction("logout",a),this.silentLogout=a=>this.dispatchAction("silentLogout",a),this.checkIfAllowToRememberMfaDevice=a=>this.dispatchAction("checkIfAllowToRememberMfaDevice",a),this.setSocialLoginsState=a=>this.dispatchAction("setSocialLoginsState",a),this.resetSocialLoginsState=()=>this.dispatchAction("resetSocialLoginsState"),this.loadSocialLoginsConfiguration=()=>this.dispatchAction("loadSocialLoginsConfiguration"),this.loginViaSocialLogin=a=>this.dispatchAction("loginViaSocialLogin",a),this.setSocialLoginError=a=>this.dispatchAction("setSocialLoginError",a),this.setActivateState=a=>this.dispatchAction("setActivateState",a),this.resetActivateState=()=>this.dispatchAction("resetActivateState"),this.setActivateStrategyState=a=>this.dispatchAction("setActivateStrategyState",a),this.activateAccount=a=>this.dispatchAction("activateAccount",a),this.resendActivationEmail=a=>this.dispatchAction("resendActivationEmail",a),this.getActivateAccountStrategy=a=>this.dispatchAction("getActivateAccountStrategy",a),this.setAcceptInvitationState=a=>this.dispatchAction("setAcceptInvitationState",a),this.resetAcceptInvitationState=()=>this.dispatchAction("resetAcceptInvitationState"),this.acceptInvitation=a=>this.dispatchAction("acceptInvitation",a),this.setForgotPasswordState=a=>this.dispatchAction("setForgotPasswordState",a),this.resetForgotPasswordState=()=>this.dispatchAction("resetForgotPasswordState"),this.forgotPassword=a=>this.dispatchAction("forgotPassword",a),this.resetPassword=a=>this.dispatchAction("resetPassword",a),this.loadPasswordConfig=a=>this.dispatchAction("loadPasswordConfig",a),this.setSignUpState=a=>this.dispatchAction("setSignUpState",a),this.resetSignUpState=()=>this.dispatchAction("resetSignUpState"),this.signUpUser=a=>this.dispatchAction("signUpUser",a),this.resetSignUpStateSoft=()=>this.dispatchAction("resetSignUpStateSoft"),this.setProfileState=a=>this.dispatchAction("setProfileState",a),this.resetProfileState=()=>this.dispatchAction("resetProfileState"),this.loadProfile=()=>this.dispatchAction("loadProfile"),this.saveProfile=a=>this.dispatchAction("saveProfile",a),this.changePassword=a=>this.dispatchAction("changePassword",a),this.setSSOState=a=>this.dispatchAction("setSSOState",a),this.resetSSOState=()=>this.dispatchAction("resetSSOState"),this.loadSSOConfigurations=()=>this.dispatchAction("loadSSOConfigurations"),this.loadSSOAuthorizationRoles=()=>this.dispatchAction("loadSSOAuthorizationRoles"),this.saveSSOConfigurations=a=>this.dispatchAction("saveSSOConfigurations",a),this.saveSSOConfigurationsFile=a=>this.dispatchAction("saveSSOConfigurationsFile",a),this.saveSSOConfigurationsFileWithCallback=a=>this.dispatchAction("saveSSOConfigurationsFileWithCallback",a),this.validateSSODomain=a=>this.dispatchAction("validateSSODomain",a),this.updateSSOAuthorizationRoles=a=>this.dispatchAction("updateSSOAuthorizationRoles",a),this.deleteSamlGroup=a=>this.dispatchAction("deleteSamlGroup",a),this.createSamlGroup=a=>this.dispatchAction("createSamlGroup",a),this.oidcPostlogin=a=>this.dispatchAction("oidcPostlogin",a),this.setMfaState=a=>this.dispatchAction("setMfaState",a),this.resetMfaState=()=>this.dispatchAction("resetMfaState"),this.enrollMfa=()=>this.dispatchAction("enrollMfa"),this.verifyMfa=a=>this.dispatchAction("verifyMfa",a),this.verifyMfaAfterForce=a=>this.dispatchAction("verifyMfaAfterForce",a),this.disableMfa=a=>this.dispatchAction("disableMfa",a),this.setTeamLoader=a=>this.dispatchAction("setTeamLoader",a),this.setTeamError=a=>this.dispatchAction("setTeamError",a),this.setTeamState=a=>this.dispatchAction("setTeamState",a),this.resetTeamState=()=>this.dispatchAction("resetTeamState"),this.loadUsers=a=>this.dispatchAction("loadUsers",a),this.loadRoles=a=>this.dispatchAction("loadRoles",a),this.addUser=a=>this.dispatchAction("addUser",a),this.updateUser=a=>this.dispatchAction("updateUser",a),this.deleteUser=a=>this.dispatchAction("deleteUser",a),this.resendActivationLink=a=>this.dispatchAction("resendActivationLink",a),this.resendInvitationLink=a=>this.dispatchAction("resendInvitationLink",a),this.openAddUserDialog=a=>this.dispatchAction("openAddUserDialog",a),this.closeAddUserDialog=a=>this.dispatchAction("closeAddUserDialog",a),this.openDeleteUserDialog=a=>this.dispatchAction("openDeleteUserDialog",a),this.closeDeleteUserDialog=a=>this.dispatchAction("closeDeleteUserDialog",a),this.setApiTokensLoader=a=>this.dispatchAction("setApiTokensLoader",a),this.setApiTokensError=a=>this.dispatchAction("setApiTokensError",a),this.setApiTokensState=a=>this.dispatchAction("setApiTokensState",a),this.resetApiTokensState=()=>this.dispatchAction("resetApiTokensState"),this.loadApiTokens=a=>this.dispatchAction("loadApiTokens",a),this.initApiTokensData=a=>this.dispatchAction("initApiTokensData",a),this.addTenantApiToken=a=>this.dispatchAction("addTenantApiToken",a),this.addUserApiToken=a=>this.dispatchAction("addUserApiToken",a),this.deleteUserApiToken=a=>this.dispatchAction("deleteUserApiToken",a),this.deleteTenantApiToken=a=>this.dispatchAction("deleteTenantApiToken",a),this.setSecurityPolicyState=a=>this.dispatchAction("setSecurityPolicyState",a),this.setSecurityPolicyGlobalState=a=>this.dispatchAction("setSecurityPolicyGlobalState",a),this.setSecurityPolicyPublicState=a=>this.dispatchAction("setSecurityPolicyPublicState",a),this.setSecurityPolicyMfaState=a=>this.dispatchAction("setSecurityPolicyMfaState",a),this.setSecurityPolicyLockoutState=a=>this.dispatchAction("setSecurityPolicyLockoutState",a),this.setSecurityPolicyCaptchaState=a=>this.dispatchAction("setSecurityPolicyCaptchaState",a),this.setSecurityPolicyPasswordHistoryState=a=>this.dispatchAction("setSecurityPolicyPasswordHistoryState",a),this.resetSecurityPolicyState=()=>this.dispatchAction("resetSecurityPolicyState"),this.setSecurityPolicyPasswordState=a=>this.dispatchAction("setSecurityPolicyPasswordState",a),this.loadSecurityPolicy=()=>this.dispatchAction("loadSecurityPolicy"),this.loadPublicSecurityPolicy=()=>this.dispatchAction("loadPublicSecurityPolicy"),this.loadVendorPasswordConfig=()=>this.dispatchAction("loadVendorPasswordConfig"),this.loadSecurityPolicyMfa=()=>this.dispatchAction("loadSecurityPolicyMfa"),this.saveSecurityPolicyMfa=a=>this.dispatchAction("saveSecurityPolicyMfa",a),this.loadSecurityPolicyLockout=()=>this.dispatchAction("loadSecurityPolicyLockout"),this.saveSecurityPolicyLockout=a=>this.dispatchAction("saveSecurityPolicyLockout",a),this.loadSecurityPolicyCaptcha=()=>this.dispatchAction("loadSecurityPolicyCaptcha"),this.loadSecurityPolicyPasswordHistory=()=>this.dispatchAction("loadSecurityPolicyPasswordHistory"),this.saveSecurityPolicyPasswordHistory=a=>this.dispatchAction("saveSecurityPolicyPasswordHistory",a),this.setAccountSettingsState=a=>this.dispatchAction("setAccountSettingsState",a),this.resetAccountSettingsState=()=>this.dispatchAction("resetAccountSettingsState"),this.loadAccountSettings=a=>this.dispatchAction("loadAccountSettings",a),this.saveAccountSettings=a=>this.dispatchAction("saveAccountSettings",a),this.setTenantsState=a=>this.dispatchAction("setTenantsState",a),this.resetTenantsState=()=>this.dispatchAction("resetTenantsState"),this.switchTenant=a=>this.dispatchAction("switchTenant",a),this.loadTenants=a=>this.dispatchAction("loadTenants",a),this.setRolesState=a=>this.dispatchAction("setRolesState",a),this.resetRolesState=()=>this.dispatchAction("resetRolesState"),this.loadRolesAndPermissions=a=>this.dispatchAction("loadRolesAndPermissions",a),this.addRole=a=>this.dispatchAction("addRole",a),this.updateRole=a=>this.dispatchAction("updateRole",a),this.deleteRole=a=>this.dispatchAction("deleteRole",a),this.attachPermissionsToRole=a=>this.dispatchAction("attachPermissionsToRole",a),this.attachPermissionToRoles=a=>this.dispatchAction("attachPermissionToRoles",a);let i=[{field:"acceptInvitationState",subject:this.acceptInvitationStateSubject},{field:"accountSettingsState",subject:this.accountSettingsStateSubject},{field:"activateAccountState",subject:this.activateAccountStateSubject},{field:"apiTokensState",subject:this.apiTokensStateSubject},{field:"forgotPasswordState",subject:this.forgotPasswordStateSubject},{field:"tenantsState",subject:this.tenantsStateSubject},{field:"loginState",subject:this.loginStateSubject},{field:"mfaState",subject:this.mfaStateSubject},{field:"profileState",subject:this.profileStateSubject},{field:"rolesState",subject:this.rolesStateSubject},{field:"routes",subject:this.routesSubject},{field:"securityPolicyState",subject:this.securityPolicyStateSubject},{field:"signUpState",subject:this.signUpStateSubject},{field:"socialLoginState",subject:this.socialLoginStateSubject},{field:"ssoState",subject:this.ssoStateSubject},{field:"teamState",subject:this.teamStateSubject},{field:"user",subject:this.userSubject},{field:"isSSOAuth",subject:this.isSSOAuthSubject},{field:"ssoACS",subject:this.ssoACSSubject},{field:"customLoginState",subject:this.customLoginStateSubject},{field:"groupsState",subject:this.groupsStateSubject},{field:"groupsDialogsState",subject:this.groupsDialogsStateSubject},{field:"impersonateState",subject:this.impersonateStateSubject},{field:"allAccountsState",subject:this.allAccountsStateSubject},{field:"allAccountsDialogsState",subject:this.allAccountsDialogsStateSubject},{field:"passkeysState",subject:this.passkeysStateSubject},{field:"provisioningState",subject:this.provisioningStateSubject},{field:"resetPhoneNumberState",subject:this.resetPhoneNumberStateSubject},{field:"restrictionsState",subject:this.restrictionsStateSubject},{field:"securityCenterState",subject:this.securityCenterStateSubject},{field:"sessionsPolicyState",subject:this.sessionsPolicyStateSubject},{field:"sessionsState",subject:this.sessionsStateSubject},{field:"smsState",subject:this.smsStateSubject},{field:"stepUpState",subject:this.stepUpStateSubject},{field:"applicationsState",subject:this.applicationsStateSubject},{field:"userIp",subject:this.userIpSubject},{field:"keepSessionAlive",subject:this.keepSessionAliveSubject},{field:"socialLoginOptions",subject:this.socialLoginOptionsSubject},{field:"includeQueryParam",subject:this.includeQueryParamSubject},{field:"hostedLoginBox",subject:this.hostedLoginBoxSubject},{field:"disableSilentRefresh",subject:this.disableSilentRefreshSubject},{field:"enforceRedirectToSameSite",subject:this.enforceRedirectToSameSiteSubject},{field:"allowedRedirectOrigins",subject:this.allowedRedirectOriginsSubject}],s=this.fronteggAppService.fronteggApp.store.getState();this.updateState(s.auth,i);let c=a=>{let u=this.fronteggAppService.fronteggApp.store.getState();this.updateState(u.auth,i)};this.fronteggAppService.fronteggApp.store.subscribe(c)}getAuthState(){return this.fronteggAppService.fronteggApp.store.getState().auth}get authState$(){return this.authStateSubject.asObservable()}get acceptInvitationState$(){return this.acceptInvitationStateSubject.asObservable()}get accountSettingsState$(){return this.accountSettingsStateSubject.asObservable()}get activateState$(){return this.activateAccountStateSubject.asObservable()}get apiTokensState$(){return this.apiTokensStateSubject.asObservable()}get forgotPasswordState$(){return this.forgotPasswordStateSubject.asObservable()}get loginState$(){return this.loginStateSubject.asObservable()}get mfaState$(){return this.mfaStateSubject.asObservable()}get profileState$(){return this.profileStateSubject.asObservable()}get rolesState$(){return this.rolesStateSubject.asObservable()}get routesState$(){return this.routesSubject.asObservable()}get securityPolicyState$(){return this.securityPolicyStateSubject.asObservable()}get signUpState$(){return this.signUpStateSubject.asObservable()}get socialLoginState$(){return this.socialLoginStateSubject.asObservable()}get ssoState$(){return this.ssoStateSubject.asObservable()}get teamState$(){return this.teamStateSubject.asObservable()}get tenantsState$(){return this.tenantsStateSubject.asObservable()}get user$(){return this.userSubject.asObservable()}get user(){return this.fronteggAppService.fronteggApp.store.getState().auth.user}get isAuthenticated$(){return this.isAuthenticatedSubject.asObservable()}get isAuthenticated(){return this.fronteggAppService.fronteggApp.store.getState().auth.isAuthenticated}get isLoading$(){return this.isLoadingSubject.asObservable()}get isSSOAuth$(){return this.isSSOAuthSubject.asObservable()}get ssoACS$(){return this.ssoACSSubject.asObservable()}get customLoginStateSubject$(){return this.customLoginStateSubject.asObservable()}get groupsStateSubject$(){return this.groupsStateSubject.asObservable()}get groupsDialogsStateSubject$(){return this.groupsDialogsStateSubject.asObservable()}get impersonateStateSubject$(){return this.impersonateStateSubject.asObservable()}get allAccountsStateSubject$(){return this.allAccountsStateSubject.asObservable()}get allAccountsDialogsStateSubject$(){return this.allAccountsDialogsStateSubject.asObservable()}get passkeysStateSubject$(){return this.passkeysStateSubject.asObservable()}get provisioningStateSubject$(){return this.provisioningStateSubject.asObservable()}get resetPhoneNumberStateSubject$(){return this.resetPhoneNumberStateSubject.asObservable()}get restrictionsStateSubject$(){return this.restrictionsStateSubject.asObservable()}get securityCenterStateSubject$(){return this.securityCenterStateSubject.asObservable()}get sessionsPolicyStateSubject$(){return this.sessionsPolicyStateSubject.asObservable()}get sessionsStateSubject$(){return this.sessionsStateSubject.asObservable()}get smsStateSubject$(){return this.smsStateSubject.asObservable()}get stepUpStateSubject$(){return this.stepUpStateSubject.asObservable()}get applicationsStateSubject$(){return this.applicationsStateSubject.asObservable()}get userIpSubject$(){return this.userIpSubject.asObservable()}get keepSessionAliveSubject$(){return this.keepSessionAliveSubject.asObservable()}get socialLoginOptionsSubject$(){return this.socialLoginOptionsSubject.asObservable()}get includeQueryParamSubject$(){return this.includeQueryParamSubject.asObservable()}get hostedLoginBoxSubject$(){return this.hostedLoginBoxSubject.asObservable()}get disableSilentRefreshSubject$(){return this.disableSilentRefreshSubject.asObservable()}get enforceRedirectToSameSiteSubject$(){return this.enforceRedirectToSameSiteSubject.asObservable()}get allowedRedirectOriginsSubject$(){return this.allowedRedirectOriginsSubject.asObservable()}updateState(t,r){this.authStateSubject.value!==t&&this.authStateSubject.next(t);for(let o of r)(0,sb.default)(o.subject.value,t[o.field])||o.subject.next(t[o.field]);this.isAuthenticatedSubject.value!==t.isAuthenticated&&this.isAuthenticatedSubject.next(t.isAuthenticated),this.isLoadingSubject.value!==t.isLoading&&this.isLoadingSubject.next(t.isLoading)}dispatchAction(t,r){this.fronteggAppService.fronteggApp.store.dispatch({type:`auth/${t}`,payload:r})}isHostedLoginCallbackRoute(){let t=this.fronteggAppService.router.url,r=this.fronteggAppService.authRoutes.hostedLoginRedirectUrl;return t.startsWith(r??"/oauth/callback")}isSteppedUp$(t,r){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(()=>this.fronteggAppService.fronteggApp.isSteppedUp(r),t)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(Ht),le(ab))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cb=(()=>{class e extends ib{constructor(t,r,o,i){super(),this.fronteggAppService=t,this.fronteggAuthService=r,this.router=o,this.ngZone=i}waitForLoader(){return new Promise(t=>{let r=this.fronteggAppService.isLoading$.subscribe(o=>{o||(t(!0),r.unsubscribe())})})}navigateToLoginIfNeeded(t){return Js(this,void 0,void 0,function*(){let{isAuthenticated:r}=this.fronteggAuthService.getAuthState();return r?!0:this.fronteggAppService.fronteggApp.options.hostedLoginBox?(localStorage.setItem("FRONTEGG_AFTER_AUTH_REDIRECT_URL",t),this.fronteggAuthService.loginWithRedirect({prompt:"login"}),!1):this.router.navigateByUrl(this.fronteggAppService.authRoutes.loginUrl+"?redirectUrl="+encodeURIComponent(t))})}canActivate(t,r){let o=r.url,{isLoading:i}=this.fronteggAuthService.getAuthState();return i?new Promise((s,c)=>Js(this,void 0,void 0,function*(){yield this.waitForLoader(),r$(this.ngZone,()=>{this.navigateToLoginIfNeeded(o).then(s).catch(c)})})):this.navigateToLoginIfNeeded(o)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(dr),le(Ht),le(Be))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var o$=(()=>{class e{constructor(t){this.fronteggAppService=t,this.subscriptionStateSubject=new oe({}),this.checkoutStateSubject=new oe({loading:!1,open:!1,success:!1,error:null}),this.loadSubscription=()=>this.dispatchAction("billing/subscription/loadSubscription"),this.openCheckout=r=>{this.checkoutStateSubject.next({loading:!1,open:!0,success:!1,error:null}),this.fronteggAppService.showCheckoutDialog({plan:r,onSuccess:()=>{this.checkoutStateSubject.next({loading:!1,open:!1,success:!0,error:null})},onError:o=>{let i=this.checkoutStateSubject.value;this.checkoutStateSubject.next(Object.assign(Object.assign({},i),{error:o}))},onClose:()=>{let o=this.checkoutStateSubject.value;this.checkoutStateSubject.next(Object.assign(Object.assign({},o),{open:!1}))}})},this.hideCheckout=()=>{this.fronteggAppService.hideCheckoutDialog()},this.fronteggAppService.subscriptionsState$.subscribe(r=>{if(r!=null){let{billing:{subscription:o},checkout:i}=r;(0,sb.default)(this.subscriptionStateSubject.getValue(),o)||this.subscriptionStateSubject.next(o);let s=this.checkoutStateSubject.getValue();s.loading!==i.loading&&this.checkoutStateSubject.next(Object.assign(Object.assign({},s),{loading:i.loading}))}})}get subscriptionState$(){return this.subscriptionStateSubject.asObservable()}get checkoutState$(){return this.checkoutStateSubject.asObservable()}dispatchAction(t,r){this.fronteggAppService.fronteggApp.store.dispatch({type:`${subscriptionsStoreName}/${t}`,payload:r})}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),i$=(()=>{class e{constructor(t,r){this.fronteggAppService=t,this.fronteggUserSubscriptionService=r}featureEntitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getFeatureEntitlements(t,o):{isEntitled:!1,justification:Xr.MISSING_FEATURE},r)}permissionEntitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getPermissionEntitlements(t,o):{isEntitled:!1,justification:Xr.MISSING_PERMISSION},r)}entitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getEntitlements(t,o):{isEntitled:!1,justification:"featureKey"in t?Xr.MISSING_FEATURE:Xr.MISSING_PERMISSION},r)}loadEntitlements(t){this.fronteggAppService.fronteggApp.loadEntitlements(t)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(ab))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WT=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[rn,cb,GT,dr,i$,o$,ab,{provide:fp,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=ln({imports:[[Ro,Ya]]}),e})();var zT={baseUrl:"https://app-iuuh0nwpqtfl.frontegg.com",appId:"b9b78acb-3cb7-4de6-9aaa-d0a05caf1cfa"};function Zl(e){return e?e.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2):""}function s$(e,n){e&1&&Je(0,"img",8)}function a$(e,n){if(e&1){let t=Po();ve(0,"button",5),vt("click",function(){let o=$r(t).$implicit,i=fn();return Br(i.selectItem(o))}),ve(1,"div",6)(2,"div",7),Oe(3),me(),Oe(4),me(),Mn(5,s$,1,0,"img",8),me()}if(e&2){let t=n.$implicit,r=fn();ns("active",(r.selected==null?null:r.selected.id)===t.id),Qe(3),pn(r.getInitials(t.name)),Qe(),Hr(" ",t.name," "),Qe(),Er((r.selected==null?null:r.selected.id)===t.id?5:-1)}}var pp=class e{constructor(n){this.elementRef=n}items=[];selected;selectedChange=new Rt;isOpen=!1;getInitials=Zl;onClickOutside(n){this.elementRef.nativeElement.contains(n.target)||(this.isOpen=!1)}toggleDropdown(){this.isOpen=!this.isOpen}selectItem(n){this.selectedChange.emit(n),this.isOpen=!1}static \u0275fac=function(t){return new(t||e)(et(Ki))};static \u0275cmp=mt({type:e,selectors:[["app-tenants-dropdown"]],hostBindings:function(t,r){t&1&&vt("mousedown",function(i){return r.onClickOutside(i)},!1,hE)},inputs:{items:"items",selected:"selected"},outputs:{selectedChange:"selectedChange"},standalone:!1,decls:5,vars:3,consts:[[1,"dropdown"],[1,"dropdown-button",3,"click"],["src","assets/icons/unfold-more.svg","alt","Other tenants"],[1,"dropdown-menu"],["class","dropdown-item",3,"active","click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],[1,"dropdown-item-content"],[1,"initials"],["src","assets/icons/checkmark.svg","alt","Selected tenant"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"button",1),vt("click",function(){return r.toggleDropdown()}),Je(2,"img",2),me(),ve(3,"div",3),Mn(4,a$,6,5,"button",4),me()()),t&2&&(Qe(3),ns("show",r.isOpen),Qe(),Mo("ngForOf",r.items))},dependencies:[Dd],styles:[".dropdown-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 5px);right:0;display:none;z-index:1000;width:100%;box-shadow:0 4px 24px #2f334b14;border-radius:8px;background-color:var(--classic-white);padding:4px 0}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 8px;cursor:pointer;width:100%;border:none;background-color:transparent}.dropdown-item-content[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;font-weight:400;font-size:14px;line-height:24px;color:var(--classic-grey-900)}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item.active[_ngcontent-%COMP%]{color:var(--classic-primary)}"]})};var hp=class e{text="";handleCopy=()=>{navigator.clipboard.writeText(this.text).then(()=>alert("Copied to clipboard!")).catch(n=>console.error("Failed to copy: ",n))};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=mt({type:e,selectors:[["app-copy-button"]],inputs:{text:"text"},standalone:!1,decls:7,vars:0,consts:[["aria-label","Copy to clipboard",1,"copy-button",3,"click"],["width","16","height","17","viewBox","0 0 16 17","fill","#C3C5CA","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_144_522)"],["d","M10.6654 1.1665H2.66536C1.93203 1.1665 1.33203 1.7665 1.33203 2.49984V11.8332H2.66536V2.49984H10.6654V1.1665ZM12.6654 3.83317H5.33203C4.5987 3.83317 3.9987 4.43317 3.9987 5.1665V14.4998C3.9987 15.2332 4.5987 15.8332 5.33203 15.8332H12.6654C13.3987 15.8332 13.9987 15.2332 13.9987 14.4998V5.1665C13.9987 4.43317 13.3987 3.83317 12.6654 3.83317ZM12.6654 14.4998H5.33203V5.1665H12.6654V14.4998Z"],["id","clip0_144_522"],["width","16","height","16","fill","white","transform","translate(0 0.5)"]],template:function(t,r){t&1&&(ve(0,"button",0),vt("click",function(){return r.handleCopy()}),ld(),ve(1,"svg",1)(2,"g",2),Je(3,"path",3),me(),ve(4,"defs")(5,"clipPath",4),Je(6,"rect",5),me()()()())},styles:[".copy-button[_ngcontent-%COMP%]{width:fit-content;height:24px;background:none;border:none;cursor:pointer}.copy-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:fill .3s ease}.copy-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .copy-button[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--classic-primary)}"]})};function u$(e,n){if(e&1){let t=Po();ve(0,"img",17),vt("error",function(o){$r(t);let i=fn();return Br(i.handleImageError(o))}),me()}if(e&2){let t=fn();Mo("src",t.user.profilePictureUrl,pE)}}function d$(e,n){if(e&1&&(ve(0,"div",10),Oe(1),me()),e&2){let t=fn();Qe(),pn(t.getInitials(t.user==null?null:t.user.name))}}function f$(e,n){if(e&1){let t=Po();ve(0,"div",6)(1,"div",18)(2,"div",7)(3,"div",8)(4,"div",10),Oe(5),me()(),ve(6,"p",11),Oe(7),me()(),ve(8,"app-tenants-dropdown",19),vt("selectedChange",function(o){$r(t);let i=fn();return Br(i.switchTenant(o))}),me()(),ve(9,"div",12)(10,"div",13)(11,"p",14),Oe(12,"ID"),me(),ve(13,"div",20)(14,"p",21),Oe(15),me(),Je(16,"app-copy-button",22),me()(),ve(17,"div",13)(18,"p",14),Oe(19,"Members"),me(),ve(20,"p",15),Oe(21),me()(),ve(22,"div",13)(23,"p",14),Oe(24,"Creator"),me(),ve(25,"p",15),Oe(26),me()()(),ve(27,"button",16),vt("click",function(){$r(t);let o=fn();return Br(o.openAccountSettings())}),Oe(28," Edit account "),me()()}if(e&2){let t=fn();Qe(5),pn(t.getInitials(t.activeTenant.name)),Qe(2),pn(t.activeTenant.name),Qe(),Mo("items",t.tenantsState==null?null:t.tenantsState.tenants)("selected",t.activeTenant),Qe(7),Hr(" ",t.activeTenant.id," "),Qe(),Mo("text",t.activeTenant.id),Qe(5),pn(t.membersLoading?"Loading...":t.membersCount),Qe(5),Hr(" ",t.activeTenant.creatorEmail||"system"," ")}}var gp=class e{constructor(n,t){this.fronteggAuthService=n;this.fronteggAppService=t}user;activeTenant;tenantsState;getInitials=Zl;membersCount=0;membersLoading=!0;ngOnInit(){this.fronteggAuthService.user$.subscribe(n=>{this.user=n}),this.fronteggAuthService.tenantsState$.subscribe(n=>{this.tenantsState=n,this.activeTenant=n?.activeTenant}),this.fronteggAuthService.loadUsers({callback:(n,t)=>{t?this.membersCount=0:this.membersCount=n?.length||0,this.membersLoading=!1},pageOffset:0,pageSize:100})}openAccountSettings(){this.fronteggAppService.showAdminPortal(),setTimeout(()=>{window.location.hash="admin-box/account"},1e3)}openAdminBox(){this.fronteggAppService.showAdminPortal(),setTimeout(()=>{window.location.hash="admin-box"},1e3)}handleImageError(n){let t=n.target;t.style.display="none",t.parentNode.innerHTML=`<div class="initials">${Zl(this.user.name)}</div>`}switchTenant(n){this.fronteggAuthService.switchTenant({tenantId:n.tenantId})}getUserRoles(){return this.user?.roles?.map(n=>n.name).join(", ")||""}static \u0275fac=function(t){return new(t||e)(et(dr),et(rn))};static \u0275cmp=mt({type:e,selectors:[["app-account-info"]],standalone:!1,decls:34,vars:7,consts:[[1,"section-screen"],[1,"section-card","account-card"],[1,"title-wrapper"],[1,"title"],[1,"primary-button","fit-content",3,"click"],[1,"tenants-wrapper"],[1,"tenant-card"],[1,"tenant-title"],[1,"tenant-logo"],["alt","Welcome","width","24","height","24",3,"src"],[1,"initials"],[1,"tenant-name"],[1,"tenant-info"],[1,"tenant-info-item"],[1,"tenant-info-item-title"],[1,"tenant-info-item-value"],[1,"secondary-button","edit-button",3,"click"],["alt","Welcome","width","24","height","24",3,"error","src"],[1,"tenant-title-wrapper"],[3,"selectedChange","items","selected"],[1,"tenant-info-copy-wrapper"],[1,"tenant-info-item-value","ellipsis"],[3,"text"]],template:function(t,r){t&1&&(ve(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),Oe(4),me(),ve(5,"button",4),vt("click",function(){return r.openAdminBox()}),Oe(6," Self-service portal "),me()(),ve(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Mn(11,u$,1,1,"img",9)(12,d$,2,1,"div",10),me(),ve(13,"p",11),Oe(14),me()(),ve(15,"div",12)(16,"div",13)(17,"p",14),Oe(18,"Name"),me(),ve(19,"p",15),Oe(20),me()(),ve(21,"div",13)(22,"p",14),Oe(23,"Email"),me(),ve(24,"p",15),Oe(25),me()(),ve(26,"div",13)(27,"p",14),Oe(28,"Roles"),me(),ve(29,"p",15),Oe(30),me()()(),ve(31,"button",16),vt("click",function(){return r.openAdminBox()}),Oe(32," Edit user "),me()(),Mn(33,f$,29,8,"div",6),me()()()),t&2&&(Qe(4),Hr("Hello, ",r.user==null?null:r.user.name,"!"),Qe(7),Er(r.user!=null&&r.user.profilePictureUrl?11:12),Qe(3),pn(r.user==null?null:r.user.name),Qe(6),pn(r.user==null?null:r.user.name),Qe(5),pn(r.user==null?null:r.user.email),Qe(5),pn(r.getUserRoles()),Qe(3),Er(r.activeTenant!=null&&r.activeTenant.id?33:-1))},dependencies:[pp,hp],styles:[".account-card[_ngcontent-%COMP%]{width:720px;display:flex;gap:40px;flex-direction:column}.account-card[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:24px}.account-card[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:var(--grey-900)}.tenants-wrapper[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr;gap:24px}.tenant-card[_ngcontent-%COMP%]{padding:16px;border-radius:16px;display:flex;flex-flow:column;gap:16px;box-shadow:0 4px 24px #2f334b14;flex-grow:1}.tenant-title[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.tenant-name[_ngcontent-%COMP%]{font-size:16px;line-height:120%;font-weight:400;color:var(--grey-600)}.tenant-logo[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;overflow:hidden}.tenant-title-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;gap:8px}.tenant-info[_ngcontent-%COMP%]{border-top:1px solid var(--classic-grey-200);padding:16px 8px 8px;display:flex;gap:16px;flex-direction:column}.tenant-info-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:88px 1fr;align-items:center}.tenant-info-item-title[_ngcontent-%COMP%]{font-size:14px;line-height:100%;font-weight:600;color:var(--classic-grey-800)}.tenant-info-item-value[_ngcontent-%COMP%]{font-size:14px;line-height:100%;font-weight:400;color:var(--classic-grey-700);word-break:break-word}.edit-button[_ngcontent-%COMP%]{width:100%;margin-top:auto}.tenant-info-copy-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:4px;align-items:center}.ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 768px){.tenants-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}"]})};var qT={baseUrl:"https://sandbox.frontegg.com",appId:"da398ff8-c069-428e-974a-afcded8c0c04"},mp=class e{constructor(n){this.fronteggAppService=n;this.loadingSubscription=this.fronteggAppService.isLoading$.subscribe(t=>{if(t)return;let r=ie.for(void 0).getContext().baseUrl,o=ie.for(void 0).getContext().appId;this.isDefaultCredentials=r===qT.baseUrl&&o===qT.appId})}isDefaultCredentials=!1;loadingSubscription;ngOnDestroy(){this.loadingSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(et(rn))};static \u0275cmp=mt({type:e,selectors:[["app-signup-banner"]],standalone:!1,decls:16,vars:2,consts:[[1,"signup-banner"],[1,"container","signup-banner-wrapper"],[1,"signup-banner-text"],["href","https://frontegg-prod.us.frontegg.com/oauth/account/sign-up","target","_blank","rel","noreferrer"],[1,"reference-links"],["href","https://developers.frontegg.com/","target","_blank","rel","noreferrer",1,"visit-doc"],["width","12","height","12","viewBox","0 0 12 12","fill","#373739","xmlns","http://www.w3.org/2000/svg"],["d","M10.6667 10.6667H1.33333V1.33333H6V0H1.33333C0.593333 0 0 0.6 0 1.33333V10.6667C0 11.4 0.593333 12 1.33333 12H10.6667C11.4 12 12 11.4 12 10.6667V6H10.6667V10.6667ZM7.33333 0V1.33333H9.72667L3.17333 7.88667L4.11333 8.82667L10.6667 2.27333V4.66667H12V0H7.33333Z"],[1,"third-party-links"],["href","https://github.com/frontegg-samples/angular-hosted-login.git","target","_blank","rel","noreferrer",1,"icon-link"],["src","assets/icons/github.svg","alt","github"],["href","https://join.slack.com/t/frontegg-community/shared_invite/zt-e1oxi1vn-SZErBZcwHcbgj4vrwRIp5A","target","_blank","rel","noreferrer",1,"icon-link"],["src","assets/icons/slack.svg","alt","slack"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"div",1)(2,"p",2),Oe(3," This sample uses Frontegg's default credentials. Sign up to use your own configurations. "),ve(4,"a",3),Oe(5," Sign up "),me()(),ve(6,"div",4)(7,"a",5),ld(),ve(8,"svg",6),Je(9,"path",7),me(),Oe(10," Visit Docs "),me(),PA(),ve(11,"div",8)(12,"a",9),Je(13,"img",10),me(),ve(14,"a",11),Je(15,"img",12),me()()()()()),t&2&&ns("custom-credentials",!r.isDefaultCredentials)},styles:[".signup-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;padding:32px 0;box-shadow:0 1px 4px #7a7c813d;background-color:var(--classic-white)}.signup-banner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.custom-credentials[_ngcontent-%COMP%]   .signup-banner-wrapper[_ngcontent-%COMP%]{justify-content:center}.custom-credentials[_ngcontent-%COMP%]   .signup-banner-text[_ngcontent-%COMP%]{display:none}.signup-banner-text[_ngcontent-%COMP%]{width:fit-content;display:flex;gap:12px;flex-wrap:wrap;align-items:center;padding:14px 16px;border-radius:8px;font-size:14px;line-height:100%;font-weight:600;color:var(--classic-grey-800);background-color:var(--classic-light-info)}.signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--classic-primary);text-decoration:none;font-weight:600;font-size:16px;transition:color .3s ease}.signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--classic-darker-primary)}.reference-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;align-items:center}.third-party-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;align-items:center}.visit-doc[_ngcontent-%COMP%]{color:var(--classic-grey-800);text-decoration:none;font-weight:600;font-size:16px;transition:color .3s ease;display:flex;gap:8px;align-items:center}.visit-doc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.visit-doc[_ngcontent-%COMP%]:hover, .visit-doc[_ngcontent-%COMP%]:active, .visit-doc[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .visit-doc[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--classic-primary);color:var(--classic-primary)}.icon-link[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;justify-content:center;align-items:center;border-radius:25%;background-color:transparent;transition:background-color .3s ease}.icon-link[_ngcontent-%COMP%]:hover{background-color:var(--classic-grey-100)}"]})};function h$(e,n){if(e&1){let t=Po();ve(0,"button",8),vt("click",function(){$r(t);let o=fn();return Br(o.logout())}),Oe(1,"Logout"),me()}}var vp=class e{constructor(n){this.fronteggAuthService=n}isAuthenticated=!1;ngOnInit(){this.fronteggAuthService?.isAuthenticated$.subscribe(n=>{this.isAuthenticated=n})}logout(){let n=ie.for(void 0).getContext().baseUrl,t=window.location.origin;window.location.href=`${n}/oauth/logout?post_logout_redirect_uri=${t}`}static \u0275fac=function(t){return new(t||e)(et(dr))};static \u0275cmp=mt({type:e,selectors:[["app-header"]],standalone:!1,decls:8,vars:1,consts:[[1,"header"],[1,"container","header-wrapper"],[1,"logo-wrapper"],["href","https://frontegg.com/","target","_blank","rel","noreferrer"],["src","assets/logo.svg","width","170","height","32","alt","Frontegg"],[1,"angular-logo"],["src","assets/angular.png","width","25","height","25","alt","Angular"],[1,"secondary-button"],[1,"secondary-button",3,"click"]],template:function(t,r){t&1&&(ve(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Je(4,"img",4),me(),ve(5,"div",5),Je(6,"img",6),me()(),Mn(7,h$,2,0,"button",7),me()()),t&2&&(Qe(7),Er(r.isAuthenticated?7:-1))},styles:[".header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;display:flex;padding:40px 0;box-shadow:0 1px 4px #7a7c813d;background-color:var(--classic-white)}.header-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;align-items:center}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:center}.angular-logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:var(--grey-50);display:flex;justify-content:center;align-items:center}"]})};function m$(e,n){e&1&&Je(0,"app-header")(1,"router-outlet")(2,"app-signup-banner")}function v$(e,n){e&1&&Je(0,"div",0)}var yp=class e{constructor(n,t){this.fronteggAppService=n;this.fronteggAuthService=t;this.loadingSubscription=n.isLoading$.subscribe(r=>this.isLoading=r)}isLoading=!0;loadingSubscription;ngOnDestroy(){this.loadingSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(et(rn),et(dr))};static \u0275cmp=mt({type:e,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[1,"spinner"]],template:function(t,r){t&1&&Mn(0,m$,3,0)(1,v$,1,0,"div",0),t&2&&Er(r.isLoading?1:0)},dependencies:[Ha,mp,vp],encapsulation:2})};var Sp=class e{constructor(n,t){this.fronteggAuthService=n;this.router=t}ngOnInit(){this.fronteggAuthService.isAuthenticatedSubject.subscribe(n=>{n&&this.router.navigate(["/home"])})}loginWithRedirect(){let n=window.location.origin+"/FrontEgg/oauth/callback";this.fronteggAuthService.loginWithRedirect({redirectUri:n})}static \u0275fac=function(t){return new(t||e)(et(dr),et(Ht))};static \u0275cmp=mt({type:e,selectors:[["app-welcome"]],standalone:!1,decls:10,vars:0,consts:[[1,"section-screen"],[1,"section-card","welcome-card"],["src","assets/hug.png","alt","Welcome","width","56","height","56"],[1,"welcome-texts"],[1,"welcome-title"],[1,"welcome-text"],[1,"primary-button",3,"click"]],template:function(t,r){t&1&&(ve(0,"section",0)(1,"div",1),Je(2,"img",2),ve(3,"div",3)(4,"h1",4),Oe(5,"Welcome!"),me(),ve(6,"p",5),Oe(7," This is Frontegg's sample app that will let you experiment with our authentication flows. "),me()(),ve(8,"button",6),vt("click",function(){return r.loginWithRedirect()}),Oe(9," Sign in "),me()()())},styles:[".welcome-card[_ngcontent-%COMP%]{width:400px}.welcome-texts[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.welcome-title[_ngcontent-%COMP%]{font-size:32px;line-height:140%;font-weight:700;color:var(--grey-900);text-align:center}.welcome-text[_ngcontent-%COMP%]{font-size:16px;line-height:150%;font-weight:400;color:var(--grey-600);text-align:center}"]})};var y$=[{path:"home",component:gp,canActivate:[cb]},{path:"",component:Sp},{path:"**",redirectTo:"home"}],bp=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=dn({type:e,bootstrap:[yp]});static \u0275inj=ln({imports:[zg,Ro,Ya.forRoot(y$,{useHash:!1}),WT.forRoot({contextOptions:zT,hostedLoginBox:!0,authOptions:{keepSessionAlive:!0},customLoader:!0})]})};Wg().bootstrapModule(bp).catch(e=>console.error(e));
