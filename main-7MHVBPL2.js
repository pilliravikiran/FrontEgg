var ZT=Object.create;var Kl=Object.defineProperty,KT=Object.defineProperties,QT=Object.getOwnPropertyDescriptor,JT=Object.getOwnPropertyDescriptors,XT=Object.getOwnPropertyNames,db=Object.getOwnPropertySymbols,ex=Object.getPrototypeOf,pb=Object.prototype.hasOwnProperty,tx=Object.prototype.propertyIsEnumerable;var fb=(e,n,t)=>n in e?Kl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,ne=(e,n)=>{for(var t in n||={})pb.call(n,t)&&fb(e,t,n[t]);if(db)for(var t of db(n))tx.call(n,t)&&fb(e,t,n[t]);return e},Ke=(e,n)=>KT(e,JT(n));var he=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Ep=(e,n)=>{for(var t in n)Kl(e,t,{get:n[t],enumerable:!0})},nx=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of XT(n))!pb.call(e,o)&&o!==t&&Kl(e,o,{get:()=>n[o],enumerable:!(r=QT(n,o))||r.enumerable});return e};var Dn=(e,n,t)=>(t=e!=null?ZT(ex(e)):{},nx(n||!e||!e.__esModule?Kl(t,"default",{value:e,enumerable:!0}):t,e));var l=(e,n,t)=>new Promise((r,o)=>{var i=a=>{try{c(t.next(a))}catch(u){o(u)}},s=a=>{try{c(t.throw(a))}catch(u){o(u)}},c=a=>a.done?r(a.value):Promise.resolve(a.value).then(i,s);c((t=t.apply(e,n)).next())});var kD=he((G9,Cr)=>{"use strict";function Dm(e){"@babel/helpers - typeof";return Cr.exports=Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports,Dm(e)}Cr.exports=Dm,Cr.exports.__esModule=!0,Cr.exports.default=Cr.exports});var UD=he((W9,_r)=>{"use strict";var LD=kD().default;function FD(){"use strict";_r.exports=FD=function(){return n},_r.exports.__esModule=!0,_r.exports.default=_r.exports;var e,n={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(C,R,U){C[R]=U.value},i=typeof Symbol=="function"?Symbol:{},s=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(C,R,U){return Object.defineProperty(C,R,{value:U,enumerable:!0,configurable:!0,writable:!0}),C[R]}try{u({},"")}catch{u=function(U,G,z){return U[G]=z}}function d(C,R,U,G){var z=R&&R.prototype instanceof D?R:D,W=Object.create(z.prototype),$=new P(G||[]);return o(W,"_invoke",{value:L(C,U,$)}),W}function p(C,R,U){try{return{type:"normal",arg:C.call(R,U)}}catch(G){return{type:"throw",arg:G}}}n.wrap=d;var g="suspendedStart",f="suspendedYield",h="executing",v="completed",S={};function D(){}function T(){}function m(){}var E={};u(E,s,function(){return this});var A=Object.getPrototypeOf,I=A&&A(A(F([])));I&&I!==t&&r.call(I,s)&&(E=I);var w=m.prototype=D.prototype=Object.create(E);function M(C){["next","throw","return"].forEach(function(R){u(C,R,function(U){return this._invoke(R,U)})})}function O(C,R){function U(z,W,$,B){var te=p(C[z],C,W);if(te.type!=="throw"){var ae=te.arg,pe=ae.value;return pe&&LD(pe)=="object"&&r.call(pe,"__await")?R.resolve(pe.__await).then(function(ye){U("next",ye,$,B)},function(ye){U("throw",ye,$,B)}):R.resolve(pe).then(function(ye){ae.value=ye,$(ae)},function(ye){return U("throw",ye,$,B)})}B(te.arg)}var G;o(this,"_invoke",{value:function(W,$){function B(){return new R(function(te,ae){U(W,$,te,ae)})}return G=G?G.then(B,B):B()}})}function L(C,R,U){var G=g;return function(z,W){if(G===h)throw Error("Generator is already running");if(G===v){if(z==="throw")throw W;return{value:e,done:!0}}for(U.method=z,U.arg=W;;){var $=U.delegate;if($){var B=x($,U);if(B){if(B===S)continue;return B}}if(U.method==="next")U.sent=U._sent=U.arg;else if(U.method==="throw"){if(G===g)throw G=v,U.arg;U.dispatchException(U.arg)}else U.method==="return"&&U.abrupt("return",U.arg);G=h;var te=p(C,R,U);if(te.type==="normal"){if(G=U.done?v:f,te.arg===S)continue;return{value:te.arg,done:U.done}}te.type==="throw"&&(G=v,U.method="throw",U.arg=te.arg)}}}function x(C,R){var U=R.method,G=C.iterator[U];if(G===e)return R.delegate=null,U==="throw"&&C.iterator.return&&(R.method="return",R.arg=e,x(C,R),R.method==="throw")||U!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+U+"' method")),S;var z=p(G,C.iterator,R.arg);if(z.type==="throw")return R.method="throw",R.arg=z.arg,R.delegate=null,S;var W=z.arg;return W?W.done?(R[C.resultName]=W.value,R.next=C.nextLoc,R.method!=="return"&&(R.method="next",R.arg=e),R.delegate=null,S):W:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,S)}function N(C){var R={tryLoc:C[0]};1 in C&&(R.catchLoc=C[1]),2 in C&&(R.finallyLoc=C[2],R.afterLoc=C[3]),this.tryEntries.push(R)}function k(C){var R=C.completion||{};R.type="normal",delete R.arg,C.completion=R}function P(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(N,this),this.reset(!0)}function F(C){if(C||C===""){var R=C[s];if(R)return R.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var U=-1,G=function z(){for(;++U<C.length;)if(r.call(C,U))return z.value=C[U],z.done=!1,z;return z.value=e,z.done=!0,z};return G.next=G}}throw new TypeError(LD(C)+" is not iterable")}return T.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:T,configurable:!0}),T.displayName=u(m,a,"GeneratorFunction"),n.isGeneratorFunction=function(C){var R=typeof C=="function"&&C.constructor;return!!R&&(R===T||(R.displayName||R.name)==="GeneratorFunction")},n.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,m):(C.__proto__=m,u(C,a,"GeneratorFunction")),C.prototype=Object.create(w),C},n.awrap=function(C){return{__await:C}},M(O.prototype),u(O.prototype,c,function(){return this}),n.AsyncIterator=O,n.async=function(C,R,U,G,z){z===void 0&&(z=Promise);var W=new O(d(C,R,U,G),z);return n.isGeneratorFunction(R)?W:W.next().then(function($){return $.done?$.value:W.next()})},M(w),u(w,a,"Generator"),u(w,s,function(){return this}),u(w,"toString",function(){return"[object Generator]"}),n.keys=function(C){var R=Object(C),U=[];for(var G in R)U.push(G);return U.reverse(),function z(){for(;U.length;){var W=U.pop();if(W in R)return z.value=W,z.done=!1,z}return z.done=!0,z}},n.values=F,P.prototype={constructor:P,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(k),!R)for(var U in this)U.charAt(0)==="t"&&r.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=e)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var U=this;function G(ae,pe){return $.type="throw",$.arg=R,U.next=ae,pe&&(U.method="next",U.arg=e),!!pe}for(var z=this.tryEntries.length-1;z>=0;--z){var W=this.tryEntries[z],$=W.completion;if(W.tryLoc==="root")return G("end");if(W.tryLoc<=this.prev){var B=r.call(W,"catchLoc"),te=r.call(W,"finallyLoc");if(B&&te){if(this.prev<W.catchLoc)return G(W.catchLoc,!0);if(this.prev<W.finallyLoc)return G(W.finallyLoc)}else if(B){if(this.prev<W.catchLoc)return G(W.catchLoc,!0)}else{if(!te)throw Error("try statement without catch or finally");if(this.prev<W.finallyLoc)return G(W.finallyLoc)}}}},abrupt:function(R,U){for(var G=this.tryEntries.length-1;G>=0;--G){var z=this.tryEntries[G];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var W=z;break}}W&&(R==="break"||R==="continue")&&W.tryLoc<=U&&U<=W.finallyLoc&&(W=null);var $=W?W.completion:{};return $.type=R,$.arg=U,W?(this.method="next",this.next=W.finallyLoc,S):this.complete($)},complete:function(R,U){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&U&&(this.next=U),S},finish:function(R){for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U];if(G.finallyLoc===R)return this.complete(G.completion,G.afterLoc),k(G),S}},catch:function(R){for(var U=this.tryEntries.length-1;U>=0;--U){var G=this.tryEntries[U];if(G.tryLoc===R){var z=G.completion;if(z.type==="throw"){var W=z.arg;k(G)}return W}}throw Error("illegal catch attempt")},delegateYield:function(R,U,G){return this.delegate={iterator:F(R),resultName:U,nextLoc:G},this.method==="next"&&(this.arg=e),S}},n}_r.exports=FD,_r.exports.__esModule=!0,_r.exports.default=_r.exports});var Im=he((z9,jD)=>{"use strict";var cf=UD()();jD.exports=cf;try{regeneratorRuntime=cf}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=cf:Function("r","regeneratorRuntime = r")(cf)}});var Sf=he((bZ,II)=>{"use strict";var kL=function(n){return LL(n)&&!FL(n)};function LL(e){return!!e&&typeof e=="object"}function FL(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||VL(e)}var UL=typeof Symbol=="function"&&Symbol.for,jL=UL?Symbol.for("react.element"):60103;function VL(e){return e.$$typeof===jL}function $L(e){return Array.isArray(e)?[]:{}}function Cc(e,n){return n.clone!==!1&&n.isMergeableObject(e)?Ps($L(e),e,n):e}function BL(e,n,t){return e.concat(n).map(function(r){return Cc(r,t)})}function HL(e,n){if(!n.customMerge)return Ps;var t=n.customMerge(e);return typeof t=="function"?t:Ps}function GL(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}function EI(e){return Object.keys(e).concat(GL(e))}function DI(e,n){try{return n in e}catch{return!1}}function WL(e,n){return DI(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))}function zL(e,n,t){var r={};return t.isMergeableObject(e)&&EI(e).forEach(function(o){r[o]=Cc(e[o],t)}),EI(n).forEach(function(o){WL(e,o)||(DI(e,o)&&t.isMergeableObject(n[o])?r[o]=HL(o,t)(e[o],n[o],t):r[o]=Cc(n[o],t))}),r}function Ps(e,n,t){t=t||{},t.arrayMerge=t.arrayMerge||BL,t.isMergeableObject=t.isMergeableObject||kL,t.cloneUnlessOtherwiseSpecified=Cc;var r=Array.isArray(n),o=Array.isArray(e),i=r===o;return i?r?t.arrayMerge(e,n,t):zL(e,n,t):Cc(n,t)}Ps.all=function(n,t){if(!Array.isArray(n))throw new Error("first argument should be an array");return n.reduce(function(r,o){return Ps(r,o,t)},{})};var qL=Ps;II.exports=qL});var zm=he((TZ,_I)=>{"use strict";_I.exports=function(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1}});var RI=he((xZ,PI)=>{"use strict";var MI=zm();PI.exports=function(e,n,t){if(MI(t)||(t={default:t}),!xI(e))return typeof t.default<"u"?t.default:e;typeof n=="number"&&(n=String(n));let r=Array.isArray(n),o=typeof n=="string",i=t.separator||".",s=t.joinChar||(typeof i=="string"?i:".");if(!o&&!r)return e;if(o&&n in e)return qm(n,e,t)?e[n]:t.default;let c=r?n:YL(n,i,t),a=c.length,u=0;do{let d=c[u];for(typeof d=="number"&&(d=String(d));d&&d.slice(-1)==="\\";)d=TI([d.slice(0,-1),c[++u]||""],s,t);if(d in e){if(!qm(d,e,t))return t.default;e=e[d]}else{let p=!1,g=u+1;for(;g<a;)if(d=TI([d,c[g++]],s,t),p=d in e){if(!qm(d,e,t))return t.default;e=e[d],u=g-1;break}if(!p)return t.default}}while(++u<a&&xI(e));return u===a?e:t.default};function TI(e,n,t){return typeof t.join=="function"?t.join(e):e[0]+n+e[1]}function YL(e,n,t){return typeof t.split=="function"?t.split(e):e.split(n)}function qm(e,n,t){return typeof t.isValid=="function"?t.isValid(e,n):!0}function xI(e){return MI(e)||Array.isArray(e)||typeof e=="function"}});var NI=he((MZ,OI)=>{"use strict";OI.exports=function(n){return typeof n=="object"?n===null:typeof n!="function"}});var FI=he((PZ,LI)=>{"use strict";var ZL=zm();function kI(e){return ZL(e)===!0&&Object.prototype.toString.call(e)==="[object Object]"}LI.exports=function(n){var t,r;return!(kI(n)===!1||(t=n.constructor,typeof t!="function")||(r=t.prototype,kI(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)}});var Zm=he((RZ,$I)=>{"use strict";var{deleteProperty:KL}=Reflect,QL=NI(),UI=FI(),jI=e=>typeof e=="object"&&e!==null||typeof e=="function",JL=e=>e==="__proto__"||e==="constructor"||e==="prototype",Ym=e=>{if(!QL(e))throw new TypeError("Object keys must be strings or symbols");if(JL(e))throw new Error(`Cannot set unsafe key: "${e}"`)},XL=e=>Array.isArray(e)?e.flat().map(String).join(","):e,eF=(e,n)=>{if(typeof e!="string"||!n)return e;let t=e+";";return n.arrays!==void 0&&(t+=`arrays=${n.arrays};`),n.separator!==void 0&&(t+=`separator=${n.separator};`),n.split!==void 0&&(t+=`split=${n.split};`),n.merge!==void 0&&(t+=`merge=${n.merge};`),n.preservePaths!==void 0&&(t+=`preservePaths=${n.preservePaths};`),t},tF=(e,n,t)=>{let r=XL(n?eF(e,n):e);Ym(r);let o=Jo.cache.get(r)||t();return Jo.cache.set(r,o),o},nF=(e,n={})=>{let t=n.separator||".",r=t==="/"?!1:n.preservePaths;if(typeof e=="string"&&r!==!1&&/\//.test(e))return[e];let o=[],i="",s=c=>{let a;c.trim()!==""&&Number.isInteger(a=Number(c))?o.push(a):o.push(c)};for(let c=0;c<e.length;c++){let a=e[c];if(a==="\\"){i+=e[++c];continue}if(a===t){s(i),i="";continue}i+=a}return i&&s(i),o},VI=(e,n)=>n&&typeof n.split=="function"?n.split(e):typeof e=="symbol"?[e]:Array.isArray(e)?e:tF(e,n,()=>nF(e,n)),rF=(e,n,t,r)=>{if(Ym(n),t===void 0)KL(e,n);else if(r&&r.merge){let o=r.merge==="function"?r.merge:Object.assign;o&&UI(e[n])&&UI(t)?e[n]=o(e[n],t):e[n]=t}else e[n]=t;return e},Jo=(e,n,t,r)=>{if(!n||!jI(e))return e;let o=VI(n,r),i=e;for(let s=0;s<o.length;s++){let c=o[s],a=o[s+1];if(Ym(c),a===void 0){rF(i,c,t,r);break}if(typeof a=="number"&&!Array.isArray(i[c])){i=i[c]=[];continue}jI(i[c])||(i[c]={}),i=i[c]}return e};Jo.split=VI;Jo.cache=new Map;Jo.clear=()=>{Jo.cache=new Map};$I.exports=Jo});var dv=he((CK,KI)=>{"use strict";KI.exports=function e(n,t){if(n===t)return!0;if(n&&t&&typeof n=="object"&&typeof t=="object"){if(n.constructor!==t.constructor)return!1;var r,o,i;if(Array.isArray(n)){if(r=n.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!e(n[o],t[o]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if(i=Object.keys(n),r=i.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[o]))return!1;for(o=r;o--!==0;){var s=i[o];if(!e(n[s],t[s]))return!1}return!0}return n!==n&&t!==t}});var fv=he(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.RuleEvaluationResultEnum=jn.TreatmentEnum=jn.ConditionLogicEnum=void 0;var dF;(function(e){e.And="and"})(dF=jn.ConditionLogicEnum||(jn.ConditionLogicEnum={}));var fF;(function(e){e.True="true",e.False="false"})(fF=jn.TreatmentEnum||(jn.TreatmentEnum={}));var pF;(function(e){e.Treatable="treatable",e.Insufficient="insufficient"})(pF=jn.RuleEvaluationResultEnum||(jn.RuleEvaluationResultEnum={}))});var QI=he(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.OperationEnum=void 0;var hF;(function(e){e.InList="in_list",e.StartsWith="starts_with",e.EndsWith="ends_with",e.Contains="contains",e.Matches="matches",e.Equal="equal",e.GreaterThan="greater_than",e.GreaterThanEqual="greater_than_equal",e.LesserThan="lower_than",e.LesserThanEqual="lower_than_equal",e.BetweenNumeric="between_numeric",e.Is="is",e.On="on",e.BetweenDate="between_date",e.OnOrAfter="on_or_after",e.OnOrBefore="on_or_before"})(hF=Lc.OperationEnum||(Lc.OperationEnum={}))});var sr=he(ti=>{"use strict";var gF=ti&&ti.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),mF=ti&&ti.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&gF(n,e,t)};Object.defineProperty(ti,"__esModule",{value:!0});mF(QI(),ti)});var pv=he(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.useMatchesOperation=vn.useInListOperation=vn.useContainsOperation=vn.useEndsWithOperation=vn.useStartsWithOperation=void 0;function vF(e){return n=>({isValid:e.list.some(t=>n.startsWith(t))})}vn.useStartsWithOperation=vF;function yF(e){return n=>({isValid:e.list.some(t=>n.endsWith(t))})}vn.useEndsWithOperation=yF;function SF(e){return n=>({isValid:e.list.some(t=>n.includes(t))})}vn.useContainsOperation=SF;function bF(e){return n=>({isValid:e.list.includes(n)})}vn.useInListOperation=bF;function AF(e){return n=>{let t;try{t=new RegExp(e.string)}catch{return{isValid:!1}}return{isValid:t.test(n)}}}vn.useMatchesOperation=AF});var XI=he(JI=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0})});var tC=he(ar=>{"use strict";var wF=ar&&ar.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),eC=ar&&ar.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&wF(n,e,t)};Object.defineProperty(ar,"__esModule",{value:!0});ar.StringOperationsMapper=void 0;var Fc=sr(),Uc=pv();eC(pv(),ar);eC(XI(),ar);ar.StringOperationsMapper={[Fc.OperationEnum.StartsWith]:e=>(0,Uc.useStartsWithOperation)(e),[Fc.OperationEnum.EndsWith]:e=>(0,Uc.useEndsWithOperation)(e),[Fc.OperationEnum.Contains]:e=>(0,Uc.useContainsOperation)(e),[Fc.OperationEnum.InList]:e=>(0,Uc.useInListOperation)(e),[Fc.OperationEnum.Matches]:e=>(0,Uc.useMatchesOperation)(e)}});var hv=he(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.useBetweenNumericOperation=zt.useLesserThanEqualOperation=zt.useLesserThanOperation=zt.useGreaterThanEqualOperation=zt.useGreaterThanOperation=zt.useEqualsOperation=void 0;function EF(e){return n=>({isValid:n===e.number})}zt.useEqualsOperation=EF;function DF(e){return n=>({isValid:n>e.number})}zt.useGreaterThanOperation=DF;function IF(e){return n=>({isValid:n>=e.number})}zt.useGreaterThanEqualOperation=IF;function CF(e){return n=>({isValid:n<e.number})}zt.useLesserThanOperation=CF;function _F(e){return n=>({isValid:n<=e.number})}zt.useLesserThanEqualOperation=_F;function TF(e){return n=>({isValid:n>=e.start&&n<=e.end})}zt.useBetweenNumericOperation=TF});var nC=he(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.NumericSanitizersMapper=qt.sanitizeNumericRange=qt.sanitizeSingleNumber=void 0;var Ns=sr(),gv=e=>typeof e=="number",xF=e=>{let n=e.number!==void 0&&gv(e.number)?{number:e.number}:void 0;return{isSanitized:!!n,sanitizedValue:n}};qt.sanitizeSingleNumber=xF;var MF=e=>{let n=e.start!==void 0&&e.end!==void 0&&gv(e.start)&&gv(e.end)?{start:e.start,end:e.end}:void 0;return{isSanitized:!!n,sanitizedValue:n}};qt.sanitizeNumericRange=MF;qt.NumericSanitizersMapper={[Ns.OperationEnum.Equal]:qt.sanitizeSingleNumber,[Ns.OperationEnum.GreaterThan]:qt.sanitizeSingleNumber,[Ns.OperationEnum.GreaterThanEqual]:qt.sanitizeSingleNumber,[Ns.OperationEnum.LesserThan]:qt.sanitizeSingleNumber,[Ns.OperationEnum.LesserThanEqual]:qt.sanitizeSingleNumber,[Ns.OperationEnum.BetweenNumeric]:qt.sanitizeNumericRange}});var oC=he(rC=>{"use strict";Object.defineProperty(rC,"__esModule",{value:!0})});var vv=he(Vn=>{"use strict";var PF=Vn&&Vn.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),mv=Vn&&Vn.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&PF(n,e,t)};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.NumericOperationsMapper=void 0;var ks=sr(),Ls=hv();Vn.NumericOperationsMapper={[ks.OperationEnum.Equal]:e=>(0,Ls.useEqualsOperation)(e),[ks.OperationEnum.GreaterThan]:e=>(0,Ls.useGreaterThanOperation)(e),[ks.OperationEnum.GreaterThanEqual]:e=>(0,Ls.useGreaterThanEqualOperation)(e),[ks.OperationEnum.LesserThan]:e=>(0,Ls.useLesserThanOperation)(e),[ks.OperationEnum.LesserThanEqual]:e=>(0,Ls.useLesserThanEqualOperation)(e),[ks.OperationEnum.BetweenNumeric]:e=>(0,Ls.useBetweenNumericOperation)(e)};mv(hv(),Vn);mv(nC(),Vn);mv(oC(),Vn)});var yv=he(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.useDateBetweenOperation=cr.useDateOnOrBeforeOperation=cr.useDateOnOrAfterOperation=cr.useDateOnOperation=void 0;function RF(e){return n=>({isValid:n.getTime()===e.date.getTime()})}cr.useDateOnOperation=RF;function OF(e){return n=>({isValid:n.getTime()>=e.date.getTime()})}cr.useDateOnOrAfterOperation=OF;function NF(e){return n=>({isValid:n.getTime()<=e.date.getTime()})}cr.useDateOnOrBeforeOperation=NF;function kF(e){return n=>({isValid:n.getTime()>=e.start.getTime()&&n.getTime()<=e.end.getTime()})}cr.useDateBetweenOperation=kF});var sC=he(iC=>{"use strict";Object.defineProperty(iC,"__esModule",{value:!0})});var cC=he(lr=>{"use strict";var LF=lr&&lr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),aC=lr&&lr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&LF(n,e,t)};Object.defineProperty(lr,"__esModule",{value:!0});lr.DateOperationsMapper=void 0;var Cf=sr(),_f=yv();aC(yv(),lr);aC(sC(),lr);lr.DateOperationsMapper={[Cf.OperationEnum.On]:e=>(0,_f.useDateOnOperation)(e),[Cf.OperationEnum.OnOrAfter]:e=>(0,_f.useDateOnOrAfterOperation)(e),[Cf.OperationEnum.OnOrBefore]:e=>(0,_f.useDateOnOrBeforeOperation)(e),[Cf.OperationEnum.BetweenDate]:e=>(0,_f.useDateBetweenOperation)(e)}});var Sv=he(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});Tf.useIsOperation=void 0;function FF(e){return n=>({isValid:n===e.boolean})}Tf.useIsOperation=FF});var lC=he(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.BooleanSanitizersMapper=ni.singleBooleanSanitizer=void 0;var UF=sr(),jF=e=>typeof e=="boolean",VF=e=>{let n=e.boolean!==void 0&&jF(e.boolean)?{boolean:e.boolean}:void 0;return{isSanitized:!!n,sanitizedValue:n}};ni.singleBooleanSanitizer=VF;ni.BooleanSanitizersMapper={[UF.OperationEnum.Is]:ni.singleBooleanSanitizer}});var bv=he(ur=>{"use strict";var $F=ur&&ur.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),uC=ur&&ur.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&$F(n,e,t)};Object.defineProperty(ur,"__esModule",{value:!0});ur.BooleanOperationsMapper=void 0;var BF=sr(),HF=Sv();uC(Sv(),ur);uC(lC(),ur);ur.BooleanOperationsMapper={[BF.OperationEnum.Is]:e=>(0,HF.useIsOperation)(e)}});var dC=he(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});xf.useOperation=void 0;var GF=tC(),WF=vv(),zF=cC(),qF=bv(),YF=ne(ne(ne(ne({},GF.StringOperationsMapper),WF.NumericOperationsMapper),zF.DateOperationsMapper),qF.BooleanOperationsMapper);function ZF(e,n){let t=YF[e];return t?t(n):void 0}xf.useOperation=ZF});var pC=he(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.StringSanitizersMapper=tn.sanitizeListString=tn.sanitizeSingleString=void 0;var jc=sr(),fC=e=>typeof e=="string",KF=e=>{let n=e.string!==void 0&&fC(e.string)?{string:e.string}:void 0;return{isSanitized:!!n,sanitizedValue:n}};tn.sanitizeSingleString=KF;var QF=e=>{let n=e.list!==void 0&&e.list.every(t=>fC(t))?{list:e.list}:void 0;return{isSanitized:!!n,sanitizedValue:n}};tn.sanitizeListString=QF;tn.StringSanitizersMapper={[jc.OperationEnum.Matches]:tn.sanitizeSingleString,[jc.OperationEnum.Contains]:tn.sanitizeListString,[jc.OperationEnum.StartsWith]:tn.sanitizeListString,[jc.OperationEnum.EndsWith]:tn.sanitizeListString,[jc.OperationEnum.InList]:tn.sanitizeListString}});var hC=he(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.DateSanitizersMapper=tt.sanitizeDateRange=tt.sanitizeSingleDate=tt.isValidDate=tt.sanitizeDateValue=void 0;var Mf=sr(),JF=e=>new Date(e);tt.sanitizeDateValue=JF;var XF=e=>e instanceof Date&&!isNaN(e);tt.isValidDate=XF;var eU=e=>{let n=e.date?(0,tt.sanitizeDateValue)(e.date):void 0,t=n&&(0,tt.isValidDate)(n)?{date:n}:void 0;return{isSanitized:!!t,sanitizedValue:t}};tt.sanitizeSingleDate=eU;var tU=e=>{let n=e.start?(0,tt.sanitizeDateValue)(e.start):void 0,t=e.end?(0,tt.sanitizeDateValue)(e.end):void 0,r=n&&t&&(0,tt.isValidDate)(n)&&(0,tt.isValidDate)(t)?{start:n,end:t}:void 0;return{isSanitized:!!r,sanitizedValue:r}};tt.sanitizeDateRange=tU;tt.DateSanitizersMapper={[Mf.OperationEnum.On]:tt.sanitizeSingleDate,[Mf.OperationEnum.OnOrAfter]:tt.sanitizeSingleDate,[Mf.OperationEnum.OnOrBefore]:tt.sanitizeSingleDate,[Mf.OperationEnum.BetweenDate]:tt.sanitizeDateRange}});var gC=he(Pf=>{"use strict";Object.defineProperty(Pf,"__esModule",{value:!0});Pf.useSanitizer=void 0;var nU=bv(),rU=pC(),oU=hC(),iU=vv(),sU=ne(ne(ne(ne({},rU.StringSanitizersMapper),iU.NumericSanitizersMapper),oU.DateSanitizersMapper),nU.BooleanSanitizersMapper);function aU(e){return sU[e]}Pf.useSanitizer=aU});var vC=he(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});Rf.createConditionEvaluator=void 0;var cU=dC(),lU=gC();function mC(){return()=>!1}function uU(e){let n=(0,lU.useSanitizer)(e.condition.op);if(!n)return mC();let{isSanitized:t,sanitizedValue:r}=n(e.condition.value);if(!t||r===void 0)return mC();let o=(0,cU.useOperation)(e.condition.op,r);return i=>{let s=e.condition.attribute,c=i[s];if(c===void 0||!o)return!1;let{isValid:a}=o(c);return e.condition.negate?!a:a}}Rf.createConditionEvaluator=uU});var SC=he(yC=>{"use strict";Object.defineProperty(yC,"__esModule",{value:!0})});var AC=he(no=>{"use strict";var dU=no&&no.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),bC=no&&no.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&dU(n,e,t)};Object.defineProperty(no,"__esModule",{value:!0});bC(vC(),no);bC(SC(),no)});var EC=he(Of=>{"use strict";Object.defineProperty(Of,"__esModule",{value:!0});Of.createRuleEvaluator=void 0;var wC=fv(),fU=AC();function pU(e){return n=>e.rule.conditions.every(r=>(0,fU.createConditionEvaluator)({condition:r})(n))?wC.RuleEvaluationResultEnum.Treatable:wC.RuleEvaluationResultEnum.Insufficient}Of.createRuleEvaluator=pU});var Fs=he(ro=>{"use strict";var hU=ro&&ro.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),DC=ro&&ro.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&hU(n,e,t)};Object.defineProperty(ro,"__esModule",{value:!0});DC(fv(),ro);DC(EC(),ro)});var CC=he(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.evaluateFeatureFlag=void 0;var IC=Fs();function gU(e,n){if(!e.on)return{treatment:e.offTreatment};let t=mU(e,n);return t?{treatment:t.treatment}:{treatment:e.defaultTreatment}}Nf.evaluateFeatureFlag=gU;function mU(e,n){var t;return(t=e.rules)===null||t===void 0?void 0:t.find(r=>(0,IC.createRuleEvaluator)({rule:r})(n)===IC.RuleEvaluationResultEnum.Treatable)}});var Av=he(ri=>{"use strict";var vU=ri&&ri.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),yU=ri&&ri.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&vU(n,e,t)};Object.defineProperty(ri,"__esModule",{value:!0});yU(CC(),ri)});var TC=he(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});kf.evaluatePlan=void 0;var _C=Fs();function SU(e,n){let t=bU(e,n);return t?{treatment:t.treatment}:{treatment:e.defaultTreatment}}kf.evaluatePlan=SU;function bU(e,n){var t;return(t=e.rules)===null||t===void 0?void 0:t.find(r=>(0,_C.createRuleEvaluator)({rule:r})(n)===_C.RuleEvaluationResultEnum.Treatable)}});var wv=he(oi=>{"use strict";var AU=oi&&oi.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),wU=oi&&oi.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&AU(n,e,t)};Object.defineProperty(oi,"__esModule",{value:!0});wU(TC(),oi)});var oo=he(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.NO_EXPIRATION_TIME=ii.NotEntitledJustification=void 0;var EU;(function(e){e.MISSING_FEATURE="MISSING_FEATURE",e.MISSING_PERMISSION="MISSING_PERMISSION",e.BUNDLE_EXPIRED="BUNDLE_EXPIRED"})(EU=ii.NotEntitledJustification||(ii.NotEntitledJustification={}));ii.NO_EXPIRATION_TIME=-1});var Ev=he(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.createPermissionCheckRegex=Us.checkPermission=void 0;function DU(e,n){return Object.keys(e).some(t=>xC(t).test(n))}Us.checkPermission=DU;function xC(e){return new RegExp("^"+e.replace(/\./g,"\\.").replace(/\*/g,".*")+"$","gs")}Us.createPermissionCheckRegex=xC});var MC=he(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});Lf.flatten=void 0;function IU(e,n){n=n||{};let t=n?.delimiter||".",r=n?.maxDepth,o=n?.transformKey||_U,i={};function s(c,a,u){u=u||1,Object.keys(c).forEach(function(d){let p=c[d],g=n?.safe&&Array.isArray(p),f=Object.prototype.toString.call(p),h=CU(p),v=f==="[object Object]"||f==="[object Array]",S=a?a+t+o(d):o(d);if(!g&&!h&&v&&Object.keys(p).length&&(!n?.maxDepth||r&&u<r))return s(p,S,u+1);i[S]=p})}return s(e),i}Lf.flatten=IU;function CU(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function _U(e){return e}});var Ff=he(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.modifyObjectKeysWithPrefix=io.defaultFronteggAttributesMapper=io.prepareAttributes=void 0;var TU=MC();function xU(e={},n){let{custom:t={},jwt:r={}}=e,o=(0,TU.flatten)(r),i=n?n(r):PC(r);return ne(ne(ne({},t),Dv(i,"frontegg.")),Dv(o,"jwt."))}io.prepareAttributes=xU;function PC(e){return{email:e.email,emailVerified:e.email_verified,tenantId:e.tenantId,userId:e.id}}io.defaultFronteggAttributesMapper=PC;function Dv(e,n){return Object.keys(e).reduce((t,r)=>(t[`${n}${r}`]=e[r],t),{})}io.modifyObjectKeysWithPrefix=Dv});var RC=he(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.shouldContinue=js.getResult=void 0;var Iv=oo();function MU(e){let n=!1;for(let t of e){if(t.isEntitled)return t;t.justification===Iv.NotEntitledJustification.BUNDLE_EXPIRED&&(n=!0)}return{isEntitled:!1,justification:n?Iv.NotEntitledJustification.BUNDLE_EXPIRED:Iv.NotEntitledJustification.MISSING_FEATURE}}js.getResult=MU;function PU(e){return e.every(({isEntitled:n})=>!n)}js.shouldContinue=PU});var Uf=he(Rr=>{"use strict";var RU=Rr&&Rr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),Cv=Rr&&Rr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&RU(n,e,t)};Object.defineProperty(Rr,"__esModule",{value:!0});Cv(Ev(),Rr);Cv(Ff(),Rr);Cv(RC(),Rr)});var OC=he(jf=>{"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.directEntitlementEvalutor=void 0;var _v=oo();function OU(e,n,t={}){let r=n.features[e],o=!1;return r&&r.expireTime!==null&&(o=r.expireTime!==_v.NO_EXPIRATION_TIME&&r.expireTime<Date.now(),!o)?{isEntitled:!0}:{isEntitled:!1,justification:o?_v.NotEntitledJustification.BUNDLE_EXPIRED:_v.NotEntitledJustification.MISSING_FEATURE}}jf.directEntitlementEvalutor=OU});var NC=he(Vf=>{"use strict";Object.defineProperty(Vf,"__esModule",{value:!0});Vf.featureFlagEvaluator=void 0;var NU=oo(),kU=Av(),LU=Ff(),FU=Fs();function UU(e,n,t={}){let r=n.features[e];if(r&&r.featureFlag){let o=(0,LU.prepareAttributes)(t),{treatment:i}=(0,kU.evaluateFeatureFlag)(r.featureFlag,o);if(i===FU.TreatmentEnum.True)return{isEntitled:!0}}return{isEntitled:!1,justification:NU.NotEntitledJustification.MISSING_FEATURE}}Vf.featureFlagEvaluator=UU});var kC=he($f=>{"use strict";Object.defineProperty($f,"__esModule",{value:!0});$f.planTargetingRulesEvalutor=void 0;var jU=oo(),VU=Ff(),$U=Fs(),BU=wv();function HU(e,n,t={}){let r=n.features[e];if(r&&r.planIds&&r.planIds.length>0){let o=(0,VU.prepareAttributes)(t),i=n.plans;for(let s of r.planIds){let c=i[s];if(c){let{treatment:a}=(0,BU.evaluatePlan)(c,o);if(a===$U.TreatmentEnum.True)return{isEntitled:!0}}}}return{isEntitled:!1,justification:jU.NotEntitledJustification.MISSING_FEATURE}}$f.planTargetingRulesEvalutor=HU});var LC=he(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.getIsEntitledEvaluators=void 0;var GU=OC(),WU=NC(),zU=kC();function qU(){return[GU.directEntitlementEvalutor,WU.featureFlagEvaluator,zU.planTargetingRulesEvalutor]}Bf.getIsEntitledEvaluators=qU});var Tv=he(Hf=>{"use strict";Object.defineProperty(Hf,"__esModule",{value:!0});Hf.evaluateIsEntitledToFeature=void 0;var YU=oo(),FC=Uf(),ZU=LC();function KU(e,n,t={}){if(!n)return{isEntitled:!1,justification:YU.NotEntitledJustification.MISSING_FEATURE};let r=[];for(let o of(0,ZU.getIsEntitledEvaluators)())if(r.push(o(e,n,t)),!(0,FC.shouldContinue)(r))break;return(0,FC.getResult)(r)}Hf.evaluateIsEntitledToFeature=KU});var UC=he(si=>{"use strict";var QU=si&&si.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),JU=si&&si.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&QU(n,e,t)};Object.defineProperty(si,"__esModule",{value:!0});JU(Tv(),si)});var $C=he(Gf=>{"use strict";Object.defineProperty(Gf,"__esModule",{value:!0});Gf.evaluateIsEntitledToPermissions=void 0;var XU=Tv(),jC=oo(),VC=Uf(),ej=Ev();function tj(e,n,t){if(!n)return{isEntitled:!1,justification:jC.NotEntitledJustification.MISSING_PERMISSION};if(!(0,ej.checkPermission)(n.permissions,e))return{isEntitled:!1,justification:jC.NotEntitledJustification.MISSING_PERMISSION};let o=nj(e,n);if(!o.length)return{isEntitled:!0};let i=[];for(let s of o)if(i.push((0,XU.evaluateIsEntitledToFeature)(s,n,t)),!(0,VC.shouldContinue)(i))break;return(0,VC.getResult)(i)}Gf.evaluateIsEntitledToPermissions=tj;function nj(e,n){return Object.keys(n.features).filter(t=>n.features[t].linkedPermissions.includes(e))}});var BC=he(ai=>{"use strict";var rj=ai&&ai.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),oj=ai&&ai.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&rj(n,e,t)};Object.defineProperty(ai,"__esModule",{value:!0});oj($C(),ai)});var HC=he(dr=>{"use strict";var ij=dr&&dr.__createBinding||(Object.create?function(e,n,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(n,t);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,o)}:function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]}),Wf=dr&&dr.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&ij(n,e,t)};Object.defineProperty(dr,"__esModule",{value:!0});Wf(UC(),dr);Wf(BC(),dr);Wf(oo(),dr);Wf(Uf(),dr)});var GC=he(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.NotEntitledJustification=nt.createPermissionCheckRegex=nt.checkPermission=nt.prepareAttributes=nt.evaluateIsEntitledToPermissions=nt.evaluateIsEntitledToFeature=nt.OperationEnum=nt.TreatmentEnum=nt.evaluatePlan=nt.evaluateFeatureFlag=void 0;var sj=Av();Object.defineProperty(nt,"evaluateFeatureFlag",{enumerable:!0,get:function(){return sj.evaluateFeatureFlag}});var aj=wv();Object.defineProperty(nt,"evaluatePlan",{enumerable:!0,get:function(){return aj.evaluatePlan}});var cj=Fs();Object.defineProperty(nt,"TreatmentEnum",{enumerable:!0,get:function(){return cj.TreatmentEnum}});var lj=sr();Object.defineProperty(nt,"OperationEnum",{enumerable:!0,get:function(){return lj.OperationEnum}});var Vs=HC();Object.defineProperty(nt,"evaluateIsEntitledToFeature",{enumerable:!0,get:function(){return Vs.evaluateIsEntitledToFeature}});Object.defineProperty(nt,"evaluateIsEntitledToPermissions",{enumerable:!0,get:function(){return Vs.evaluateIsEntitledToPermissions}});Object.defineProperty(nt,"prepareAttributes",{enumerable:!0,get:function(){return Vs.prepareAttributes}});Object.defineProperty(nt,"checkPermission",{enumerable:!0,get:function(){return Vs.checkPermission}});Object.defineProperty(nt,"createPermissionCheckRegex",{enumerable:!0,get:function(){return Vs.createPermissionCheckRegex}});Object.defineProperty(nt,"NotEntitledJustification",{enumerable:!0,get:function(){return Vs.NotEntitledJustification}})});function hb(e,n){return Object.is(e,n)}var ht=null,Ql=!1,Ip=1,bi=Symbol("SIGNAL");function Me(e){let n=ht;return ht=e,n}function Cp(){return ht}var Jl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _p(e){if(Ql)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(e);let n=ht.nextProducerIndex++;if(eu(ht),n<ht.producerNode.length&&ht.producerNode[n]!==e&&Zs(ht)){let t=ht.producerNode[n];Xl(t,ht.producerIndexOfThis[n])}ht.producerNode[n]!==e&&(ht.producerNode[n]=e,ht.producerIndexOfThis[n]=Zs(ht)?Sb(e,ht,n):0),ht.producerLastReadVersion[n]=e.version}function gb(){Ip++}function mb(e){if(!(Zs(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ip)){if(!e.producerMustRecompute(e)&&!Mp(e)){Dp(e);return}e.producerRecomputeValue(e),Dp(e)}}function Tp(e){if(e.liveConsumerNode===void 0)return;let n=Ql;Ql=!0;try{for(let t of e.liveConsumerNode)t.dirty||rx(t)}finally{Ql=n}}function vb(){return ht?.consumerAllowSignalWrites!==!1}function rx(e){e.dirty=!0,Tp(e),e.consumerMarkedDirty?.(e)}function Dp(e){e.dirty=!1,e.lastCleanEpoch=Ip}function xp(e){return e&&(e.nextProducerIndex=0),Me(e)}function yb(e,n){if(Me(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Zs(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Xl(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Mp(e){eu(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(mb(t),r!==t.version))return!0}return!1}function Pp(e){if(eu(e),Zs(e))for(let n=0;n<e.producerNode.length;n++)Xl(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Sb(e,n,t){if(bb(e),e.liveConsumerNode.length===0&&Ab(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Sb(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Xl(e,n){if(bb(e),e.liveConsumerNode.length===1&&Ab(e))for(let r=0;r<e.producerNode.length;r++)Xl(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];eu(o),o.producerIndexOfThis[r]=n}}function Zs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function eu(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function bb(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ab(e){return e.producerNode!==void 0}function ox(){throw new Error}var wb=ox;function ix(e){wb(e)}function Rp(e){wb=e}var sx=null;function Op(e,n){vb()||ix(e),e.equal(e.value,n)||(e.value=n,ax(e))}var Np=Ke(ne({},Jl),{equal:hb,value:void 0,kind:"signal"});function ax(e){e.version++,gb(),Tp(e),sx?.()}var kp;function Ks(){return kp}function fr(e){let n=kp;return kp=e,n}var tu=Symbol("NotFound");function we(e){return typeof e=="function"}function Ai(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var nu=Ai(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qs(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var it=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(we(r))try{r()}catch(i){n=i instanceof nu?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Eb(i)}catch(s){n=n??[],s instanceof nu?n=[...n,...s.errors]:n.push(s)}}if(n)throw new nu(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Eb(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Qs(t,n)}remove(n){let{_finalizers:t}=this;t&&Qs(t,n),n instanceof e&&n._removeParent(this)}};it.EMPTY=(()=>{let e=new it;return e.closed=!0,e})();var Lp=it.EMPTY;function ru(e){return e instanceof it||e&&"closed"in e&&we(e.remove)&&we(e.add)&&we(e.unsubscribe)}function Eb(e){we(e)?e():e.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(e,n,...t){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=wi;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function ou(e){wi.setTimeout(()=>{let{onUnhandledError:n}=In;if(n)n(e);else throw e})}function Js(){}var Db=Fp("C",void 0,void 0);function Ib(e){return Fp("E",void 0,e)}function Cb(e){return Fp("N",e,void 0)}function Fp(e,n,t){return{kind:e,value:n,error:t}}var mo=null;function Ei(e){if(In.useDeprecatedSynchronousErrorHandling){let n=!mo;if(n&&(mo={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=mo;if(mo=null,t)throw r}}else e()}function _b(e){In.useDeprecatedSynchronousErrorHandling&&mo&&(mo.errorThrown=!0,mo.error=e)}var vo=class extends it{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ru(n)&&n.add(this)):this.destination=vx}static create(n,t,r){return new Di(n,t,r)}next(n){this.isStopped?jp(Cb(n),this):this._next(n)}error(n){this.isStopped?jp(Ib(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?jp(Db,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gx=Function.prototype.bind;function Up(e,n){return gx.call(e,n)}var Vp=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){iu(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){iu(r)}else iu(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){iu(t)}}},Di=class extends vo{constructor(n,t,r){super();let o;if(we(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&In.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Up(n.next,i),error:n.error&&Up(n.error,i),complete:n.complete&&Up(n.complete,i)}):o=n}this.destination=new Vp(o)}};function iu(e){In.useDeprecatedSynchronousErrorHandling?_b(e):ou(e)}function mx(e){throw e}function jp(e,n){let{onStoppedNotification:t}=In;t&&wi.setTimeout(()=>t(e,n))}var vx={closed:!0,next:Js,error:mx,complete:Js};var Ii=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Yt(e){return e}function $p(...e){return Bp(e)}function Bp(e){return e.length===0?Yt:e.length===1?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}var je=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=Sx(t)?t:new Di(t,r,o);return Ei(()=>{let{operator:s,source:c}=this;i.add(s?s.call(i,c):c?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Tb(r),new r((o,i)=>{let s=new Di({next:c=>{try{t(c)}catch(a){i(a),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ii](){return this}pipe(...t){return Bp(t)(this)}toPromise(t){return t=Tb(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function Tb(e){var n;return(n=e??In.Promise)!==null&&n!==void 0?n:Promise}function yx(e){return e&&we(e.next)&&we(e.error)&&we(e.complete)}function Sx(e){return e&&e instanceof vo||yx(e)&&ru(e)}function Hp(e){return we(e?.lift)}function Re(e){return n=>{if(Hp(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(e,n,t,r,o){return new Gp(e,n,t,r,o)}var Gp=class extends vo{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(c){try{t(c)}catch(a){n.error(a)}}:super._next,this._error=o?function(c){try{o(c)}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Ci(){return Re((e,n)=>{let t=null;e._refCount++;let r=Oe(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var _i=class extends je{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hp(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new it;let t=this.getSubject();n.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=it.EMPTY)}return n}refCount(){return Ci()(this)}};var xb=Ai(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Dt=(()=>{class e extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new su(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xb}next(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Lp:(this.currentObservers=null,i.push(t),new it(()=>{this.currentObservers=null,Qs(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new je;return t.source=this,t}}return e.create=(n,t)=>new su(n,t),e})(),su=class extends Dt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Lp}};var oe=class extends Dt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var jt=new je(e=>e.complete());function Mb(e){return e&&we(e.schedule)}function Pb(e){return e[e.length-1]}function Rb(e){return we(Pb(e))?e.pop():void 0}function Nr(e){return Mb(Pb(e))?e.pop():void 0}function Xs(e,n,t,r){function o(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function c(d){try{u(r.next(d))}catch(p){s(p)}}function a(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?i(d.value):o(d.value).then(c,a)}u((r=r.apply(e,n||[])).next())})}function Ob(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e){return this instanceof yo?(this.v=e,this):new yo(e)}function Nb(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(f){return function(h){return Promise.resolve(h).then(f,p)}}function c(f,h){r[f]&&(o[f]=function(v){return new Promise(function(S,D){i.push([f,v,S,D])>1||a(f,v)})},h&&(o[f]=h(o[f])))}function a(f,h){try{u(r[f](h))}catch(v){g(i[0][3],v)}}function u(f){f.value instanceof yo?Promise.resolve(f.value.v).then(d,p):g(i[0][2],f)}function d(f){a("next",f)}function p(f){a("throw",f)}function g(f,h){f(h),i.shift(),i.length&&a(i[0][0],i[0][1])}}function kb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Ob=="function"?Ob(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(c,a){s=e[i](s),o(c,a,s.done,s.value)})}}function o(i,s,c,a){Promise.resolve(a).then(function(u){i({value:u,done:c})},s)}}var au=e=>e&&typeof e.length=="number"&&typeof e!="function";function cu(e){return we(e?.then)}function lu(e){return we(e[Ii])}function uu(e){return Symbol.asyncIterator&&we(e?.[Symbol.asyncIterator])}function du(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fu=bx();function pu(e){return we(e?.[fu])}function hu(e){return Nb(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:o}=yield yo(t.read());if(o)return yield yo(void 0);yield yield yo(r)}}finally{t.releaseLock()}})}function gu(e){return we(e?.getReader)}function mt(e){if(e instanceof je)return e;if(e!=null){if(lu(e))return Ax(e);if(au(e))return wx(e);if(cu(e))return Ex(e);if(uu(e))return Lb(e);if(pu(e))return Dx(e);if(gu(e))return Ix(e)}throw du(e)}function Ax(e){return new je(n=>{let t=e[Ii]();if(we(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function wx(e){return new je(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Ex(e){return new je(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,ou)})}function Dx(e){return new je(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function Lb(e){return new je(n=>{Cx(e,n).catch(t=>n.error(t))})}function Ix(e){return Lb(hu(e))}function Cx(e,n){var t,r,o,i;return Xs(this,void 0,void 0,function*(){try{for(t=kb(e);r=yield t.next(),!r.done;){let s=r.value;if(n.next(s),n.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})}function Vt(e,n,t,r=0,o=!1){let i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function mu(e,n=0){return Re((t,r)=>{t.subscribe(Oe(r,o=>Vt(r,e,()=>r.next(o),n),()=>Vt(r,e,()=>r.complete(),n),o=>Vt(r,e,()=>r.error(o),n)))})}function vu(e,n=0){return Re((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Fb(e,n){return mt(e).pipe(vu(n),mu(n))}function Ub(e,n){return mt(e).pipe(vu(n),mu(n))}function jb(e,n){return new je(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Vb(e,n){return new je(t=>{let r;return Vt(t,n,()=>{r=e[fu](),Vt(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>we(r?.return)&&r.return()})}function yu(e,n){if(!e)throw new Error("Iterable cannot be null");return new je(t=>{Vt(t,n,()=>{let r=e[Symbol.asyncIterator]();Vt(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function $b(e,n){return yu(hu(e),n)}function Bb(e,n){if(e!=null){if(lu(e))return Fb(e,n);if(au(e))return jb(e,n);if(cu(e))return Ub(e,n);if(uu(e))return yu(e,n);if(pu(e))return Vb(e,n);if(gu(e))return $b(e,n)}throw du(e)}function et(e,n){return n?Bb(e,n):mt(e)}function Ae(...e){let n=Nr(e);return et(e,n)}function Ti(e,n){let t=we(e)?e:()=>e,r=o=>o.error(t());return new je(n?o=>n.schedule(r,0,o):r)}function Wp(e){return!!e&&(e instanceof je||we(e.lift)&&we(e.subscribe))}var pr=Ai(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Fe(e,n){return Re((t,r)=>{let o=0;t.subscribe(Oe(r,i=>{r.next(e.call(n,i,o++))}))})}var{isArray:_x}=Array;function Tx(e,n){return _x(n)?e(...n):e(n)}function Hb(e){return Fe(n=>Tx(e,n))}var{isArray:xx}=Array,{getPrototypeOf:Mx,prototype:Px,keys:Rx}=Object;function Gb(e){if(e.length===1){let n=e[0];if(xx(n))return{args:n,keys:null};if(Ox(n)){let t=Rx(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Ox(e){return e&&typeof e=="object"&&Mx(e)===Px}function Wb(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}function ea(...e){let n=Nr(e),t=Rb(e),{args:r,keys:o}=Gb(e);if(r.length===0)return et([],n);let i=new je(Nx(r,n,o?s=>Wb(o,s):Yt));return t?i.pipe(Hb(t)):i}function Nx(e,n,t=Yt){return r=>{zb(n,()=>{let{length:o}=e,i=new Array(o),s=o,c=o;for(let a=0;a<o;a++)zb(n,()=>{let u=et(e[a],n),d=!1;u.subscribe(Oe(r,p=>{i[a]=p,d||(d=!0,c--),c||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function zb(e,n,t){e?Vt(t,e,n):n()}function qb(e,n,t,r,o,i,s,c){let a=[],u=0,d=0,p=!1,g=()=>{p&&!a.length&&!u&&n.complete()},f=v=>u<r?h(v):a.push(v),h=v=>{i&&n.next(v),u++;let S=!1;mt(t(v,d++)).subscribe(Oe(n,D=>{o?.(D),i?f(D):n.next(D)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;a.length&&u<r;){let D=a.shift();s?Vt(n,s,()=>h(D)):h(D)}g()}catch(D){n.error(D)}}))};return e.subscribe(Oe(n,f,()=>{p=!0,g()})),()=>{c?.()}}function rt(e,n,t=1/0){return we(n)?rt((r,o)=>Fe((i,s)=>n(r,i,o,s))(mt(e(r,o))),t):(typeof n=="number"&&(t=n),Re((r,o)=>qb(r,o,e,t)))}function xi(e=1/0){return rt(Yt,e)}function Yb(){return xi(1)}function Mi(...e){return Yb()(et(e,Nr(e)))}function Su(e){return new je(n=>{mt(e()).subscribe(n)})}function Zt(e,n){return Re((t,r)=>{let o=0;t.subscribe(Oe(r,i=>e.call(n,i,o++)&&r.next(i)))})}function hr(e){return Re((n,t)=>{let r=null,o=!1,i;r=n.subscribe(Oe(t,void 0,void 0,s=>{i=mt(e(s,hr(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Zb(e,n,t,r,o){return(i,s)=>{let c=t,a=n,u=0;i.subscribe(Oe(s,d=>{let p=u++;a=c?e(a,d,p):(c=!0,d),r&&s.next(a)},o&&(()=>{c&&s.next(a),s.complete()})))}}function kr(e,n){return we(n)?rt(e,n,1):rt(e,1)}function Lr(e){return Re((n,t)=>{let r=!1;n.subscribe(Oe(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function gr(e){return e<=0?()=>jt:Re((n,t)=>{let r=0;n.subscribe(Oe(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function bu(e=kx){return Re((n,t)=>{let r=!1;n.subscribe(Oe(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function kx(){return new pr}function ta(e){return Re((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function mr(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Zt((o,i)=>e(o,i,r)):Yt,gr(1),t?Lr(n):bu(()=>new pr))}function Pi(e){return e<=0?()=>jt:Re((n,t)=>{let r=[];n.subscribe(Oe(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function zp(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Zt((o,i)=>e(o,i,r)):Yt,Pi(1),t?Lr(n):bu(()=>new pr))}function qp(e,n){return Re(Zb(e,n,arguments.length>=2,!0))}function Yp(...e){let n=Nr(e);return Re((t,r)=>{(n?Mi(e,t,n):Mi(e,t)).subscribe(r)})}function on(e,n){return Re((t,r)=>{let o=null,i=0,s=!1,c=()=>s&&!o&&r.complete();t.subscribe(Oe(r,a=>{o?.unsubscribe();let u=0,d=i++;mt(e(a,d)).subscribe(o=Oe(r,p=>r.next(n?n(a,p,d,u++):p),()=>{o=null,c()}))},()=>{s=!0,c()}))})}function Zp(e){return Re((n,t)=>{mt(e).subscribe(Oe(t,()=>t.complete(),Js)),!t.closed&&n.subscribe(t)})}function It(e,n,t){let r=we(e)||n||t?{next:e,error:n,complete:t}:e;return r?Re((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;o.subscribe(Oe(i,a=>{var u;(u=r.next)===null||u===void 0||u.call(r,a),i.next(a)},()=>{var a;c=!1,(a=r.complete)===null||a===void 0||a.call(r),i.complete()},a=>{var u;c=!1,(u=r.error)===null||u===void 0||u.call(r,a),i.error(a)},()=>{var a,u;c&&((a=r.unsubscribe)===null||a===void 0||a.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Yt}var UA="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",fe=class extends Error{code;constructor(n,t){super(jA(n,t)),this.code=n}};function Lx(e){return`NG0${Math.abs(e)}`}function jA(e,n){return`${Lx(e)}${n?": "+n:""}`}var VA=Symbol("InputSignalNode#UNSET"),Fx=Ke(ne({},Np),{transformFn:void 0,applyValueToInputSignal(e,n){Op(e,n)}});function $A(e,n){let t=Object.create(Fx);t.value=e,t.transformFn=n?.transform;function r(){if(_p(t),t.value===VA){let o=null;throw new fe(-950,o)}return t.value}return r[bi]=t,r}function ha(e){return{toString:e}.toString()}var Au="__parameters__";function Ux(e){return function(...t){if(e){let r=e(...t);for(let o in r)this[o]=r[o]}}}function BA(e,n,t){return ha(()=>{let r=Ux(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return c.annotation=s,c;function c(a,u,d){let p=a.hasOwnProperty(Au)?a[Au]:Object.defineProperty(a,Au,{value:[]})[Au];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),a}}return o.prototype.ngMetadataName=e,o.annotationCls=o,o})}var Sr=globalThis;function We(e){for(let n in e)if(e[n]===We)return n;throw Error("Could not find renamed property on target object.")}function $t(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($t).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Kb(e,n){return e?n?`${e} ${n}`:e:n||""}var jx=We({__forward_ref__:We});function HA(e){return e.__forward_ref__=HA,e.toString=function(){return $t(this())},e}function an(e){return GA(e)?e():e}function GA(e){return typeof e=="function"&&e.hasOwnProperty(jx)&&e.__forward_ref__===HA}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ln(e){return{providers:e.providers||[],imports:e.imports||[]}}function rd(e){return Qb(e,zA)||Qb(e,qA)}function WA(e){return rd(e)!==null}function Qb(e,n){return e.hasOwnProperty(n)?e[n]:null}function Vx(e){let n=e&&(e[zA]||e[qA]);return n||null}function Jb(e){return e&&(e.hasOwnProperty(Xb)||e.hasOwnProperty($x))?e[Xb]:null}var zA=We({\u0275prov:We}),Xb=We({\u0275inj:We}),qA=We({ngInjectableDef:We}),$x=We({ngInjectorDef:We}),me=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function YA(e){return e&&!!e.\u0275providers}var Bx=We({\u0275cmp:We}),Hx=We({\u0275dir:We}),Gx=We({\u0275pipe:We}),Wx=We({\u0275mod:We}),Tu=We({\u0275fac:We}),ia=We({__NG_ELEMENT_ID__:We}),eA=We({__NG_ENV_ID__:We});function Gh(e){return typeof e=="string"?e:e==null?"":String(e)}function zx(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Gh(e)}function ZA(e,n){throw new fe(-200,e)}function Wh(e,n){throw new fe(-201,!1)}var Ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ce||{}),sh;function KA(){return sh}function sn(e){let n=sh;return sh=e,n}function QA(e,n,t){let r=rd(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Ce.Optional)return null;if(n!==void 0)return n;Wh(e,"Injector")}var qx={},So=qx,ah="__NG_DI_FLAG__",xu=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=t;return this.injector.get(n,r.optional?tu:So,r)}},Mu="ngTempTokenPath",Yx="ngTokenPath",Zx=/\n/gm,Kx="\u0275",tA="__source";function Qx(e,n=Ce.Default){if(Ks()===void 0)throw new fe(-203,!1);if(Ks()===null)return QA(e,void 0,n);{let t=Ks(),r;return t instanceof xu?r=t.injector:r=t,r.get(e,n&Ce.Optional?null:void 0,n)}}function le(e,n=Ce.Default){return(KA()||Qx)(an(e),n)}function X(e,n=Ce.Default){return le(e,od(n))}function od(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ch(e){let n=[];for(let t=0;t<e.length;t++){let r=an(e[t]);if(Array.isArray(r)){if(r.length===0)throw new fe(900,!1);let o,i=Ce.Default;for(let s=0;s<r.length;s++){let c=r[s],a=Jx(c);typeof a=="number"?a===-1?o=c.token:i|=a:o=c}n.push(le(o,i))}else n.push(le(r))}return n}function JA(e,n){return e[ah]=n,e.prototype[ah]=n,e}function Jx(e){return e[ah]}function Xx(e,n,t,r){let o=e[Mu];throw n[tA]&&o.unshift(n[tA]),e.message=eM(`
`+e.message,o,t,r),e[Yx]=o,e[Mu]=null,e}function eM(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Kx?e.slice(2):e;let o=$t(n);if(Array.isArray(n))o=n.map($t).join(" -> ");else if(typeof n=="object"){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let c=n[s];i.push(s+":"+(typeof c=="string"?JSON.stringify(c):$t(c)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(Zx,`
  `)}`}var tM=JA(BA("Optional"),8);var nM=JA(BA("SkipSelf"),4);function Ui(e,n){let t=e.hasOwnProperty(Tu);return t?e[Tu]:null}function zh(e,n){e.forEach(t=>Array.isArray(t)?zh(t,n):n(t))}function XA(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Pu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function rM(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(o===1)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;){let i=o-2;e[o]=e[i],o--}e[n]=t,e[n+1]=r}}function oM(e,n,t){let r=ga(e,n);return r>=0?e[r|1]=t:(r=~r,rM(e,r,n,t)),r}function Kp(e,n){let t=ga(e,n);if(t>=0)return e[t|1]}function ga(e,n){return iM(e,n,1)}function iM(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}var ji={},_n=[],aa=new me(""),ew=new me("",-1),tw=new me(""),Ru=class{get(n,t=So){if(t===So){let r=new Error(`NullInjectorError: No provider for ${$t(n)}!`);throw r.name="NullInjectorError",r}return t}};function nw(e,n){let t=e[Wx]||null;if(!t&&n===!0)throw new Error(`Type ${$t(e)} does not have '\u0275mod' property.`);return t}function wo(e){return e[Bx]||null}function sM(e){return e[Hx]||null}function aM(e){return e[Gx]||null}function rw(e){return{\u0275providers:e}}function cM(...e){return{\u0275providers:ow(!0,e),\u0275fromNgModule:!0}}function ow(e,...n){let t=[],r=new Set,o,i=s=>{t.push(s)};return zh(n,s=>{let c=s;lh(c,i,[],r)&&(o||=[],o.push(c))}),o!==void 0&&iw(o,i),t}function iw(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:o}=e[t];qh(o,i=>{n(i,r)})}}function lh(e,n,t,r){if(e=an(e),!e)return!1;let o=null,i=Jb(e),s=!i&&wo(e);if(!i&&!s){let a=e.ngModule;if(i=Jb(a),i)o=a;else return!1}else{if(s&&!s.standalone)return!1;o=e}let c=r.has(o);if(s){if(c)return!1;if(r.add(o),s.dependencies){let a=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of a)lh(u,n,t,r)}}else if(i){if(i.imports!=null&&!c){r.add(o);let u;try{zh(i.imports,d=>{lh(d,n,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&iw(u,n)}if(!c){let u=Ui(o)||(()=>new o);n({provide:o,useFactory:u,deps:_n},o),n({provide:tw,useValue:o,multi:!0},o),n({provide:aa,useValue:()=>le(o),multi:!0},o)}let a=i.providers;if(a!=null&&!c){let u=e;qh(a,d=>{n(d,u)})}}else return!1;return o!==e&&e.providers!==void 0}function qh(e,n){for(let t of e)YA(t)&&(t=t.\u0275providers),Array.isArray(t)?qh(t,n):n(t)}var lM=We({provide:String,useValue:We});function sw(e){return e!==null&&typeof e=="object"&&lM in e}function uM(e){return!!(e&&e.useExisting)}function dM(e){return!!(e&&e.useFactory)}function uh(e){return typeof e=="function"}var id=new me(""),Du={},nA={},Qp;function Yh(){return Qp===void 0&&(Qp=new Ru),Qp}var Bt=class{},ca=class extends Bt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,fh(n,s=>this.processProvider(s)),this.records.set(ew,Ri(void 0,this)),o.has("environment")&&this.records.set(Bt,Ri(void 0,this));let i=this.records.get(id);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(tw,_n,Ce.Self))}retrieve(n,t){let r=t;return this.get(n,r.optional?tu:So,r)}destroy(){ra(this),this._destroyed=!0;let n=Me(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Me(n)}}onDestroy(n){return ra(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ra(this);let t=fr(this),r=sn(void 0),o;try{return n()}finally{fr(t),sn(r)}}get(n,t=So,r=Ce.Default){if(ra(this),n.hasOwnProperty(eA))return n[eA](this);r=od(r);let o,i=fr(this),s=sn(void 0);try{if(!(r&Ce.SkipSelf)){let a=this.records.get(n);if(a===void 0){let u=vM(n)&&rd(n);u&&this.injectableDefInScope(u)?a=Ri(dh(n),Du):a=null,this.records.set(n,a)}if(a!=null)return this.hydrate(n,a,r)}let c=r&Ce.Self?Yh():this.parent;return t=r&Ce.Optional&&t===So?null:t,c.get(n,t)}catch(c){if(c.name==="NullInjectorError"){if((c[Mu]=c[Mu]||[]).unshift($t(n)),i)throw c;return Xx(c,n,"R3InjectorError",this.source)}else throw c}finally{sn(s),fr(i)}}resolveInjectorInitializers(){let n=Me(null),t=fr(this),r=sn(void 0),o;try{let i=this.get(aa,_n,Ce.Self);for(let s of i)s()}finally{fr(t),sn(r),Me(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push($t(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=an(n);let t=uh(n)?n:an(n&&n.provide),r=pM(n);if(!uh(n)&&n.multi===!0){let o=this.records.get(t);o||(o=Ri(void 0,Du,!0),o.factory=()=>ch(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t,r){let o=Me(null);try{return t.value===nA?ZA($t(n)):t.value===Du&&(t.value=nA,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&mM(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Me(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=an(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function dh(e){let n=rd(e),t=n!==null?n.factory:Ui(e);if(t!==null)return t;if(e instanceof me)throw new fe(204,!1);if(e instanceof Function)return fM(e);throw new fe(204,!1)}function fM(e){if(e.length>0)throw new fe(204,!1);let t=Vx(e);return t!==null?()=>t.factory(e):()=>new e}function pM(e){if(sw(e))return Ri(void 0,e.useValue);{let n=hM(e);return Ri(n,Du)}}function hM(e,n,t){let r;if(uh(e)){let o=an(e);return Ui(o)||dh(o)}else if(sw(e))r=()=>an(e.useValue);else if(dM(e))r=()=>e.useFactory(...ch(e.deps||[]));else if(uM(e))r=(o,i)=>le(an(e.useExisting),i!==void 0&&i&Ce.Optional?Ce.Optional:void 0);else{let o=an(e&&(e.useClass||e.provide));if(gM(e))r=()=>new o(...ch(e.deps));else return Ui(o)||dh(o)}return r}function ra(e){if(e.destroyed)throw new fe(205,!1)}function Ri(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function gM(e){return!!e.deps}function mM(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function vM(e){return typeof e=="function"||typeof e=="object"&&e instanceof me}function fh(e,n){for(let t of e)Array.isArray(t)?fh(t,n):t&&YA(t)?fh(t.\u0275providers,n):n(t)}function un(e,n){let t;e instanceof ca?(ra(e),t=e):t=new xu(e);let r,o=fr(t),i=sn(void 0);try{return n()}finally{fr(o),sn(i)}}function aw(){return KA()!==void 0||Ks()!=null}function yM(e){if(!aw())throw new fe(-203,!1)}function SM(e){let n=Sr.ng;if(n&&n.\u0275compilerFacade)return n.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function bM(e){return typeof e=="function"}var br=0,Pe=1,Ee=2,Lt=3,Tn=4,Mn=5,Ou=6,Nu=7,Ft=8,Eo=9,vr=10,Ut=11,la=12,rA=13,zi=14,Wn=15,Vi=16,Oi=17,$i=18,sd=19,cw=20,Fr=21,Jp=22,ku=23,cn=24,Li=25,xn=26,lw=1;var Do=7,Lu=8,Fu=9,Kt=10;function bo(e){return Array.isArray(e)&&typeof e[lw]=="object"}function Ar(e){return Array.isArray(e)&&e[lw]===!0}function uw(e){return(e.flags&4)!==0}function qi(e){return e.componentOffset>-1}function Zh(e){return(e.flags&1)===1}function To(e){return!!e.template}function Uu(e){return(e[Ee]&512)!==0}function Yi(e){return(e[Ee]&256)===256}var ph=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function dw(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var ad=(()=>{let e=()=>fw;return e.ngInherit=!0,e})();function fw(e){return e.type.prototype.ngOnChanges&&(e.setInput=wM),AM}function AM(){let e=hw(this),n=e?.current;if(n){let t=e.previous;if(t===ji)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function wM(e,n,t,r,o){let i=this.declaredInputs[r],s=hw(e)||EM(e,{previous:ji,current:null}),c=s.current||(s.current={}),a=s.previous,u=a[i];c[i]=new ph(u&&u.currentValue,t,a===ji),dw(e,n,o,t)}var pw="__ngSimpleChanges__";function hw(e){return e[pw]||null}function EM(e,n){return e[pw]=n}var oA=null;var Ye=function(e,n=null,t){oA?.(e,n,t)},gw="svg",DM="math";function zn(e){for(;Array.isArray(e);)e=e[br];return e}function mw(e,n){return zn(n[e])}function wr(e,n){return zn(n[e.index])}function Kh(e,n){return e.data[n]}function yr(e,n){let t=n[e];return bo(t)?t:t[br]}function Qh(e){return(e[Ee]&128)===128}function IM(e){return Ar(e[Lt])}function ju(e,n){return n==null?null:e[n]}function vw(e){e[Oi]=0}function yw(e){e[Ee]&1024||(e[Ee]|=1024,Qh(e)&&ma(e))}function CM(e,n){for(;e>0;)n=n[zi],e--;return n}function cd(e){return!!(e[Ee]&9216||e[cn]?.dirty)}function hh(e){e[vr].changeDetectionScheduler?.notify(8),e[Ee]&64&&(e[Ee]|=1024),cd(e)&&ma(e)}function ma(e){e[vr].changeDetectionScheduler?.notify(0);let n=Io(e);for(;n!==null&&!(n[Ee]&8192||(n[Ee]|=8192,!Qh(n)));)n=Io(n)}function Sw(e,n){if(Yi(e))throw new fe(911,!1);e[Fr]===null&&(e[Fr]=[]),e[Fr].push(n)}function _M(e,n){if(e[Fr]===null)return;let t=e[Fr].indexOf(n);t!==-1&&e[Fr].splice(t,1)}function Io(e){let n=e[Lt];return Ar(n)?n[Lt]:n}function bw(e){return e[Nu]??=[]}function Aw(e){return e.cleanup??=[]}var _e={lFrame:xw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var gh=!1;function TM(){return _e.lFrame.elementDepthCount}function xM(){_e.lFrame.elementDepthCount++}function MM(){_e.lFrame.elementDepthCount--}function ww(){return _e.bindingsEnabled}function PM(){return _e.skipHydrationRootTNode!==null}function RM(e){return _e.skipHydrationRootTNode===e}function OM(){_e.skipHydrationRootTNode=null}function ot(){return _e.lFrame.lView}function Vr(){return _e.lFrame.tView}function $r(e){return _e.lFrame.contextLView=e,e[Ft]}function Br(e){return _e.lFrame.contextLView=null,e}function Zn(){let e=Ew();for(;e!==null&&e.type===64;)e=e.parent;return e}function Ew(){return _e.lFrame.currentTNode}function NM(){let e=_e.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function va(e,n){let t=_e.lFrame;t.currentTNode=e,t.isParent=n}function Dw(){return _e.lFrame.isParent}function kM(){_e.lFrame.isParent=!1}function Iw(){return gh}function iA(e){let n=gh;return gh=e,n}function LM(e){return _e.lFrame.bindingIndex=e}function Jh(){return _e.lFrame.bindingIndex++}function FM(e){let n=_e.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function UM(){return _e.lFrame.inI18n}function jM(e,n){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=e,mh(n)}function VM(){return _e.lFrame.currentDirectiveIndex}function mh(e){_e.lFrame.currentDirectiveIndex=e}function $M(e){let n=_e.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Cw(e){_e.lFrame.currentQueryIndex=e}function BM(e){let n=e[Pe];return n.type===2?n.declTNode:n.type===1?e[Mn]:null}function _w(e,n,t){if(t&Ce.SkipSelf){let o=n,i=e;for(;o=o.parent,o===null&&!(t&Ce.Host);)if(o=BM(i),o===null||(i=i[zi],o.type&10))break;if(o===null)return!1;n=o,e=i}let r=_e.lFrame=Tw();return r.currentTNode=n,r.lView=e,!0}function Xh(e){let n=Tw(),t=e[Pe];_e.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Tw(){let e=_e.lFrame,n=e===null?null:e.child;return n===null?xw(e):n}function xw(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Mw(){let e=_e.lFrame;return _e.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Pw=Mw;function eg(){let e=Mw();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function HM(e){return(_e.lFrame.contextLView=CM(e,_e.lFrame.contextLView))[Ft]}function Zi(){return _e.lFrame.selectedIndex}function Co(e){_e.lFrame.selectedIndex=e}function GM(){let e=_e.lFrame;return Kh(e.tView,e.selectedIndex)}function ld(){_e.lFrame.currentNamespace=gw}function Rw(){WM()}function WM(){_e.lFrame.currentNamespace=null}function zM(){return _e.lFrame.currentNamespace}var Ow=!0;function tg(){return Ow}function ng(e){Ow=e}function qM(e,n,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){let s=fw(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}function Nw(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:u,ngOnDestroy:d}=i;s&&(e.contentHooks??=[]).push(-t,s),c&&((e.contentHooks??=[]).push(t,c),(e.contentCheckHooks??=[]).push(t,c)),a&&(e.viewHooks??=[]).push(-t,a),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),d!=null&&(e.destroyHooks??=[]).push(t,d)}}function Iu(e,n,t){kw(e,n,3,t)}function Cu(e,n,t,r){(e[Ee]&3)===t&&kw(e,n,t,r)}function Xp(e,n){let t=e[Ee];(t&3)===n&&(t&=16383,t+=1,e[Ee]=t)}function kw(e,n,t,r){let o=r!==void 0?e[Oi]&65535:0,i=r??-1,s=n.length-1,c=0;for(let a=o;a<s;a++)if(typeof n[a+1]=="number"){if(c=n[a],r!=null&&c>=r)break}else n[a]<0&&(e[Oi]+=65536),(c<i||i==-1)&&(YM(e,t,n,a),e[Oi]=(e[Oi]&4294901760)+a+2),a++}function sA(e,n){Ye(4,e,n);let t=Me(null);try{n.call(e)}finally{Me(t),Ye(5,e,n)}}function YM(e,n,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],c=e[s];o?e[Ee]>>14<e[Oi]>>16&&(e[Ee]&3)===n&&(e[Ee]+=16384,sA(c,i)):sA(c,i)}var Fi=-1,ua=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function ZM(e){return(e.flags&8)!==0}function KM(e){return(e.flags&16)!==0}function QM(e,n,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],c=t[r++];e.setAttribute(n,s,c,i)}else{let i=o,s=t[++r];XM(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function JM(e){return e===3||e===4||e===6}function XM(e){return e.charCodeAt(0)===64}function rg(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let o=n[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?aA(e,t,o,null,n[++r]):aA(e,t,o,null,null))}}return e}function aA(e,n,t,r,o){let i=0,s=e.length;if(n===-1)s=-1;else for(;i<e.length;){let c=e[i++];if(typeof c=="number"){if(c===n){s=-1;break}else if(c>n){s=i-1;break}}}for(;i<e.length;){let c=e[i];if(typeof c=="number")break;if(c===t){o!==null&&(e[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),o!==null&&e.splice(i++,0,o)}function Lw(e){return e!==Fi}function Vu(e){return e&32767}function eP(e){return e>>16}function $u(e,n){let t=eP(e),r=n;for(;t>0;)r=r[zi],t--;return r}var vh=!0;function cA(e){let n=vh;return vh=e,n}var tP=256,Fw=tP-1,Uw=5,nP=0,Gn={};function rP(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ia)&&(r=t[ia]),r==null&&(r=t[ia]=nP++);let o=r&Fw,i=1<<o;n.data[e+(o>>Uw)]|=i}function jw(e,n){let t=Vw(e,n);if(t!==-1)return t;let r=n[Pe];r.firstCreatePass&&(e.injectorIndex=n.length,eh(r.data,e),eh(n,null),eh(r.blueprint,null));let o=og(e,n),i=e.injectorIndex;if(Lw(o)){let s=Vu(o),c=$u(o,n),a=c[Pe].data;for(let u=0;u<8;u++)n[i+u]=c[s+u]|a[s+u]}return n[i+8]=o,i}function eh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Vw(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function og(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;o!==null;){if(r=Ww(o),r===null)return Fi;if(t++,o=o[zi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Fi}function oP(e,n,t){rP(e,n,t)}function $w(e,n,t){if(t&Ce.Optional||e!==void 0)return e;Wh(n,"NodeInjector")}function Bw(e,n,t,r){if(t&Ce.Optional&&r===void 0&&(r=null),(t&(Ce.Self|Ce.Host))===0){let o=e[Eo],i=sn(void 0);try{return o?o.get(n,r,t&Ce.Optional):QA(n,r,t&Ce.Optional)}finally{sn(i)}}return $w(r,n,t)}function Hw(e,n,t,r=Ce.Default,o){if(e!==null){if(n[Ee]&2048&&!(r&Ce.Self)){let s=lP(e,n,t,r,Gn);if(s!==Gn)return s}let i=Gw(e,n,t,r,Gn);if(i!==Gn)return i}return Bw(n,t,r,o)}function Gw(e,n,t,r,o){let i=aP(t);if(typeof i=="function"){if(!_w(n,e,r))return r&Ce.Host?$w(o,t,r):Bw(n,t,r,o);try{let s;if(s=i(r),s==null&&!(r&Ce.Optional))Wh(t);else return s}finally{Pw()}}else if(typeof i=="number"){let s=null,c=Vw(e,n),a=Fi,u=r&Ce.Host?n[Wn][Mn]:null;for((c===-1||r&Ce.SkipSelf)&&(a=c===-1?og(e,n):n[c+8],a===Fi||!uA(r,!1)?c=-1:(s=n[Pe],c=Vu(a),n=$u(a,n)));c!==-1;){let d=n[Pe];if(lA(i,c,d.data)){let p=iP(c,n,t,s,r,u);if(p!==Gn)return p}a=n[c+8],a!==Fi&&uA(r,n[Pe].data[c+8]===u)&&lA(i,c,n)?(s=d,c=Vu(a),n=$u(a,n)):c=-1}}return o}function iP(e,n,t,r,o,i){let s=n[Pe],c=s.data[e+8],a=r==null?qi(c)&&vh:r!=s&&(c.type&3)!==0,u=o&Ce.Host&&i===c,d=sP(c,s,t,a,u);return d!==null?yh(n,s,d,c,o):Gn}function sP(e,n,t,r,o){let i=e.providerIndexes,s=n.data,c=i&1048575,a=e.directiveStart,u=e.directiveEnd,d=i>>20,p=r?c:c+d,g=o?c+d:u;for(let f=p;f<g;f++){let h=s[f];if(f<a&&t===h||f>=a&&h.type===t)return f}if(o){let f=s[a];if(f&&To(f)&&f.type===t)return a}return null}function yh(e,n,t,r,o){let i=e[t],s=n.data;if(i instanceof ua){let c=i;c.resolving&&ZA(zx(s[t]));let a=cA(c.canSeeViewProviders);c.resolving=!0;let u,d=c.injectImpl?sn(c.injectImpl):null,p=_w(e,r,Ce.Default);try{i=e[t]=c.factory(void 0,o,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&qM(t,s[t],n)}finally{d!==null&&sn(d),cA(a),c.resolving=!1,Pw()}}return i}function aP(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(ia)?e[ia]:void 0;return typeof n=="number"?n>=0?n&Fw:cP:n}function lA(e,n,t){let r=1<<e;return!!(t[n+(e>>Uw)]&r)}function uA(e,n){return!(e&Ce.Self)&&!(e&Ce.Host&&n)}var Ao=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Hw(this._tNode,this._lView,n,od(r),t)}};function cP(){return new Ao(Zn(),ot())}function ig(e){return ha(()=>{let n=e.prototype.constructor,t=n[Tu]||Sh(n),r=Object.prototype,o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){let i=o[Tu]||Sh(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Sh(e){return GA(e)?()=>{let n=Sh(an(e));return n&&n()}:Ui(e)}function lP(e,n,t,r,o){let i=e,s=n;for(;i!==null&&s!==null&&s[Ee]&2048&&!Uu(s);){let c=Gw(i,s,t,r|Ce.Self,Gn);if(c!==Gn)return c;let a=i.parent;if(!a){let u=s[cw];if(u){let d=u.get(t,Gn,r);if(d!==Gn)return d}a=Ww(s),s=s[zi]}i=a}return o}function Ww(e){let n=e[Pe],t=n.type;return t===2?n.declTNode:t===1?e[Mn]:null}function dA(e,n=null,t=null,r){let o=zw(e,n,t,r);return o.resolveInjectorInitializers(),o}function zw(e,n=null,t=null,r,o=new Set){let i=[t||_n,cM(e)];return r=r||(typeof e=="object"?void 0:$t(e)),new ca(i,n||Yh(),r||null,o)}var Qt=class e{static THROW_IF_NOT_FOUND=So;static NULL=new Ru;static create(n,t){if(Array.isArray(n))return dA({name:""},t,n,"");{let r=n.name??"";return dA({name:r},n.parent,n.providers,r)}}static \u0275prov=ue({token:e,providedIn:"any",factory:()=>le(ew)});static __NG_ELEMENT_ID__=-1};var uP=new me("");uP.__NG_ELEMENT_ID__=e=>{let n=Zn();if(n===null)throw new fe(204,!1);if(n.type&2)return n.value;if(e&Ce.Optional)return null;throw new fe(204,!1)};var qw=!1,ya=(()=>{class e{static __NG_ELEMENT_ID__=dP;static __NG_ENV_ID__=t=>t}return e})(),bh=class extends ya{_lView;constructor(n){super(),this._lView=n}onDestroy(n){let t=this._lView;return Yi(t)?(n(),()=>{}):(Sw(t,n),()=>_M(t,n))}};function dP(){return new bh(ot())}var Bi=class{},Yw=new me("",{providedIn:"root",factory:()=>!1});var Zw=new me(""),Kw=new me(""),Ki=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})();var Ah=class extends Dt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,aw()&&(this.destroyRef=X(ya,{optional:!0})??void 0,this.pendingTasks=X(Ki,{optional:!0})??void 0)}emit(n){let t=Me(null);try{super.next(n)}finally{Me(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&typeof n=="object"){let a=n;o=a.next?.bind(a),i=a.error?.bind(a),s=a.complete?.bind(a)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:o,error:i,complete:s});return n instanceof it&&n.add(c),c}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ot=Ah;function Bu(...e){}function Qw(e){let n,t;function r(){e=Bu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function fA(e){return queueMicrotask(()=>e()),()=>{e=Bu}}var sg="isAngularZone",Hu=sg+"_ID",fP=0,Be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ot(!1);onMicrotaskEmpty=new Ot(!1);onStable=new Ot(!1);onError=new Ot(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=qw}=n;if(typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,gP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sg)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new fe(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,pP,Bu,Bu);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},pP={};function ag(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function hP(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Qw(()=>{e.callbackScheduled=!1,wh(e),e.isCheckStableRunning=!0,ag(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),wh(e)}function gP(e){let n=()=>{hP(e)},t=fP++;e._inner=e._inner.fork({name:"angular",properties:{[sg]:!0,[Hu]:t,[Hu+t]:!0},onInvokeTask:(r,o,i,s,c,a)=>{if(mP(a))return r.invokeTask(i,s,c,a);try{return pA(e),r.invokeTask(i,s,c,a)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),hA(e)}},onInvoke:(r,o,i,s,c,a,u)=>{try{return pA(e),r.invoke(i,s,c,a,u)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!vP(a)&&n(),hA(e)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,wh(e),ag(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function wh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function pA(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function hA(e){e._nesting--,ag(e)}var Gu=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ot;onMicrotaskEmpty=new Ot;onStable=new Ot;onError=new Ot;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}};function mP(e){return Jw(e,"__ignore_ng_zone__")}function vP(e){return Jw(e,"__scheduler_tick__")}function Jw(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}function yP(e="zone.js",n){return e==="noop"?new Gu:e==="zone.js"?new Be(n):e}var qn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},SP=new me("",{providedIn:"root",factory:()=>{let e=X(Be),n=X(qn);return t=>e.runOutsideAngular(()=>n.handleError(t))}});function gA(e,n){return $A(e,n)}function bP(e){return $A(VA,e)}var Xw=(gA.required=bP,gA);function AP(){return ud(Zn(),ot())}function ud(e,n){return new Qi(wr(e,n))}var Qi=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=AP}return e})();function eE(e){return(e.flags&128)===128}var tE=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(tE||{}),nE=new Map,wP=0;function EP(){return wP++}function DP(e){nE.set(e[sd],e)}function Eh(e){nE.delete(e[sd])}var mA="__ngContext__";function Sa(e,n){bo(n)?(e[mA]=n[sd],DP(n)):e[mA]=n}function rE(e){return iE(e[la])}function oE(e){return iE(e[Tn])}function iE(e){for(;e!==null&&!Ar(e);)e=e[Tn];return e}var Dh;function sE(e){Dh=e}function IP(){if(Dh!==void 0)return Dh;if(typeof document<"u")return document;throw new fe(210,!1)}var dd=new me("",{providedIn:"root",factory:()=>CP}),CP="ng",cg=new me(""),Ji=new me("",{providedIn:"platform",factory:()=>"unknown"});var lg=new me("",{providedIn:"root",factory:()=>IP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _P="h",TP="b";var aE=!1,xP=new me("",{providedIn:"root",factory:()=>aE});var ug=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ug||{}),Xi=new me(""),vA=new Set;function es(e){vA.has(e)||(vA.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var cE=(()=>{class e{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=MP}return e})();function MP(){return new cE(ot(),Zn())}var Ni=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Ni||{}),lE=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),PP=[Ni.EarlyRead,Ni.Write,Ni.MixedReadWrite,Ni.Read],RP=(()=>{class e{ngZone=X(Be);scheduler=X(Bi);errorHandler=X(qn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){X(Xi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ye(16),this.executing=!0;for(let r of PP)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ye(17)}register(t){let{view:r}=t;r!==void 0?((r[Li]??=[]).push(t),ma(r),r[Ee]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ug.AFTER_NEXT_RENDER,t):t()}static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new e})}return e})(),Ih=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,r,o,i,s=null){this.impl=n,this.hooks=t,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Li];n&&(this.view[Li]=n.filter(t=>t!==this))}};function dg(e,n){!n?.injector&&yM(dg);let t=n?.injector??X(Qt);return es("NgAfterNextRender"),NP(e,t,n,!0)}function OP(e,n){if(e instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[n]=e,t}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function NP(e,n,t,r){let o=n.get(lE);o.impl??=n.get(RP);let i=n.get(Xi,null,{optional:!0}),s=t?.phase??Ni.MixedReadWrite,c=t?.manualCleanup!==!0?n.get(ya):null,a=n.get(cE,null,{optional:!0}),u=new Ih(o.impl,OP(e,s),a?.view,r,c,i?.snapshot(null));return o.impl.register(u),u}var kP=()=>null;function uE(e,n,t=!1){return kP(e,n,t)}function dE(e,n){let t=e.contentQueries;if(t!==null){let r=Me(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let c=e.data[s];Cw(i),c.contentQueries(2,n[s],s)}}}finally{Me(r)}}}function Ch(e,n,t){Cw(0);let r=Me(null);try{n(e,t)}finally{Me(r)}}function fE(e,n,t){if(uw(n)){let r=Me(null);try{let o=n.directiveStart,i=n.directiveEnd;for(let s=o;s<i;s++){let c=e.data[s];if(c.contentQueries){let a=t[s];c.contentQueries(1,a,s)}}}finally{Me(r)}}}var Yn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yn||{});var Wu=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UA})`}};function fg(e){return e instanceof Wu?e.changingThisBreaksApplicationSecurity:e}function LP(e,n){let t=FP(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${UA})`)}return t===n}function FP(e){return e instanceof Wu&&e.getTypeName()||null}var UP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jP(e){return e=String(e),e.match(UP)?e:"unsafe:"+e}var pE=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(pE||{});function hE(e){let n=VP();return n?n.sanitize(pE.URL,e)||"":LP(e,"URL")?fg(e):jP(Gh(e))}function VP(){let e=ot();return e&&e[vr].sanitizer}function gE(e){return e.ownerDocument}function mE(e){return e instanceof Function?e():e}function $P(e,n,t){let r=e.length;for(;;){let o=e.indexOf(n,t);if(o===-1)return o;if(o===0||e.charCodeAt(o-1)<=32){let i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}var vE="ng-template";function BP(e,n,t,r){let o=0;if(r){for(;o<n.length&&typeof n[o]=="string";o+=2)if(n[o]==="class"&&$P(n[o+1].toLowerCase(),t,0)!==-1)return!0}else if(pg(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&typeof(i=n[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function pg(e){return e.type===4&&e.value!==vE}function HP(e,n,t){let r=e.type===4&&!t?vE:e.value;return n===r}function GP(e,n,t){let r=4,o=e.attrs,i=o!==null?qP(o):0,s=!1;for(let c=0;c<n.length;c++){let a=n[c];if(typeof a=="number"){if(!s&&!Cn(r)&&!Cn(a))return!1;if(s&&Cn(a))continue;s=!1,r=a|r&1;continue}if(!s)if(r&4){if(r=2|r&1,a!==""&&!HP(e,a,t)||a===""&&n.length===1){if(Cn(r))return!1;s=!0}}else if(r&8){if(o===null||!BP(e,o,a,t)){if(Cn(r))return!1;s=!0}}else{let u=n[++c],d=WP(a,o,pg(e),t);if(d===-1){if(Cn(r))return!1;s=!0;continue}if(u!==""){let p;if(d>i?p="":p=o[d+1].toLowerCase(),r&2&&u!==p){if(Cn(r))return!1;s=!0}}}}return Cn(r)||s}function Cn(e){return(e&1)===0}function WP(e,n,t,r){if(n===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){let s=n[o];if(s===e)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let c=n[++o];for(;typeof c=="string";)c=n[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return YP(n,e)}function zP(e,n,t=!1){for(let r=0;r<n.length;r++)if(GP(e,n[r],t))return!0;return!1}function qP(e){for(let n=0;n<e.length;n++){let t=e[n];if(JM(t))return n}return e.length}function YP(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function yA(e,n){return e?":not("+n.trim()+")":n}function ZP(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if(typeof s=="string")if(r&2){let c=e[++t];o+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!Cn(s)&&(n+=yA(i,o),o=""),r=s,i=i||!Cn(r);t++}return o!==""&&(n+=yA(i,o)),n}function KP(e){return e.map(ZP).join(",")}function QP(e){let n=[],t=[],r=1,o=2;for(;r<e.length;){let i=e[r];if(typeof i=="string")o===2?i!==""&&n.push(i,e[++r]):o===8&&t.push(i);else{if(!Cn(o))break;o=i}r++}return t.length&&n.push(1,...t),n}var xo={};function JP(e,n){return e.createText(n)}function XP(e,n,t){e.setValue(n,t)}function yE(e,n,t){return e.createElement(n,t)}function zu(e,n,t,r,o){e.insertBefore(n,t,r,o)}function SE(e,n,t){e.appendChild(n,t)}function SA(e,n,t,r,o){r!==null?zu(e,n,t,r,o):SE(e,n,t)}function eR(e,n,t){e.removeChild(null,n,t)}function tR(e,n,t){e.setAttribute(n,"style",t)}function nR(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function bE(e,n,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&QM(e,n,r),o!==null&&nR(e,n,o),i!==null&&tR(e,n,i)}function hg(e,n,t,r,o,i,s,c,a,u,d){let p=xn+r,g=p+o,f=rR(p,g),h=typeof u=="function"?u():u;return f[Pe]={type:e,blueprint:f,template:t,queries:null,viewQuery:c,declTNode:n,data:f.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:a,consts:h,incompleteFirstPass:!1,ssrId:d}}function rR(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:xo);return t}function oR(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=hg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function gg(e,n,t,r,o,i,s,c,a,u,d){let p=n.blueprint.slice();return p[br]=o,p[Ee]=r|4|128|8|64|1024,(u!==null||e&&e[Ee]&2048)&&(p[Ee]|=2048),vw(p),p[Lt]=p[zi]=e,p[Ft]=t,p[vr]=s||e&&e[vr],p[Ut]=c||e&&e[Ut],p[Eo]=a||e&&e[Eo]||null,p[Mn]=i,p[sd]=EP(),p[Ou]=d,p[cw]=u,p[Wn]=n.type==2?e[Wn]:p,p}function iR(e,n,t){let r=wr(n,e),o=oR(t),i=e[vr].rendererFactory,s=mg(e,gg(e,o,null,AE(t),r,n,null,i.createRenderer(r,t),null,null,null));return e[n.index]=s}function AE(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function wE(e,n,t,r){if(t===0)return-1;let o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function mg(e,n){return e[la]?e[rA][Tn]=n:e[la]=n,e[rA]=n,n}function Je(e=1){EE(Vr(),ot(),Zi()+e,!1)}function EE(e,n,t,r){if(!r)if((n[Ee]&3)===3){let i=e.preOrderCheckHooks;i!==null&&Iu(n,i,t)}else{let i=e.preOrderHooks;i!==null&&Cu(n,i,0,t)}Co(t)}var fd=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(fd||{});function _h(e,n,t,r){let o=Me(null);try{let[i,s,c]=e.inputs[t],a=null;(s&fd.SignalBased)!==0&&(a=n[i][bi]),a!==null&&a.transformFn!==void 0?r=a.transformFn(r):c!==null&&(r=c.call(n,r)),e.setInput!==null?e.setInput(n,a,r,t,i):dw(n,a,i,r)}finally{Me(o)}}function DE(e,n,t,r,o){let i=Zi(),s=r&2;try{Co(-1),s&&n.length>xn&&EE(e,n,xn,!1),Ye(s?2:0,o),t(r,o)}finally{Co(i),Ye(s?3:1,o)}}function vg(e,n,t){fR(e,n,t),(t.flags&64)===64&&pR(e,n,t)}function IE(e,n,t=wr){let r=n.localNames;if(r!==null){let o=n.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],c=s===-1?t(n,e):e[s];e[o++]=c}}}function sR(e,n,t,r){let i=r.get(xP,aE)||t===Yn.ShadowDom,s=e.selectRootElement(n,i);return aR(s),s}function aR(e){cR(e)}var cR=()=>null;function lR(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function uR(e,n,t,r,o,i,s,c){if(!c&&yg(n,e,t,r,o)){qi(n)&&dR(t,n.index);return}if(n.type&3){let a=wr(n,t);r=lR(r),o=s!=null?s(o,n.value||"",r):o,i.setProperty(a,r,o)}else n.type&12}function dR(e,n){let t=yr(n,e);t[Ee]&16||(t[Ee]|=64)}function fR(e,n,t){let r=t.directiveStart,o=t.directiveEnd;qi(t)&&iR(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||jw(t,n);let i=t.initialInputs;for(let s=r;s<o;s++){let c=e.data[s],a=yh(n,e,s,t);if(Sa(a,n),i!==null&&gR(n,s-r,a,c,t,i),To(c)){let u=yr(t.index,n);u[Ft]=yh(n,e,s,t)}}}function pR(e,n,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=VM();try{Co(i);for(let c=r;c<o;c++){let a=e.data[c],u=n[c];mh(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&hR(a,u)}}finally{Co(-1),mh(s)}}function hR(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function CE(e,n){let t=e.directiveRegistry,r=null;if(t)for(let o=0;o<t.length;o++){let i=t[o];zP(n,i.selectors,!1)&&(r??=[],To(i)?r.unshift(i):r.push(i))}return r}function gR(e,n,t,r,o,i){let s=i[n];if(s!==null)for(let c=0;c<s.length;c+=2){let a=s[c],u=s[c+1];_h(r,t,a,u)}}function mR(e,n){let t=e[Eo],r=t?t.get(qn,null):null;r&&r.handleError(n)}function yg(e,n,t,r,o){let i=e.inputs?.[r],s=e.hostDirectiveInputs?.[r],c=!1;if(s)for(let a=0;a<s.length;a+=2){let u=s[a],d=s[a+1],p=n.data[u];_h(p,t[u],d,o),c=!0}if(i)for(let a of i){let u=t[a],d=n.data[a];_h(d,u,r,o),c=!0}return c}function vR(e,n){let t=yr(n,e),r=t[Pe];yR(r,t);let o=t[br];o!==null&&t[Ou]===null&&(t[Ou]=uE(o,t[Eo])),Ye(18),Sg(r,t,t[Ft]),Ye(19,t[Ft])}function yR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Sg(e,n,t){Xh(n);try{let r=e.viewQuery;r!==null&&Ch(1,r,t);let o=e.template;o!==null&&DE(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[$i]?.finishViewCreation(e),e.staticContentQueries&&dE(e,n),e.staticViewQueries&&Ch(2,e.viewQuery,t);let i=e.components;i!==null&&SR(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Ee]&=-5,eg()}}function SR(e,n){for(let t=0;t<n.length;t++)vR(e,n[t])}function _E(e,n,t,r){let o=Me(null);try{let i=n.tView,c=e[Ee]&4096?4096:16,a=gg(e,i,t,c,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=e[n.index];a[Vi]=u;let d=e[$i];return d!==null&&(a[$i]=d.createEmbeddedView(i)),Sg(i,a,t),a}finally{Me(o)}}function Th(e,n){return!n||n.firstChild===null||eE(e)}var bR;function bg(e,n){return bR(e,n)}var Ur=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ur||{});function TE(e){return(e.flags&32)===32}function ki(e,n,t,r,o){if(r!=null){let i,s=!1;Ar(r)?i=r:bo(r)&&(s=!0,r=r[br]);let c=zn(r);e===0&&t!==null?o==null?SE(n,t,c):zu(n,t,c,o||null,!0):e===1&&t!==null?zu(n,t,c,o||null,!0):e===2?eR(n,c,s):e===3&&n.destroyNode(c),i!=null&&RR(n,e,i,t,o)}}function AR(e,n){xE(e,n),n[br]=null,n[Mn]=null}function wR(e,n,t,r,o,i){r[br]=o,r[Mn]=n,pd(e,r,t,1,o,i)}function xE(e,n){n[vr].changeDetectionScheduler?.notify(9),pd(e,n,n[Ut],2,null,null)}function ER(e){let n=e[la];if(!n)return th(e[Pe],e);for(;n;){let t=null;if(bo(n))t=n[la];else{let r=n[Kt];r&&(t=r)}if(!t){for(;n&&!n[Tn]&&n!==e;)bo(n)&&th(n[Pe],n),n=n[Lt];n===null&&(n=e),bo(n)&&th(n[Pe],n),t=n&&n[Tn]}n=t}}function Ag(e,n){let t=e[Fu],r=t.indexOf(n);t.splice(r,1)}function wg(e,n){if(Yi(n))return;let t=n[Ut];t.destroyNode&&pd(e,n,t,3,null,null),ER(n)}function th(e,n){if(Yi(n))return;let t=Me(null);try{n[Ee]&=-129,n[Ee]|=256,n[cn]&&Pp(n[cn]),IR(e,n),DR(e,n),n[Pe].type===1&&n[Ut].destroy();let r=n[Vi];if(r!==null&&Ar(n[Lt])){r!==n[Lt]&&Ag(r,n);let o=n[$i];o!==null&&o.detachView(e)}Eh(n)}finally{Me(t)}}function DR(e,n){let t=e.cleanup,r=n[Nu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let c=t[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else{let c=r[t[s+1]];t[s].call(c)}r!==null&&(n[Nu]=null);let o=n[Fr];if(o!==null){n[Fr]=null;for(let s=0;s<o.length;s++){let c=o[s];c()}}let i=n[ku];if(i!==null){n[ku]=null;for(let s of i)s.destroy()}}function IR(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=n[t[r]];if(!(o instanceof ua)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let c=o[i[s]],a=i[s+1];Ye(4,c,a);try{a.call(c)}finally{Ye(5,c,a)}}else{Ye(4,o,i);try{i.call(o)}finally{Ye(5,o,i)}}}}}function CR(e,n,t){return _R(e,n.parent,t)}function _R(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[br];if(qi(r)){let{encapsulation:o}=e.data[r.directiveStart+r.componentOffset];if(o===Yn.None||o===Yn.Emulated)return null}return wr(r,t)}function TR(e,n,t){return MR(e,n,t)}function xR(e,n,t){return e.type&40?wr(e,t):null}var MR=xR,bA;function Eg(e,n,t,r){let o=CR(e,r,n),i=n[Ut],s=r.parent||n[Mn],c=TR(s,r,n);if(o!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)SA(i,o,t[a],c,!1);else SA(i,o,t,c,!1);bA!==void 0&&bA(i,r,n,t,o)}function oa(e,n){if(n!==null){let t=n.type;if(t&3)return wr(n,e);if(t&4)return xh(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return oa(e,r);{let o=e[n.index];return Ar(o)?xh(-1,o):zn(o)}}else{if(t&128)return oa(e,n.next);if(t&32)return bg(n,e)()||zn(e[n.index]);{let r=ME(e,n);if(r!==null){if(Array.isArray(r))return r[0];let o=Io(e[Wn]);return oa(o,r)}else return oa(e,n.next)}}}return null}function ME(e,n){if(n!==null){let r=e[Wn][Mn],o=n.projection;return r.projection[o]}return null}function xh(e,n){let t=Kt+e+1;if(t<n.length){let r=n[t],o=r[Pe].firstChild;if(o!==null)return oa(r,o)}return n[Do]}function Dg(e,n,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=r[t.index],a=t.type;if(s&&n===0&&(c&&Sa(zn(c),r),t.flags|=2),!TE(t))if(a&8)Dg(e,n,t.child,r,o,i,!1),ki(n,e,o,c,i);else if(a&32){let u=bg(t,r),d;for(;d=u();)ki(n,e,o,d,i);ki(n,e,o,c,i)}else a&16?PR(e,n,r,t,o,i):ki(n,e,o,c,i);t=s?t.projectionNext:t.next}}function pd(e,n,t,r,o,i){Dg(t,r,e.firstChild,n,o,i,!1)}function PR(e,n,t,r,o,i){let s=t[Wn],a=s[Mn].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++){let d=a[u];ki(n,e,o,d,i)}else{let u=a,d=s[Lt];eE(r)&&(u.flags|=128),Dg(e,n,u,d,o,i,!0)}}function RR(e,n,t,r,o){let i=t[Do],s=zn(t);i!==s&&ki(n,e,r,i,o);for(let c=Kt;c<t.length;c++){let a=t[c];pd(a[Pe],a,e,n,r,i)}}function OR(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Ur.DashCase;o==null?e.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ur.Important),e.setStyle(t,r,o,i))}}function qu(e,n,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=n[t.index];i!==null&&r.push(zn(i)),Ar(i)&&NR(i,r);let s=t.type;if(s&8)qu(e,n,t.child,r);else if(s&32){let c=bg(t,n),a;for(;a=c();)r.push(a)}else if(s&16){let c=ME(n,t);if(Array.isArray(c))r.push(...c);else{let a=Io(n[Wn]);qu(a[Pe],a,c,r,!0)}}t=o?t.projectionNext:t.next}return r}function NR(e,n){for(let t=Kt;t<e.length;t++){let r=e[t],o=r[Pe].firstChild;o!==null&&qu(r[Pe],r,o,n)}e[Do]!==e[br]&&n.push(e[Do])}function PE(e){if(e[Li]!==null){for(let n of e[Li])n.impl.addSequence(n);e[Li].length=0}}var RE=[];function kR(e){return e[cn]??LR(e)}function LR(e){let n=RE.pop()??Object.create(UR);return n.lView=e,n}function FR(e){e.lView[cn]!==e&&(e.lView=null,RE.push(e))}var UR=Ke(ne({},Jl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ma(e.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function jR(e){let n=e[cn]??Object.create(VR);return n.lView=e,n}var VR=Ke(ne({},Jl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Io(e.lView);for(;n&&!OE(n[Pe]);)n=Io(n);n&&yw(n)},consumerOnSignalRead(){this.lView[cn]=this}});function OE(e){return e.type!==2}function NE(e){if(e[ku]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[ku])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[Ee]&8192)}}var $R=100;function kE(e,n=!0,t=0){let o=e[vr].rendererFactory,i=!1;i||o.begin?.();try{BR(e,t)}catch(s){throw n&&mR(e,s),s}finally{i||o.end?.()}}function BR(e,n){let t=Iw();try{iA(!0),Mh(e,n);let r=0;for(;cd(e);){if(r===$R)throw new fe(103,!1);r++,Mh(e,1)}}finally{iA(t)}}function HR(e,n,t,r){if(Yi(n))return;let o=n[Ee],i=!1,s=!1;Xh(n);let c=!0,a=null,u=null;i||(OE(e)?(u=kR(n),a=xp(u)):Cp()===null?(c=!1,u=jR(n),a=xp(u)):n[cn]&&(Pp(n[cn]),n[cn]=null));try{vw(n),LM(e.bindingStartIndex),t!==null&&DE(e,n,t,2,r);let d=(o&3)===3;if(!i)if(d){let f=e.preOrderCheckHooks;f!==null&&Iu(n,f,null)}else{let f=e.preOrderHooks;f!==null&&Cu(n,f,0,null),Xp(n,0)}if(s||GR(n),NE(n),LE(n,0),e.contentQueries!==null&&dE(e,n),!i)if(d){let f=e.contentCheckHooks;f!==null&&Iu(n,f)}else{let f=e.contentHooks;f!==null&&Cu(n,f,1),Xp(n,1)}zR(e,n);let p=e.components;p!==null&&UE(n,p,0);let g=e.viewQuery;if(g!==null&&Ch(2,g,r),!i)if(d){let f=e.viewCheckHooks;f!==null&&Iu(n,f)}else{let f=e.viewHooks;f!==null&&Cu(n,f,2),Xp(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Jp]){for(let f of n[Jp])f();n[Jp]=null}i||(PE(n),n[Ee]&=-73)}catch(d){throw i||ma(n),d}finally{u!==null&&(yb(u,a),c&&FR(u)),eg()}}function LE(e,n){for(let t=rE(e);t!==null;t=oE(t))for(let r=Kt;r<t.length;r++){let o=t[r];FE(o,n)}}function GR(e){for(let n=rE(e);n!==null;n=oE(n)){if(!(n[Ee]&2))continue;let t=n[Fu];for(let r=0;r<t.length;r++){let o=t[r];yw(o)}}}function WR(e,n,t){Ye(18);let r=yr(n,e);FE(r,t),Ye(19,r[Ft])}function FE(e,n){Qh(e)&&Mh(e,n)}function Mh(e,n){let r=e[Pe],o=e[Ee],i=e[cn],s=!!(n===0&&o&16);if(s||=!!(o&64&&n===0),s||=!!(o&1024),s||=!!(i?.dirty&&Mp(i)),s||=!1,i&&(i.dirty=!1),e[Ee]&=-9217,s)HR(r,e,r.template,e[Ft]);else if(o&8192){NE(e),LE(e,1);let c=r.components;c!==null&&UE(e,c,1),PE(e)}}function UE(e,n,t){for(let r=0;r<n.length;r++)WR(e,n[r],t)}function zR(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Co(~o);else{let i=o,s=t[++r],c=t[++r];jM(s,i);let a=n[i];Ye(24,a),c(2,a),Ye(25,a)}}}finally{Co(-1)}}function Ig(e,n){let t=Iw()?64:1088;for(e[vr].changeDetectionScheduler?.notify(n);e;){e[Ee]|=t;let r=Io(e);if(Uu(e)&&!r)return e;e=r}return null}function jE(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function qR(e,n){let t=Kt+n;if(t<e.length)return e[t]}function VE(e,n,t,r=!0){let o=n[Pe];if(ZR(o,n,e,t),r){let s=xh(t,e),c=n[Ut],a=c.parentNode(e[Do]);a!==null&&wR(o,e[Mn],c,n,a,s)}let i=n[Ou];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function YR(e,n){let t=Yu(e,n);return t!==void 0&&wg(t[Pe],t),t}function Yu(e,n){if(e.length<=Kt)return;let t=Kt+n,r=e[t];if(r){let o=r[Vi];o!==null&&o!==e&&Ag(o,r),n>0&&(e[t-1][Tn]=r[Tn]);let i=Pu(e,Kt+n);AR(r[Pe],r);let s=i[$i];s!==null&&s.detachView(i[Pe]),r[Lt]=null,r[Tn]=null,r[Ee]&=-129}return r}function ZR(e,n,t,r){let o=Kt+r,i=t.length;r>0&&(t[o-1][Tn]=n),r<i-Kt?(n[Tn]=t[o],XA(t,Kt+r,n)):(t.push(n),n[Tn]=null),n[Lt]=t;let s=n[Vi];s!==null&&t!==s&&$E(s,n);let c=n[$i];c!==null&&c.insertView(e),hh(n),n[Ee]|=128}function $E(e,n){let t=e[Fu],r=n[Lt];if(bo(r))e[Ee]|=2;else{let o=r[Lt][Wn];n[Wn]!==o&&(e[Ee]|=2)}t===null?e[Fu]=[n]:t.push(n)}var da=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let n=this._lView,t=n[Pe];return qu(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r}get context(){return this._lView[Ft]}set context(n){this._lView[Ft]=n}get destroyed(){return Yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Lt];if(Ar(n)){let t=n[Lu],r=t?t.indexOf(this):-1;r>-1&&(Yu(n,r),Pu(t,r))}this._attachedToViewContainer=!1}wg(this._lView[Pe],this._lView)}onDestroy(n){Sw(this._lView,n)}markForCheck(){Ig(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Ee]&=-129}reattach(){hh(this._lView),this._lView[Ee]|=128}detectChanges(){this._lView[Ee]|=1024,kE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Uu(this._lView),t=this._lView[Vi];t!==null&&!n&&Ag(t,this._lView),xE(this._lView[Pe],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=n;let t=Uu(this._lView),r=this._lView[Vi];r!==null&&!t&&$E(r,this._lView),hh(this._lView)}};var hd=(()=>{class e{static __NG_ELEMENT_ID__=JR}return e})(),KR=hd,QR=class extends KR{_declarationLView;_declarationTContainer;elementRef;constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){let o=_E(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new da(o)}};function JR(){return XR(Zn(),ot())}function XR(e,n){return e.type&4?new QR(n,e,ud(e,n)):null}function Cg(e,n,t,r,o){let i=e.data[n];if(i===null)i=eO(e,n,t,r,o),UM()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=NM();i.injectorIndex=s===null?-1:s.injectorIndex}return va(i,!0),i}function eO(e,n,t,r,o){let i=Ew(),s=Dw(),c=s?i:i&&i.parent,a=e.data[n]=nO(e,c,t,n,r,o);return tO(e,a,i,s),a}function tO(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function nO(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,c=0;return PM()&&(c|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var f5=new RegExp(`^(\\d+)*(${TP}|${_P})*(.*)`);var rO=()=>null;function Ph(e,n){return rO(e,n)}var oO=class{},BE=class{},Rh=class{resolveComponentFactory(n){throw Error(`No component factory found for ${$t(n)}.`)}},gd=class{static NULL=new Rh},Hi=class{};var iO=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>null})}return e})();var nh={},Oh=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=od(r);let o=this.injector.get(n,nh,r);return o!==nh||t===nh?o:this.parentInjector.get(n,t,r)}};function AA(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(n!==null)for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number")i=c;else if(i==1)o=Kb(o,c);else if(i==2){let a=c,u=n[++s];r=Kb(r,a+": "+u+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}function Qe(e,n=Ce.Default){let t=ot();if(t===null)return le(e,n);let r=Zn();return Hw(r,t,an(e),n)}function HE(){let e="invalid";throw new Error(e)}function GE(e,n,t,r,o){let i=r===null?null:{"":-1},s=o(e,t);if(s!==null){let c,a=null,u=null,d=aO(s);d===null?c=s:[c,a,u]=d,uO(e,n,t,c,i,a,u)}i!==null&&r!==null&&sO(t,r,i)}function sO(e,n,t){let r=e.localNames=[];for(let o=0;o<n.length;o+=2){let i=t[n[o+1]];if(i==null)throw new fe(-301,!1);r.push(n[o],i)}}function aO(e){let n=null,t=!1;for(let s=0;s<e.length;s++){let c=e[s];if(s===0&&To(c)&&(n=c),c.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let r=null,o=null,i=null;for(let s of e)s.findHostDirectiveDefs!==null&&(r??=[],o??=new Map,i??=new Map,cO(s,r,i,o)),s===n&&(r??=[],r.push(s));return r!==null?(r.push(...n===null?e:e.slice(1)),[r,o,i]):null}function cO(e,n,t,r){let o=n.length;e.findHostDirectiveDefs(e,n,r),t.set(e,[o,n.length-1])}function lO(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function uO(e,n,t,r,o,i,s){let c=r.length,a=!1;for(let g=0;g<c;g++){let f=r[g];!a&&To(f)&&(a=!0,lO(e,t,g)),oP(jw(t,n),e,f.type)}mO(t,e.data.length,c);for(let g=0;g<c;g++){let f=r[g];f.providersResolver&&f.providersResolver(f)}let u=!1,d=!1,p=wE(e,n,c,null);c>0&&(t.directiveToIndex=new Map);for(let g=0;g<c;g++){let f=r[g];if(t.mergedAttrs=rg(t.mergedAttrs,f.hostAttrs),fO(e,t,n,p,f),gO(p,f,o),s!==null&&s.has(f)){let[v,S]=s.get(f);t.directiveToIndex.set(f.type,[p,v+t.directiveStart,S+t.directiveStart])}else(i===null||!i.has(f))&&t.directiveToIndex.set(f.type,p);f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let h=f.type.prototype;!u&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),u=!0),!d&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}dO(e,t,i)}function dO(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let o=e.data[r];if(t===null||!t.has(o))wA(0,n,o,r),wA(1,n,o,r),DA(n,r,!1);else{let i=t.get(o);EA(0,n,i,r),EA(1,n,i,r),DA(n,r,!0)}}}function wA(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;e===0?s=n.inputs??={}:s=n.outputs??={},s[i]??=[],s[i].push(r),WE(n,i)}}function EA(e,n,t,r){let o=e===0?t.inputs:t.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],c;e===0?c=n.hostDirectiveInputs??={}:c=n.hostDirectiveOutputs??={},c[s]??=[],c[s].push(r,i),WE(n,s)}}function WE(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function DA(e,n,t){let{attrs:r,inputs:o,hostDirectiveInputs:i}=e;if(r===null||!t&&o===null||t&&i===null||pg(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let s=null,c=0;for(;c<r.length;){let a=r[c];if(a===0){c+=4;continue}else if(a===5){c+=2;continue}else if(typeof a=="number")break;if(!t&&o.hasOwnProperty(a)){let u=o[a];for(let d of u)if(d===n){s??=[],s.push(a,r[c+1]);break}}else if(t&&i.hasOwnProperty(a)){let u=i[a];for(let d=0;d<u.length;d+=2)if(u[d]===n){s??=[],s.push(u[d+1],r[c+1]);break}}c+=2}e.initialInputs??=[],e.initialInputs.push(s)}function fO(e,n,t,r,o){e.data[r]=o;let i=o.factory||(o.factory=Ui(o.type,!0)),s=new ua(i,To(o),Qe);e.blueprint[r]=s,t[r]=s,pO(e,n,r,wE(e,t,o.hostVars,xo),o)}function pO(e,n,t,r,o){let i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let c=~n.index;hO(s)!=c&&s.push(c),s.push(t,r,i)}}function hO(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function gO(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;To(n)&&(t[""]=e)}}function mO(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function zE(e,n,t,r,o,i,s,c){let a=n.consts,u=ju(a,s),d=Cg(n,e,2,r,u);return i&&GE(n,t,d,ju(a,c),o),d.mergedAttrs=rg(d.mergedAttrs,d.attrs),d.attrs!==null&&AA(d,d.attrs,!1),d.mergedAttrs!==null&&AA(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function qE(e,n){Nw(e,n),uw(n)&&e.queries.elementEnd(n)}var Zu=class extends gd{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=wo(n);return new Gi(t,this.ngModule)}};function vO(e){return Object.keys(e).map(n=>{let[t,r,o]=e[n],i={propName:t,templateName:n,isSignal:(r&fd.SignalBased)!==0};return o&&(i.transform=o),i})}function yO(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function SO(e,n,t){let r=n instanceof Bt?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new Oh(t,r):t}function bO(e){let n=e.get(Hi,null);if(n===null)throw new fe(407,!1);let t=e.get(iO,null),r=e.get(Bi,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r}}function AO(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return yE(n,t,t==="svg"?gw:t==="math"?DM:null)}var Gi=class extends BE{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=yO(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=KP(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,o){Ye(22);let i=Me(null);try{let s=this.componentDef,c=r?["ng-version","19.2.11"]:QP(this.componentDef.selectors[0]),a=hg(0,null,null,1,0,null,null,null,null,[c],null),u=SO(s,o||this.ngModule,n),d=bO(u),p=d.rendererFactory.createRenderer(null,s),g=r?sR(p,r,s.encapsulation,u):AO(s,p),f=gg(null,a,null,512|AE(s),null,null,d,p,u,null,uE(g,u,!0));f[xn]=g,Xh(f);let h=null;try{let v=zE(xn,a,f,"#host",()=>[this.componentDef],!0,0);g&&(bE(p,g,v),Sa(g,f)),vg(a,f,v),fE(a,v,f),qE(a,v),t!==void 0&&wO(v,this.ngContentSelectors,t),h=yr(v.index,f),f[Ft]=h[Ft],Sg(a,f,null)}catch(v){throw h!==null&&Eh(h),Eh(f),v}finally{Ye(23),eg()}return new Nh(this.componentType,f)}finally{Me(i)}}},Nh=class extends oO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t){super(),this._rootLView=t,this._tNode=Kh(t[Pe],xn),this.location=ud(this._tNode,t),this.instance=yr(this._tNode.index,t)[Ft],this.hostView=this.changeDetectorRef=new da(t,void 0,!1),this.componentType=n}setInput(n,t){let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let o=this._rootLView,i=yg(r,o[Pe],o,n,t);this.previousInputValues.set(n,t);let s=yr(r.index,o);Ig(s,1)}get injector(){return new Ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function wO(e,n,t){let r=e.projection=[];for(let o=0;o<n.length;o++){let i=t[o];r.push(i!=null&&i.length?Array.from(i):null)}}var ts=(()=>{class e{static __NG_ELEMENT_ID__=EO}return e})();function EO(){let e=Zn();return IO(e,ot())}var DO=ts,YE=class extends DO{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ud(this._hostTNode,this._hostLView)}get injector(){return new Ao(this._hostTNode,this._hostLView)}get parentInjector(){let n=og(this._hostTNode,this._hostLView);if(Lw(n)){let t=$u(n,this._hostLView),r=Vu(n),o=t[Pe].data[r+8];return new Ao(o,t)}else return new Ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=IA(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(n,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=Ph(this._lContainer,n.ssrId),c=n.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(c,o,Th(this._hostTNode,s)),c}createComponent(n,t,r,o,i){let s=n&&!bM(n),c;if(s)c=t;else{let h=t||{};c=h.index,r=h.injector,o=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}let a=s?n:new Gi(wo(n)),u=r||this.parentInjector;if(!i&&a.ngModule==null){let v=(s?u:this.parentInjector).get(Bt,null);v&&(i=v)}let d=wo(a.componentType??{}),p=Ph(this._lContainer,d?.id??null),g=p?.firstChild??null,f=a.create(u,o,g,i);return this.insertImpl(f.hostView,c,Th(this._hostTNode,p)),f}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let o=n._lView;if(IM(o)){let c=this.indexOf(n);if(c!==-1)this.detach(c);else{let a=o[Lt],u=new YE(a,a[Mn],a[Lt]);u.detach(u.indexOf(n))}}let i=this._adjustIndex(t),s=this._lContainer;return VE(s,o,i,r),n.attachToViewContainerRef(),XA(rh(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=IA(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Yu(this._lContainer,t);r&&(Pu(rh(this._lContainer),t),wg(r[Pe],r))}detach(n){let t=this._adjustIndex(n,-1),r=Yu(this._lContainer,t);return r&&Pu(rh(this._lContainer),t)!=null?new da(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function IA(e){return e[Lu]}function rh(e){return e[Lu]||(e[Lu]=[])}function IO(e,n){let t,r=n[e.index];return Ar(r)?t=r:(t=jE(r,n,null,e),n[e.index]=t,mg(n,t)),_O(t,n,e,r),new YE(t,e,n)}function CO(e,n){let t=e[Ut],r=t.createComment(""),o=wr(n,e),i=t.parentNode(o);return zu(t,i,r,t.nextSibling(o),!1),r}var _O=MO,TO=()=>!1;function xO(e,n,t){return TO(e,n,t)}function MO(e,n,t,r){if(e[Do])return;let o;t.type&8?o=zn(r):o=CO(n,t),e[Do]=o}function PO(e){let n=[],t=new Map;function r(o){let i=t.get(o);if(!i){let s=e(o);t.set(o,i=s.then(kO))}return i}return Ku.forEach((o,i)=>{let s=[];o.templateUrl&&s.push(r(o.templateUrl).then(u=>{o.template=u}));let c=typeof o.styles=="string"?[o.styles]:o.styles||[];if(o.styles=c,o.styleUrl&&o.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(o.styleUrls?.length){let u=o.styles.length,d=o.styleUrls;o.styleUrls.forEach((p,g)=>{c.push(""),s.push(r(p).then(f=>{c[u+g]=f,d.splice(d.indexOf(p),1),d.length==0&&(o.styleUrls=void 0)}))})}else o.styleUrl&&s.push(r(o.styleUrl).then(u=>{c.push(u),o.styleUrl=void 0}));let a=Promise.all(s).then(()=>LO(i));n.push(a)}),OO(),Promise.all(n).then(()=>{})}var Ku=new Map,RO=new Set;function OO(){let e=Ku;return Ku=new Map,e}function NO(){return Ku.size===0}function kO(e){return typeof e=="string"?e:e.text()}function LO(e){RO.delete(e)}var fa=class{},_g=class{};var Qu=class extends fa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zu(this);constructor(n,t,r,o=!0){super(),this.ngModuleType=n,this._parent=t;let i=nw(n);this._bootstrapComponents=mE(i.bootstrap),this._r3Injector=zw(n,t,[{provide:fa,useValue:this},{provide:gd,useValue:this.componentFactoryResolver},...r],$t(n),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Ju=class extends _g{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Qu(this.moduleType,n,[])}};function FO(e,n,t){return new Qu(e,n,t,!1)}var kh=class extends fa{injector;componentFactoryResolver=new Zu(this);instance=null;constructor(n){super();let t=new ca([...n.providers,{provide:fa,useValue:this},{provide:gd,useValue:this.componentFactoryResolver}],n.parent||Yh(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ba(e,n,t=null){return new kh({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var UO=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=ow(!1,t.type),o=r.length>0?ba([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=ue({token:e,providedIn:"environment",factory:()=>new e(le(Bt))})}return e})();function st(e){return ha(()=>{let n=ZE(e),t=Ke(ne({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===tE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?o=>o.get(UO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||_n,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&es("NgStandalone"),KE(t);let r=e.dependencies;return t.directiveDefs=CA(r,!1),t.pipeDefs=CA(r,!0),t.id=HO(t),t})}function jO(e){return wo(e)||sM(e)}function VO(e){return e!==null}function dn(e){return ha(()=>({type:e.type,bootstrap:e.bootstrap||_n,declarations:e.declarations||_n,imports:e.imports||_n,exports:e.exports||_n,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $O(e,n){if(e==null)return ji;let t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r],i,s,c,a;Array.isArray(o)?(c=o[0],i=o[1],s=o[2]??i,a=o[3]||null):(i=o,s=o,c=fd.None,a=null),t[i]=[r,c,a],n[i]=s}return t}function BO(e){if(e==null)return ji;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function ns(e){return ha(()=>{let n=ZE(e);return KE(n),n})}function ZE(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||ji,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||_n,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$O(e.inputs,n),outputs:BO(e.outputs),debugInfo:null}}function KE(e){e.features?.forEach(n=>n(e))}function CA(e,n){if(!e)return null;let t=n?aM:jO;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(VO)}function HO(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let i of r.join("|"))n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function QE(e){return WO(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function GO(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{let t=e[Symbol.iterator](),r;for(;!(r=t.next()).done;)n(r.value)}}function WO(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function md(e,n,t){let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function zO(e,n,t,r,o,i,s,c,a){let u=n.consts,d=Cg(n,e,4,s||null,c||null);ww()&&GE(n,t,d,ju(u,a),CE),d.mergedAttrs=rg(d.mergedAttrs,d.attrs),Nw(n,d);let p=d.tView=hg(2,d,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return n.queries!==null&&(n.queries.template(n,d),p.queries=n.queries.embeddedTView(d)),d}function qO(e,n,t,r,o,i,s,c,a,u){let d=t+xn,p=n.firstCreatePass?zO(d,n,e,r,o,i,s,c,a):n.data[d];va(p,!1);let g=YO(n,e,p,t);tg()&&Eg(n,e,g,p),Sa(g,e);let f=jE(g,e,g,p);return e[d]=f,mg(e,f),xO(f,p,e),Zh(p)&&vg(n,e,p),a!=null&&IE(e,p,u),p}function Pn(e,n,t,r,o,i,s,c){let a=ot(),u=Vr(),d=ju(u.consts,i);return qO(a,u,e,n,t,r,o,d,s,c),Pn}var YO=ZO;function ZO(e,n,t,r){return ng(!0),n[Ut].createComment("")}var JE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Tg=new me(""),Aa=new me(""),vd=(()=>{class e{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,r,o){this._ngZone=t,this.registry=r,xg||(KO(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(t)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t()},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}static \u0275fac=function(r){return new(r||e)(le(Be),le(yd),le(Aa))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),yd=(()=>{class e{_applications=new Map;registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return xg?.findTestabilityInTree(this,t,r)??null}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function KO(e){xg=e}var xg,QO=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new Lh})}return e})(),Lh=class{queuedEffectCount=0;queues=new Map;schedule(n){this.enqueue(n)}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),this.queuedEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||(this.queuedEffectCount++,r.add(n))}flush(){for(;this.queuedEffectCount>0;)for(let[n,t]of this.queues)n===null?this.flushQueue(t):n.run(()=>this.flushQueue(t))}flushQueue(n){for(let t of n)n.delete(t),this.queuedEffectCount--,t.run()}};function Sd(e){return!!e&&typeof e.then=="function"}function JO(e){return!!e&&typeof e.subscribe=="function"}var XE=new me("");function Mg(e){return rw([{provide:XE,multi:!0,useValue:e}])}var e0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=X(XE,{optional:!0})??[];injector=X(Qt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=un(this.injector,o);if(Sd(i))t.push(i);else if(JO(i)){let s=new Promise((c,a)=>{i.subscribe({complete:c,error:a})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pg=new me("");function XO(){Rp(()=>{throw new fe(600,!1)})}function eN(e){return e.isBoundToModule}var tN=10;function t0(e,n){return Array.isArray(n)?n.reduce(t0,e):ne(ne({},e),n)}var jr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=X(SP);afterRenderManager=X(lE);zonelessEnabled=X(Yw);rootEffectScheduler=X(QO);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Dt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=X(Ki).hasPendingTasks.pipe(Fe(t=>!t));constructor(){X(Xi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=X(Bt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,o=Qt.NULL){Ye(10);let i=t instanceof BE;if(!this._injector.get(e0).done){let f="";throw new fe(405,f)}let c;i?c=t:c=this._injector.get(gd).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let a=eN(c)?void 0:this._injector.get(fa),u=r||c.selector,d=c.create(o,[],u,a),p=d.location.nativeElement,g=d.injector.get(Tg,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),_u(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),Ye(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ug.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new fe(101,!1);let t=Me(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Me(t),this.afterTick.next(),Ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<tN;)Ye(14),this.synchronizeOnce(),Ye(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:o}of this.allViews)nN(r,o,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>cd(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;_u(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Pg,[]).forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_u(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new fe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _u(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function nN(e,n,t,r){if(!t&&!cd(e))return;kE(e,n,t&&!r?0:1)}function rN(e,n,t,r){return md(e,Jh(),t)?n+Gh(t)+r:xo}function wu(e,n){return e<<17|n<<2}function _o(e){return e>>17&32767}function oN(e){return(e&2)==2}function iN(e,n){return e&131071|n<<17}function Fh(e){return e|2}function Wi(e){return(e&131068)>>2}function oh(e,n){return e&-131069|n<<2}function sN(e){return(e&1)===1}function Uh(e){return e|1}function aN(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,c=_o(s),a=Wi(s);e[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||ga(p,d)>0)&&(u=!0)}else d=t;if(o)if(a!==0){let g=_o(e[c+1]);e[r+1]=wu(g,c),g!==0&&(e[g+1]=oh(e[g+1],r)),e[c+1]=iN(e[c+1],r)}else e[r+1]=wu(c,0),c!==0&&(e[c+1]=oh(e[c+1],r)),c=r;else e[r+1]=wu(a,0),c===0?c=r:e[a+1]=oh(e[a+1],r),a=r;u&&(e[r+1]=Fh(e[r+1])),_A(e,d,r,!0),_A(e,d,r,!1),cN(n,d,e,r,i),s=wu(c,a),i?n.classBindings=s:n.styleBindings=s}function cN(e,n,t,r,o){let i=o?e.residualClasses:e.residualStyles;i!=null&&typeof n=="string"&&ga(i,n)>=0&&(t[r+1]=Uh(t[r+1]))}function _A(e,n,t,r){let o=e[t+1],i=n===null,s=r?_o(o):Wi(o),c=!1;for(;s!==0&&(c===!1||i);){let a=e[s],u=e[s+1];lN(a,n)&&(c=!0,e[s+1]=r?Uh(u):Fh(u)),s=r?_o(u):Wi(u)}c&&(e[t+1]=r?Fh(o):Uh(o))}function lN(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?ga(e,n)>=0:!1}function Mo(e,n,t){let r=ot(),o=Jh();if(md(r,o,n)){let i=Vr(),s=GM();uR(i,s,r,e,n,r[Ut],t,!1)}return Mo}function TA(e,n,t,r,o){yg(n,e,t,o?"class":"style",r)}function rs(e,n){return uN(e,n,null,!0),rs}function uN(e,n,t,r){let o=ot(),i=Vr(),s=FM(2);if(i.firstUpdatePass&&fN(i,e,s,r),n!==xo&&md(o,s,n)){let c=i.data[Zi()];vN(i,c,o,o[Ut],e,o[s+1]=yN(n,t),r,s)}}function dN(e,n){return n>=e.expandoStartIndex}function fN(e,n,t,r){let o=e.data;if(o[t+1]===null){let i=o[Zi()],s=dN(e,t);SN(i,r)&&n===null&&!s&&(n=!1),n=pN(o,i,n,r),aN(o,i,n,t,s,r)}}function pN(e,n,t,r){let o=$M(e),i=r?n.residualClasses:n.residualStyles;if(o===null)(r?n.classBindings:n.styleBindings)===0&&(t=ih(null,e,n,t,r),t=pa(t,n.attrs,r),i=null);else{let s=n.directiveStylingLast;if(s===-1||e[s]!==o)if(t=ih(o,e,n,t,r),i===null){let a=hN(e,n,r);a!==void 0&&Array.isArray(a)&&(a=ih(null,e,n,a[1],r),a=pa(a,n.attrs,r),gN(e,n,r,a))}else i=mN(e,n,r)}return i!==void 0&&(r?n.residualClasses=i:n.residualStyles=i),t}function hN(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Wi(r)!==0)return e[_o(r)]}function gN(e,n,t,r){let o=t?n.classBindings:n.styleBindings;e[_o(o)]=r}function mN(e,n,t){let r,o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++){let s=e[i].hostAttrs;r=pa(r,s,t)}return pa(r,n.attrs,t)}function ih(e,n,t,r,o){let i=null,s=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<s&&(i=n[c],r=pa(r,i.hostAttrs,o),i!==e);)c++;return e!==null&&(t.directiveStylingLast=c),r}function pa(e,n,t){let r=t?1:2,o=-1;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];typeof s=="number"?o=s:o===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),oM(e,s,t?!0:n[++i]))}return e===void 0?null:e}function vN(e,n,t,r,o,i,s,c){if(!(n.type&3))return;let a=e.data,u=a[c+1],d=sN(u)?xA(a,n,t,o,Wi(u),s):void 0;if(!Xu(d)){Xu(i)||oN(u)&&(i=xA(a,null,t,o,c,s));let p=mw(Zi(),t);OR(r,s,p,o,i)}}function xA(e,n,t,r,o,i){let s=n===null,c;for(;o>0;){let a=e[o],u=Array.isArray(a),d=u?a[1]:a,p=d===null,g=t[o+1];g===xo&&(g=p?_n:void 0);let f=p?Kp(g,r):d===r?g:void 0;if(u&&!Xu(f)&&(f=Kp(a,r)),Xu(f)&&(c=f,s))return c;let h=e[o+1];o=s?_o(h):Wi(h)}if(n!==null){let a=i?n.residualClasses:n.residualStyles;a!=null&&(c=Kp(a,r))}return c}function Xu(e){return e!==void 0}function yN(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=$t(fg(e)))),e}function SN(e,n){return(e.flags&(n?8:16))!==0}function Er(e,n){es("NgControlFlow");let t=ot(),r=Jh(),o=t[r]!==xo?t[r]:-1,i=o!==-1?MA(t,xn+o):void 0,s=0;if(md(t,r,e)){let c=Me(null);try{if(i!==void 0&&YR(i,s),e!==-1){let a=xn+e,u=MA(t,a),d=bN(t[Pe],a),p=Ph(u,d.tView.ssrId),g=_E(t,d,n,{dehydratedView:p});VE(u,g,s,Th(d,p))}}finally{Me(c)}}else if(i!==void 0){let c=qR(i,s);c!==void 0&&(c[Ft]=n)}}function MA(e,n){return e[n]}function bN(e,n){return Kh(e,n)}function ve(e,n,t,r){let o=ot(),i=Vr(),s=xn+e,c=o[Ut],a=i.firstCreatePass?zE(s,i,o,n,CE,ww(),t,r):i.data[s],u=AN(i,o,a,c,n,e);o[s]=u;let d=Zh(a);return va(a,!0),bE(c,u,a),!TE(a)&&tg()&&Eg(i,o,u,a),(TM()===0||d)&&Sa(u,o),xM(),d&&(vg(i,o,a),fE(i,a,o)),r!==null&&IE(o,a),ve}function ge(){let e=Zn();Dw()?kM():(e=e.parent,va(e,!1));let n=e;RM(n)&&OM(),MM();let t=Vr();return t.firstCreatePass&&qE(t,n),n.classesWithoutHost!=null&&ZM(n)&&TA(t,n,ot(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&KM(n)&&TA(t,n,ot(),n.stylesWithoutHost,!1),ge}function Xe(e,n,t,r){return ve(e,n,t,r),ge(),Xe}var AN=(e,n,t,r,o,i)=>(ng(!0),yE(r,o,zM()));function Po(){return ot()}var ed="en-US";var wN=ed;function EN(e){typeof e=="string"&&(wN=e.toLowerCase().replace(/_/g,"-"))}function PA(e,n,t){return function r(o){if(o===Function)return t;let i=qi(e)?yr(e.index,n):n;Ig(i,5);let s=n[Ft],c=RA(n,s,t,o),a=r.__ngNextListenerFn__;for(;a;)c=RA(n,s,a,o)&&c,a=a.__ngNextListenerFn__;return c}}function RA(e,n,t,r){let o=Me(null);try{return Ye(6,n,t),t(r)!==!1}catch(i){return DN(e,i),!1}finally{Ye(7,n,t),Me(o)}}function DN(e,n){let t=e[Eo],r=t?t.get(qn,null):null;r&&r.handleError(n)}function OA(e,n,t,r,o,i){let s=n[t],c=n[Pe],u=c.data[t].outputs[r],d=s[u],p=c.firstCreatePass?Aw(c):null,g=bw(n),f=d.subscribe(i),h=g.length;g.push(i,f),p&&p.push(o,e.index,h,-(h+1))}var IN=new Map;function vt(e,n,t,r){let o=ot(),i=Vr(),s=Zn();return _N(i,o,o[Ut],s,e,n,r),vt}function CN(e,n,t,r){let o=e.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let c=n[Nu],a=o[i+2];return c.length>a?c[a]:null}typeof s=="string"&&(i+=2)}return null}function _N(e,n,t,r,o,i,s){let c=Zh(r),u=e.firstCreatePass?Aw(e):null,d=bw(n),p=!0;if(r.type&3||s){let g=wr(r,n),f=s?s(g):g,h=d.length,v=s?D=>s(zn(D[r.index])):r.index,S=null;if(!s&&c&&(S=CN(e,n,o,r.index)),S!==null){let D=S.__ngLastListenerFn__||S;D.__ngNextListenerFn__=i,S.__ngLastListenerFn__=i,p=!1}else{i=PA(r,n,i);let D=n[Eo].get(dd);IN.get(D)?.(f,o,i);let m=t.listen(f,o,i);d.push(i,m),u&&u.push(o,v,h,h+1)}}else i=PA(r,n,i);if(p){let g=r.outputs?.[o],f=r.hostDirectiveOutputs?.[o];if(f&&f.length)for(let h=0;h<f.length;h+=2){let v=f[h],S=f[h+1];OA(r,n,v,S,o,i)}if(g&&g.length)for(let h of g)OA(r,n,h,o,o,i)}}function fn(e=1){return HM(e)}function xe(e,n=""){let t=ot(),r=Vr(),o=e+xn,i=r.firstCreatePass?Cg(r,o,1,n,null):r.data[o],s=TN(r,t,i,n,e);t[o]=s,tg()&&Eg(r,t,s,i),va(i,!1)}var TN=(e,n,t,r,o)=>(ng(!0),JP(n[Ut],r));function pn(e){return Hr("",e,""),pn}function Hr(e,n,t){let r=ot(),o=rN(r,e,n,t);return o!==xo&&xN(r,Zi(),o),Hr}function xN(e,n,t){let r=mw(n,e);XP(e[Ut],r,t)}var Eu=null;function MN(e){Eu!==null&&(e.defaultEncapsulation!==Eu.defaultEncapsulation||e.preserveWhitespaces!==Eu.preserveWhitespaces)||(Eu=e)}var jh=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},n0=(()=>{class e{compileModuleSync(t){return new Ju(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=nw(t),i=mE(o.declarations).reduce((s,c)=>{let a=wo(c);return a&&s.push(new Gi(a)),s},[]);return new jh(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PN=new me("");function RN(e,n,t){let r=new Ju(t);return Promise.resolve(r)}function NA(e){for(let n=e.length-1;n>=0;n--)if(e[n]!==void 0)return e[n]}var ON=(()=>{class e{zone=X(Be);changeDetectionScheduler=X(Bi);applicationRef=X(jr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function NN({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Be(Ke(ne({},r0()),{scheduleInRootZone:t})),[{provide:Be,useFactory:e},{provide:aa,multi:!0,useFactory:()=>{let r=X(ON,{optional:!0});return()=>r.initialize()}},{provide:aa,multi:!0,useFactory:()=>{let r=X(kN);return()=>{r.initialize()}}},n===!0?{provide:Zw,useValue:!0}:[],{provide:Kw,useValue:t??qw}]}function r0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var kN=(()=>{class e{subscription=new it;initialized=!1;zone=X(Be);pendingTasks=X(Ki);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var LN=(()=>{class e{appRef=X(jr);taskService=X(Ki);ngZone=X(Be);zonelessEnabled=X(Yw);tracing=X(Xi,{optional:!0});disableScheduling=X(Zw,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new it;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Hu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(X(Kw,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gu||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let o=this.useMicrotaskScheduler?fA:Qw;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Hu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function FN(){return typeof $localize<"u"&&$localize.locale||ed}var o0=new me("",{providedIn:"root",factory:()=>X(o0,Ce.Optional|Ce.SkipSelf)||FN()});var td=new me(""),UN=new me("");function na(e){return!e.moduleRef}function jN(e){let n=na(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Be);return t.run(()=>{na(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(qn,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),na(e)){let i=()=>n.destroy(),s=e.platformInjector.get(td);s.add(i),n.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>e.moduleRef.destroy(),s=e.platformInjector.get(td);s.add(i),e.moduleRef.onDestroy(()=>{_u(e.allPlatformModules,e.moduleRef),o.unsubscribe(),s.delete(i)})}return $N(r,t,()=>{let i=n.get(e0);return i.runInitializers(),i.donePromise.then(()=>{let s=n.get(o0,ed);if(EN(s||ed),!n.get(UN,!0))return na(e)?n.get(jr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(na(e)){let a=n.get(jr);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return VN(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function VN(e,n){let t=e.injector.get(jr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(t);else throw new fe(-403,!1);n.push(e)}function $N(e,n,t){try{let r=t();return Sd(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}var i0=(()=>{class e{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,r){let o=r?.scheduleInRootZone,i=()=>yP(r?.ngZone,Ke(ne({},r0({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing})),{scheduleInRootZone:o})),s=r?.ignoreChangesOutsideZone,c=[NN({ngZoneFactory:i,ignoreChangesOutsideZone:s}),{provide:Bi,useExisting:LN}],a=FO(t.moduleType,this.injector,c);return jN({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,r=[]){let o=t0({},r);return RN(this.injector,o,t).then(i=>this.bootstrapModuleFactory(i,o))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fe(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let t=this._injector.get(td,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(r){return new(r||e)(le(Qt))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),sa=null,s0=new me("");function BN(e){if(sa&&!sa.get(s0,!1))throw new fe(400,!1);XO(),sa=e;let n=e.get(i0);return WN(e),n}function Rg(e,n,t=[]){let r=`Platform: ${n}`,o=new me(r);return(i=[])=>{let s=a0();if(!s||s.injector.get(s0,!1)){let c=[...t,...i,{provide:o,useValue:!0}];e?e(c):BN(HN(c,r))}return GN(o)}}function HN(e=[],n){return Qt.create({name:n,providers:[{provide:id,useValue:"platform"},{provide:td,useValue:new Set([()=>sa=null])},...e]})}function GN(e){let n=a0();if(!n)throw new fe(401,!1);return n}function a0(){return sa?.get(i0)??null}function WN(e){let n=e.get(cg,null);un(e,()=>{n?.forEach(t=>t())})}var wa=(()=>{class e{static __NG_ELEMENT_ID__=zN}return e})();function zN(e){return qN(Zn(),ot(),(e&16)===16)}function qN(e,n,t){if(qi(e)&&!t){let r=yr(e.index,n);return new da(r,r)}else if(e.type&175){let r=n[Wn];return new da(r,n)}return null}var Vh=class{constructor(){}supports(n){return QE(n)}create(n){return new $h(n)}},YN=(e,n)=>n,$h=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(n){this._trackByFn=n||YN}forEachItem(n){let t;for(t=this._itHead;t!==null;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<kA(r,o,i)?t:r,c=kA(s,o,i),a=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let u=c-o,d=a-o;if(u!=d){for(let g=0;g<u;g++){let f=g<i.length?i[g]:i[g]=0,h=f+g;d<=h&&h<u&&(i[g]=f+1)}let p=s.previousIndex;i[p]=d-u}}c!==a&&n(s,c,a)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)n(t)}diff(n){if(n==null&&(n=[]),!QE(n))throw new fe(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(n)){this.length=n.length;for(let c=0;c<this.length;c++)i=n[c],s=this._trackByFn(c,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,c),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,c)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,GO(n,c=>{s=this._trackByFn(o,c),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,c,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,c,s,o)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;n!==null;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;n!==null;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;n!==null;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return n===null?i=this._itTail:(i=n._prev,this._remove(n)),n=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):(n=this._linkedRecords===null?null:this._linkedRecords.get(r,o),n!==null?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new Bh(t,r),i,o)),n}_verifyReinsertion(n,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;n!==null;){let t=n._next;this._addToRemovals(this._unlink(n)),n=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(n);let o=n._prevRemoved,i=n._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=n:this._additionsTail=this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){let o=t===null?this._itHead:t._next;return n._next=o,n._prev=t,o===null?this._itTail=n:o._prev=n,t===null?this._itHead=n:t._next=n,this._linkedRecords===null&&(this._linkedRecords=new nd),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){this._linkedRecords!==null&&this._linkedRecords.remove(n);let t=n._prev,r=n._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=n:this._movesTail=this._movesTail._nextMoved=n),n}_addToRemovals(n){return this._unlinkedRecords===null&&(this._unlinkedRecords=new nd),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=n:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=n,n}},Bh=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(n,t){this.item=n,this.trackById=t}},Hh=class{_head=null;_tail=null;add(n){this._head===null?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){let t=n._prevDup,r=n._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},nd=class{map=new Map;put(n){let t=n.trackById,r=this.map.get(t);r||(r=new Hh,this.map.set(t,r)),r.add(n)}get(n,t){let r=n,o=this.map.get(r);return o?o.get(n,t):null}remove(n){let t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function kA(e,n,t){let r=e.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function LA(){return new Og([new Vh])}var Og=(()=>{class e{factories;static \u0275prov=ue({token:e,providedIn:"root",factory:LA});constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||LA()),deps:[[e,new nM,new tM]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new fe(901,!1)}}return e})();var c0=Rg(null,"core",[]),l0=(()=>{class e{constructor(t){}static \u0275fac=function(r){return new(r||e)(le(jr))};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();var FA=class{[bi];constructor(n){this[bi]=n}destroy(){this[bi].destroy()}};function u0(e){let n=wo(e);if(!n)return null;let t=new Gi(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var yt=new me("");var p0=null;function Kn(){return p0}function Ng(e){p0??=e}var Ea=class{},Da=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(h0),providedIn:"platform"})}return e})(),kg=new me(""),h0=(()=>{class e extends Da{_location;_history;_doc=X(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kn().getBaseHref(this._doc)}onPopState(t){let r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Kn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function bd(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function d0(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Rn(e){return e&&e[0]!=="?"?`?${e}`:e}var Dr=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(wd),providedIn:"root"})}return e})(),Ad=new me(""),wd=(()=>{class e extends Dr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Rn(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Rn(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Rn(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(le(Da),le(Ad,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gr=(()=>{class e{_subject=new Dt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=QN(d0(f0(r))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Rn(r))}normalize(t){return e.stripTrailingSlash(KN(this._basePath,f0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rn(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Rn(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r??void 0,complete:o??void 0})}static normalizeQueryParams=Rn;static joinWithSlash=bd;static stripTrailingSlash=d0;static \u0275fac=function(r){return new(r||e)(le(Dr))};static \u0275prov=ue({token:e,factory:()=>ZN(),providedIn:"root"})}return e})();function ZN(){return new Gr(le(Dr))}function KN(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function f0(e){return e.replace(/\/index.html$/,"")}function QN(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Lg=(()=>{class e extends Dr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=bd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Rn(i))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Rn(i))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(le(Da),le(Ad,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();var Ed=class{$implicit;ngForOf;index;count;constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Dd=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Ed(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let c=r.get(i);r.move(c,s),g0(c,o)}});for(let o=0,i=r.length;o<i;o++){let c=r.get(o).context;c.index=o,c.count=i,c.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);g0(i,o)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||e)(Qe(ts),Qe(hd),Qe(Og))};static \u0275dir=ns({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function g0(e,n){e.context.$implicit=n.item}var Ro=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();function Fg(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}var Ug="browser",v0="server";function Id(e){return e===v0}var Ia=class{};var y0=(()=>{class e{static \u0275prov=ue({token:e,providedIn:"root",factory:()=>new jg(X(yt),window)})}return e})(),jg=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){let t=ek(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){let t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function ek(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}var Td=new me(""),Hg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o,i){return this._findPluginFor(r).addEventListener(t,r,o,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new fe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(le(Td),le(Be))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Ca=class{_doc;constructor(n){this._doc=n}manager},Cd="ng-app-id";function S0(e){for(let n of e)n.remove()}function b0(e,n){let t=n.createElement("style");return t.textContent=e,t}function nk(e,n,t,r){let o=e.head?.querySelectorAll(`style[${Cd}="${n}"],link[${Cd}="${n}"]`);if(o)for(let i of o)i.removeAttribute(Cd),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}function $g(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Gg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.isServer=Id(i),nk(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let o of t)this.addUsage(o,this.inline,b0);r?.forEach(o=>this.addUsage(o,this.external,$g))}removeStyles(t,r){for(let o of t)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(t,r,o){let i=r.get(t);i?i.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(t,this.doc)))})}removeUsage(t,r){let o=r.get(t);o&&(o.usage--,o.usage<=0&&(S0(o.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])S0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(t,b0(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(t,$g(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Cd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(le(yt),le(dd),le(lg,8),le(Ji))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),Vg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wg=/%COMP%/g;var w0="%COMP%",rk=`_nghost-${w0}`,ok=`_ngcontent-${w0}`,ik=!0,sk=new me("",{providedIn:"root",factory:()=>ik});function ak(e){return ok.replace(Wg,e)}function ck(e){return rk.replace(Wg,e)}function E0(e,n){return n.map(t=>t.replace(Wg,e))}var zg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,o,i,s,c,a,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=c,this.ngZone=a,this.nonce=u,this.tracingService=d,this.platformIsServer=Id(c),this.defaultRenderer=new _a(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Yn.ShadowDom&&(r=Ke(ne({},r),{encapsulation:Yn.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof _d?o.applyToHost(t):o instanceof Ta&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Yn.Emulated:i=new _d(a,u,r,this.appId,d,s,c,p,g);break;case Yn.ShadowDom:return new Bg(a,u,t,r,s,c,this.nonce,p,g);default:i=new Ta(a,u,r,d,s,c,p,g);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(le(Hg),le(Gg),le(dd),le(sk),le(yt),le(Ji),le(Be),le(lg),le(Xi,8))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),_a=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,o,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.tracingService=i}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Vg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(A0(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(A0(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new fe(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;let i=Vg[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let o=Vg[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(Ur.DashCase|Ur.Important)?n.style.setProperty(t,r,o&Ur.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ur.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,o){if(typeof n=="string"&&(n=Kn().getGlobalEventTarget(this.doc,n),!n))throw new fe(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(n,t,i)),this.eventManager.addEventListener(n,t,i,o)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))===!1&&t.preventDefault()}}};function A0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bg=class extends _a{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,o,i,s,c,a,u){super(n,i,s,a,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=o.styles;d=E0(o.id,d);for(let g of d){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=g,this.shadowRoot.appendChild(f)}let p=o.getExternalStyles?.();if(p)for(let g of p){let f=$g(g,i);c&&f.setAttribute("nonce",c),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ta=class extends _a{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,o,i,s,c,a,u){super(n,i,s,c,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o;let d=r.styles;this.styles=u?E0(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_d=class extends Ta{contentAttr;hostAttr;constructor(n,t,r,o,i,s,c,a,u){let d=o+"-"+r.id;super(n,t,r,i,s,c,a,u,d),this.contentAttr=ak(d),this.hostAttr=ck(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var xd=class e extends Ea{supportsDOMEvents=!0;static makeCurrent(){Ng(new e)}onAndCancel(n,t,r,o){return n.addEventListener(t,r,o),()=>{n.removeEventListener(t,r,o)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=lk();return t==null?null:uk(t)}resetBaseElement(){xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Fg(document.cookie,n)}},xa=null;function lk(){return xa=xa||document.querySelector("base"),xa?xa.getAttribute("href"):null}function uk(e){return new URL(e,document.baseURI).pathname}var Md=class{addToWindow(n){Sr.getAngularTestability=(r,o=!0)=>{let i=n.findTestabilityInTree(r,o);if(i==null)throw new fe(5103,!1);return i},Sr.getAllAngularTestabilities=()=>n.getAllTestabilities(),Sr.getAllAngularRootElements=()=>n.getAllRootElements();let t=r=>{let o=Sr.getAllAngularTestabilities(),i=o.length,s=function(){i--,i==0&&r()};o.forEach(c=>{c.whenStable(s)})};Sr.frameworkStabilizers||(Sr.frameworkStabilizers=[]),Sr.frameworkStabilizers.push(t)}findTestabilityInTree(n,t,r){if(t==null)return null;let o=n.getTestability(t);return o??(r?Kn().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},dk=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),I0=(()=>{class e extends Ca{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o,i){return t.addEventListener(r,o,i),()=>this.removeEventListener(t,r,o,i)}removeEventListener(t,r,o,i){return t.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),D0=["alt","control","meta","shift"],fk={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},C0=(()=>{class e extends Ca{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o,i){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kn().onAndCancel(t,s.domEventName,c,i))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=e._normalizeKey(r.pop()),s="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),s="code."),D0.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let a={};return a.domEventName=o,a.fullKey=s,a}static matchEventFullKeyCode(t,r){let o=fk[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),D0.forEach(s=>{if(s!==o){let c=pk[s];c(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function hk(){xd.makeCurrent()}function gk(){return new qn}function mk(){return sE(document),document}var vk=[{provide:Ji,useValue:Ug},{provide:cg,useValue:hk,multi:!0},{provide:yt,useFactory:mk}],qg=Rg(c0,"browser",vk);var yk=[{provide:Aa,useClass:Md},{provide:Tg,useClass:vd,deps:[Be,yd,Aa]},{provide:vd,useClass:vd,deps:[Be,yd,Aa]}],Sk=[{provide:id,useValue:"root"},{provide:qn,useFactory:gk},{provide:Td,useClass:I0,multi:!0,deps:[yt]},{provide:Td,useClass:C0,multi:!0,deps:[yt]},zg,Gg,Hg,{provide:Hi,useExisting:zg},{provide:Ia,useClass:dk},[]],Yg=(()=>{class e{constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({providers:[...Sk,...yk],imports:[Ro,l0]})}return e})();var _0=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(le(yt))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ie="primary",Ba=Symbol("RouteTitle"),Xg=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ko(e){return new Xg(e)}function L0(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],c=e[i];if(s[0]===":")o[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function bk(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Qn(e[t],n[t]))return!1;return!0}function Qn(e,n){let t=e?em(e):void 0,r=n?em(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!F0(e[o],n[o]))return!1;return!0}function em(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function F0(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}else return e===n}function U0(e){return e.length>0?e[e.length-1]:null}function Yr(e){return Wp(e)?e:Sd(e)?et(Promise.resolve(e)):Ae(e)}var Ak={exact:V0,subset:$0},j0={exact:wk,subset:Ek,ignored:()=>!0};function x0(e,n,t){return Ak[t.paths](e.root,n.root,t.matrixParams)&&j0[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function wk(e,n){return Qn(e,n)}function V0(e,n,t){if(!Oo(e.segments,n.segments)||!Od(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!V0(e.children[r],n.children[r],t))return!1;return!0}function Ek(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>F0(e[t],n[t]))}function $0(e,n,t){return B0(e,n,n.segments,t)}function B0(e,n,t,r){if(e.segments.length>t.length){let o=e.segments.slice(0,t.length);return!(!Oo(o,t)||n.hasChildren()||!Od(o,t,r))}else if(e.segments.length===t.length){if(!Oo(e.segments,t)||!Od(e.segments,t,r))return!1;for(let o in n.children)if(!e.children[o]||!$0(e.children[o],n.children[o],r))return!1;return!0}else{let o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!Oo(e.segments,o)||!Od(e.segments,o,r)||!e.children[Ie]?!1:B0(e.children[Ie],n,i,r)}}function Od(e,n,t){return n.every((r,o)=>j0[t](e[o].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new Ve([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){return Ck.serialize(this)}},Ve=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nd(this)}},Wr=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=ko(this.parameters),this._parameterMap}toString(){return G0(this)}};function Dk(e,n){return Oo(e,n)&&e.every((t,r)=>Qn(t.parameters,n[r].parameters))}function Oo(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Ik(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===Ie&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==Ie&&(t=t.concat(n(o,r)))}),t}var Lo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>new Nn,providedIn:"root"})}return e})(),Nn=class{parse(n){let t=new nm(n);return new Xn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ma(n.root,!0)}`,r=xk(n.queryParams),o=typeof n.fragment=="string"?`#${_k(n.fragment)}`:"";return`${t}${r}${o}`}},Ck=new Nn;function Nd(e){return e.segments.map(n=>G0(n)).join("/")}function Ma(e,n){if(!e.hasChildren())return Nd(e);if(n){let t=e.children[Ie]?Ma(e.children[Ie],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==Ie&&r.push(`${o}:${Ma(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Ik(e,(r,o)=>o===Ie?[Ma(e.children[Ie],!1)]:[`${o}:${Ma(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[Ie]!=null?`${Nd(e)}/${t[0]}`:`${Nd(e)}/(${t.join("//")})`}}function H0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(e){return H0(e).replace(/%3B/gi,";")}function _k(e){return encodeURI(e)}function tm(e){return H0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kd(e){return decodeURIComponent(e)}function M0(e){return kd(e.replace(/\+/g,"%20"))}function G0(e){return`${tm(e.path)}${Tk(e.parameters)}`}function Tk(e){return Object.entries(e).map(([n,t])=>`;${tm(n)}=${tm(t)}`).join("")}function xk(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Pd(t)}=${Pd(o)}`).join("&"):`${Pd(t)}=${Pd(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var Mk=/^[^\/()?;#]+/;function Zg(e){let n=e.match(Mk);return n?n[0]:""}var Pk=/^[^\/()?;=#]+/;function Rk(e){let n=e.match(Pk);return n?n[0]:""}var Ok=/^[^=?&#]+/;function Nk(e){let n=e.match(Ok);return n?n[0]:""}var kk=/^[^&#]+/;function Lk(e){let n=e.match(kk);return n?n[0]:""}var nm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ve([],{}):new Ve([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[Ie]=new Ve(n,t)),r}parseSegment(){let n=Zg(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(n),new Wr(kd(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=Rk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Zg(this.remaining);o&&(r=o,this.capture(r))}n[kd(t)]=kd(r)}parseQueryParam(n){let t=Nk(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=Lk(this.remaining);s&&(r=s,this.capture(r))}let o=M0(t),i=M0(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zg(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new fe(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=Ie);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[Ie]:new Ve([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new fe(4011,!1)}};function W0(e){return e.segments.length>0?new Ve([],{[Ie]:e}):e}function z0(e){let n={};for(let[r,o]of Object.entries(e.children)){let i=z0(o);if(r===Ie&&i.segments.length===0&&i.hasChildren())for(let[s,c]of Object.entries(i.children))n[s]=c;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}let t=new Ve(e.segments,n);return Fk(t)}function Fk(e){if(e.numberOfChildren===1&&e.children[Ie]){let n=e.children[Ie];return new Ve(e.segments.concat(n.segments),n.children)}return e}function cs(e){return e instanceof Xn}function q0(e,n,t=null,r=null){let o=Y0(e);return Z0(o,n,t,r)}function Y0(e){let n;function t(i){let s={};for(let a of i.children){let u=t(a);s[a.outlet]=u}let c=new Ve(i.url,s);return i===e&&(n=c),c}let r=t(e.root),o=W0(r);return n??o}function Z0(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(n.length===0)return Kg(o,o,o,t,r);let i=Uk(n);if(i.toRoot())return Kg(o,o,new Ve([],{}),t,r);let s=jk(i,o,e),c=s.processChildren?Ra(s.segmentGroup,s.index,i.commands):Q0(s.segmentGroup,s.index,i.commands);return Kg(o,s.segmentGroup,c,t,r)}function Fd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Na(e){return typeof e=="object"&&e!=null&&e.outlets}function Kg(e,n,t,r,o){let i={};r&&Object.entries(r).forEach(([a,u])=>{i[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;e===n?s=t:s=K0(e,n,t);let c=W0(z0(s));return new Xn(c,i,o)}function K0(e,n,t){let r={};return Object.entries(e.children).forEach(([o,i])=>{i===n?r[o]=t:r[o]=K0(i,n,t)}),new Ve(e.segments,r)}var Ud=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fd(r[0]))throw new fe(4003,!1);let o=r.find(Na);if(o&&o!==U0(r))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Uk(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ud(!0,0,e);let n=0,t=!1,r=e.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let c={};return Object.entries(i.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:c}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?n++:c!=""&&o.push(c))}),o):[...o,i]},[]);return new Ud(t,n,r)}var ss=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function jk(e,n,t){if(e.isAbsolute)return new ss(n,!0,0);if(!t)return new ss(n,!1,NaN);if(t.parent===null)return new ss(t,!0,0);let r=Fd(e.commands[0])?0:1,o=t.segments.length-1+r;return Vk(t,o,e.numberOfDoubleDots)}function Vk(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new fe(4005,!1);o=r.segments.length}return new ss(r,!1,o-i)}function $k(e){return Na(e[0])?e[0].outlets:{[Ie]:e}}function Q0(e,n,t){if(e??=new Ve([],{}),e.segments.length===0&&e.hasChildren())return Ra(e,n,t);let r=Bk(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let i=new Ve(e.segments.slice(0,r.pathIndex),{});return i.children[Ie]=new Ve(e.segments.slice(r.pathIndex),e.children),Ra(i,0,o)}else return r.match&&o.length===0?new Ve(e.segments,{}):r.match&&!e.hasChildren()?rm(e,n,t):r.match?Ra(e,0,o):rm(e,n,t)}function Ra(e,n,t){if(t.length===0)return new Ve(e.segments,{});{let r=$k(t),o={};if(Object.keys(r).some(i=>i!==Ie)&&e.children[Ie]&&e.numberOfChildren===1&&e.children[Ie].segments.length===0){let i=Ra(e.children[Ie],n,t);return new Ve(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=Q0(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new Ve(e.segments,o)}}function Bk(e,n,t){let r=0,o=n,i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;let s=e.segments[o],c=t[r];if(Na(c))break;let a=`${c}`,u=r<t.length-1?t[r+1]:null;if(o>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!R0(a,u,s))return i;r+=2}else{if(!R0(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function rm(e,n,t){let r=e.segments.slice(0,n),o=0;for(;o<t.length;){let i=t[o];if(Na(i)){let a=Hk(i.outlets);return new Ve(r,a)}if(o===0&&Fd(t[0])){let a=e.segments[n];r.push(new Wr(a.path,P0(t[0]))),o++;continue}let s=Na(i)?i.outlets[Ie]:`${i}`,c=o<t.length-1?t[o+1]:null;s&&c&&Fd(c)?(r.push(new Wr(s,P0(c))),o+=2):(r.push(new Wr(s,{})),o++)}return new Ve(r,{})}function Hk(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=rm(new Ve([],{}),0,r))}),n}function P0(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function R0(e,n,t){return e==t.path&&Qn(n,t.parameters)}var Ld="imperative",gt=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(gt||{}),Xt=class{id;url;constructor(n,t){this.id=n,this.url=t}},zr=class extends Xt{type=gt.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",o=null){super(n,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},kn=class extends Xt{urlAfterRedirects;type=gt.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ht||{}),ls=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ls||{}),Jn=class extends Xt{reason;code;type=gt.NavigationCancel;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends Xt{reason;code;type=gt.NavigationSkipped;constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o}},us=class extends Xt{error;target;type=gt.NavigationError;constructor(n,t,r,o){super(n,t),this.error=r,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ka=class extends Xt{urlAfterRedirects;state;type=gt.RoutesRecognized;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jd=class extends Xt{urlAfterRedirects;state;type=gt.GuardsCheckStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vd=class extends Xt{urlAfterRedirects;state;shouldActivate;type=gt.GuardsCheckEnd;constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$d=class extends Xt{urlAfterRedirects;state;type=gt.ResolveStart;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bd=class extends Xt{urlAfterRedirects;state;type=gt.ResolveEnd;constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class{route;type=gt.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gd=class{route;type=gt.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wd=class{snapshot;type=gt.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=gt.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{snapshot;type=gt.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yd=class{snapshot;type=gt.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ds=class{routerEvent;position;anchor;type=gt.Scroll;constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},La=class{},fs=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Gk(e,n){return e.providers&&!e._injector&&(e._injector=ba(e.providers,n,`Route: ${e.path}`)),e._injector??n}function On(e){return e.outlet||Ie}function Wk(e,n){let t=e.filter(r=>On(r)===n);return t.push(...e.filter(r=>On(r)!==n)),t}function Ha(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Zd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ha(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Fo(this.rootInjector)}},Fo=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Zd(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(le(Bt))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Kd=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=om(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=om(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=im(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return im(n,this._root).map(t=>t.value)}};function om(e,n){if(e===n.value)return n;for(let t of n.children){let r=om(e,t);if(r)return r}return null}function im(e,n){if(e===n.value)return[n];for(let t of n.children){let r=im(e,t);if(r.length)return r.unshift(n),r}return[]}var Jt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function is(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Fa=class extends Kd{snapshot;constructor(n,t){super(n),this.snapshot=t,pm(this,n)}toString(){return this.snapshot.toString()}};function J0(e){let n=zk(e),t=new oe([new Wr("",{})]),r=new oe({}),o=new oe({}),i=new oe({}),s=new oe(""),c=new qr(t,r,i,s,o,Ie,e,n.root);return c.snapshot=n.root,new Fa(new Jt(c,[]),n)}function zk(e){let n={},t={},r={},o="",i=new No([],n,r,o,t,Ie,e,null,{});return new Ua("",new Jt(i,[]))}var qr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,o,i,s,c,a){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(Fe(u=>u[Ba]))??Ae(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Fe(n=>ko(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Fe(n=>ko(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qd(e,n,t="emptyOnly"){let r,{routeConfig:o}=e;return n!==null&&(t==="always"||o?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:ne(ne({},n.params),e.params),data:ne(ne({},n.data),e.data),resolve:ne(ne(ne(ne({},e.data),n.data),o?.data),e._resolvedData)}:r={params:ne({},e.params),data:ne({},e.data),resolve:ne(ne({},e.data),e._resolvedData??{})},o&&eD(o)&&(r.resolve[Ba]=o.title),r}var No=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ba]}constructor(n,t,r,o,i,s,c,a,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ko(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ko(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ua=class extends Kd{url;constructor(n,t){super(t),this.url=n,pm(this,t)}toString(){return X0(this._root)}};function pm(e,n){n.value._routerState=e,n.children.forEach(t=>pm(e,t))}function X0(e){let n=e.children.length>0?` { ${e.children.map(X0).join(", ")} } `:"";return`${e.value}${n}`}function Qg(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Qn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Qn(n.params,t.params)||e.paramsSubject.next(t.params),bk(n.url,t.url)||e.urlSubject.next(t.url),Qn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function sm(e,n){let t=Qn(e.params,n.params)&&Dk(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||sm(e.parent,n.parent))}function eD(e){return typeof e.title=="string"||e.title===null}var tD=new me(""),Ga=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ie;activateEvents=new Ot;deactivateEvents=new Ot;attachEvents=new Ot;detachEvents=new Ot;routerOutletData=Xw(void 0);parentContexts=X(Fo);location=X(ts);changeDetector=X(wa);inputBinder=X(Wa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new am(t,c,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ns({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ad]})}return e})(),am=class{route;childContexts;parent;outletData;constructor(n,t,r,o){this.route=n,this.childContexts=t,this.parent=r,this.outletData=o}get(n,t){return n===qr?this.route:n===Fo?this.childContexts:n===tD?this.outletData:this.parent.get(n,t)}},Wa=new me(""),hm=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=ea([r.queryParams,r.params,r.data]).pipe(on(([i,s,c],a)=>(c=ne(ne(ne({},i),s),c),a===0?Ae(c):Promise.resolve(c)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=u0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of s.inputs)t.activatedComponentRef.setInput(c,i[c])});this.outletDataSubscriptions.set(t,o)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})(),gm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=st({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,o){r&1&&Xe(0,"router-outlet")},dependencies:[Ga],encapsulation:2})}return e})();function mm(e){let n=e.children&&e.children.map(mm),t=n?Ke(ne({},e),{children:n}):ne({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==Ie&&(t.component=gm),t}function qk(e,n,t){let r=ja(e,n._root,t?t._root:void 0);return new Fa(r,n)}function ja(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let o=Yk(e,n,t);return new Jt(r,o)}else{if(e.shouldAttach(n.value)){let i=e.retrieve(n.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(c=>ja(e,c)),s}}let r=Zk(n.value),o=n.children.map(i=>ja(e,i));return new Jt(r,o)}}function Yk(e,n,t){return n.children.map(r=>{for(let o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return ja(e,r,o);return ja(e,r)})}function Zk(e){return new qr(new oe(e.url),new oe(e.params),new oe(e.queryParams),new oe(e.fragment),new oe(e.data),e.outlet,e.component,e)}var ps=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},nD="ngNavigationCancelingError";function Jd(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=cs(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=rD(!1,Ht.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function rD(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[nD]=!0,t.cancellationCode=n,t}function Kk(e){return oD(e)&&cs(e.url)}function oD(e){return!!e&&e[nD]}var Qk=(e,n,t,r)=>Fe(o=>(new cm(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)),cm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Qg(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let o=is(t);n.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=is(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:c})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=is(n);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let o=is(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Yd(i.value.snapshot))}),n.children.length&&this.forwardEvent(new zd(n.value.snapshot))}activateRoutes(n,t,r){let o=n.value,i=t?t.value:null;if(Qg(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Qg(c.route.value),this.activateChildRoutes(n,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}else this.activateChildRoutes(n,null,r)}},Xd=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},as=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Jk(e,n,t){let r=e._root,o=n?n._root:null;return Pa(r,o,t,[r.value])}function Xk(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function gs(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!WA(e)?e:n.get(e):r}function Pa(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=is(n);return e.children.forEach(s=>{e1(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,c])=>Oa(c,t.getContext(s),o)),o}function e1(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=e.value,s=n?n.value:null,c=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let a=t1(s,i,i.routeConfig.runGuardsAndResolvers);a?o.canActivateChecks.push(new Xd(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Pa(e,n,c?c.children:null,r,o):Pa(e,n,t,r,o),a&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new as(c.outlet.component,s))}else s&&Oa(n,c,o),o.canActivateChecks.push(new Xd(r)),i.component?Pa(e,null,c?c.children:null,r,o):Pa(e,null,t,r,o);return o}function t1(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Oo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Oo(e.url,n.url)||!Qn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sm(e,n)||!Qn(e.queryParams,n.queryParams);case"paramsChange":default:return!sm(e,n)}}function Oa(e,n,t){let r=is(e),o=e.value;Object.entries(r).forEach(([i,s])=>{o.component?n?Oa(s,n.children.getContext(i),t):Oa(s,null,t):Oa(s,n,t)}),o.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new as(n.outlet.component,o)):t.canDeactivateChecks.push(new as(null,o)):t.canDeactivateChecks.push(new as(null,o))}function za(e){return typeof e=="function"}function n1(e){return typeof e=="boolean"}function r1(e){return e&&za(e.canLoad)}function o1(e){return e&&za(e.canActivate)}function i1(e){return e&&za(e.canActivateChild)}function s1(e){return e&&za(e.canDeactivate)}function a1(e){return e&&za(e.canMatch)}function iD(e){return e instanceof pr||e?.name==="EmptyError"}var Rd=Symbol("INITIAL_VALUE");function hs(){return on(e=>ea(e.map(n=>n.pipe(gr(1),Yp(Rd)))).pipe(Fe(n=>{for(let t of n)if(t!==!0){if(t===Rd)return Rd;if(t===!1||c1(t))return t}return!0}),Zt(n=>n!==Rd),gr(1)))}function c1(e){return cs(e)||e instanceof ps}function l1(e,n){return rt(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?Ae(Ke(ne({},t),{guardsResult:!0})):u1(s,r,o,e).pipe(rt(c=>c&&n1(c)?d1(r,i,e,n):Ae(c)),Fe(c=>Ke(ne({},t),{guardsResult:c})))})}function u1(e,n,t,r){return et(e).pipe(rt(o=>m1(o.component,o.route,t,n,r)),mr(o=>o!==!0,!0))}function d1(e,n,t,r){return et(n).pipe(kr(o=>Mi(p1(o.route.parent,r),f1(o.route,r),g1(e,o.path,t),h1(e,o.route,t))),mr(o=>o!==!0,!0))}function f1(e,n){return e!==null&&n&&n(new qd(e)),Ae(!0)}function p1(e,n){return e!==null&&n&&n(new Wd(e)),Ae(!0)}function h1(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return Ae(!0);let o=r.map(i=>Su(()=>{let s=Ha(n)??t,c=gs(i,s),a=o1(c)?c.canActivate(n,e):un(s,()=>c(n,e));return Yr(a).pipe(mr())}));return Ae(o).pipe(hs())}function g1(e,n,t){let r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>Xk(s)).filter(s=>s!==null).map(s=>Su(()=>{let c=s.guards.map(a=>{let u=Ha(s.node)??t,d=gs(a,u),p=i1(d)?d.canActivateChild(r,e):un(u,()=>d(r,e));return Yr(p).pipe(mr())});return Ae(c).pipe(hs())}));return Ae(i).pipe(hs())}function m1(e,n,t,r,o){let i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!i||i.length===0)return Ae(!0);let s=i.map(c=>{let a=Ha(n)??o,u=gs(c,a),d=s1(u)?u.canDeactivate(e,n,t,r):un(a,()=>u(e,n,t,r));return Yr(d).pipe(mr())});return Ae(s).pipe(hs())}function v1(e,n,t,r){let o=n.canLoad;if(o===void 0||o.length===0)return Ae(!0);let i=o.map(s=>{let c=gs(s,e),a=r1(c)?c.canLoad(n,t):un(e,()=>c(n,t));return Yr(a)});return Ae(i).pipe(hs(),sD(r))}function sD(e){return $p(It(n=>{if(typeof n!="boolean")throw Jd(e,n)}),Fe(n=>n===!0))}function y1(e,n,t,r){let o=n.canMatch;if(!o||o.length===0)return Ae(!0);let i=o.map(s=>{let c=gs(s,e),a=a1(c)?c.canMatch(n,t):un(e,()=>c(n,t));return Yr(a)});return Ae(i).pipe(hs(),sD(r))}var Va=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},$a=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function os(e){return Ti(new Va(e))}function S1(e){return Ti(new fe(4e3,!1))}function b1(e){return Ti(rD(!1,Ht.GuardRejected))}var lm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return Ae(r);if(o.numberOfChildren>1||!o.children[Ie])return S1(`${n.redirectTo}`);o=o.children[Ie]}}applyRedirectCommands(n,t,r,o,i){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:d,url:p,outlet:g,params:f,data:h,title:v}=o,S=un(i,()=>c({params:f,data:h,queryParams:a,fragment:u,routeConfig:d,url:p,outlet:g,title:v}));if(S instanceof Xn)throw new $a(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t[0]==="/")throw new $a(s);return s}applyRedirectCreateUrlTree(n,t,r,o){let i=this.createSegmentGroup(n,t.root,r,o);return new Xn(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let c=i.substring(1);r[o]=t[c]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){let i=this.createSegments(n,t.segments,r,o),s={};return Object.entries(t.children).forEach(([c,a])=>{s[c]=this.createSegmentGroup(n,a,r,o)}),new Ve(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){let o=r[t.path.substring(1)];if(!o)throw new fe(4001,!1);return o}findOrReturn(n,t){let r=0;for(let o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}},um={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function A1(e,n,t,r,o){let i=aD(e,n,t);return i.matched?(r=Gk(n,r),y1(r,n,t,o).pipe(Fe(s=>s===!0?i:ne({},um)))):Ae(i)}function aD(e,n,t){if(n.path==="**")return w1(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?ne({},um):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(n.matcher||L0)(t,e,n);if(!o)return ne({},um);let i={};Object.entries(o.posParams??{}).forEach(([c,a])=>{i[c]=a.path});let s=o.consumed.length>0?ne(ne({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function w1(e){return{matched:!0,parameters:e.length>0?U0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function O0(e,n,t,r){return t.length>0&&I1(e,t,r)?{segmentGroup:new Ve(n,D1(r,new Ve(t,e.children))),slicedSegments:[]}:t.length===0&&C1(e,t,r)?{segmentGroup:new Ve(e.segments,E1(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ve(e.segments,e.children),slicedSegments:t}}function E1(e,n,t,r){let o={};for(let i of t)if(tf(e,n,i)&&!r[On(i)]){let s=new Ve([],{});o[On(i)]=s}return ne(ne({},r),o)}function D1(e,n){let t={};t[Ie]=n;for(let r of e)if(r.path===""&&On(r)!==Ie){let o=new Ve([],{});t[On(r)]=o}return t}function I1(e,n,t){return t.some(r=>tf(e,n,r)&&On(r)!==Ie)}function C1(e,n,t){return t.some(r=>tf(e,n,r))}function tf(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function _1(e,n,t){return n.length===0&&!e.children[t]}var dm=class{};function T1(e,n,t,r,o,i,s="emptyOnly"){return new fm(e,n,t,r,o,s,i).recognize()}var x1=31,fm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,o,i,s,c){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new lm(this.urlSerializer,this.urlTree)}noMatchError(n){return new fe(4002,`'${n.segmentGroup}'`)}recognize(){let n=O0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Fe(({children:t,rootSnapshot:r})=>{let o=new Jt(r,t),i=new Ua("",o),s=q0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(n){let t=new No([],Object.freeze({}),Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,Ie,t).pipe(Fe(r=>({children:r,rootSnapshot:t})),hr(r=>{if(r instanceof $a)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Va?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,i):this.processSegment(n,t,r,r.segments,o,!0,i).pipe(Fe(s=>s instanceof Jt?[s]:[]))}processChildren(n,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return et(i).pipe(kr(s=>{let c=r.children[s],a=Wk(t,s);return this.processSegmentGroup(n,a,c,s,o)}),qp((s,c)=>(s.push(...c),s)),Lr(null),zp(),rt(s=>{if(s===null)return os(r);let c=cD(s);return M1(c),Ae(c)}))}processSegment(n,t,r,o,i,s,c){return et(t).pipe(kr(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,o,i,s,c).pipe(hr(u=>{if(u instanceof Va)return Ae(null);throw u}))),mr(a=>!!a),hr(a=>{if(iD(a))return _1(r,o,i)?Ae(new dm):os(r);throw a}))}processSegmentAgainstRoute(n,t,r,o,i,s,c,a){return On(r)!==s&&(s===Ie||!tf(o,i,r))?os(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,o,r,i,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s,a):os(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:g}=aD(t,o,i);if(!a)return os(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>x1&&(this.allowRedirects=!1));let f=new No(i,u,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,N0(o),On(o),o.component??o._loadedComponent??null,o,k0(o)),h=Qd(f,c,this.paramsInheritanceStrategy);f.params=Object.freeze(h.params),f.data=Object.freeze(h.data);let v=this.applyRedirects.applyRedirectCommands(d,o.redirectTo,p,f,n);return this.applyRedirects.lineralizeSegments(o,v).pipe(rt(S=>this.processSegment(n,r,t,S.concat(g),s,!1,c)))}matchSegmentAgainstRoute(n,t,r,o,i,s){let c=A1(t,r,o,n,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe(on(a=>a.matched?(n=r._injector??n,this.getChildConfig(n,r,o).pipe(on(({routes:u})=>{let d=r._loadedInjector??n,{parameters:p,consumedSegments:g,remainingSegments:f}=a,h=new No(g,p,Object.freeze(ne({},this.urlTree.queryParams)),this.urlTree.fragment,N0(r),On(r),r.component??r._loadedComponent??null,r,k0(r)),v=Qd(h,s,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let{segmentGroup:S,slicedSegments:D}=O0(t,g,f,u);if(D.length===0&&S.hasChildren())return this.processChildren(d,u,S,h).pipe(Fe(m=>new Jt(h,m)));if(u.length===0&&D.length===0)return Ae(new Jt(h,[]));let T=On(r)===i;return this.processSegment(d,u,S,D,T?Ie:i,!0,h).pipe(Fe(m=>new Jt(h,m instanceof Jt?[m]:[])))}))):os(t)))}getChildConfig(n,t,r){return t.children?Ae({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?Ae({routes:t._loadedRoutes,injector:t._loadedInjector}):v1(n,t,r,this.urlSerializer).pipe(rt(o=>o?this.configLoader.loadChildren(n,t).pipe(It(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):b1(t))):Ae({routes:[],injector:n})}};function M1(e){e.sort((n,t)=>n.value.outlet===Ie?-1:t.value.outlet===Ie?1:n.value.outlet.localeCompare(t.value.outlet))}function P1(e){let n=e.value.routeConfig;return n&&n.path===""}function cD(e){let n=[],t=new Set;for(let r of e){if(!P1(r)){n.push(r);continue}let o=n.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):n.push(r)}for(let r of t){let o=cD(r.children);n.push(new Jt(r.value,o))}return n.filter(r=>!t.has(r))}function N0(e){return e.data||{}}function k0(e){return e.resolve||{}}function R1(e,n,t,r,o,i){return rt(s=>T1(e,n,t,r,s.extractedUrl,o,i).pipe(Fe(({state:c,tree:a})=>Ke(ne({},s),{targetSnapshot:c,urlAfterRedirects:a}))))}function O1(e,n){return rt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Ae(t);let i=new Set(o.map(a=>a.route)),s=new Set;for(let a of i)if(!s.has(a))for(let u of lD(a))s.add(u);let c=0;return et(s).pipe(kr(a=>i.has(a)?N1(a,r,e,n):(a.data=Qd(a,a.parent,e).resolve,Ae(void 0))),It(()=>c++),Pi(1),rt(a=>c===s.size?Ae(t):jt))})}function lD(e){let n=e.children.map(t=>lD(t)).flat();return[e,...n]}function N1(e,n,t,r){let o=e.routeConfig,i=e._resolve;return o?.title!==void 0&&!eD(o)&&(i[Ba]=o.title),k1(i,e,n,r).pipe(Fe(s=>(e._resolvedData=s,e.data=Qd(e,e.parent,t).resolve,null)))}function k1(e,n,t,r){let o=em(e);if(o.length===0)return Ae({});let i={};return et(o).pipe(rt(s=>L1(e[s],n,t,r).pipe(mr(),It(c=>{if(c instanceof ps)throw Jd(new Nn,c);i[s]=c}))),Pi(1),Fe(()=>i),hr(s=>iD(s)?jt:Ti(s)))}function L1(e,n,t,r){let o=Ha(n)??r,i=gs(e,o),s=i.resolve?i.resolve(n,t):un(o,()=>i(n,t));return Yr(s)}function Jg(e){return on(n=>{let t=e(n);return t?et(t).pipe(Fe(()=>n)):Ae(n)})}var vm=(()=>{class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ie);return r}getResolvedTitleForRoute(t){return t.data[Ba]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(uD),providedIn:"root"})}return e})(),uD=(()=>{class e extends vm{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(le(_0))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uo=new me("",{providedIn:"root",factory:()=>({})}),ms=new me(""),nf=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=X(n0);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Yr(t.loadComponent()).pipe(Fe(fD),It(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),ta(()=>{this.componentLoaders.delete(t)})),o=new _i(r,()=>new Dt).pipe(Ci());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=dD(r,this.compiler,t,this.onLoadEndListener).pipe(ta(()=>{this.childrenLoaders.delete(r)})),s=new _i(i,()=>new Dt).pipe(Ci());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function dD(e,n,t,r){return Yr(e.loadChildren()).pipe(Fe(fD),rt(o=>o instanceof _g||Array.isArray(o)?Ae(o):et(n.compileModuleAsync(o))),Fe(o=>{r&&r(e);let i,s,c=!1;return Array.isArray(o)?(s=o,c=!0):(i=o.create(t).injector,s=i.get(ms,[],{optional:!0,self:!0}).flat()),{routes:s.map(mm),injector:i}}))}function F1(e){return e&&typeof e=="object"&&"default"in e}function fD(e){return F1(e)?e.default:e}var rf=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(U1),providedIn:"root"})}return e})(),U1=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ym=new me(""),Sm=new me("");function pD(e,n,t){let r=e.get(Sm),o=e.get(yt);return e.get(Be).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),c=o.startViewTransition(()=>(i(),j1(e))),{onViewTransitionCreated:a}=r;return a&&un(e,()=>a({transition:c,from:n,to:t})),s})}function j1(e){return new Promise(n=>{dg({read:()=>setTimeout(n)},{injector:e})})}var bm=new me(""),of=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Dt;transitionAbortSubject=new Dt;configLoader=X(nf);environmentInjector=X(Bt);destroyRef=X(ya);urlSerializer=X(Lo);rootContexts=X(Fo);location=X(Gr);inputBindingEnabled=X(Wa,{optional:!0})!==null;titleStrategy=X(vm);options=X(Uo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=X(rf);createViewTransition=X(ym,{optional:!0});navigationErrorHandler=X(bm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=o=>this.events.next(new Hd(o)),r=o=>this.events.next(new Gd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ke(ne({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))}setupNavigations(t){return this.transitions=new oe(null),this.transitions.pipe(Zt(r=>r!==null),on(r=>{let o=!1,i=!1;return Ae(r).pipe(on(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),jt;this.currentTransition=r,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Ke(ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&a!=="reload"){let u="";return this.events.next(new er(s.id,this.urlSerializer.serialize(s.rawUrl),u,ls.IgnoredSameUrlNavigation)),s.resolve(!1),jt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Ae(s).pipe(on(u=>(this.events.next(new zr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?jt:Promise.resolve(u))),R1(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),It(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=Ke(ne({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let d=new ka(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:d,source:p,restoredState:g,extras:f}=s,h=new zr(u,this.urlSerializer.serialize(d),p,g);this.events.next(h);let v=J0(this.rootComponentType).snapshot;return this.currentTransition=r=Ke(ne({},s),{targetSnapshot:v,urlAfterRedirects:d,extras:Ke(ne({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Ae(r)}else{let u="";return this.events.next(new er(s.id,this.urlSerializer.serialize(s.extractedUrl),u,ls.IgnoredByUrlHandlingStrategy)),s.resolve(!1),jt}}),It(s=>{let c=new jd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),Fe(s=>(this.currentTransition=r=Ke(ne({},s),{guards:Jk(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r)),l1(this.environmentInjector,s=>this.events.next(s)),It(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw Jd(this.urlSerializer,s.guardsResult);let c=new Vd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Zt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ht.GuardRejected),!1)),Jg(s=>{if(s.guards.canActivateChecks.length!==0)return Ae(s).pipe(It(c=>{let a=new $d(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}),on(c=>{let a=!1;return Ae(c).pipe(O1(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(c,"",Ht.NoDataFromResolver)}}))}),It(c=>{let a=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(a)}))}),Jg(s=>{let c=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(It(d=>{a.component=d}),Fe(()=>{})));for(let d of a.children)u.push(...c(d));return u};return ea(c(s.targetSnapshot.root)).pipe(Lr(null),gr(1))}),Jg(()=>this.afterPreactivation()),on(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,a=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return a?et(a).pipe(Fe(()=>r)):Ae(r)}),Fe(s=>{let c=qk(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=r=Ke(ne({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,r}),It(()=>{this.events.next(new La)}),Qk(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),gr(1),It({next:s=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new kn(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{o=!0}}),Zp(this.transitionAbortSubject.pipe(It(s=>{throw s}))),ta(()=>{!o&&!i&&this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),hr(s=>{if(this.destroyed)return r.resolve(!1),jt;if(i=!0,oD(s))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),Kk(s)?this.events.next(new fs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new us(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let a=un(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(a instanceof ps){let{message:u,cancellationCode:d}=Jd(this.urlSerializer,a);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,d)),this.events.next(new fs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return jt}))}))}cancelNavigationTransition(t,r,o){let i=new Jn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function V1(e){return e!==Ld}var hD=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X($1),providedIn:"root"})}return e})(),ef=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},$1=(()=>{class e extends ef{static \u0275fac=(()=>{let t;return function(o){return(t||(t=ig(e)))(o||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gD=(()=>{class e{urlSerializer=X(Lo);options=X(Uo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=X(Gr);urlHandlingStrategy=X(rf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:o}){let i=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=o??i;return s instanceof Xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:o}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,o),this.routerState=t):this.rawUrlTree=o}routerState=J0(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:()=>X(B1),providedIn:"root"})}return e})(),B1=(()=>{class e extends gD{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof zr?this.updateStateMemento():t instanceof er?this.commitTransition(r):t instanceof ka?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof La?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Jn&&(t.code===Ht.GuardRejected||t.code===Ht.NoDataFromResolver)?this.restoreHistory(r):t instanceof us?this.restoreHistory(r,!0):t instanceof kn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:o}){let{replaceUrl:i,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||i){let c=this.browserPageId,a=ne(ne({},s),this.generateNgRouterState(o,c));this.location.replaceState(t,"",a)}else{let c=ne(ne({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(t,"",c)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===t.finalUrl&&i===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=ig(e)))(o||e)}})();static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function sf(e,n){e.events.pipe(Zt(t=>t instanceof kn||t instanceof Jn||t instanceof us||t instanceof er),Fe(t=>t instanceof kn||t instanceof er?0:(t instanceof Jn?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?2:1),Zt(t=>t!==2),gr(1)).subscribe(()=>{n()})}var H1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=X(JE);stateManager=X(gD);options=X(Uo,{optional:!0})||{};pendingTasks=X(Ki);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=X(of);urlSerializer=X(Lo);location=X(Gr);urlHandlingStrategy=X(rf);_events=new Dt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=X(hD);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=X(ms,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!X(Wa,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new it;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Jn&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof kn)this.navigated=!0;else if(r instanceof fs){let s=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a=ne({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||V1(o.source)},s);this.scheduleNavigation(c,Ld,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}z1(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ld,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,o)=>{this.navigateToSyncWithBrowser(t,o,r)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let a=ne({},o);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(i.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:s,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=ne(ne({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let g=o?o.snapshot:this.routerState.snapshot.root;p=Y0(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return Z0(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=cs(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Ld,null,r)}navigate(t,r={skipLocationChange:!1}){return W1(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=ne({},H1):r===!1?o=ne({},G1):o=r,cs(t))return x0(this.currentUrlTree,t,o);let i=this.parseUrl(t);return x0(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let c,a,u;s?(c=s.resolve,a=s.reject,u=s.promise):u=new Promise((p,g)=>{c=p,a=g});let d=this.pendingTasks.add();return sf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function W1(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new fe(4008,!1)}function z1(e){return!(e instanceof La)&&!(e instanceof fs)}var qa=class{};var mD=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,o,i){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=i}setUpPreloading(){this.subscription=this.router.events.pipe(Zt(t=>t instanceof kn),kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ba(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,c=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(c,i.children??i._loadedRoutes))}return et(o).pipe(xi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=Ae(null);let i=o.pipe(rt(s=>s===null?Ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return et([i,s]).pipe(xi())}else return i})}static \u0275fac=function(r){return new(r||e)(le(Nt),le(Bt),le(qa),le(nf))};static \u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),vD=new me(""),q1=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof kn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof er&&t.code===ls.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ds&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ds(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){HE()};static \u0275prov=ue({token:e,factory:e.\u0275fac})}return e})();function Y1(e){return e.routerState.root}function Ya(e,n){return{\u0275kind:e,\u0275providers:n}}function Z1(){let e=X(Qt);return n=>{let t=e.get(jr);if(n!==t.components[0])return;let r=e.get(Nt),o=e.get(yD);e.get(wm)===1&&r.initialNavigation(),e.get(AD,null,Ce.Optional)?.setUpPreloading(),e.get(vD,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var yD=new me("",{factory:()=>new Dt}),wm=new me("",{providedIn:"root",factory:()=>1});function SD(){let e=[{provide:wm,useValue:0},Mg(()=>{let n=X(Qt);return n.get(kg,Promise.resolve()).then(()=>new Promise(r=>{let o=n.get(Nt),i=n.get(yD);sf(o,()=>{r(!0)}),n.get(of).afterPreactivation=()=>(r(!0),i.closed?Ae(void 0):i),o.initialNavigation()}))})];return Ya(2,e)}function bD(){let e=[Mg(()=>{X(Nt).setUpLocationChangeListener()}),{provide:wm,useValue:2}];return Ya(3,e)}var AD=new me("");function wD(e){return Ya(0,[{provide:AD,useExisting:mD},{provide:qa,useExisting:e}])}function ED(){return Ya(8,[hm,{provide:Wa,useExisting:hm}])}function DD(e){es("NgRouterViewTransitions");let n=[{provide:ym,useValue:pD},{provide:Sm,useValue:ne({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ya(9,n)}var ID=[Gr,{provide:Lo,useClass:Nn},Nt,Fo,{provide:qr,useFactory:Y1,deps:[Nt]},nf,[]],Za=(()=>{class e{constructor(){}static forRoot(t,r){return{ngModule:e,providers:[ID,[],{provide:ms,multi:!0,useValue:t},[],r?.errorHandler?{provide:bm,useValue:r.errorHandler}:[],{provide:Uo,useValue:r||{}},r?.useHash?Q1():J1(),K1(),r?.preloadingStrategy?wD(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?X1(r):[],r?.bindToComponentInputs?ED().\u0275providers:[],r?.enableViewTransitions?DD().\u0275providers:[],eL()]}}static forChild(t){return{ngModule:e,providers:[{provide:ms,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=dn({type:e});static \u0275inj=ln({})}return e})();function K1(){return{provide:vD,useFactory:()=>{let e=X(y0),n=X(Be),t=X(Uo),r=X(of),o=X(Lo);return t.scrollOffset&&e.setOffset(t.scrollOffset),new q1(o,r,e,n,t)}}}function Q1(){return{provide:Dr,useClass:Lg}}function J1(){return{provide:Dr,useClass:wd}}function X1(e){return[e.initialNavigation==="disabled"?bD().\u0275providers:[],e.initialNavigation==="enabledBlocking"?SD().\u0275providers:[]]}var Am=new me("");function eL(){return[{provide:Am,useFactory:Z1},{provide:Pg,multi:!0,useExisting:Am}]}function vs(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ir(e){"@babel/helpers - typeof";return Ir=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ir(e)}function CD(e,n){if(Ir(e)!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,n||"default");if(Ir(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function _D(e){var n=CD(e,"string");return Ir(n)=="symbol"?n:n+""}function TD(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_D(r.key),r)}}function ys(e,n,t){return n&&TD(e.prototype,n),t&&TD(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ka=function(){function e(){vs(this,e)}return ys(e,null,[{key:"setInstance",value:function(t,r){e._apps[t]=r}},{key:"getInstance",value:function(t){var r=e._apps[t];if(!r)throw Error("[".concat(t,"] FronteggApp not found"));return r}}]),e}();Ka._apps={};function xD(e){if(Array.isArray(e))return e}function MD(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r,o,i,s,c=[],a=!0,u=!1;try{if(i=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(r=i.call(t)).done)&&(c.push(r.value),c.length!==n);a=!0);}catch(d){u=!0,o=d}finally{try{if(!a&&t.return!=null&&(s=t.return(),Object(s)!==s))return}finally{if(u)throw o}}return c}}function Em(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function PD(e,n){if(e){if(typeof e=="string")return Em(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Em(e,n):void 0}}function RD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OD(e,n){return xD(e)||MD(e,n)||PD(e,n)||RD()}function ND(e,n,t,r,o,i,s){try{var c=e[i](s),a=c.value}catch(u){return void t(u)}c.done?n(a):Promise.resolve(a).then(r,o)}function _t(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function s(a){ND(i,r,o,s,c,"next",a)}function c(a){ND(i,r,o,s,c,"throw",a)}s(void 0)})}}var Ge=Dn(Im());var LS={};Ep(LS,{ACR_VALUE:()=>_c,AMR_ADDITIONAL_VALUE:()=>Qm,AMR_MFA_VALUE:()=>Km,AcceptInvitationStep:()=>Gt,ActivateAccountStep:()=>Un,AdminPortalPages:()=>uF,AdminPortalPagesForEvents:()=>xt,AllAccountsStateKeys:()=>ft,ApiStateKeys:()=>$e,AuthStrategyEnum:()=>Te,AuthenticationTypes:()=>to,DEFAULT_RETRY_CONFIG:()=>Tt,EditEmailView:()=>Hy,FRONTEGG_AFTER_AUTH_REDIRECT_URL:()=>Xo,ForgotPasswordStep:()=>Sn,FronteggNativeModule:()=>jo,GTMEventAction:()=>mn,GroupRelations:()=>$s,GroupsStateKeys:()=>ze,HOSTED_LOGIN_VERIFIER_KEY:()=>bf,ImpersonateStep:()=>fi,LoginActionTypes:()=>ev,LoginFlow:()=>dt,LoginStep:()=>Se,MFAStep:()=>Ne,MachineToMachineAuthStrategy:()=>lt,PasswordRotationStep:()=>di,PaymentMethodType:()=>qy,PaymentProvider:()=>gi,QuickLoginStrategy:()=>Xm,REQUEST_NAME:()=>Wt,ResetPhoneNumberStep:()=>so,RolesStateKeys:()=>nn,SHOULD_STEP_UP_KEY:()=>en,SSOStateKeys:()=>wt,STEP_UP_MAX_AGE_PARAM_NAME:()=>Jm,SamlVendors:()=>pi,SecurityCenterStateKeys:()=>Et,SignUpStage:()=>ao,SubscriptionCancellationPolicy:()=>Tl,SubscriptionStatus:()=>An,TENANT_ID_PARAM_KEY:()=>Bc,TeamStateKeys:()=>ce,UserVerifiedOriginTypes:()=>Pr,authStrategyLoginStepMap:()=>tv,base64ToFormData:()=>ov,base64urlDecode:()=>bt,base64urlEncode:()=>rv,buildAuditsActions:()=>bS,buildAuthActions:()=>Wy,buildConnectivityActions:()=>Hs,buildSubscriptionsActions:()=>pS,buildVendorActions:()=>Gs,createAuditsState:()=>SS,createAuthState:()=>Gy,createConnectivityState:()=>rp,createFronteggStore:()=>qV,createProxy:()=>K,createRandomString:()=>If,createStore:()=>up,createSubscriptionsState:()=>fS,createVendorState:()=>op,deepClone:()=>HI,deepResetState:()=>Q,defaultFronteggRoutes:()=>Tc,delay:()=>Y,errorHandler:()=>_,errorTraceId:()=>xc,generateCodeChallenge:()=>sv,generateCodeChallengeNative:()=>ZI,generateCodeChallengePureJs:()=>YI,getBaseNameWithoutSlashSuffix:()=>Qf,getEntitlements:()=>dj,getFeatureEntitlements:()=>Yf,getMfaStepForEnrolledUsers:()=>Hc,getMfaStepForNotEnrolledUsers:()=>Pv,getNumberOfMfaDevices:()=>qC,getPathAndSearchParamsFromUrl:()=>Mv,getPermissionEntitlements:()=>qf,getRedirectUrl:()=>xv,getSearchParam:()=>$c,getSearchParamsFromUrl:()=>Kf,getUri:()=>ep,hmac:()=>cF,isAbsoluteUrl:()=>Zf,isAuthRoute:()=>Lv,isEmailPayload:()=>Ov,isEntitlementsDeeplyEqual:()=>Vc,isError:()=>WI,isFronteggApiError:()=>GI,isMfaRequired:()=>yn,isOauthCallbackRoute:()=>Rv,isProxy:()=>Pc,isResetPasswordRequired:()=>ui,isSteppedUp:()=>li,isUsernamePayload:()=>Nv,mapMetaDataObjectToActions:()=>Xf,omitProps:()=>Mc,prepareIdentifiersForSignup:()=>tp,publicKeyCredentialToJSON:()=>gn,readFileAsText:()=>ei,redirectByStepUpUrl:()=>kv,ref:()=>HD,reportGTMEvent:()=>ir,retry:()=>Af,retryIfNeeded:()=>ee,setAfterAuthRedirectUrlForStepUp:()=>Jf,sha256:()=>iv,shouldShowPasswordRotationPromptFunc:()=>ci,snapshot:()=>Kr,subscribe:()=>Tr,withRetryConfig:()=>Ln});var nL="frontegg_external_mobile_browser",Cm=class{constructor(){this.backToLoginImpl=void 0,this.loginWithSSO=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSSO",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSSO(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithSocialLogin=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSocialLogin",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSocialLogin(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithSocialLoginProvider=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithSocialLoginProvider",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithSocialLoginProvider(n)}else throw new Error("FronteggNativeBridge is not available")},this.loginWithCustomSocialLoginProvider=n=>{if(this.isIOSNativeBridgeAvailable()){var t,r,o;(t=window.webkit)==null||(r=t.messageHandlers)==null||(o=r.FronteggNativeBridge)==null||o.postMessage(JSON.stringify({action:"loginWithCustomSocialLoginProvider",payload:n}))}else if(this.isAndroidNativeBridgeAvailable()){var i;(i=window.FronteggNativeBridge)==null||i.loginWithCustomSocialLoginProvider(n)}else throw new Error("FronteggNativeBridge is not available")},this.suggestSavePassword=(n,t)=>{if(this.isIOSNativeBridgeAvailable()){var r,o,i;(r=window.webkit)==null||(o=r.messageHandlers)==null||(i=o.FronteggNativeBridge)==null||i.postMessage(JSON.stringify({action:"suggestSavePassword",payload:JSON.stringify({email:n,password:t})}))}else if(this.isAndroidNativeBridgeAvailable()){var s;(s=window.FronteggNativeBridge)==null||s.suggestSavePassword(n,t)}else throw new Error("FronteggNativeBridge is not available")},this.promptSocialLoginConsent=()=>{var n,t;return(n=(t=window.FronteggNativeBridgeFunctions)==null?void 0:t.shouldPromptSocialLoginConsent)!=null?n:!1}}isIOSNativeBridgeAvailable(){var n,t;return((n=window.webkit)==null||(t=n.messageHandlers)==null?void 0:t.FronteggNativeBridge)!=null}isAndroidNativeBridgeAvailable(){return window.FronteggNativeBridge!=null}isExternalMobileBrowser(){return sessionStorage.getItem(nL)!==null&&this.backToLoginImpl!=null}setBackToLogin(n){this.backToLoginImpl=n}backToLogin(){if(this.backToLoginImpl){this.backToLoginImpl();return}}isSocialLoginAvailable(){return this.isAvailable("loginWithSocialLogin")}isSocialLoginProviderAvailable(){return this.isAvailable("loginWithSocialLoginProvider")}isCustomSocialLoginProviderAvailable(){return this.isAvailable("loginWithCustomSocialLoginProvider")}isLoginWithSSOAvailable(){return this.isAvailable("loginWithSSO")}isSuggestSavePasswordAvailable(){return this.isAvailable("suggestSavePassword")}isAvailable(n){if(this.isIOSNativeBridgeAvailable()||this.isAndroidNativeBridgeAvailable()){var t,r;return(t=(r=window.FronteggNativeBridgeFunctions)==null?void 0:r[n])!=null?t:!1}return!1}},jo=new Cm;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},y.apply(null,arguments)}var Z9=Symbol(),rL=Symbol();var VD=Object.getPrototypeOf,_m=new WeakMap,oL=e=>e&&(_m.has(e)?_m.get(e):VD(e)===Object.prototype||VD(e)===Array.prototype);var $D=e=>oL(e)&&e[rL]||null,Tm=(e,n=!0)=>{_m.set(e,n)};var xm=e=>typeof e=="object"&&e!==null,Zr=new WeakMap,Qa=new WeakSet;function iL(e=Object.is,n=(u,d)=>new Proxy(u,d),t=u=>xm(u)&&!Qa.has(u)&&(Array.isArray(u)||!(Symbol.iterator in u))&&!(u instanceof WeakMap)&&!(u instanceof WeakSet)&&!(u instanceof Error)&&!(u instanceof Number)&&!(u instanceof Date)&&!(u instanceof String)&&!(u instanceof RegExp)&&!(u instanceof ArrayBuffer),r=u=>{switch(u.status){case"fulfilled":return u.value;case"rejected":throw u.reason;default:throw u}},o=new WeakMap,i=(u,d,p=r)=>{let g=o.get(u);if(g?.[0]===d)return g[1];let f=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u));return Tm(f,!0),o.set(u,[d,f]),Reflect.ownKeys(u).forEach(h=>{if(Object.getOwnPropertyDescriptor(f,h))return;let v=Reflect.get(u,h),{enumerable:S}=Reflect.getOwnPropertyDescriptor(u,h),D={value:v,enumerable:S,configurable:!0};if(Qa.has(v))Tm(v,!1);else if(v instanceof Promise)delete D.value,D.get=()=>p(v);else if(Zr.has(v)){let[T,m]=Zr.get(v);D.value=i(T,m(),p)}Object.defineProperty(f,h,D)}),Object.preventExtensions(f)},s=new WeakMap,c=[1,1],a=u=>{if(!xm(u))throw new Error("object required");let d=s.get(u);if(d)return d;let p=c[0],g=new Set,f=(O,L=++c[0])=>{p!==L&&(p=L,g.forEach(x=>x(O,L)))},h=c[1],v=(O=++c[1])=>(h!==O&&!g.size&&(h=O,D.forEach(([L])=>{let x=L[1](O);x>p&&(p=x)})),p),S=O=>(L,x)=>{let N=[...L];N[1]=[O,...N[1]],f(N,x)},D=new Map,T=(O,L)=>{if(g.size){let x=L[3](S(O));D.set(O,[L,x])}else D.set(O,[L])},m=O=>{let L=D.get(O);if(L){var x;D.delete(O),(x=L[1])==null||x.call(L)}},E=O=>(g.add(O),g.size===1&&D.forEach(([x,N],k)=>{let P=x[3](S(k));D.set(k,[x,P])}),()=>{g.delete(O),g.size===0&&D.forEach(([x,N],k)=>{N&&(N(),D.set(k,[x]))})}),A=Array.isArray(u)?[]:Object.create(Object.getPrototypeOf(u)),w=n(A,{deleteProperty(O,L){let x=Reflect.get(O,L);m(L);let N=Reflect.deleteProperty(O,L);return N&&f(["delete",[L],x]),N},set(O,L,x,N){let k=Reflect.has(O,L),P=Reflect.get(O,L,N);if(k&&(e(P,x)||s.has(x)&&e(P,s.get(x))))return!0;m(L),xm(x)&&(x=$D(x)||x);let F=x;if(x instanceof Promise)x.then(C=>{x.status="fulfilled",x.value=C,f(["resolve",[L],C])}).catch(C=>{x.status="rejected",x.reason=C,f(["reject",[L],C])});else{!Zr.has(x)&&t(x)&&(F=a(x));let C=!Qa.has(F)&&Zr.get(F);C&&T(L,C)}return Reflect.set(O,L,F,N),f(["set",[L],x,P]),!0}});s.set(u,w);let M=[A,v,i,E];return Zr.set(w,M),Reflect.ownKeys(u).forEach(O=>{let L=Object.getOwnPropertyDescriptor(u,O);"value"in L&&(w[O]=u[O],delete L.value,delete L.writable),Object.defineProperty(A,O,L)}),w}){return[a,Zr,Qa,e,n,t,r,o,i,s,c]}var[sL]=iL();function BD(e={}){return sL(e)}function Tr(e,n,t){let r=Zr.get(e),o,i=[],s=r[3],c=!1,u=s(d=>{if(i.push(d),t){n(i.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,c&&n(i.splice(0))}))});return c=!0,()=>{c=!1,u()}}function Kr(e,n){let t=Zr.get(e),[r,o,i]=t;return i(r,o(),n)}function HD(e){return Qa.add(e),e}function V(e,n){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.indexOf(r)!==-1)continue;t[r]=e[r]}return t}var aL=["enabled","name"],Mm=Symbol();function Pm(e,n){typeof n=="string"&&(n={name:n});let t=n||{},{enabled:r,name:o=""}=t,i=V(t,aL),s;try{s=r&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!s)return;let c=!1,a=s.connect(y({name:o},i)),u=Tr(e,p=>{let g=p.filter(([f,h])=>h[0]!==Mm).map(([f,h])=>`${f}:${h.map(String).join(".")}`).join(", ");if(g)if(c)c=!1;else{let f=Object.assign({},Kr(e));delete f[Mm],a.send({type:g,updatedAt:new Date().toLocaleString()},f)}}),d=a.subscribe(p=>{var g,f;if(p.type==="ACTION"&&p.payload)try{Object.assign(e,JSON.parse(p.payload))}catch(T){console.error(`please dispatch a serializable value that JSON.parse() and proxy() support
`,T)}if(p.type==="DISPATCH"&&p.state){var h,v;if(((h=p.payload)==null?void 0:h.type)==="JUMP_TO_ACTION"||((v=p.payload)==null?void 0:v.type)==="JUMP_TO_STATE"){c=!0;let T=JSON.parse(p.state);Object.assign(e,T)}e[Mm]=p}else if(p.type==="DISPATCH"&&((g=p.payload)==null?void 0:g.type)==="COMMIT")a.init(Kr(e));else if(p.type==="DISPATCH"&&((f=p.payload)==null?void 0:f.type)==="IMPORT_STATE"){var S,D;let T=(S=p.payload.nextLiftedState)==null?void 0:S.actionsById,m=((D=p.payload.nextLiftedState)==null?void 0:D.computedStates)||[];c=!0,m.forEach(({state:E},A)=>{let I=T[A]||"No action found";Object.assign(e,E),A===0?a.init(Kr(e)):a.send(I,Kr(e))})}});return a.init(Kr(e)),()=>{u(),d?.()}}var Hm={};Ep(Hm,{ApplicationAccessType:()=>or,AuthStrategyEnum:()=>Te,ContextHolder:()=>ie,DirectoryApi:()=>_s,EIdentifierType:()=>Bo,FRONTEGG_SEPARATE_TABS_BY_TENANT:()=>Ho,FeatureFlags:()=>hn,FeatureFlagsApi:()=>Es,FetchClient:()=>tr,FronteggApiError:()=>ct,FronteggContext:()=>Rm,FronteggFrameworks:()=>Xa,GENERIC_ERROR_CODE:()=>bs,GENERIC_ERROR_MESSAGE:()=>Ss,GetUsersFilterPreset:()=>Qo,GroupManagedByEnum:()=>ut,GroupRelations:()=>Dc,ISubscriptionCancellationPolicy:()=>Zo,ISubscriptionStatus:()=>St,InsightCode:()=>eo,LOAD_AUTHORIZATION_FF:()=>Fm,MFAStrategyEnum:()=>Wo,MachineToMachineAuthStrategy:()=>lt,NotEntitledJustification:()=>Xr,PaginationOrderEnum:()=>ec,PasswordRecoveryStrategyEnum:()=>ws,PaymentMethodType:()=>Yo,PermissionAssignmentTypeEnum:()=>Ze,ProviderType:()=>xr,RecommendationActionKey:()=>Bm,RecommendationCode:()=>Ts,RecommendationSeverity:()=>xs,RequestSource:()=>Ja,RestrictionType:()=>He,ScimConnectionSource:()=>$m,SecondaryAuthStrategy:()=>nc,SecurityCategory:()=>rr,SignUpStrategyEnum:()=>As,SocialLoginProviders:()=>tc,SortByEnum:()=>Ic,SubAccountAccessTypeEnum:()=>Ec,TenantSortByEnum:()=>jm,TenantType:()=>Vm,UserManagedByEnum:()=>Um,WebAuthnDeviceType:()=>Cs,api:()=>wI,createApiClient:()=>Ms,default:()=>NL,fetch:()=>Om,fronteggAuthApiRoutesRegex:()=>CL,fronteggEntitlementsV2Url:()=>RL,fronteggHeaders:()=>Vo,fronteggRefreshTokenUrl:()=>_L,fronteggSilentRefreshTokenUrl:()=>TL,fronteggTenantsUrl:()=>ML,fronteggTenantsV3Url:()=>PL,fronteggUsersUrl:()=>xL,getCurrentUserTenantsFunction:()=>Jr,getTabTenantFromSessionStorage:()=>nr,providersArray:()=>OL,removeTabTenantFromSessionStorage:()=>Ds,setTabTenantInSessionStorage:()=>Qr});var ie=(()=>{class e{constructor(){this.context=null,this.accessToken=null,this.user=null,this.requestSource=null,this.onRedirectTo=t=>window.location.href=t,this.logout=()=>window.location.href="/account/logout",this.entitlementsOptions=null,this.appName=null,this.sessionContext=void 0,this.basename=null,this.cdnUrl=null,this.assetsUrl=null,this.setContext=t=>{this.context=t},this.setAccessToken=t=>{this.accessToken=t},this.setUser=t=>{this.user=t},this.setRequestSource=t=>{this.requestSource=t},this.setOnRedirectTo=t=>{this.onRedirectTo=t},this.setLogout=t=>{this.logout=t},this.setEntitlementsOptions=t=>{this.entitlementsOptions=t},this.setSessionContext=t=>{this.sessionContext=t},this.setAppName=t=>{this.appName=t},this.getContext=()=>{var t;return(t=this.context)!=null?t:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}},this.getAccessToken=()=>this.accessToken,this.getRequestSource=()=>this.requestSource,this.getUser=()=>this.user,this.shouldLoadEntitlements=()=>{var t;return((t=this.entitlementsOptions)==null?void 0:t.enabled)||!1},this.isSessionPerTenantEnabled=()=>{var t;return((t=this.sessionContext)==null?void 0:t.enableSessionPerTenant)||!1},this.shouldSkipUserLoad=()=>{var t;return((t=this.sessionContext)==null?void 0:t.skipUserLoading)||!1},this.getAppName=()=>this.appName,this.setCdnUrl=t=>{this.cdnUrl=t},this.getCdnUrl=()=>this.cdnUrl,this.setAssetsUrl=t=>{this.assetsUrl=t},this.getAssetsUrl=()=>this.assetsUrl}static default(){return e.getInstance(at)}static for(t){return e.getInstance(t)}static getInstance(t="default"){return e._apps||(e._apps={}),e._apps[t]||(e._apps[t]=new e),e._apps[t]}static createInstance(t="default"){return e._apps[t]=new e,e._apps[t].appName=t,e._apps[t]}static setContext(t,r="default"){e.for(r).context=t}static setAccessToken(t,r=at){e.for(r).accessToken=t}static setUser(t,r="default"){e.for(r).user=t}static setRequestSource(t,r="default"){e.for(r).requestSource=t}static setOnRedirectTo(t,r="default"){e.for(r).onRedirectTo=t}static setLogout(t,r,o="default"){let i=e.for(o);i.logout=s=>{s?t(s):i.onRedirectTo(r,void 0)}}static setEntitlementsOptions(t,r="default"){e.for(r).entitlementsOptions=t}static setSessionContext(t,r="default"){e.for(r).sessionContext=t}static setAppName(t){e.for(t).appName=t}static getContext(t="default"){var r;return(r=e.for(t).context)!=null?r:{baseUrl:window.location.href,tokenResolver:()=>"my-authentication-token",logLevel:"error"}}static getAccessToken(t="default"){return e.for(t).accessToken}static getRequestSource(t="default"){return e.for(t).requestSource}static getBasename(t="default"){return e.for(t).basename}getBasename(){return this.basename}static setBasename(t,r=at){e.for(r).basename=t}setBasename(t){this.basename=t}static getUser(t="default"){return e.for(t).user}static onRedirectTo(t,r,o="default"){return e.for(o).onRedirectTo(t,r)}static logout(t,r="default"){return e.for(r).logout(t)}static shouldLoadEntitlements(t="default"){var r;return((r=e.for(t).entitlementsOptions)==null?void 0:r.enabled)||!1}static isSessionPerTenantEnabled(t="default"){var r;return((r=e.for(t).sessionContext)==null?void 0:r.enableSessionPerTenant)||!1}static getAppName(t="default"){return e.for(t).appName}}return e._apps=void 0,e})(),at="default",Rm={getContext:()=>ie.getContext(at),getAccessToken:()=>ie.getAccessToken(at),setAccessToken:e=>ie.setAccessToken(e,at),getUser:()=>ie.getUser(at),setUser:e=>ie.setUser(e,at),onRedirectTo:(e,n)=>ie.onRedirectTo(e,n,at),setOnRedirectTo:e=>ie.setOnRedirectTo(e,at),logout:e=>ie.logout(e,at),getRequestSource:()=>ie.getRequestSource(at),setRequestSource:e=>ie.setRequestSource(e,at),isSessionPerTenantEnabled:()=>ie.isSessionPerTenantEnabled(at),shouldLoadEntitlements:()=>ie.shouldLoadEntitlements(at),getAppName:()=>ie.getAppName(at),setEntitlementsOptions:e=>ie.setEntitlementsOptions(e,at),setSessionContext:e=>ie.setSessionContext(e,at),getBasename:()=>ie.getBasename(at),setBasename:e=>ie.setBasename(e,at)};var ct=class extends Error{constructor(n,t,r,o,i){super(n),this._statusCode=void 0,this._traceId=void 0,this._errorCode=void 0,this._errorContext=void 0,this._statusCode=t,this._traceId=r,this._errorCode=o,this._errorContext=i}get statusCode(){return this._statusCode}get traceId(){return this._traceId}get errorCode(){return this._errorCode}get errorContext(){return this._errorContext}};var b={vendor:"/vendors",identity:{signup:{v1:{strategies:"/identity/resources/configurations/v1/sign-up/strategies"}},webAuthnDevices:{v1:"/identity/resources/users/webauthn/v1/devices"},auth:{v1:"/identity/resources/auth/v1",v2:"/identity/resources/auth/v2"},users:{v1:"/identity/resources/users/v1",v2:"/identity/resources/users/v2",v3:"/identity/resources/users/v3",roles:{v3:"/identity/resources/users/v3/roles"},groups:{v3:"/identity/resources/users/v3/groups"},tenants:{me:{v1:"/identity/resources/users/v1/me/tenants",v3:"/identity/resources/users/v3/me/tenants"}},apiTokens:{v1:"/identity/resources/users/api-tokens/v1"},accessTokens:{v1:"/identity/resources/users/access-tokens/v1"},sessions:{v1:"/identity/resources/users/sessions/v1",currentUser:{v1:"/identity/resources/users/sessions/v1/me"},configurations:{v1:"/identity/resources/configurations/sessions/v1"}},invitation:{resendAll:{v1:"/identity/resources/users/v1/invitation/reset/all"}},passwords:{resetBreachedPasswords:{v1:"/identity/resources/users/v1/passwords/breached/reset/bulk"}},authorization:{v1:"/identity/resources/users/v1/me/authorization"},temporary:{v1:"/identity/resources/users/temporary/v1",configuration:{v1:"/identity/resources/users/temporary/v1/configuration"}}},configurations:{v1:"/identity/resources/configurations/v1"},restrictions:{emailDomain:{v1:"/identity/resources/configurations/restrictions/v1/email-domain"},ip:{v1:"/identity/resources/configurations/v1/restrictions/ip"}},sso:{v1:"/identity/resources/sso/v1",v2:"/identity/resources/sso/v2",custom:{v1:"/identity/resources/sso/custom/v1"}},permissions:{v1:"/identity/resources/permissions/v1"},tenants:{apiTokens:{v1:"/identity/resources/tenants/api-tokens/v1",v2:"/identity/resources/tenants/api-tokens/v2"},accessTokens:{v1:"/identity/resources/tenants/access-tokens/v1"},invites:{user:{v1:"/identity/resources/tenants/invites/v1/user",v2:"/identity/resources/tenants/invites/v2/user"},verify:{v1:"/identity/resources/tenants/invites/v1/verify"},configuration:{v1:"/identity/resources/tenants/invites/v1/configuration"}},users:{v1:"/identity/resources/tenants/users/v1"}},roles:{v1:"/identity/resources/roles/v1",v2:"/identity/resources/roles/v2"},subTenants:{v1:"/identity/resources/sub-tenants/users/v1",v2:"/identity/resources/sub-tenants/users/v2"},impersonate:{v1:"/identity/resources/impersonation/v1"},applications:{v1:"/identity/resources/applications/v1"},groups:{v1:"/identity/resources/groups/v1",configurations:{v1:"/identity/resources/groups/v1/config"},getByIds:{v1:"/identity/resources/groups/v1/bulkGet"}},phoneNumbers:{v1:"/identity/resources/users/phone-numbers/v1"},usernames:{v1:"/identity/resources/usernames/v1"}},team:{sso:{v1:"/team/resources/sso/v1",v2:"/team/resources/sso/v2"},members:{v1:"/team/resources/members/v1"},roles:{v1:"/team/resources/roles/v1"},stats:{v1:"/team/resources/stats/v1"},profile:{v1:"/team/resources/profile"}},tenants:{accountSettings:{v1:"/tenants/resources/account-settings/v1"},hierarchy:{v1:"/tenants/resources/hierarchy/v1",tree:{v1:"/tenants/resources/hierarchy/v1/tree"},parents:{v1:"/tenants/resources/hierarchy/v1/parents"},v2:"/tenants/resources/hierarchy/v2",metadata:{v2:"/tenants/resources/hierarchy/v2/metadata"}},subTenants:{v1:"/tenants/resources/sub-tenants/v1"}},integrations:{configurations:{v1:"/integrations/resources/configurations/v1",v2:"/integrations/resources/configurations/v2"}},subscriptions:{billing:{subscriptions:{v1:"/subscriptions/resources/billing/subscriptions/v1"},plans:{v1:"/subscriptions/resources/billing/plans/v1"},invoices:{v1:"/subscriptions/resources/billing/invoices/v1"},paymentMethods:{v1:"/subscriptions/resources/billing/payment-methods/v1"},summaries:{v1:"/subscriptions/resources/billing/summaries/v1"},tenantConfiguration:{v1:"/subscriptions/resources/billing/tenant-configurations/v1"},configurations:{vendorPublicConfigurations:{v1:"/subscriptions/resources/billing/configurations/vendor-public-configurations/v1"}},paymentProviders:{stripe:{customers:{v1:"/subscriptions/resources/billing/payment-providers/stripe/customers/v1"},publicConfigurations:{v1:"/subscriptions/resources/billing/payment-providers/stripe/public-configurations/v1"},subscriptions:{v1:"/subscriptions/resources/billing/payment-providers/stripe/subscriptions/v1"},setupIntents:{v1:"/subscriptions/resources/billing/payment-providers/stripe/setup-intents/v1"}}}},paymentProviders:{v1:"/subscriptions/resources/payment-providers/v1"},managedSubscriptions:{v1:"/subscriptions/resources/subscriptions/v1"}},reports:{service:{v1:"/reports/resources/reports/v1",v2:"/reports/resources/reports/v2"},trigger:{v1:"/reports/engine/resources/triggers/v1"}},notifications:{v1:"/notification"},audits:{v1:"/audits"},events:{configurations:{v1:"/event/resources/configurations/v1"}},webhooks:{v1:"/webhook"},oauth:{v1:"/oauth"},featureFlags:{v1:"/flags"},directory:{v1:"/directory/resources/v1/configurations/scim2",temp:"/directory/resources/scim/temp"},entitlements:{v1:"/entitlements/api/v1/user-entitlements",v2:"/entitlements/api/v2/user-entitlements"},securityCenter:{recommendations:{v1:"/security-center/resources/recommendations/v1"},insights:{v1:"/security-center/resources/insights/v1"}},applications:{v1:"/applications/resources/applications/v1",tenant:{v1:"/applications/resources/applications/tenant-assignments/v1",v2:"/applications/resources/applications/tenant-assignments/v2"}},velo:{v1:"http://localhost:3037/resources/velo/v1"}},Ss="We're facing some difficulties, Please try again",bs="ER-ADMIN-PORTAL-GENERIC-ERROR",GD="frontegg-trace-id";var Vo={frameWork:"x-frontegg-framework",fronteggSdkVersion:"x-frontegg-sdk",contentType:"Content-Type",source:"frontegg-source",scopedTenant:"frontegg-scoped-tenant"},Ja;(function(e){e.AdminPortal="admin-portal",e.LoginBox="login-box"})(Ja||(Ja={}));var Xa;(function(e){e.Nextjs="nextjs",e.React="react",e.Angular="angular",e.Vuejs="vuejs",e.Flutter="flutter",e.Ios="ios",e.Android="android",e.Vanillajs="vanillajs"})(Xa||(Xa={}));var ec;(function(e){e.ASC="ASC",e.DESC="DESC"})(ec||(ec={}));var tr=(()=>{class e{constructor(t){this.appName=void 0,this.getFronteggContext=()=>ie.for(this.appName),this.prepareUrl=(r,o)=>l(this,null,function*(){let i=this.getFronteggContext().getContext(),s=this.getContextBaseUrl(r),c=yield this.buildQueryParams(i,o),a=r.startsWith("http")?r:`${s}${r}`,u=Object.keys(c).length>0;if(c&&u){let d=new URLSearchParams(c);a+=`?${d}`}return a}),this.buildQueryParams=(r,o)=>l(this,null,function*(){o||(o={});let i=yield this.getAdditionalQueryParams(r);for(let c of i)o[c.key]=c.value;let s=Object.keys(o);for(let c of s){let a=o[c];o[c]=typeof a=="object"?JSON.stringify(a):a}return o}),this.getAdditionalQueryParams=r=>l(this,null,function*(){let o=[];return r.additionalQueryParamsResolver&&(o=yield r.additionalQueryParamsResolver()),o}),this.getAdditionalHeaders=r=>l(this,null,function*(){let o=[];if(r.additionalHeadersResolver&&(o=yield r.additionalHeadersResolver()),r.tenantResolver){let i=yield r.tenantResolver();i!=null&&i.tenant&&o.push({key:"frontegg-login-alias",value:i.tenant})}return r.appId&&o.push({key:"frontegg-requested-application-id",value:r.appId}),o}),this.buildRequestHeaders=r=>l(this,null,function*(){var o;let i=this.getFronteggContext(),s=i.getContext(),c=e.getMetadataHeaders(s),a=yield((o=s?.tokenResolver)!=null?o:i.getAccessToken)(),u=i.getRequestSource(),d=e.getScopedTenant();r&&(c[Vo.contentType]=r),u&&(c[Vo.source]=u),a&&(c.Authorization=`Bearer ${a}`),d&&(c[Vo.scopedTenant]=d);for(let p of yield this.getAdditionalHeaders(s))c[`${p.key}`]=`${p.value}`;return c}),this.getResponseTraceId=r=>{var o,i;return r==null||(o=r.headers)==null||(i=o.get)==null?void 0:i.call(o,GD)},this.sendRequest=r=>l(this,null,function*(){var o,i,s;let c=this.getFronteggContext().getContext(),a=yield this.buildRequestHeaders(r.contentType),u=yield this.prepareUrl(r.url,r.params),d=c.beforeRequestInterceptor,p={body:r.body?r.contentType==="application/json"?JSON.stringify(r.body):r.body:null,method:(o=r.method)!=null?o:"GET",headers:y({},a,r.headers),credentials:(i=(s=r.credentials)!=null?s:c.requestCredentials)!=null?i:"same-origin"},g=d?d(p,u):p,f=yield fetch(u,g);if(f.status===302)return window.location.href=yield f.text(),new Promise(()=>{});if(!f.ok){var h,v,S,D,T;if(f.status===413)throw new ct("Error request is too large",f.status,this.getResponseTraceId(f),void 0);let m,E,A,I=!0;try{m=yield f.text(),m=JSON.parse(m)}catch{I=!1}throw(h=m)!=null&&h.errorCode&&(E=m.errorCode),(v=m)!=null&&v.context&&typeof m.context=="object"&&(A=m.context),m.errors?m=m.errors.join(", "):typeof m!="string"&&(m=`Error ${f.status} - ${f.statusText}`),f.status>=400&&f.status<500&&["warn"].includes((S=c.logLevel)!=null?S:"")?console.warn(m):f.status===500&&["warn","error"].includes((D=c.logLevel)!=null?D:"")&&console.error(m),new ct(I?m:Ss,f.status,this.getResponseTraceId(f),(T=E)!=null?T:bs,A)}if(r.responseType==="stream")return f.body;if(!r.responseType||r.responseType==="json")try{return yield f.json()}catch{return{}}else if(r.responseType==="blob"){let{outputFileName:m}=r.params;return yield f.blob().then(E=>URL.createObjectURL(E)).then(E=>{let A=document.createElement("a");A.href=E,A.setAttribute("download",m||"output"),A.click()})}else return yield f.text()}),this.get=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"GET",contentType:"application/json",params:o},i))}),this.post=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"POST",contentType:"application/json",body:o},i))}),this.patch=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"PATCH",contentType:"application/json",body:o},i))}),this.put=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"PUT",contentType:"application/json",body:o},i))}),this.delete=(r,o,i)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"DELETE",contentType:"application/json",body:o},i))}),this.postDownload=(r,o,i,s)=>l(this,null,function*(){return this.sendRequest(y({url:r,method:"POST",contentType:"application/json",responseType:"blob",body:o,params:i},s))}),this.extractHeadersFromOptions=(r={})=>y({},r.jwt?{Authorization:r.jwt}:{}),this.getBaseUrl=(r,o,i=!0)=>e.getBaseUrl(r,o,i),this.getContextBaseUrl=(r,o=!0)=>{let i=this.getFronteggContext().getContext();return this.getBaseUrl(i,r,o)},this.getMetadataHeaders=r=>e.getMetadataHeaders(r),this.getContextMetadataHeaders=()=>{let r=this.getFronteggContext().getContext();return e.getMetadataHeaders(r)},this.appName=t}}return e.getBaseUrl=(n,t,r=!0)=>{let o;typeof n.baseUrl=="function"?o=n.baseUrl(t):o=n.baseUrl;let i=n.urlPrefix||"frontegg",s=i==="frontegg"&&!r;return o.endsWith("/")||(o+="/"),!o.endsWith(i)&&!s&&(o+=i),o},e.getMetadataHeaders=n=>{var t,r;let o={};return n!=null&&(t=n.metadataHeaders)!=null&&t.fronteggSdkVersion&&(o[Vo.fronteggSdkVersion]=n.metadataHeaders.fronteggSdkVersion),n!=null&&(r=n.metadataHeaders)!=null&&r.framework&&(o[Vo.frameWork]=n.metadataHeaders.framework),o},e.getScopedTenant=()=>{let t=new URLSearchParams(window.location.search).get("tenantId");return t||null},e})(),Om=new tr("default");var se=class{constructor(n){this.appName=void 0,this.fetchClient=void 0,this.get=(t,r,o)=>l(this,null,function*(){return this.fetchClient.get(t,r,o)}),this.post=(t,r,o)=>l(this,null,function*(){return this.fetchClient.post(t,r,o)}),this.patch=(t,r,o)=>l(this,null,function*(){return this.fetchClient.patch(t,r,o)}),this.put=(t,r,o)=>l(this,null,function*(){return this.fetchClient.put(t,r,o)}),this.delete=(t,r,o)=>l(this,null,function*(){return this.fetchClient.delete(t,r,o)}),this.postDownload=(t,r,o,i)=>l(this,null,function*(){return this.fetchClient.postDownload(t,r,o,i)}),this.extractHeadersFromOptions=(t={})=>this.fetchClient.extractHeadersFromOptions(t),this.appName=n,this.fetchClient=new tr(n)}};var $o=class extends se{constructor(n){super(n),this.getGlobalSecurityPolicy=()=>l(this,null,function*(){return this.get(b.identity.configurations.v1)}),this.getMfaPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy`)}),this.getVendorMfaPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy/vendor`)}),this.saveMfaPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/mfa-policy`,t):this.post(`${b.identity.configurations.v1}/mfa-policy`,t)}),this.getLockoutPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/lockout-policy`)}),this.getVendorLockoutPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/lockout-policy/vendor`)}),this.saveLockoutPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/lockout-policy`,t):this.post(`${b.identity.configurations.v1}/lockout-policy`,t)}),this.getCaptchaPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/captcha-policy/public`)}catch{return null}}),this.getPasswordHistoryPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-history-policy`)}),this.getVendorPasswordHistoryPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-history-policy/vendor`)}),this.savePasswordHistoryPolicy=t=>l(this,null,function*(){return t.id?this.patch(`${b.identity.configurations.v1}/password-history-policy`,t):this.post(`${b.identity.configurations.v1}/password-history-policy`,t)}),this.getPasswordRotationPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/password-rotation`)}catch{return{}}}),this.getVendorPasswordRotationPolicy=()=>l(this,null,function*(){try{return yield this.get(`${b.identity.configurations.v1}/password-rotation/vendor`)}catch{return{}}}),this.savePasswordRotationPolicy=t=>l(this,null,function*(){return this.post(`${b.identity.configurations.v1}/password-rotation`,t)}),this.getPasswordConfigPolicy=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password`)}),this.getDomainRestrictions=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.emailDomain.v1}`)}),this.getDomainRestrictionsConfig=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.emailDomain.v1}/config`)}),this.createDomainRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.emailDomain.v1}`,t)}),this.updateDomainRestrictionConfig=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.emailDomain.v1}/config`,t)}),this.deleteDomainRestriction=t=>l(this,null,function*(){return this.delete(`${b.identity.restrictions.emailDomain.v1}/${t}`)}),this.getIPRestrictions=t=>l(this,null,function*(){return this.get(`${b.identity.restrictions.ip.v1}`,t)}),this.getIPRestrictionsConfig=()=>l(this,null,function*(){return this.get(`${b.identity.restrictions.ip.v1}/config`)}),this.createIPRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}`,t)}),this.bulkCreateIPRestriction=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/bulk`,t)}),this.updateIPRestrictionConfig=t=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/config`,t)}),this.deleteIPRestriction=t=>l(this,null,function*(){return this.delete(`${b.identity.restrictions.ip.v1}/${t}`)}),this.testCurrentIp=()=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/verify`)}),this.testCurrentIpInAllowList=()=>l(this,null,function*(){return this.post(`${b.identity.restrictions.ip.v1}/verify/allow`)})}},WD=new $o("default");var tc;(function(e){e.Microsoft="microsoft",e.Facebook="facebook",e.Google="google",e.Github="github",e.Slack="slack",e.Apple="apple",e.Linkedin="linkedin"})(tc||(tc={}));var Te;(function(e){e.EmailAndPassword="EmailAndPassword",e.MagicLink="MagicLink",e.Code="Code",e.NoLocalAuthentication="NoLocalAuthentication",e.SmsCode="SmsCode",e.WebAuthN="WebAuthN",e.UsernameAndPassword="UsernameAndPassword",e.UsernameAndMagicLink="UsernameAndMagicLink",e.UsernameAndCode="UsernameAndCode",e.UsernameAndSms="UsernameAndSms"})(Te||(Te={}));var lt;(function(e){e.ClientCredentials="ClientCredentials",e.AccessToken="AccessToken"})(lt||(lt={}));var As;(function(e){e.Email="email",e.PhoneNumber="phoneNumber"})(As||(As={}));var Bo;(function(e){e.email="email",e.phoneNumber="phoneNumber",e.username="username"})(Bo||(Bo={}));var ws;(function(e){e.Email="email",e.Sms="sms"})(ws||(ws={}));var Ho="FRONTEGG_SEPARATE_TABS_BY_TENANT",zD="admin_portal_use_current_user_tenants_v1_endpoint";var Nm={flags:{}},hn=(()=>{class e{constructor(){var t;this._flags={},this._flags=(t=Nm.flags)!=null?t:{}}static getInstance(t="default"){return this._instances[t]}static set(t,r="default"){let o=new e;return o.set(t),e._instances[r]=o,o}static getFeatureFlags(t,r){let o=this.getInstance(r);return t.map(i=>o?._flags[i]==="on")}get flags(){var t;return(t=this.flags)!=null?t:{}}set(t){var r;this._flags=y({},(r=Nm?.flags)!=null?r:{},t??{})}}return e._instances={},e})(),Es=class extends se{constructor(n){super(n),this.loadFeatureFlags=()=>l(this,null,function*(){return this.get(b.featureFlags.v1)})}},qD=new Es("default");var Go=class extends se{constructor(n){super(n),this.GetUserJwt=t=>l(this,null,function*(){return this.post(`${b.identity.users.v3}/me/token`,t)}),this.getUsersV2=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.v2,t,{headers:this.extractHeadersFromOptions(r)})}),this.getUsersV3=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.v3,t,{headers:this.extractHeadersFromOptions(r)})}),this.getUsersRoles=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.roles.v3,y({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(r)})}),this.getUsersUsernames=t=>l(this,null,function*(){return this.get(b.identity.usernames.v1,y({},t,{userIds:t.userIds.join(",")}))}),this.getUsersGroups=(t,r)=>l(this,null,function*(){return this.get(b.identity.users.groups.v3,y({},t,{ids:t.ids.join(",")}),{headers:this.extractHeadersFromOptions(r)})}),this.getCurrentUserTenantsV3=t=>l(this,null,function*(){return this.get(b.identity.users.tenants.me.v3,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getCurrentUserTenantsV1=t=>l(this,null,function*(){return this.get(b.identity.users.tenants.me.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.sendResetBreachedPasswordEmails=()=>l(this,null,function*(){return this.post(b.identity.users.passwords.resetBreachedPasswords.v1)}),this.updateUserProfileV2=t=>l(this,null,function*(){return this.put(`${b.identity.users.v2}/me`,t)}),this.unlockMe=t=>l(this,null,function*(){return this.post(`${b.identity.users.v3}/me/unlock`,t)})}},YD=new Go("default");function ZD(t){return l(this,arguments,function*({shouldLoad:e,action:n}){if(e)return yield n()})}function Qr(e){e&&sessionStorage.setItem(Ho,e)}function Ds(){sessionStorage.removeItem(Ho)}function nr(e){return ie.for(e).isSessionPerTenantEnabled()?sessionStorage.getItem(Ho):null}function Jr(e){if(ie.for(e).shouldSkipUserLoad())return()=>l(null,null,function*(){return{tenants:[],activeTenant:{}}});let t=new Go(e),[r]=hn.getFeatureFlags([zD],e);return ie.for(e).isSessionPerTenantEnabled()||r?t.getCurrentUserTenantsV1:t.getCurrentUserTenantsV3}var cL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",km=class extends Error{constructor(n){super(n)}};function lL(e){let n=String(e).replace(/=+$/,"");if(n.length%4===1)throw new km("'atob' failed: The string to be decoded is not correctly encoded.");let t="";for(let r=0,o,i,s=0;i=n.charAt(s++);~i&&(o=r%4?o*64+i:i,r++%4)?t+=String.fromCharCode(255&o>>(-2*r&6)):0)i=cL.indexOf(i);return t}var KD=typeof window<"u"&&window.atob&&window.atob.bind(window)||lL;function uL(e){return decodeURIComponent(KD(e).replace(/(.)/g,(n,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}var dL=e=>{let n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("Illegal base64url string!")}try{return uL(n)}catch{return KD(n)}},Lm=class extends Error{constructor(n){super(n)}},Is=(e,n={})=>{let t=n.header?0:1;try{return JSON.parse(dL(e.split(".")[t]))}catch(r){throw new Lm("Invalid token specified: "+r.message)}};var He;(function(e){e.ALLOW="ALLOW",e.BLOCK="BLOCK"})(He||(He={}));var nc;(function(e){e.WebAuthnPlatform="WebAuthnPlatform",e.WebAuthnCrossPlatform="WebAuthnCrossPlatform",e.SmsCode="SmsCode",e.SmsCodeV2="SmsCodeV2",e.Passkeys="Passkeys",e.UsernameAndPassword="UsernameAndPassword",e.UsernameAndMagicLink="UsernameAndMagicLink",e.UsernameAndCode="UsernameAndCode",e.UsernameAndSms="UsernameAndSms"})(nc||(nc={}));var Cs;(function(e){e.Platform="Platform",e.CrossPlatform="CrossPlatform"})(Cs||(Cs={}));var Wo;(function(e){e.AuthenticatorApp="AuthenticatorApp",e.WebAuthnPlatform="WebAuthnPlatform",e.WebAuthnCrossPlatform="WebAuthnCrossPlatform",e.SMS="SMS",e.EmailCode="EmailCode"})(Wo||(Wo={}));var Fm="admin_portal_should_load_authorization";var zo=class extends se{constructor(n){super(n),this.switchTenant=t=>l(this,null,function*(){return ie.for(this.appName).isSessionPerTenantEnabled()&&Qr(t.tenantId),this.put(`${b.identity.users.v1}/tenant`,t)}),this.getTenants=()=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me/tenants`)}),this.getSubTenants=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getSubTenantsAsTree=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.tree.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getParentTenants=t=>l(this,null,function*(){return this.get(b.tenants.hierarchy.parents.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getParentTenantsById=(t,r)=>l(this,null,function*(){return this.get(`${b.tenants.hierarchy.parents.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(r)})}),this.getTenantsUsersCount=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/count`,t,{headers:this.extractHeadersFromOptions(r)})}),this.searchSubTenants=(t,r)=>l(this,null,function*(){return this.get(b.tenants.hierarchy.v2,t,{headers:this.extractHeadersFromOptions(r)})}),this.getHierarchyMetadata=(t,r)=>l(this,null,function*(){return this.get(b.tenants.hierarchy.metadata.v2,y({},t,{_tenantIds:t._tenantIds.join(",")}),{headers:this.extractHeadersFromOptions(r)})})}},QD=new zo("default");var qo=class extends se{constructor(n){super(n),this.loadEntitlementsV2=()=>l(this,null,function*(){return this.get(b.entitlements.v2)})}},JD=new qo("default");var fL=["type"],pL=["type"],hL=["type"],rc=class extends se{constructor(n){super(n),this.tenantsApi=new zo(this.appName),this.entitlementsApi=new qo(this.appName),this.securityPolicy=new $o(this.appName),this.generateLoginResponse=t=>l(this,null,function*(){if(!t.accessToken)return t;let r=ie.for(this.appName);r.setAccessToken(t.accessToken);let o=yield this.getMeAndEntitlements(),i=t.accessToken?Is(t.accessToken):{},s=y({},t,i,o);return r.setUser(s),s}),this.generateLoginResponseV2=t=>l(this,null,function*(){if(!t.accessToken)return{user:t};let r=ie.for(this.appName);r.setAccessToken(t.accessToken);let[o,i]=yield Promise.all([this.getMeAndEntitlements(),this.tenantsApi.getTenants()]),s=t.accessToken?Is(t.accessToken):{},c=y({},t,s,o);return r.setUser(c),{user:c,tenants:i}}),this.generateLoginResponseV3=t=>l(this,null,function*(){let{accessToken:r}=t;if(!r)return{user:t};let o=ie.for(this.appName);o.setAccessToken(r);let[i,s]=yield Promise.all([this.getMeAndEntitlements(),Jr(this.appName)()]),c=r?Is(r):{},a=y({},t,c,i);return o.isSessionPerTenantEnabled()&&Qr(a.tenantId),o.setUser(a),{user:a,tenants:s.tenants,activeTenant:s.activeTenant}}),this.generateLoginResponseFromOAuthResponse=t=>l(this,null,function*(){let r=ie.for(this.appName);r.setAccessToken(t.id_token);let o=yield this.getMeAndEntitlements(),i=t.id_token?Is(t.id_token):{},s=y({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},i,o,{expiresIn:t.expires_in||300});return r.setUser(s),s}),this.generateLoginResponseFromOAuthResponseV2=t=>l(this,null,function*(){let r=ie.for(this.appName);r.setAccessToken(t.id_token);let[o,i]=yield Promise.all([this.getMeAndEntitlements(),Jr(this.appName)()]),s=t.id_token?Is(t.id_token):{},c=y({mfaRequired:!1,accessToken:t.id_token,refreshToken:t.refresh_token},s,o,{expiresIn:t.expires_in||300});return r.isSessionPerTenantEnabled()&&Qr(c.tenantId),r.setUser(c),{user:c,tenants:i.tenants,activeTenant:i.activeTenant}}),this.preLogin=t=>l(this,null,function*(){try{let{address:r}=yield this.post(`${b.identity.auth.v1}/user/saml/prelogin`,t);return r}catch{return null}}),this.preLoginWithIdpType=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/saml/prelogin`,t)}),this.postLogin=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/saml/postlogin`,t);return this.generateLoginResponse(r)}),this.oidcPostLogin=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/oidc/postlogin`,t);return this.generateLoginResponse(r)}),this.login=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user`,t);return this.generateLoginResponse(r)}),this.loginv2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user`,t);return this.generateLoginResponseV3(r)}),this.loginWithMfa=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponse(r)}),this.loginWithMfaV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/verify`,t);return this.generateLoginResponseV3(r)}),this.activateAccount=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/activate`,t)}),this.activateAccountV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.users.v1}/activate`,t);return this.generateLoginResponseV3(r)}),this.activateAccountWithOTC=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.users.v1}/activate/code`,t);return this.generateLoginResponseV3(r)}),this.getActivateAccountStrategy=t=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/activate/strategy`,t)}),this.resendActivationEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/activate/reset`,t)}),this.resendInvitationEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/reset`,t)}),this.acceptInvitation=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/accept`,t)}),this.acceptInvitationWithOTC=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/invitation/accept/code`,t)}),this.refreshToken=()=>l(this,null,function*(){let t=nr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponse(r)}),this.refreshTokenV2=()=>l(this,null,function*(){let t=nr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV2(r)}),this.refreshTokenV3=()=>l(this,null,function*(){let t=nr(this.appName),r=yield this.post(`${b.identity.auth.v1}/user/token/refresh`,{tenantId:t});return this.generateLoginResponseV3(r)}),this.logout=()=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/logout`)}),this.OAuthLogout=t=>l(this,null,function*(){return this.get(`${b.oauth.v1}/logout`,t)}),this.forgotPassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/reset`,t)}),this.resetPassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/reset/verify`,t)}),this.resetPasswordViaEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/email`,t)}),this.resetPasswordViaSms=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/sms`,t)}),this.verifyPasswordViaSms=t=>l(this,null,function*(){return this.post(`${b.identity.users.v2}/passwords/reset/sms/verify`,t)}),this.getPasswordRecoveryStrategies=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/password-recovery/strategies`)}),this.loadPasswordConfig=t=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/passwords/config`,t)}),this.getSignUpStrategies=()=>l(this,null,function*(){return this.get(`${b.identity.signup.v1.strategies}`)}),this.recoverMfaToken=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/recover`,t)}),this.enrollMfa=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/enroll`)}),this.preEnrollMFAAuthenticatorApp=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/enroll`)}),this.enrollMFAAuthenticatorApp=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/enroll/verify`,t)}),this.preEnrollMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/enroll`,t)}),this.enrollMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/enroll/verify`,t)}),this.preEnrollMFAWebAuthn=()=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/enroll`)}),this.enrollMFAWebAuthn=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/enroll/verify`,t)}),this.verifyMfa=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/enroll/verify`,t)}),this.disableMfa=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/disable`,t)}),this.disableMFAAuthenticatorApp=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/authenticator/${t}/disable/verify`,r)}),this.preDisableMFASMS=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/${t}/disable`)}),this.disableMFASMS=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/sms/${t}/disable/verify`,r)}),this.preDisableMFAWebAuthn=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/${t}/disable`)}),this.disableMFAWebAuthn=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/mfa/webauthn/${t}/disable/verify`,r)}),this.getMFADevices=()=>l(this,null,function*(){return this.get(`${b.identity.users.v1}/mfa/devices`)}),this.preEnrollMFAAuthenticatorAppForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll`,t)}),this.enrollMFAAuthenticatorAppForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t)}),this.enrollMFAAuthenticatorAppForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/authenticator/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.verifyMFAAuthenticatorAppForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/authenticator/${t}/verify`,r)}),this.preVerifyMFAEmailCode=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/emailcode`,t)}),this.verifyMFAEmailCode=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/emailcode/verify`,t)}),this.verifyMFAEmailCodeV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/emailcode/verify`,t);return this.generateLoginResponseV3(r)}),this.preEnrollMFASMSForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll`,t)}),this.enrollMFASMSForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll/verify`,t)}),this.enrollMFASMSForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/sms/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.preVerifyMFASMSForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}`,r)}),this.verifyMFASMSForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}/verify`,r)}),this.verifyMFASMSForLoginV2=(t,r)=>l(this,null,function*(){let o=yield this.post(`${b.identity.auth.v1}/user/mfa/sms/${t}/verify`,r);return this.generateLoginResponseV3(o)}),this.preEnrollMFAWebAuthnForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll`,t)}),this.enrollMFAWebAuthnForLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t)}),this.enrollMFAWebAuthnForLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/mfa/webauthn/enroll/verify`,t);return this.generateLoginResponseV3(r)}),this.preVerifyMFAWebAuthnForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}`,r)}),this.verifyMFAWebAuthnForLogin=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,r)}),this.verifyMFAWebAuthnForLoginV2=(t,r)=>l(this,null,function*(){let o=yield this.post(`${b.identity.auth.v1}/user/mfa/webauthn/${t}/verify`,r);return this.generateLoginResponseV3(o)}),this.getSamlConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations`)}),this.updateSamlConfiguration=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/saml/configurations`,t)}),this.getSamlVendorConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations/vendor-config`)}),this.updateSamlVendorMetadata=t=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/saml/configurations/metadata`,t)}),this.validateSamlDomain=()=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/saml/validations/domain`)}),this.getSamlRoles=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/saml/configurations/roles/default`)}),this.getSamlRolesGroups=()=>l(this,null,function*(){return this.get(`${b.team.sso.v2}/saml/configurations/groups`)}),this.updateSamlRoles=r=>l(this,[r],function*({roleIds:t}){return this.post(`${b.team.sso.v1}/saml/configurations/roles/default`,{roleIds:t})}),this.createSamlGroup=o=>l(this,[o],function*({roleIds:t,group:r}){return this.post(`${b.team.sso.v2}/saml/configurations/groups`,{group:r,roleIds:t})}),this.updateSamlGroup=i=>l(this,[i],function*({roleIds:t,group:r,id:o}){return this.patch(`${b.team.sso.v2}/saml/configurations/groups/${o}`,{group:r,roleIds:t})}),this.deleteSamlGroup=r=>l(this,[r],function*({id:t}){return this.delete(`${b.team.sso.v2}/saml/configurations/groups/${t}`)}),this.getOidcConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/oidc/configurations`)}),this.getSSOPublicConfiguration=()=>l(this,null,function*(){return this.get(`${b.team.sso.v2}/configurations/public`)}),this.getSocialLoginProviders=()=>l(this,null,function*(){return this.get(b.identity.sso.v1)}),this.getSocialLoginProvidersV2=()=>l(this,null,function*(){return this.get(b.identity.sso.v2)}),this.getSocialLoginProvidersV2ForAuthenticatedUser=()=>l(this,null,function*(){return this.get(`${b.identity.sso.v2}/authenticated`)}),this.getCustomSocialLoginProvidersV1=()=>l(this,null,function*(){return this.get(b.identity.sso.custom.v1)}),this.loginViaSocialLogin=t=>l(this,null,function*(){let r={};return t.code&&(r.code=t.code),t.idToken&&(r.id_token=t.idToken),t.redirectUri&&(r.redirectUri=t.redirectUri),t.codeVerifier&&(r.code_verifier=t.codeVerifier),t.codeVerifierPkce&&(r.code_verifier_pkce=t.codeVerifierPkce),t.state&&(r.state=t.state),this.post(`${b.identity.auth.v1}/user/sso/${t.provider}/postlogin`,{metadata:t.metadata,invitationToken:t.invitationToken},{params:r})}),this.getVendorConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/public`)}),this.signUpUser=t=>l(this,null,function*(){let{shouldActivate:r,authResponse:o,userId:i,tenantId:s,activationToken:c}=yield this.post(`${b.identity.users.v1}/signUp`,t),a={shouldActivate:r,userId:i,tenantId:s};if(!r&&o){let{user:u,tenants:d,activeTenant:p}=yield this.generateLoginResponseV3(o);return y({},a,{user:u,tenants:d,activeTenant:p})}return y({},a,{activationToken:c})}),this.signUpUserWithPhoneNumber=t=>l(this,null,function*(){let{shouldActivate:r,authResponse:o,userId:i,tenantId:s,activationToken:c}=yield this.post(`${b.identity.users.v1}/signUp/phoneNumber`,t),a={shouldActivate:r,userId:i,tenantId:s};if(!r&&o){let{user:u,tenants:d,activeTenant:p}=yield this.generateLoginResponseV3(o);return y({},a,{user:u,tenants:d,activeTenant:p})}return y({},a,{activationToken:c})}),this.getCurrentUserSessions=()=>l(this,null,function*(){return this.get(b.identity.users.sessions.currentUser.v1)}),this.getCurrentUserSession=()=>l(this,null,function*(){return this.get(`${b.identity.users.sessions.currentUser.v1}/current`)}),this.revokeSessionsForUser=t=>l(this,null,function*(){return this.post(`${b.identity.users.sessions.v1}/revoke`,{userId:t})}),this.getSessionConfigurations=()=>l(this,null,function*(){return this.get(b.identity.users.sessions.configurations.v1)}),this.createOrUpdateSessionConfigrations=t=>l(this,null,function*(){yield this.post(b.identity.users.sessions.configurations.v1,t)}),this.deleteSessionForUser=t=>l(this,null,function*(){yield this.delete(`${b.identity.users.sessions.currentUser.v1}/${t}`)}),this.deleteAllSessionsForUser=()=>l(this,null,function*(){yield this.delete(`${b.identity.users.sessions.currentUser.v1}/all`)}),this.getUserAccessTokensData=()=>l(this,null,function*(){return this.get(b.identity.users.accessTokens.v1)}),this.getTenantAccessTokensData=()=>l(this,null,function*(){return this.get(b.identity.tenants.accessTokens.v1)}),this.deleteTenantAccessToken=r=>l(this,[r],function*({id:t}){yield this.delete(`${b.identity.tenants.accessTokens.v1}/${t}`)}),this.deleteUserAccessToken=r=>l(this,[r],function*({id:t}){yield this.delete(`${b.identity.users.accessTokens.v1}/${t}`)}),this.createUserAccessToken=t=>l(this,null,function*(){return this.post(b.identity.users.accessTokens.v1,t)}),this.createTenantAccessToken=t=>l(this,null,function*(){return this.post(b.identity.tenants.accessTokens.v1,t)}),this.getUserApiTokensData=()=>l(this,null,function*(){return this.get(b.identity.users.apiTokens.v1)}),this.getTenantApiTokensData=()=>l(this,null,function*(){return this.get(b.identity.tenants.apiTokens.v1)}),this.updateUserApiTokensData=t=>l(this,null,function*(){return this.post(b.identity.users.apiTokens.v1,t)}),this.updateTenantApiTokensData=t=>l(this,null,function*(){return this.post(b.identity.tenants.apiTokens.v2,t)}),this.deleteTenantApiToken=r=>l(this,[r],function*({tokenId:t}){yield this.delete(`${b.identity.tenants.apiTokens.v1}/${t}`)}),this.deleteUserApiToken=r=>l(this,[r],function*({tokenId:t}){yield this.delete(`${b.identity.users.apiTokens.v1}/${t}`)}),this.getUserById=r=>l(this,[r],function*({userId:t}){return this.get(`${b.identity.users.v1}/${t}`)}),this.checkIfAllowToRememberMfaDevice=t=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa-policy/allow-remember-device`,{mfaToken:t})}),this.passwordlessPreLogin=t=>l(this,null,function*(){var r;let{type:o}=t,i=V(t,fL),c=((r={[Te.UsernameAndCode]:Te.Code,[Te.UsernameAndMagicLink]:Te.MagicLink,[Te.UsernameAndSms]:Te.SmsCode,[Te.UsernameAndPassword]:Te.EmailAndPassword}[o])==null?void 0:r.toLowerCase())||o.toLowerCase();return this.post(`${b.identity.auth.v1}/passwordless/${c}/prelogin`,i)}),this.passwordlessPostLoginV2=t=>l(this,null,function*(){let{type:r}=t,o=V(t,pL),i=yield this.post(`${b.identity.auth.v1}/passwordless/${r.toLocaleLowerCase()}/postlogin`,o);return this.generateLoginResponseV3(i)}),this.passwordlessPostLogin=t=>l(this,null,function*(){let{type:r}=t,o=V(t,hL);return this.post(`${b.identity.auth.v1}/passwordless/${r.toLocaleLowerCase()}/postlogin`,o)}),this.verifyInviteToken=r=>l(this,[r],function*({token:t}){return this.post(b.identity.tenants.invites.verify.v1,{token:t})}),this.getSSOConfigurations=()=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations`)}),this.createSSOConfiguration=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations`,t)}),this.updateSSOConfiguration=(t,r)=>l(this,null,function*(){return this.patch(`${b.team.sso.v1}/configurations/${t}`,r)}),this.deleteSSOConfiguration=t=>l(this,null,function*(){yield this.delete(`${b.team.sso.v1}/configurations/${t}`)}),this.createSSOConfigurationByMetadata=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/metadata`,t)}),this.updateSSOConfigurationByMetadata=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/metadata`,r)}),this.createSSOConfigurationByMetadataUrl=t=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/metadata-url`,t)}),this.updateSSOConfigurationByMetadataUrl=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/metadata-url`,r)}),this.createSSODomain=(t,r)=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/${t}/domains`,r)}),this.deleteSSODomain=(t,r)=>l(this,null,function*(){return this.delete(`${b.team.sso.v1}/configurations/${t}/domains/${r}`)}),this.validateSSODomain=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/domains/${r}/validate`)}),this.validateSSODomainV2=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v2}/configurations/${t}/domains/${r}/validate`)}),this.getSSODefaultRoles=t=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations/${t}/roles`)}),this.setSSODefaultRoles=(t,r)=>l(this,null,function*(){return this.put(`${b.team.sso.v1}/configurations/${t}/roles`,r)}),this.createSSOGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.team.sso.v1}/configurations/${t}/groups`,r)}),this.updateSSOGroup=(s,c)=>l(this,[s,c],function*(t,{roleIds:r,group:o,id:i}){return this.patch(`${b.team.sso.v1}/configurations/${t}/groups/${i}`,{group:o,roleIds:r})}),this.deleteSSOGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.team.sso.v1}/configurations/${t}/groups/${r}`)}),this.getSSOGroups=t=>l(this,null,function*(){return this.get(`${b.team.sso.v1}/configurations/${t}/groups`)}),this.preLoginV2=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v2}/user/sso/prelogin`,t)}),this.oidcPostLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v2}/user/oidc/postlogin`,t);return this.generateLoginResponse(r)}),this.exchangeOAuthTokensV2=t=>l(this,null,function*(){let r=yield this.post(`${b.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponseV2(r)}),this.silentOAuthRefreshTokenV2=()=>l(this,null,function*(){let t=nr(this.appName),r=yield this.post(`${b.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponseV2(r)}),this.exchangeOAuthTokens=t=>l(this,null,function*(){let r=yield this.post(`${b.oauth.v1}/token`,t);return this.generateLoginResponseFromOAuthResponse(r)}),this.silentOAuthRefreshToken=()=>l(this,null,function*(){let t=nr(this.appName),r=yield this.post(`${b.oauth.v1}/authorize/silent`,{tenantId:t});return this.generateLoginResponseFromOAuthResponse(r)}),this.resetPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/reset`,t)}),this.verifyResetPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/reset/verify`,t)}),this.changePhoneNumberWithVerification=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone`,t)}),this.verifyChangePhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/phone/verify`,t)}),this.changePhoneNumber=t=>l(this,null,function*(){return this.put(`${b.identity.users.v1}/phone/change`,t)}),this.webAuthnPreLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/webauthn/prelogin`,t)}),this.webAuthnPostLogin=t=>l(this,null,function*(){return this.post(`${b.identity.auth.v1}/webauthn/postlogin`,t)}),this.webAuthnPostLoginV2=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/webauthn/postlogin`,t);return this.generateLoginResponseV3(r)}),this.webAuthnCreateNewDeviceSession=()=>l(this,null,function*(){return this.post(b.identity.webAuthnDevices.v1)}),this.getWebAuthnDevices=()=>l(this,null,function*(){return this.get(b.identity.webAuthnDevices.v1)}),this.deleteWebAuthnDevice=t=>l(this,null,function*(){return this.delete(`${b.identity.webAuthnDevices.v1}/${t}`)}),this.verifyNewDeviceSession=t=>l(this,null,function*(){return this.post(`${b.identity.webAuthnDevices.v1}/verify`,t)}),this.getVendorPublicAuthStrategiesConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/auth/strategies/public`)}),this.getPublicAuthStrategiesConfigForAuthenticatedUser=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/auth/strategies`)}),this.getMFAStrategiesConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/mfa/strategies`)}),this.getUserAuthorization=()=>l(this,null,function*(){return this.get(`${b.identity.users.authorization.v1}`)}),this.getMeV2=()=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me`)}),this.noThrowLoadEntitlements=()=>l(this,null,function*(){try{return yield this.entitlementsApi.loadEntitlementsV2()}catch{}}),this.getMeAndEntitlements=()=>l(this,null,function*(){if(ie.for(this.appName).shouldSkipUserLoad())return{roles:[],permissions:[],groups:[],tenants:[]};let o=[{action:this.getMeV2,shouldLoad:!0},{action:this.noThrowLoadEntitlements,shouldLoad:this.shouldLoadEntitlements()},{action:this.getUserAuthorization,shouldLoad:this.shouldLoadMeAuthorization()}].map(u=>ZD(u)),[i,s,c]=yield Promise.all(o),a=nr(this.appName);return a&&(i.tenantId=a),y({},i,c??{},{entitlements:s})}),this.generateStepupSession=t=>l(this,null,function*(){let r=yield this.post(`${b.identity.auth.v1}/user/step-up/generate`,t);return r.accessToken?this.generateLoginResponseV3(r):r}),this.getGlobalSecurityPolicy=this.securityPolicy.getGlobalSecurityPolicy.bind(this.securityPolicy),this.getMfaPolicy=this.securityPolicy.getMfaPolicy.bind(this.securityPolicy),this.getVendorMfaPolicy=this.securityPolicy.getVendorMfaPolicy.bind(this.securityPolicy),this.saveMfaPolicy=this.securityPolicy.saveMfaPolicy.bind(this.securityPolicy),this.getLockoutPolicy=this.securityPolicy.getLockoutPolicy.bind(this.securityPolicy),this.getVendorLockoutPolicy=this.securityPolicy.getVendorLockoutPolicy.bind(this.securityPolicy),this.saveLockoutPolicy=this.securityPolicy.saveLockoutPolicy.bind(this.securityPolicy),this.getCaptchaPolicy=this.securityPolicy.getCaptchaPolicy.bind(this.securityPolicy),this.getPasswordHistoryPolicy=this.securityPolicy.getPasswordHistoryPolicy.bind(this.securityPolicy),this.getVendorPasswordHistoryPolicy=this.securityPolicy.getVendorPasswordHistoryPolicy.bind(this.securityPolicy),this.savePasswordHistoryPolicy=this.securityPolicy.savePasswordHistoryPolicy.bind(this.securityPolicy),this.getPasswordConfigPolicy=this.securityPolicy.getPasswordConfigPolicy.bind(this.securityPolicy),this.getDomainRestrictions=this.securityPolicy.getDomainRestrictions.bind(this.securityPolicy),this.getDomainRestrictionsConfig=this.securityPolicy.getDomainRestrictionsConfig.bind(this.securityPolicy),this.createDomainRestriction=this.securityPolicy.createDomainRestriction.bind(this.securityPolicy),this.updateDomainRestrictionConfig=this.securityPolicy.updateDomainRestrictionConfig.bind(this.securityPolicy),this.deleteDomainRestriction=this.securityPolicy.deleteDomainRestriction.bind(this.securityPolicy),this.getIPRestrictions=this.securityPolicy.getIPRestrictions.bind(this.securityPolicy),this.getIPRestrictionsConfig=this.securityPolicy.getIPRestrictionsConfig.bind(this.securityPolicy),this.createIPRestriction=this.securityPolicy.createIPRestriction.bind(this.securityPolicy),this.bulkCreateIPRestriction=this.securityPolicy.bulkCreateIPRestriction.bind(this.securityPolicy),this.updateIPRestrictionConfig=this.securityPolicy.updateIPRestrictionConfig.bind(this.securityPolicy),this.deleteIPRestriction=this.securityPolicy.deleteIPRestriction.bind(this.securityPolicy),this.testCurrentIp=this.securityPolicy.testCurrentIp.bind(this.securityPolicy),this.testCurrentIpInAllowList=this.securityPolicy.testCurrentIpInAllowList.bind(this.securityPolicy)}shouldLoadEntitlements(){return ie.for(this.appName).shouldLoadEntitlements()}shouldLoadMeAuthorization(){let[n]=hn.getFeatureFlags([Fm],this.appName);return n}},XD=new rc("default");var lf=class extends se{constructor(...n){super(...n),this.getSubscriptionInvoices=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.invoices.v1)}),this.getSubscriptionInvoice=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.invoices.v1}/${t}`)}),this.getSubscriptionInvoicePdf=(t,r)=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.invoices.v1}/${t}/pdf`,{outputFileName:r},{responseType:"blob"})})}};var uf=class extends se{constructor(...n){super(...n),this.getManagedSubscription=t=>l(this,null,function*(){return this.get(`${b.subscriptions.managedSubscriptions.v1}/${t}`)}),this.getManagedSubscriptions=()=>l(this,null,function*(){return this.get(b.subscriptions.managedSubscriptions.v1)}),this.cancelManagedSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}/cancellations/`,{})}),this.renewManagedSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}/renewals/`,{})}),this.updateManagedSubscription=(i,s)=>l(this,[i,s],function*(t,{paymentMethodId:r,planId:o}){return this.put(`${b.subscriptions.managedSubscriptions.v1}/${t}`,{paymentMethodId:r,planId:o})})}};var gL=["email"],df=class extends se{constructor(...n){super(...n),this.getPaymentMethods=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.paymentMethods.v1)}),this.getPaymentMethod=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.paymentMethods.v1}/${t}`)}),this.updatePaymentMethodBillingDetails=(t,r)=>l(this,null,function*(){let{email:o}=r,i=V(r,gL);return this.patch(`${b.subscriptions.billing.paymentMethods.v1}/${t}/billing-details`,{email:o,address:i})})}};var ff=class extends se{constructor(...n){super(...n),this.getPaymentProviders=()=>l(this,null,function*(){return this.get(b.subscriptions.paymentProviders.v1)})}};var pf=class extends se{constructor(...n){super(...n),this.getSubscriptionPlans=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.plans.v1)}),this.getSubscriptionPlan=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.plans.v1}/${t}`)})}};var hf=class extends se{constructor(...n){super(...n),this.getSubscriptions=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.subscriptions.v1)}),this.getSubscription=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.subscriptions.v1}/${t}`)}),this.cancelSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}/cancellations/`,{})}),this.renewSubscription=t=>l(this,null,function*(){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}/renewals/`,{})}),this.updateSubscription=(i,s)=>l(this,[i,s],function*(t,{paymentMethodId:r,planId:o}){return this.put(`${b.subscriptions.billing.subscriptions.v1}/${t}`,{paymentMethodId:r,planId:o})})}};var gf=class extends se{constructor(...n){super(...n),this.getSubscriptionSummaries=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.summaries.v1}/${t}`)})}};var mf=class extends se{constructor(...n){super(...n),this.getTenantConfiguration=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.tenantConfiguration.v1}/${t}`)}),this.createTenantConfiguration=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.tenantConfiguration.v1,t)})}};var vf=class extends se{constructor(...n){super(...n),this.getVendorPublicConfigurations=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.configurations.vendorPublicConfigurations.v1)})}};var yf=class extends se{constructor(...n){super(...n),this.createSubscription=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.subscriptions.v1,t)}),this.getStripeCustomer=t=>l(this,null,function*(){return this.get(`${b.subscriptions.billing.paymentProviders.stripe.customers.v1}/${t}`)}),this.createStripeCustomer=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.customers.v1,t)}),this.getStripePaymentProviderConfiguration=()=>l(this,null,function*(){return this.get(b.subscriptions.billing.paymentProviders.stripe.publicConfigurations.v1)}),this.createStripePaymentMethodSetupIntentSecret=t=>l(this,null,function*(){return this.post(b.subscriptions.billing.paymentProviders.stripe.setupIntents.v1,t)})}};var St;(function(e){e.ACTIVE="active",e.CANCELED="canceled",e.INCOMPLETE="incomplete",e.EXPIRED="expired",e.TRIALING="trialing",e.TRIAL_ENDED="trialEnded"})(St||(St={}));var Yo;(function(e){e.UNKNWON="unknown",e.CARD="card"})(Yo||(Yo={}));var Zo;(function(e){e.AT_PERIOD_END="atPeriodEnd"})(Zo||(Zo={}));var xr;(function(e){e.Stripe="Stripe"})(xr||(xr={}));var eI;(function(e){e.CHANGE_TO_DEFAULT="change_to_default",e.RETAIN_TRIAL="retain_trial"})(eI||(eI={}));var tI;(function(e){e.CREATE="create_customer"})(tI||(tI={}));var oc=class extends se{constructor(n){super(n),this.invoicesApi=new lf(this.appName),this.managedSubscriptionApi=new uf(this.appName),this.paymentMethodsApi=new df(this.appName),this.paymentProvidersApi=new ff(this.appName),this.plansApi=new pf(this.appName),this.subscriptionApi=new hf(this.appName),this.summariesApi=new gf(this.appName),this.subscriptionTenantConfigApi=new mf(this.appName),this.vendorPublicConfigApi=new vf(this.appName),this.stripeProviderApi=new yf(this.appName),this.getSubscriptionInvoices=this.invoicesApi.getSubscriptionInvoices.bind(this.invoicesApi),this.getSubscriptionInvoice=this.invoicesApi.getSubscriptionInvoice.bind(this.invoicesApi),this.getSubscriptionInvoicePdf=this.invoicesApi.getSubscriptionInvoicePdf.bind(this.invoicesApi),this.getManagedSubscription=this.managedSubscriptionApi.getManagedSubscription.bind(this.managedSubscriptionApi),this.getManagedSubscriptions=this.managedSubscriptionApi.getManagedSubscriptions.bind(this.managedSubscriptionApi),this.cancelManagedSubscription=this.managedSubscriptionApi.cancelManagedSubscription.bind(this.managedSubscriptionApi),this.renewManagedSubscription=this.managedSubscriptionApi.renewManagedSubscription.bind(this.managedSubscriptionApi),this.updateManagedSubscription=this.managedSubscriptionApi.updateManagedSubscription.bind(this.managedSubscriptionApi),this.getPaymentMethods=this.paymentMethodsApi.getPaymentMethods.bind(this.paymentMethodsApi),this.getPaymentMethod=this.paymentMethodsApi.getPaymentMethod.bind(this.paymentMethodsApi),this.updatePaymentMethodBillingDetails=this.paymentMethodsApi.updatePaymentMethodBillingDetails.bind(this.paymentMethodsApi),this.getPaymentProviders=this.paymentProvidersApi.getPaymentProviders.bind(this.paymentProvidersApi),this.getSubscriptionPlans=this.plansApi.getSubscriptionPlans.bind(this.plansApi),this.getSubscriptionPlan=this.plansApi.getSubscriptionPlan.bind(this.plansApi),this.getSubscriptions=this.subscriptionApi.getSubscriptions.bind(this.subscriptionApi),this.getSubscription=this.subscriptionApi.getSubscription.bind(this.subscriptionApi),this.cancelSubscription=this.subscriptionApi.cancelSubscription.bind(this.subscriptionApi),this.renewSubscription=this.subscriptionApi.renewSubscription.bind(this.subscriptionApi),this.updateSubscription=this.subscriptionApi.updateSubscription.bind(this.subscriptionApi),this.getSubscriptionSummaries=this.summariesApi.getSubscriptionSummaries.bind(this.summariesApi),this.getTenantConfiguration=this.subscriptionTenantConfigApi.getTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.createTenantConfiguration=this.subscriptionTenantConfigApi.createTenantConfiguration.bind(this.subscriptionTenantConfigApi),this.getVendorPublicConfigurations=this.vendorPublicConfigApi.getVendorPublicConfigurations.bind(this.vendorPublicConfigApi),this.createSubscription=this.stripeProviderApi.createSubscription.bind(this.stripeProviderApi),this.getStripeCustomer=this.stripeProviderApi.getStripeCustomer.bind(this.stripeProviderApi),this.createStripeCustomer=this.stripeProviderApi.createStripeCustomer.bind(this.stripeProviderApi),this.getStripePaymentProviderConfiguration=this.stripeProviderApi.getStripePaymentProviderConfiguration.bind(this.stripeProviderApi),this.createStripePaymentMethodSetupIntentSecret=this.stripeProviderApi.createStripePaymentMethodSetupIntentSecret.bind(this.stripeProviderApi)}},nI=new oc("default");var ic=class extends se{constructor(n){super(n),this.getProfile=t=>l(this,null,function*(){return this.get(`${b.identity.users.v2}/me`,t??{addRoles:!0})}),this.updateEmail=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/email/me`,{email:t})}),this.verifyEmail=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/email/me/verify`,{email:t,code:r})}),this.updateProfile=t=>l(this,null,function*(){return this.put(`${b.identity.users.v2}/me`,t)}),this.updateProfileImage=t=>l(this,null,function*(){return this.put(`${b.team.profile.v1}/me/image/v1`,t,{responseType:"plain",contentType:void 0})}),this.changePassword=t=>l(this,null,function*(){return this.post(`${b.identity.users.v1}/passwords/change`,t)}),this.loadUsers=t=>l(this,null,function*(){var r,o,i,s,c,a;let u=(t.filter||[]).reduce((p,g)=>y({},p,{[g.id]:g.value}),{}),d=(r=t.sort)!=null&&r.length?{sortBy:(o=(i=t.sort)==null||(s=i[0])==null?void 0:s.id)!=null?o:"name",sortDirection:(c=t.sort)!=null&&(a=c[0])!=null&&a.desc?"desc":"asc"}:null;return this.get(b.team.members.v1,y({pageOffset:t.pageOffset,pageSize:t.pageSize},u,d))}),this.addUser=t=>l(this,null,function*(){return this.post(b.identity.users.v2,y({},t,{provider:"local"}))}),this.deleteUser=t=>l(this,null,function*(){return this.delete(`${b.team.members.v1}/${t.userId}`)}),this.updateUser=t=>l(this,null,function*(){return this.put(b.team.members.v1,t)}),this.updateUserExpirationTime=t=>l(this,null,function*(){let{userId:r,expirationInSeconds:o}=t;return this.put(`${b.identity.users.temporary.v1}/${r}`,{expirationInSeconds:o})}),this.setPermanentUser=t=>l(this,null,function*(){return this.delete(`${b.identity.users.temporary.v1}/${t}`)}),this.getTemporaryUserConfiguration=()=>l(this,null,function*(){return this.get(b.identity.users.temporary.configuration.v1)}),this.createInviteUserLink=t=>l(this,null,function*(){return this.post(b.identity.tenants.invites.user.v1,y({},t))}),this.createInviteUserLinkV2=t=>l(this,null,function*(){return this.post(b.identity.tenants.invites.user.v2,y({},t))}),this.updateInviteUserLink=t=>l(this,null,function*(){return this.patch(b.identity.tenants.invites.user.v1,y({},t))}),this.deleteInviteUserLink=()=>l(this,null,function*(){return this.delete(b.identity.tenants.invites.user.v1)}),this.getInviteUserLink=()=>l(this,null,function*(){return this.get(b.identity.tenants.invites.user.v1)}),this.getInviteLinkConfiguration=()=>l(this,null,function*(){return this.get(b.identity.tenants.invites.configuration.v1)}),this.loadAvailableRoles=()=>l(this,null,function*(){return this.get(b.team.roles.v1)}),this.loadAvailablePermissions=()=>l(this,null,function*(){return this.get(b.identity.permissions.v1)}),this.loadStats=()=>l(this,null,function*(){return this.get(`${b.team.stats.v1}/members`)}),this.resendActivationLink=t=>l(this,null,function*(){return this.post(`${b.team.members.v1}/${t.userId}/resendActivationEmail`,{})}),this.resendInvitationLink=t=>l(this,null,function*(){return this.post(b.identity.users.v2,y({},t,{provider:"local"}))}),this.resendInvitationLinkToAllTenants=t=>l(this,null,function*(){return this.post(b.identity.users.invitation.resendAll.v1,y({},t))}),this.disableUser=t=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/${t}/disable`)}),this.enableUser=t=>l(this,null,function*(){return this.post(`${b.identity.tenants.users.v1}/${t}/enable`)})}},rI=new ic("default");var sc=class extends se{constructor(n){super(n),this.getMetadata=t=>l(this,null,function*(){var r,o;let i=yield this.get("/metadata",t);if(i!=null&&(r=i.rows)!=null&&r[0])return i==null||(o=i.rows)==null?void 0:o[0];throw new Error(`metadata not found: ${t.entityName}`)}),this.getAdminBoxMetadata=()=>l(this,null,function*(){return this.get("/metadata/admin-box")}),this.updateAdminBoxMetadata=t=>l(this,null,function*(){return this.post("/metadata/admin-box",t)}),this.getIpMetadata=t=>l(this,null,function*(){let r=yield this.get(`/metadata/ip/${t}`);if(r)return r;throw new Error("ip metadata not found")}),this.getCurrentUserIpMetadata=()=>l(this,null,function*(){let t=yield this.get("/metadata/ipme");if(t)return t;throw new Error("ip metadata not found")}),this.getNotificationsMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"notifications"})}),this.getSamlMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"saml"})}),this.getAuditsMetadata=()=>l(this,null,function*(){return this.getMetadata({entityName:"audits"})}),this.getIpAdressMetadata=t=>l(this,null,function*(){return this.getIpMetadata(t)})}},oI=new sc("default");var mL=["dataFilters"],vL=["templateId","dataFilters"],yL=["dataFilters"],ac=class extends se{constructor(n){super(n),this.getReports=t=>l(this,null,function*(){return this.get(`${b.reports.service.v2}/tenant-reports`,t)}),this.getReport=t=>l(this,null,function*(){return this.get(`${b.reports.service.v2}/${t.id}/tenant-reports`)}),this.renderReport=t=>l(this,null,function*(){let{dataFilters:r}=t,o=V(t,mL);return{html:yield this.get(`${b.reports.trigger.v1}/preview-report`,y({},o,{dataFilters:btoa(JSON.stringify(r||{})),responseType:"html"}),{responseType:"plain"})}}),this.scheduleReport=t=>l(this,null,function*(){let{templateId:r,dataFilters:o}=t,i=V(t,vL);return this.post(`${b.reports.service.v2}/${r}/tenant-reports`,y({},i,{dataFilters:btoa(JSON.stringify(o||{}))}))}),this.downloadReport=t=>l(this,null,function*(){let{dataFilters:r}=t,o=V(t,yL),i=yield this.get(`${b.reports.trigger.v1}/preview-report`,y({},o,{dataFilters:btoa(JSON.stringify(r||{}))}),{responseType:"blob"}),s="text/html",c="html";o.responseType==="pdf"?(s="application/pdf",c="pdf"):o.responseType==="image"&&(s="image/jpeg",c="jpg");let a=new Blob([i],{type:s}),u=URL.createObjectURL(a),d=document.createElement("a");d.href=u,d.setAttribute("download",`report_${o.name||""}.${c}`),d.click(),setTimeout(d.remove.bind(d))}),this.sendReport=t=>l(this,null,function*(){return this.post(`${b.reports.trigger.v1}/tenant-reports`,t)})}},iI=new ac("default");var SL=["eventKey"],bL=["eventKey"],cc=class extends se{constructor(n){super(n),this.getSlackConfiguration=()=>this.get(`${b.integrations.configurations.v1}/slack`),this.getSlackScope=()=>this.get(`${b.integrations.configurations.v1}/slack/applications`),this.getSlackChannels=()=>this.get(`${b.integrations.configurations.v1}/slack/channels`),this.postSlackConfiguration=t=>t.id?this.patch(`${b.integrations.configurations.v1}/slack/subscription/${t.id}`,t):this.post(`${b.integrations.configurations.v1}/slack/subscriptions`,t),this.deleteSlackConfiguration=t=>this.delete(`${b.integrations.configurations.v1}/slack/subscriptions/${t.id}`),this.postSlackCode=t=>this.post(`${b.integrations.configurations.v1}/slack/applications/registrations`,{code:t}),this.getEmailConfiguration=()=>this.get(`${b.integrations.configurations.v1}/emails`),this.postEmailConfiguration=t=>{let{eventKey:r}=t,o=V(t,SL);return this.post(`${b.integrations.configurations.v1}/emails/${r}`,o)},this.patchEmailConfiguration=({eventKey:t,enabled:r})=>this.patch(`${b.integrations.configurations.v1}/emails/${t}`,{enabled:r}),this.deleteEmailSubscriptions=(t,r)=>this.delete(`${b.integrations.configurations.v1}/emails/${t}/subscriptions/${r}`),this.putEmailSubscriptions=(t,r,o)=>this.put(`${b.integrations.configurations.v1}/emails/${r}/subscriptions/${t}`,o),this.deleteEmailConfiguration=t=>this.delete(`${b.integrations.configurations.v1}/emails/${t}`),this.getSMSConfiguration=()=>this.get(`${b.integrations.configurations.v2}/sms`),this.postSMSConfiguration=t=>{let{eventKey:r}=t,o=V(t,bL);return this.post(`${b.integrations.configurations.v2}/sms/${r}`,o)},this.patchSMSConfiguration=({eventKey:t,enabled:r})=>this.patch(`${b.integrations.configurations.v2}/sms/${t}`,{enabled:r}),this.deleteSMSSubscriptions=(t,r)=>this.delete(`${b.integrations.configurations.v2}/sms/${t}/subscriptions/${r}`),this.putSMSSubscriptions=(t,r,o)=>this.put(`${b.integrations.configurations.v2}/sms/${r}/subscriptions/${t}`,o),this.deleteSMSConfiguration=t=>this.delete(`${b.integrations.configurations.v2}/sms/${t}`),this.getWebhooksConfigurations=()=>this.get(b.webhooks.v1),this.postWebhooksConfiguration=t=>t._id?this.patch(`${b.webhooks.v1}/${t._id}`,t):this.post(`${b.webhooks.v1}/custom`,t),this.deleteWebhooksConfiguration=t=>this.delete(`${b.webhooks.v1}/${t}`),this.getWebhookLog=(t,r=0,o=10)=>{let i=new URLSearchParams({id:t,offset:`${r}`,limit:`${o}`});return this.get(`${b.webhooks.v1}/logs/?${i.toString()}`)},this.postWebhookTest=t=>this.post(`${b.webhooks.v1}/test`,t),this.postWebhookRetry=t=>this.post(`${b.webhooks.v1}/logs/${t}/retries`),this.getCategories=()=>this.get(`${b.events.configurations.v1}/categories`),this.getChannelMaps=t=>this.get(b.events.configurations.v1,{channels:t})}},sI=new cc("default");var lc=class extends se{constructor(n){super(n),this.getNotifications=t=>l(this,null,function*(){return this.get(b.notifications.v1,{params:t})}),this.updateNotificationStatus=t=>l(this,null,function*(){return this.put(`${b.notifications.v1}/status`,{params:t})}),this.updateNotificationIsPinned=t=>l(this,null,function*(){let{notificationId:r,pinStatus:o}=t;return this.put(`${b.notifications.v1}/${o}`,{notificationId:r})}),this.markAllAsRead=()=>l(this,null,function*(){return this.post(`${b.notifications.v1}/status/mark-all-read`)})}},aI=new lc("default");var AL=["endpoint","headerProps"],uc=class extends se{constructor(n){super(n),this.getAudits=t=>l(this,null,function*(){return this.get(b.audits.v1,t)}),this.getAuditsStats=t=>l(this,null,function*(){return this.get(`${b.audits.v1}/stats`,t)}),this.exportAudits=t=>l(this,null,function*(){let{endpoint:r,headerProps:o}=t,i=V(t,AL);return this.postDownload(`${b.audits.v1}/export/${r}`,{properties:o},i)})}},cI=new uc("default");var dc=class extends se{constructor(n){super(n),this.updateSettings=(t,r)=>l(this,null,function*(){return this.put(b.tenants.accountSettings.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.getSettings=t=>l(this,null,function*(){return this.get(b.tenants.accountSettings.v1,void 0,{headers:this.extractHeadersFromOptions(t)})}),this.getPublicSettings=()=>l(this,null,function*(){return this.get(`${b.tenants.accountSettings.v1}/public`)})}},lI=new dc("default");var wL=["roleId"],EL=["roleId"],DL=["permissionId"],fc=class extends se{constructor(n){super(n),this.getRoles=()=>l(this,null,function*(){return this.get(b.identity.roles.v1)}),this.addRole=t=>l(this,null,function*(){return this.post(b.identity.roles.v1,t)}),this.deleteRole=r=>l(this,[r],function*({roleId:t}){return this.delete(`${b.identity.roles.v1}/${t}`)}),this.updateRole=t=>l(this,null,function*(){let{roleId:r}=t,o=V(t,wL);return this.patch(`${b.identity.roles.v1}/${r}`,o)}),this.attachPermissionsToRole=t=>l(this,null,function*(){let{roleId:r}=t,o=V(t,EL);return this.put(`${b.identity.roles.v1}/${r}/permissions`,o)}),this.getPermissions=()=>l(this,null,function*(){return this.get(b.identity.permissions.v1)}),this.attachPermissionToRoles=t=>l(this,null,function*(){let{permissionId:r}=t,o=V(t,DL);return this.put(`${b.identity.permissions.v1}/${r}/roles`,o)}),this.getPermissionCategories=()=>l(this,null,function*(){return this.get(`${b.identity.permissions.v1}/categories`)}),this.addRoleV2=t=>l(this,null,function*(){return this.post(b.identity.roles.v2,t)})}},uI=new fc("default");var pc=class extends se{constructor(n){super(n),this.getVendorPublicInfo=()=>l(this,null,function*(){return this.get(`${b.vendor}/public`)})}},dI=new pc("default");var hc=class extends se{constructor(n){super(n),this.loadAllUsers=t=>l(this,null,function*(){return this.get(b.identity.subTenants.v1,t)}),this.addUserToTenantAndSubTenants=t=>l(this,null,function*(){return this.post(b.identity.subTenants.v1,t)}),this.removeUserFromTenantAndSubTenants=(t,r)=>l(this,null,function*(){return this.delete(b.identity.subTenants.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.addUserRolesForSubTenants=(t,r,o)=>l(this,null,function*(){return this.post(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.removeUserRolesFromSubTenants=(t,r,o)=>l(this,null,function*(){return this.delete(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.setUserRolesForSubTenants=(t,r,o)=>l(this,null,function*(){return this.patch(`${b.identity.subTenants.v1}/${t}/roles`,r,{headers:this.extractHeadersFromOptions(o)})}),this.createSubTenant=(t,r)=>l(this,null,function*(){return this.post(b.tenants.subTenants.v1,t,{headers:this.extractHeadersFromOptions(r)})}),this.deleteSubTenant=(t,r)=>l(this,null,function*(){return this.delete(`${b.tenants.subTenants.v1}/${t}`,void 0,{headers:this.extractHeadersFromOptions(r)})}),this.updateSubTenant=(i,s,c)=>l(this,[i,s,c],function*({tenantId:t},r,o){return this.patch(`${b.tenants.subTenants.v1}/${t}`,r,{headers:this.extractHeadersFromOptions(o)})}),this.updateSubTenantManagement=(i,s,c)=>l(this,[i,s,c],function*({tenantId:t},r,o){return this.put(`${b.tenants.subTenants.v1}/${t}/management`,r,{headers:this.extractHeadersFromOptions(o)})}),this.updateSubAccountAccess=(t,r,o)=>l(this,null,function*(){return this.put(`${b.identity.subTenants.v1}/${t}/access`,r,{headers:this.extractHeadersFromOptions(o)})}),this.addUsersToSubTenant=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.subTenants.v2}/`,t,{headers:this.extractHeadersFromOptions(r)})})}updateSubTenantHierarchySettings({tenantId:n},t,r){return this.put(`${b.tenants.subTenants.v1}/${n}/hierarchy-settings`,t,{headers:this.extractHeadersFromOptions(r)})}},fI=new hc("default");var _s=class extends se{constructor(n){super(n),this.getConfigs=()=>l(this,null,function*(){return this.get(`${b.directory.v1}`)}),this.updateConfiguration=(t,r)=>l(this,null,function*(){return this.patch(`${b.directory.v1}/${t}`,r)}),this.createConfiguration=t=>l(this,null,function*(){return this.post(`${b.directory.v1}`,t)}),this.deleteConfiguration=(t,r)=>l(this,null,function*(){return this.delete(`${b.directory.v1}/${t}`,{deleteAll:r})}),this.countConfigurationUsers=t=>l(this,null,function*(){return this.get(`${b.directory.temp}/${t}/Users/count`)})}},pI=new _s("default");var gc=class extends se{constructor(n){super(n),this.impersonate=t=>l(this,null,function*(){return this.post(`${b.identity.impersonate.v1}`,t)})}},hI=new gc("default");var IL=["groupId"],mc=class extends se{constructor(n){super(n),this.getGroupById=(o,i)=>l(this,[o,i],function*({groupId:t},r){return this.get(`${b.identity.groups.v1}/${t}`,y({},r))}),this.getGroups=t=>l(this,null,function*(){return this.get(`${b.identity.groups.v1}`,y({},t))}),this.getGroupsByIds=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.getByIds.v1}`,t,{params:r})}),this.createGroup=t=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}`,t)}),this.updateGroup=t=>l(this,null,function*(){let{groupId:r}=t,o=V(t,IL);return this.patch(`${b.identity.groups.v1}/${r}`,o)}),this.deleteGroup=t=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}`)}),this.addRolesToGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}/${t}/roles`,r)}),this.deleteRolesFromGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}/roles`,r)}),this.addUsersToGroup=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.groups.v1}/${t}/users`,r)}),this.deleteUsersFromGroup=(t,r)=>l(this,null,function*(){return this.delete(`${b.identity.groups.v1}/${t}/users`,r)}),this.getGroupConfiguration=()=>l(this,null,function*(){return this.get(`${b.identity.groups.configurations.v1}`)}),this.updateGroupConfiguration=t=>l(this,null,function*(){return this.post(`${b.identity.groups.configurations.v1}`,t)})}},gI=new mc("default");var vc=class extends se{constructor(n){super(n),this.getRecommendations=()=>l(this,null,function*(){return this.get(b.securityCenter.recommendations.v1)}),this.getInsights=()=>l(this,null,function*(){return this.get(b.securityCenter.insights.v1)})}},mI=new vc("default");var yc=class extends se{constructor(n){super(n),this.getUserPhoneNumbers=t=>l(this,null,function*(){return this.get(`${b.identity.phoneNumbers.v1}`,t)}),this.getUserOwnPhoneNumbers=()=>l(this,null,function*(){return this.get(`${b.identity.phoneNumbers.v1}/me`)}),this.createPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}`,t)}),this.deletePhoneNumber=t=>l(this,null,function*(){return this.delete(`${b.identity.phoneNumbers.v1}/${t}`)}),this.preVerifyPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/preverify`,t)}),this.verifyPhoneNumber=t=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/verify`,t)}),this.verifyDeletePhoneNumber=(t,r)=>l(this,null,function*(){return this.post(`${b.identity.phoneNumbers.v1}/${t}/delete/verify`,r)})}},vI=new yc("default");var Sc=class extends se{constructor(n){super(n),this.getUserApplicationsId=r=>l(this,[r],function*({userId:t}){return this.get(`${b.identity.applications.v1}/${t}/apps`)}),this.getUsersApplicationsId=r=>l(this,[r],function*({userIds:t}){return this.get(`${b.identity.applications.v1}/users-apps`,{userIds:t.join(",")})}),this.getTenantsApplications=()=>l(this,null,function*(){return this.get(b.applications.tenant.v1)}),this.getTenantsApplicationsV2=()=>l(this,null,function*(){return this.get(b.applications.tenant.v2)}),this.getApplicationsData=o=>l(this,[o],function*({appIds:t,includeFreeAccess:r=!0}){return this.get(b.applications.v1,{ids:t.join(","),_includeFreeAccess:r})}),this.assignUserToApplications=t=>l(this,null,function*(){return this.post(`${b.identity.applications.v1}/apps-user`,t)}),this.unassignUserFromApplications=t=>l(this,null,function*(){return this.delete(`${b.identity.applications.v1}/user-apps`,t)}),this.getUsersOfApplications=r=>l(this,[r],function*({appIds:t}){return this.get(`${b.identity.applications.v1}/apps-users`,{appIds:t.join(",")})})}},yI=new Sc("default");var Ko={"x-frontegg-api-key":"my-frontegg-api-key","frontegg-vendor-id":"04ae2174-d8d9-4a90-8bab-2548e210a508","frontegg-tenant-id":"02e6ab6f-8b25-48e4-b06d-2c53745ce213","frontegg-user-id":"e5c397a1-7120-4753-9216-e5d7f35d1f2d"},bc=class extends se{constructor(n){super(n),this.getAgentsConfig=()=>l(this,null,function*(){return this.get(`${b.velo.v1}/config`,void 0,{headers:Ko})}),this.getConversations=()=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversations`,void 0,{headers:Ko})}),this.getConversationById=t=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversation/${t.id}`,void 0,{headers:Ko})}),this.createConversation=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversations`,{message:t.message,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.sendMessage=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversation/${t.conversationId}/messages`,{message:t.message,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.sendApiResponse=t=>l(this,null,function*(){return this.post(`${b.velo.v1}/conversation/${t.conversationId}/response/${t.callId}`,{data:t.data,status:t.status,stream:t.stream},{responseType:t.stream===!1?"json":"stream",headers:Ko})}),this.getConversationResource=t=>l(this,null,function*(){return this.get(`${b.velo.v1}/conversation/${t.conversationId}/resource/${t.resourceId}`,void 0,{headers:Ko})})}},SI=new bc("default");var Ac=class extends se{constructor(n){super(n),this.getUserOwnUsername=()=>l(this,null,function*(){return this.get(`${b.identity.usernames.v1}/me`)}),this.createUsername=t=>l(this,null,function*(){return this.post(`${b.identity.usernames.v1}`,t)}),this.deleteUsername=t=>l(this,null,function*(){return this.delete(`${b.identity.usernames.v1}/${t}`)})}},bI=new Ac("default");var wc=class extends se{constructor(n){super(n),this.getUserEmailPolicyConfig=()=>l(this,null,function*(){return this.get(`${b.identity.configurations.v1}/user-emails-policy`)})}},AI=new wc("default");var Um;(function(e){e.FRONTEGG="frontegg",e.SCIM2="scim2"})(Um||(Um={}));var jm;(function(e){e.createdAt="createdAt",e.name="name",e.tenantId="tenantId"})(jm||(jm={}));var Vm;(function(e){e.CUSTOMER="customer",e.SPAM="spam",e.TEST="test",e.RESELLER="reseller",e.HEADQUARTER="headquarter"})(Vm||(Vm={}));var Ze;(function(e){e.NEVER="NEVER",e.ALWAYS="ALWAYS",e.ASSIGNABLE="ASSIGNABLE"})(Ze||(Ze={}));var Ec;(function(e){e.DEFAULT_OFF="defaultOff",e.DEFAULT_ON="defaultOn",e.ALWAYS_ON="alwaysOn"})(Ec||(Ec={}));var CL=[/^(.*)\/logout$/g,"/logout",/^\/identity\/resources\/auth\/v[0-9]*\/user\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/impersonation\/v[0-9]$/g,/^\/identity\/resources\/auth\/v[0-9]*\/passwordless\/[^\/]*\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/webauthn\/postlogin$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/token\/refresh$/g,/^\/identity\/resources\/users\/v[0-9]*\/signUp$/g,/^\/identity\/resources\/users\/v[0-9]*\/activate$/g,/^\/identity\/resources\/users\/v[0-9]*\/invitation\/accept$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/verify$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/[^\/]*\/[^\/]*\/verify$/g,/^\/identity\/resources\/auth\/v[0-9]*\/user\/mfa\/[^\/]*\/verify$/g,/^\/oauth\/token$/g,/^\/oauth\/authorize\/silent$/g],_L=`${b.identity.auth.v1}/user/token/refresh`,TL=`${b.oauth.v1}/authorize/silent`,xL=`${b.identity.users.v2}/me`,ML=`${b.identity.users.v2}/me/tenants`,PL=`${b.identity.users.v3}/me/tenants`,RL=b.entitlements.v2;var $m;(function(e){e.FRONTEGG="frontegg",e.OKTA="okta",e.AZURE_AD="azure-ad",e.OTHER="other"})($m||($m={}));var Dc;(function(e){e.roles="roles",e.users="users",e.rolesAndUsers="rolesAndUsers"})(Dc||(Dc={}));var ut;(function(e){e.FRONTEGG="frontegg",e.SCIM2="scim2"})(ut||(ut={}));var Ic;(function(e){e.createdAt="createdAt",e.name="name",e.email="email",e.id="id",e.verified="verified",e.isLocked="isLocked",e.provider="provider",e.tenantId="tenantId"})(Ic||(Ic={}));var Qo;(function(e){e.MFA_UNENROLLED="mfa-unenrolled",e.BREACHED_PASSWORDS="breached-passwords",e.INACTIVE="inactive"})(Qo||(Qo={}));var OL=["local","saml","google","github","facebook","microsoft","scim2","slack"];var Xr;(function(e){e.MISSING_PERMISSION="MISSING_PERMISSION",e.MISSING_FEATURE="MISSING_FEATURE",e.BUNDLE_EXPIRED="BUNDLE_EXPIRED"})(Xr||(Xr={}));var Ts;(function(e){e.FORCE_MFA="FORCE_MFA",e.BREACHED_PASSWORDS_EXIST="BREACHED_PASSWORDS_EXIST",e.ENABLE_USER_LOCKOUT="ENABLE_USER_LOCKOUT",e.STRENGTHEN_USER_LOCKOUT="STRENGTHEN_USER_LOCKOUT",e.ENABLE_PASSWORD_HISTORY="ENABLE_PASSWORD_HISTORY",e.STRENGTHEN_PASSWORD_HISTORY="STRENGTHEN_PASSWORD_HISTORY",e.ENABLE_FORCE_RELOGIN="ENABLE_FORCE_RELOGIN",e.SET_FORCE_RELOGIN="SET_FORCE_RELOGIN",e.ENABLE_SESSION_CONCURRENCY="ENABLE_SESSION_CONCURRENCY",e.SET_SESSION_CONCURRENCY="SET_SESSION_CONCURRENCY",e.ENABLE_IDLE_SESSION="ENABLE_IDLE_SESSION",e.SET_IDLE_SESSION="SET_IDLE_SESSION",e.ENABLE_IP_RESTRICTIONS="ENABLE_IP_RESTRICTIONS",e.CHANGE_IP_TO_ALLOWLIST="CHANGE_IP_TO_ALLOWLIST",e.ENABLE_DOMAIN_RESTRICTIONS="ENABLE_DOMAIN_RESTRICTIONS",e.CHANGE_DOMAIN_TO_ALLOWLIST="CHANGE_DOMAIN_TO_ALLOWLIST",e.CONFIGURE_SSO="CONFIGURE_SSO"})(Ts||(Ts={}));var eo;(function(e){e.MFA_FORCED="MFA_FORCED",e.PARTIALLY_FORCED_MFA="PARTIALLY_FORCED_MFA",e.PARTIAL_MFA_USAGE="PARTIAL_MFA_USAGE",e.FULL_MFA_USAGE="FULL_MFA_USAGE",e.BREACHED_PASSWORD_USERS_EXIST="BREACHED_PASSWORD_USERS_EXIST",e.IMPROVE_LOCKOUT_POLICY="IMPROVE_LOCKOUT_POLICY",e.IMPROVE_PASSWORD_HISTORY_POLICY="IMPROVE_PASSWORD_HISTORY_POLICY",e.NO_SESSION_SETTINGS="NO_SESSION_SETTINGS",e.PARTIAL_SESSION_SETTINGS="PARTIAL_SESSION_SETTINGS",e.FULL_SESSION_SETTINGS="FULL_SESSION_SETTINGS",e.NO_IP_RESTRICTIONS="NO_IP_RESTRICTIONS",e.IP_ALLOWLIST="IP_ALLOWLIST",e.IP_DENYLIST="IP_DENYLIST",e.NO_DOMAIN_RESTRICTIONS="NO_DOMAIN_RESTRICTIONS",e.DOMAIN_ALLOWLIST="DOMAIN_ALLOWLIST",e.DOMAIN_DENYLIST="DOMAIN_DENYLIST",e.FULL_PASSWORD_SETTINGS="FULL_PASSWORD_SETTINGS"})(eo||(eo={}));var Bm;(function(e){e.SEND_RESET_BREACHED_PASSWORD_EMAIL="SEND_RESET_BREACHED_PASSWORD_EMAIL",e.ADJUST_FORCE_RELOGIN="ADJUST_FORCE_RELOGIN",e.ADJUST_MAX_CONCURRENT_SESSIONS="ADJUST_MAX_CONCURRENT_SESSIONS",e.ADJUST_IDLE_TIMEOUT="ADJUST_IDLE_TIMEOUT"})(Bm||(Bm={}));var xs;(function(e){e.SEVERE="SEVERE",e.WARNING="WARNING",e.INFO="INFO"})(xs||(xs={}));var rr;(function(e){e.MFA="MFA",e.SESSIONS="SESSIONS",e.PASSWORD="PASSWORD",e.INACTIVITY="INACTIVITY",e.IP="IP",e.DOMAIN="DOMAIN",e.SSO="SSO"})(rr||(rr={}));var or;(function(e){e.FREE_ACCESS="FREE_ACCESS",e.MANAGED_ACCESS="MANAGED_ACCESS"})(or||(or={}));var wI={auth:XD,securityPolicy:WD,teams:rI,metadata:oI,reports:iI,connectivity:sI,notifications:aI,audits:cI,tenants:QD,accountSettings:lI,roles:uI,subscriptions:nI,vendor:dI,subTenants:fI,featureFlags:qD,directory:pI,impersonate:hI,groups:gI,users:YD,entitlements:JD,securityCenter:mI,userPhoneNumbers:vI,applications:yI,velo:SI,usernames:bI,userEmailPolicy:AI},Ms=e=>({auth:new rc(e),securityPolicy:new $o(e),teams:new ic(e),metadata:new sc(e),reports:new ac(e),connectivity:new cc(e),notifications:new lc(e),audits:new uc(e),tenants:new zo(e),accountSettings:new dc(e),roles:new fc(e),subscriptions:new oc(e),vendor:new pc(e),subTenants:new hc(e),featureFlags:new Es(e),directory:new _s(e),impersonate:new gc(e),groups:new mc(e),users:new Go(e),entitlements:new qo(e),securityCenter:new vc(e),userPhoneNumbers:new yc(e),applications:new Sc(e),velo:new bc(e),usernames:new Ac(e),userEmailPolicy:new wc(e)});var NL={fetch:Om,FetchClient:tr,ContextHolder:ie,FronteggContext:Rm,api:wI,createApiClient:Ms,FronteggApiError:ct,AuthStrategyEnum:Te,MachineToMachineAuthStrategy:lt,SocialLoginProviders:tc,ISubscriptionCancellationPolicy:Zo,ISubscriptionStatus:St,PaymentMethodType:Yo,ProviderType:xr,EIdentifierType:Bo};var CI=Dn(Sf()),K=(e,n)=>{let t=(0,CI.default)(e,y({},n));return BD(y({__isProxy:!0},t))};var Gt;(function(e){e.validate="validate",e.invalid="invalid",e.pending="pending",e.success="success",e.failed="failed"})(Gt||(Gt={}));var Gm={step:Gt.validate},Wm=e=>K(Gm,e);var BI=Dn(RI()),nv=Dn(Zm());var _c="http://schemas.openid.net/pape/policies/2007/06/multi-factor",Km="mfa",Qm=["otp","sms","hwk"],en="SHOULD_STEP_UP",Jm="maxAge";var Se;(function(e){e.preLogin="preLogin",e.magicLinkPreLoginSuccess="magicLinkPreLoginSuccess",e.loginWithSmsOtc="loginWithSmsOtc",e.loginWithQuickSmsOtc="loginWithQuickSmsOtc",e.loginWithOtc="loginWithOtc",e.loginWithPassword="loginWithPassword",e.loginWithTwoFactor="loginWithTwoFactor",e.redirectToSSO="redirectToSSO",e.loginWithSSOFailed="loginWithSSOFailed",e.success="success",e.forceTwoFactor="forceTwoFactor",e.recoverTwoFactor="recoverTwoFactor",e.promptPasskeys="promptPasskeys",e.breachedPassword="breachedPassword",e.breachedPasswordSuccess="breachedPasswordSuccess",e.passwordRotationExpired="passwordRotationExpired",e.passwordRotationNotification="passwordRotationNotification",e.magicLinkPostLoginSuccess="magicLinkPostLoginSuccess"})(Se||(Se={}));var dt;(function(e){e.Login="login",e.RegisterQuickLogin="registerQuickLogin"})(dt||(dt={}));var Xm;(function(e){e.Internal="internal",e.UsbKey="usb-key",e.Android="android",e.Sms="sms"})(Xm||(Xm={}));var ev;(function(e){e["social-login"]="social-login",e["custom-social-login"]="custom-social-login",e.direct="direct",e.signup="signup"})(ev||(ev={}));var tv={[Te.Code]:Se.loginWithOtc,[Te.EmailAndPassword]:Se.loginWithPassword,[Te.MagicLink]:Se.magicLinkPreLoginSuccess,[Te.SmsCode]:Se.loginWithSmsOtc,[Te.UsernameAndPassword]:Se.loginWithPassword,[Te.UsernameAndMagicLink]:Se.magicLinkPreLoginSuccess,[Te.UsernameAndCode]:Se.loginWithOtc,[Te.UsernameAndSms]:Se.loginWithSmsOtc},Tc={authenticatedUrl:"/",loginUrl:"/account/login",stepUpUrl:"/account/step-up",logoutUrl:"/account/logout",activateUrl:"/account/activate",impersonationUrl:"/account/impersonate",acceptInvitationUrl:"/account/invitation/accept",forgetPasswordUrl:"/account/forget-password",resetPhoneNumberUrl:"/account/reset-phone-number",resetPasswordUrl:"/account/reset-password",socialLoginCallbackUrl:"/account/social/success",signUpUrl:"/account/sign-up",oidcRedirectUrl:"/account/oidc/callback",samlCallbackUrl:"/account/saml/callback",magicLinkCallbackUrl:"/account/login/magic-link",hostedLoginRedirectUrl:"/oauth/callback",openAppUrl:"/account/redirect",unlockAccountUrl:"/account/unlock",activateWithOTCUrl:"/account/activate/code",acceptInvitationWithOTCUrl:"/account/invitation/code",mfaMobileAuthenticator:"/account/mfa-mobile-authenticator"};var Xo="FRONTEGG_AFTER_AUTH_REDIRECT_URL",bf="HOSTED_LOGIN_VERIFIER_KEY",Tt={retryCount:3};var Y=(e=500)=>new Promise(n=>{setTimeout(n,e)}),Af=(e,n,t,r)=>l(null,null,function*(){let o=0;for(;o<n-1;)try{let i=yield e();if(r&&i===null){if(o++,o>=n)return i;yield new Promise(s=>setTimeout(s,t))}else return i}catch(i){if(o++,o>=n)throw i;yield new Promise(s=>setTimeout(s,t))}return yield e()}),ee=(e,n)=>l(null,null,function*(){return n?Af(e,n.retryCount,n.delay||500,n.shouldRetryWhenNull):e()}),Ln=e=>y({},e,{retryConfig:Tt}),xc=e=>e?.traceId||void 0;function Mc(e,n){let t=y({},e);return n.forEach(r=>{delete t[r]}),t}function oF(e){let n=typeof e;return e?.constructor==={}.constructor||n==="undefined"||e===null||n==="boolean"||n==="number"||n==="string"||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof File||e instanceof FileList||e instanceof ArrayBuffer||e instanceof ImageData||e instanceof ImageBitmap||e instanceof Array||e instanceof Map||e instanceof Set}function Pc(e){return e==null?void 0:oF(e)&&e.__isProxy!==void 0}var HI=e=>JSON.parse(JSON.stringify(e)),Q=(e,n,t)=>{let r=HI(t),o=(0,BI.default)(e,n);for(let i in o)i!=="__isProxy"&&(i in r?(0,nv.default)(e,[...n,i],r[i]):(0,nv.default)(e,[...n,i],void 0))};var GI=e=>!!e?.statusCode,WI=e=>e instanceof Error?!0:e?.message&&e?.stack&&e?.name==="Error",_=(e,n)=>e?GI(e)?(console.error(e.message),e):(WI(e)?console.error(e.message):typeof e=="string"&&console.error(e),n??new ct(Ss,500,null,bs)):n;var Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Rc=new Uint8Array(256);for(let e=0;e<Rs.length;e++)Rc[Rs.charCodeAt(e)]=e;var rv=e=>{let n=new Uint8Array(e),t=n.length,r,o="";for(r=0;r<t;r+=3)o+=Rs[n[r]>>2],o+=Rs[(n[r]&3)<<4|n[r+1]>>4],o+=Rs[(n[r+1]&15)<<2|n[r+2]>>6],o+=Rs[n[r+2]&63];return t%3===2?o=o.substring(0,o.length-1):t%3===1&&(o=o.substring(0,o.length-2)),o},bt=e=>{let n=e.length*.75,t=e.length,r,o=0,i,s,c,a,u=new Uint8Array(n);for(r=0;r<t;r+=4)i=Rc[e.charCodeAt(r)],s=Rc[e.charCodeAt(r+1)],c=Rc[e.charCodeAt(r+2)],a=Rc[e.charCodeAt(r+3)],u[o++]=i<<2|s>>4,u[o++]=(s&15)<<4|c>>2,u[o++]=(c&3)<<6|a&63;return u.buffer};function ov(e,n="file"){let t=(a,u)=>{let p=atob(a),g=[];for(let f=0;f<p.length;f+=512){let h=p.slice(f,f+512),v=new Array(h.length);for(let S=0;S<h.length;S++)v[S]=h.charCodeAt(S);g.push(new Uint8Array(v))}return new Blob(g,{type:u})},r=e.match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/);if(r==null)return null;let o=`image/${r[1]}`,i=r[2],s=t(i,o),c=new FormData;return c.append(n,new File([s],n,{type:o})),c}var gn=e=>{if(e instanceof Array){let n=[];for(let t of e)n.push(gn(t));return n}else{if(e instanceof ArrayBuffer)return rv(e);if(e instanceof Object){let n={};for(let t in e)n[t]=gn(e[t]);return n}}return e},ei=e=>new Promise((n,t)=>{let r=new FileReader;r.readAsText(e),r.onload=()=>n(r.result),r.onerror=t});var Os="input is invalid type",Oc=typeof ArrayBuffer<"u",de="0123456789abcdef".split(""),iF=[-2147483648,8388608,32768,128],Fn=[24,16,8,0],wf=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Ef=["hex","array","digest","arrayBuffer"],At=[];Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"});Oc&&!ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){return typeof e=="object"&&e.buffer&&e.buffer.constructor===ArrayBuffer});var zI=function(e){return function(n){let r=new Mr(!0).update(n);return r?.[e]()}},sF=function(){let e=zI("hex");e.create=function(){return new Mr},e.update=function(n){return e.create().update(n)};for(let n=0;n<Ef.length;++n){let t=Ef[n];e[t]=zI(t)}return e},qI=function(e){return function(n,t){let o=new Df(n,!0).update(t);return o?.[e]()}},aF=function(){let e=qI("hex");e.create=function(n){return new Df(n)},e.update=function(n,t){return e.create(n).update(t)};for(let n=0;n<Ef.length;++n){let t=Ef[n];e[t]=qI(t)}return e},Mr=class e{constructor(n=!1){this.blocks=void 0,this.h0=void 0,this.h1=void 0,this.h2=void 0,this.h3=void 0,this.h4=void 0,this.h5=void 0,this.h6=void 0,this.h7=void 0,this.block=void 0,this.start=void 0,this.bytes=void 0,this.hBytes=void 0,this.finalized=void 0,this.hashed=void 0,this.first=void 0,this.lastByteIndex=void 0,this.sharedMemory=!1,this.toString=()=>this.hex(),this.array=()=>e.prototype.digest(),n?(At[0]=At[16]=At[1]=At[2]=At[3]=At[4]=At[5]=At[6]=At[7]=At[8]=At[9]=At[10]=At[11]=At[12]=At[13]=At[14]=At[15]=0,this.blocks=At):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.sharedMemory=n}update(n){if(this.finalized)return;let t,r=typeof n;if(r!=="string"){if(r==="object"){if(n===null)throw new Error(Os);if(Oc&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!Oc||!ArrayBuffer.isView(n)))throw new Error(Os)}else throw new Error(Os);t=!0}let o,i=0,s,c=n.length,a=this.blocks;for(;i<c;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(s=this.start;i<c&&s<64;++i)a[s>>2]|=n[i]<<Fn[s++&3];else for(s=this.start;i<c&&s<64;++i)o=n.charCodeAt(i),o<128?a[s>>2]|=o<<Fn[s++&3]:o<2048?(a[s>>2]|=(192|o>>6)<<Fn[s++&3],a[s>>2]|=(128|o&63)<<Fn[s++&3]):o<55296||o>=57344?(a[s>>2]|=(224|o>>12)<<Fn[s++&3],a[s>>2]|=(128|o>>6&63)<<Fn[s++&3],a[s>>2]|=(128|o&63)<<Fn[s++&3]):(o=65536+((o&1023)<<10|n.charCodeAt(++i)&1023),a[s>>2]|=(240|o>>18)<<Fn[s++&3],a[s>>2]|=(128|o>>12&63)<<Fn[s++&3],a[s>>2]|=(128|o>>6&63)<<Fn[s++&3],a[s>>2]|=(128|o&63)<<Fn[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}finalize(){if(this.finalized)return;this.finalized=!0;let n=this.blocks,t=this.lastByteIndex;n[16]=this.block,n[t>>2]|=iF[t&3],this.block=n[16],t>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}hash(){let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u,d,p,g,f,h,v,S,D,T,m,E=this.blocks;for(u=16;u<64;++u)f=E[u-15],d=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3,f=E[u-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10,E[u]=E[u-16]+d+E[u-7]+p<<0;for(m=t&r,u=0;u<64;u+=4)this.first?(S=704751109,f=E[0]-210244248,a=f-1521486534<<0,o=f+143694565<<0,this.first=!1):(d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),p=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),S=n&t,g=S^n&r^m,v=i&s^~i&c,f=a+p+v+wf[u]+E[u],h=d+g,a=o+f<<0,o=f+h<<0),d=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),p=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),D=o&n,g=D^o&t^S,v=a&i^~a&s,f=c+p+v+wf[u+1]+E[u+1],h=d+g,c=r+f<<0,r=f+h<<0,d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),p=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),T=r&o,g=T^r&n^D,v=c&a^~c&i,f=s+p+v+wf[u+2]+E[u+2],h=d+g,s=t+f<<0,t=f+h<<0,d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),p=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),m=t&r,g=m^t&o^T,v=s&c^~s&a,f=i+p+v+wf[u+3]+E[u+3],h=d+g,i=n+f<<0,n=f+h<<0;this.h0=this.h0+n<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+o<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+c<<0,this.h7=this.h7+a<<0}hex(){this.finalize();let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u=de[n>>28&15]+de[n>>24&15]+de[n>>20&15]+de[n>>16&15]+de[n>>12&15]+de[n>>8&15]+de[n>>4&15]+de[n&15]+de[t>>28&15]+de[t>>24&15]+de[t>>20&15]+de[t>>16&15]+de[t>>12&15]+de[t>>8&15]+de[t>>4&15]+de[t&15]+de[r>>28&15]+de[r>>24&15]+de[r>>20&15]+de[r>>16&15]+de[r>>12&15]+de[r>>8&15]+de[r>>4&15]+de[r&15]+de[o>>28&15]+de[o>>24&15]+de[o>>20&15]+de[o>>16&15]+de[o>>12&15]+de[o>>8&15]+de[o>>4&15]+de[o&15]+de[i>>28&15]+de[i>>24&15]+de[i>>20&15]+de[i>>16&15]+de[i>>12&15]+de[i>>8&15]+de[i>>4&15]+de[i&15]+de[s>>28&15]+de[s>>24&15]+de[s>>20&15]+de[s>>16&15]+de[s>>12&15]+de[s>>8&15]+de[s>>4&15]+de[s&15]+de[c>>28&15]+de[c>>24&15]+de[c>>20&15]+de[c>>16&15]+de[c>>12&15]+de[c>>8&15]+de[c>>4&15]+de[c&15];return u+=de[a>>28&15]+de[a>>24&15]+de[a>>20&15]+de[a>>16&15]+de[a>>12&15]+de[a>>8&15]+de[a>>4&15]+de[a&15],u}digest(){this.finalize();let n=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,c=this.h6,a=this.h7,u=[n>>24&255,n>>16&255,n>>8&255,n&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,o>>24&255,o>>16&255,o>>8&255,o&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,c>>24&255,c>>16&255,c>>8&255,c&255];return u.push(a>>24&255,a>>16&255,a>>8&255,a&255),u}arrayBuffer(){this.finalize();let n=new ArrayBuffer(32),t=new DataView(n);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),t.setUint32(28,this.h7),n}},Df=class extends Mr{constructor(n,t=!1){super(t),this.inner=void 0,this.oKeyPad=void 0;let r,o=typeof n;if(o==="string"){let a=[],u=n.length,d=0,p;for(r=0;r<u;++r)p=n.charCodeAt(r),p<128?a[d++]=p:p<2048?(a[d++]=192|p>>6,a[d++]=128|p&63):p<55296||p>=57344?(a[d++]=224|p>>12,a[d++]=128|p>>6&63,a[d++]=128|p&63):(p=65536+((p&1023)<<10|n.charCodeAt(++r)&1023),a[d++]=240|p>>18,a[d++]=128|p>>12&63,a[d++]=128|p>>6&63,a[d++]=128|p&63);n=a}else if(o==="object"){if(n===null)throw new Error(Os);if(Oc&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!Oc||!ArrayBuffer.isView(n)))throw new Error(Os)}else throw new Error(Os);if(n.length>64){var i;n=(i=new Mr(!0).update(n))==null?void 0:i.array()}let s=[],c=[];for(r=0;r<64;++r){let a=n[r]||0;s[r]=92^a,c[r]=54^a}Mr.call(this,t),this.update(c),this.oKeyPad=s,this.inner=!0,this.sharedMemory=t}finalize(){if(super.finalize(),this.inner){this.inner=!1;let n=this.array();Mr.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Mr.prototype.finalize.call(this)}}},iv=sF(),cF=aF();function YI(e){return l(this,null,function*(){let n=iv.digest(new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function ZI(e){return l(this,null,function*(){let n=yield crypto.subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(n))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")})}function sv(e){return l(this,null,function*(){var n,t;return(n=window.crypto)!=null&&(t=n.subtle)!=null&&t.digest?ZI(e):(console.warn("Generating CodeChallenge in non-secure domain:",window.location.origin),YI(e))})}function If(e=16){let n="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}var mn;(function(e){e.SIGNUP_COMPLETED="signup_completed",e.USER_VERIFIED="user_verified"})(mn||(mn={}));function ir(e,n){var t,r;(t=(r=window).onFronteggEvent)==null||t.call(r,e,n)}var Nc=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auth.acceptInvitationState,a)};return{setAcceptInvitationState:o,resetAcceptInvitationState:()=>{Q(e,["auth","acceptInvitationState"],Gm)},acceptInvitation:a=>l(null,null,function*(){if(!a.token||!a.userId){o({error:void 0,step:Gt.invalid});return}try{o({error:void 0,step:Gt.pending}),yield n.auth.acceptInvitation(a),o({step:Gt.success})}catch(u){o({step:Gt.failed,error:_(u)})}}),acceptInvitationWithOTC:a=>l(null,null,function*(){if(!a.token||!a.userId||!a.code){o({error:void 0,step:Gt.invalid});return}try{o({error:void 0,step:Gt.pending}),yield n.auth.acceptInvitationWithOTC(a),o({step:Gt.success})}catch(u){o({step:Gt.validate,error:_(u)})}})}};var av={loading:!1},cv=e=>K(av,e);var lF=["activeTenant","tenants"],kc=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.auth.accountSettingsState,u)},i=()=>{Q(e,["auth","accountSettingsState"],av)},s=({newSettingValues:u})=>{let d=e.auth.tenantsState,{activeTenant:p,tenants:g}=d,f=V(d,lF),h=g.map(S=>S.id!==p?.id?S:y({},S,u)),v=y({},p,u);t.setTenantsState(y({},f,{tenants:h,activeTenant:v}))};return{setAccountSettingsState:o,resetAccountSettingsState:i,saveAccountSettings:u=>l(null,null,function*(){try{var d;o({loading:!0});let{address:g,timezone:f,dateFormat:h,timeFormat:v,currency:S,logo:D}=e.auth.accountSettingsState,T=yield n.accountSettings.updateSettings(y({address:g,timezone:f,dateFormat:h,timeFormat:v,currency:S,logo:D},u));s({newSettingValues:T}),o(y({},T,{loading:!1})),(d=u.callback)==null||d.call(u,T)}catch(g){var p;o({loading:!1,error:_(g)}),(p=u.callback)==null||p.call(u,null,g)}}),loadAccountSettings:u=>l(null,null,function*(){o({loading:!(u!=null&&u.silentLoading),error:null});try{let d=yield ee(()=>n.accountSettings.getSettings(),u?.retryConfig);o(y({},d,{loading:!1}))}catch(d){o({loading:!1,error:_(d)})}})}};var Un;(function(e){e.activating="activating",e.success="success",e.resend="resend",e.activatingForm="activatingForm"})(Un||(Un={}));var lv={step:Un.activating,loading:!1,submitting:!1,resentEmail:!1,activationStrategy:{loading:!1}},uv=e=>K(lv,e);var Wt;(function(e){e.LOAD_FEATURE_FLAGS="LOAD_FEATURE_FLAGS,",e.LOAD_ADMIN_BOX_METADATA="LOAD_ADMIN_BOX_METADATA,",e.LOAD_SSO_PUBLIC_CONFIGURATION="LOAD_SSO_PUBLIC_CONFIGURATION,",e.LOAD_PUBLIC_AUTH_STRATEGIES_POLICY="LOAD_PUBLIC_AUTH_STRATEGIES_POLICY,",e.LOAD_ALLOW_SIGNUPS="LOAD_ALLOW_SIGNUPS,",e.LOAD_CUSTOM_LOGIN_ROUTES="LOAD_CUSTOM_LOGIN_ROUTES",e.LOAD_PASSWORD_CONFIGURATION="LOAD_PASSWORD_CONFIGURATION"})(Wt||(Wt={}));var Pr;(function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORDLESS="PASSWORDLESS",e.ACTIVATION_LINK="ACTIVATION_LINK"})(Pr||(Pr={}));var to;(function(e){e.SOCIAL_LOGIN="SOCIAL_LOGIN",e.PASSWORD="PASSWORD",e.PHONE_NUMBER="PHONE_NUMBER"})(to||(to={}));var xt;(function(e){e.profile="profile",e.privacy="privacy",e.personalApiTokens="personalApiTokens",e.account="account",e.users="users",e.groups="groups",e.security="security",e.sso="sso",e.audits="audits",e.webhooks="webhooks",e.apiTokens="apiTokens",e.roles="roles",e.subscriptions="subscription",e.allAccounts="allAccounts"})(xt||(xt={}));var uF={profile:xt.profile,privacy:xt.privacy,personalApiTokens:xt.personalApiTokens,account:xt.account,users:xt.users,groups:xt.groups,security:xt.security,sso:xt.sso,audits:xt.audits,webhooks:xt.webhooks,apiTokens:xt.apiTokens,roles:xt.roles,subscriptions:xt.subscriptions,allAccounts:xt.allAccounts};var WC=Dn(dv()),zf=Dn(GC()),uj="You must first enable entitlements via Frontegg options to use this function",zC=(e="default")=>{if(!ie.for(e).shouldLoadEntitlements())throw new Error(uj)},qf=(e,n,t,r,o="default")=>(zC(o),(0,zf.evaluateIsEntitledToPermissions)(n,e,t)),Yf=(e,n,t,r,o="default")=>(zC(o),(0,zf.evaluateIsEntitledToFeature)(n,e,t)),dj=(e,n,t,r,o="default")=>"permissionKey"in n?qf(e,n.permissionKey,t,r,o):Yf(e,n.featureKey,t,r,o);function Vc(e,n){return(0,WC.default)(e,n)}var Ne;(function(e){e.verify="verify",e.recoveryCode="recoveryCode",e.authenticatorApp="authenticatorApp",e.smsSetPhoneNumber="smsSetPhoneNumber",e.smsVerifyCode="smsVerifyCode",e.emailVerifyCode="emailVerifyCode",e.noMFAEnrolledStepUp="noMFAEnrolledStepUp"})(Ne||(Ne={}));var Zf=e=>{try{return new URL(e),!0}catch{return!1}},fj=(e,n)=>{let t=new URL(window.location.href),r=new URL(e),o=r.origin===t.origin;return n.includes(r.origin)||o},xv=({authenticatedUrl:e,enforceRedirectToSameSite:n,allowedRedirectOrigins:t,includeQueryParam:r})=>{let o=new URL(window.location.href),i=e,s=o.searchParams.get("redirectUrl");return s?!n||!Zf(s)||fj(s,t)?i=s:console.warn("The redirect url param is not valid, the origin is a different site"):r&&(i+=window.location.search),i},Kf=e=>{let{searchParams:n}=new URL(e),t=n.toString();if(t)return`?${t}`},Mv=(e,n=!1)=>{let{pathname:t,href:r}=new URL(e);if(n)return r;let o=Kf(e);return o?t+o:t},$c=e=>{let t=new URLSearchParams(window.location.search).get(e);return t??void 0},Bc="tenantId",qC=e=>{let n=+!!e.webauthn.length,t=+!!e.phones.length,r=+!!e.authenticators.length,o=+!!e.emails.length,i=n+t+r+o;return{numberOfWebAuthnDevices:n,numberOfPhoneDevices:t,numberOfAuthenticators:r,numberOfEmails:o,totalDevices:i}},Hc=e=>{let{numberOfPhoneDevices:n,numberOfAuthenticators:t,numberOfEmails:r,totalDevices:o}=qC(e);if(o===1){if(t)return Ne.authenticatorApp;if(n)return Ne.smsVerifyCode;if(r)return Ne.emailVerifyCode}return Ne.verify},Pv=e=>{if(e.length===1){let[n]=e;if(n===Wo.AuthenticatorApp)return Ne.authenticatorApp;if(n===Wo.SMS)return Ne.smsSetPhoneNumber;if(n===Wo.EmailCode)return Ne.emailVerifyCode}return Ne.verify},Rv=e=>e==="/oauth/callback";function Ov(e){return"email"in e&&typeof e.email=="string"}function Nv(e){return"username"in e&&typeof e.username=="string"}var Qf=e=>{let n=ie.for(e.root.appName).getBasename();return n!=null&&n.endsWith("/")?n.slice(0,-1):n},ci=e=>e.passwordExpiresIn!==void 0&&e.notificationPeriod!==void 0&&e.passwordExpiresIn<=e.notificationPeriod;var li=(e,{maxAge:n}={})=>{if(!e)return!1;let{amr:t=[],acr:r="",auth_time:o}=e;if(n&&o&&!(Date.now()/1e3-o<=n))return!1;let i=r===_c,s=t.indexOf(Km)!==-1,c=Qm.find(a=>t.indexOf(a))!==void 0;return i&&s&&c};function Jf(){let e=window.location.pathname+window.location.search;window.localStorage.setItem(Xo,e)}var kv=(e,n,t)=>{Jf();let r=new URLSearchParams(window.location.search);t&&r.set(Jm,t.toString()),n(`${e}${r?`?${r}`:""}`,{refresh:!1})};var pj=["phoneNumber","email"],hj=["authenticatedUrl"],yn=(e,n)=>{let t=ie.for(n);return e.mfaRequired&&e.mfaToken?(t.setAccessToken(null),t.setUser(null),!0):(t.setAccessToken(e.accessToken),t.setUser(e),!1)},ui=(e,n)=>{let t=ie.for(n);return e.resetPasswordToken?(t.setAccessToken(null),!0):(t.setAccessToken(e.accessToken),t.setUser(e),!1)},Xf=(e,n=[])=>Object.entries(e).reduce((t,[r,o])=>typeof o=="object"?[...t,...Xf(o,[...n,r])]:[...t,{type:[...n,r].join("/"),payload:o}],[]),ep=e=>{if(e==="path"){var n;return((n=window)!=null?n:document).location.pathname}else{var t;let r=(((t=window)!=null?t:document).location.hash||"#").substring(1);return r.indexOf("?")!==-1?r.substring(0,r.indexOf("?")):r}},tp=e=>{let{phoneNumber:n,email:t}=e,r=V(e,pj);return t!=null&&t.length&&Object.assign(r,{email:t}),n!=null&&n.length&&Object.assign(r,{phoneNumber:n}),r},Lv=(e,n)=>{let t=y({},Tc,n),r=V(t,hj);return Object.values(r).includes(e)};var ce;(function(e){e.USERS="USERS",e.STATS="STATS",e.UPDATE_USER="UPDATE_USER",e.DELETE_USER="DELETE_USER",e.RESEND_ACTIVATE_LINK="RESEND_ACTIVATE_LINK",e.RESEND_INVITATION_LINK="RESEND_INVITATION_LINK",e.ROLES_AND_PERMISSIONS="ROLES_AND_PERMISSIONS",e.CREATE_TOKEN_LINK="CREATE_TOKEN_LINK",e.GET_TOKEN_LINK="GET_TOKEN_LINK",e.UPDATE_TOKEN_LINK="UPDATE_TOKEN_LINK",e.DELETE_TOKEN_LINK="DELETE_TOKEN_LINK",e.CONFIG_TOKEN_LINK="CONFIG_TOKEN_LINK",e.CONFIG_TEMPORARY_USERS="CONFIG_TEMPORARY_USERS",e.UPDATE_USER_EXPIRATION_TIME="UPDATE_USER_EXPIRATION_TIME"})(ce||(ce={}));var gj=["user"],mj=["callback","events"],vj=["user"],yj=["callback","events"],Sj=["user"],bj=["callback"],Aj=["callback"],Gc=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.activateAccountState,f)},i=()=>{Q(e,["auth","activateAccountState"],lv)},s=f=>{Object.assign(e.auth.activateAccountState.activationStrategy,f)},c=f=>l(null,null,function*(){let{userId:h,token:v}=f;o({loading:!0,step:Un.activating});try{e.auth.isAuthenticated&&(yield r.silentLogout());let D=yield n.auth.getActivateAccountStrategy({userId:h,token:v});s({strategy:D,loading:!1,error:void 0}),D.shouldSetPassword&&o({loading:!1,step:Un.activatingForm})}catch(S){o({loading:!1,error:_(S)})}}),a=D=>l(null,[D],function*({loginResponse:f,events:h,onRedirectTo:v,routes:S}){let{user:T}=f,m=V(f,gj);if(T.redirectLocation){window.location.href=T.redirectLocation;return}if(yn(T,e.root.appName)){o({step:Un.success});let A=yield r.getMfaRequiredState(T);r.setAuthState(A),yield Y(1e3),v(S.loginUrl,{preserveQueryParams:!0})}else{var E;o({step:Un.success});let A={email:T.email,origin:Pr.ACTIVATION_LINK,id:T.id,tenantId:T.tenantId,name:T.name,createdAt:new Date};h==null||(E=h.userVerified)==null||E.call(h,A),ir(mn.USER_VERIFIED,A),r.afterAuthenticationStateUpdate(y({user:T},m),{isAuthenticated:!0}),yield Y(5e3),yield r.afterAuthNavigation(),i()}});return{setActivateState:o,resetActivateState:i,setActivateStrategyState:s,activateAccount:f=>l(null,null,function*(){let{callback:h,events:v}=f,S=V(f,mj);o({loading:!0,submitting:!0});try{let D=ie.for(e.root.appName).onRedirectTo,T=e.auth.routes,m=yield n.auth.activateAccountV2(S),{user:E}=m,A=V(m,vj);o({submitting:!1}),yield a({loginResponse:y({user:E},A),events:v,onRedirectTo:D,routes:T}),h?.(!0)}catch(D){o({loading:!1,error:_(D)})}}),preActivateAccount:c,getActivateAccountStrategy:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,bj);s({loading:!0});try{let S=yield n.auth.getActivateAccountStrategy(v);s({strategy:S,loading:!1,error:void 0}),h?.(S)}catch(S){s({loading:!1,error:_(S)})}}),resendActivationEmail:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,Aj);r.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:v.email}),o({loading:!0});try{yield n.auth.resendActivationEmail(v),o({loading:!1,error:void 0,resentEmail:!0}),h?.(!0)}catch(S){o({loading:!1,error:_(S)}),h?.(null,S)}finally{r.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:!1})}}),activateAccountWithCode:f=>l(null,null,function*(){let{callback:h,events:v}=f,S=V(f,yj);o({loading:!0,submitting:!0});try{let D=ie.for(e.root.appName).onRedirectTo,T=e.auth.routes,m=yield n.auth.activateAccountWithOTC(S),{user:E}=m,A=V(m,Sj);o({submitting:!1}),yield a({loginResponse:y({user:E},A),events:v,onRedirectTo:D,routes:T}),h?.(!0)}catch(D){o({submitting:!1,loading:!1,error:_(D),step:Un.activating})}})}};var Fv={loading:!1,error:void 0,unlockAccountSuccess:!1},Uv=e=>K(Fv,e);var Wc=(e,n,t)=>{let r=s=>{Object.assign(e.auth.unlockAccountState,s)};return{setUnlockAccountState:r,resetUnlockAccountState:()=>{Q(e,["auth","activateAccountState"],Fv)},unlockAccount:s=>l(null,null,function*(){let{token:c}=s,a=ie.for(e.root.appName).onRedirectTo,u=e.auth.routes;r({loading:!0});try{yield n.users.unlockMe({token:c}),r({loading:!1,error:void 0,unlockAccountSuccess:!0}),yield Y(5e3),a(u.loginUrl)}catch(d){r({loading:!1,error:_(d)})}})}};var jv={apiTokenType:null,showAddTokenDialog:!1,createdByUserIdColumn:"show",deleteTokenDialog:{open:!1,clientId:""},successDialog:{open:!1,secret:"",clientId:""},loaders:{},apiTokensDataTenant:[],apiTokensDataUser:[],roles:[],permissions:[],errors:{}},Vv=e=>K(jv,e);var $e;(function(e){e.LOAD_API_TOKENS="LOAD_API_TOKENS",e.ADD_API_TOKEN="ADD_API_TOKEN",e.DELETE_API_TOKEN="DELETE_API_TOKEN"})($e||($e={}));var zc=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.apiTokensState,{loaders:y({},e.auth.apiTokensState.loaders,{[v.key]:v.value})})},i=v=>{Object.assign(e.auth.apiTokensState,{errors:y({},e.auth.apiTokensState.errors,{[v.key]:v.value}),loaders:y({},e.auth.apiTokensState.loaders,{[v.key]:!1})})},s=v=>{Object.assign(e.auth.apiTokensState,v)};return{setApiTokensLoader:o,setApiTokensError:i,setApiTokensState:s,resetApiTokensState:()=>{Q(e,["auth","apiTokensState"],jv)},loadApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S;let[T=[],m=[]]=yield Promise.all([n.auth.getUserApiTokensData(),n.auth.getTenantApiTokensData()]);s({apiTokensDataUser:T,apiTokensDataTenant:m}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(S=v.callback)==null||S.call(v,!0)}catch(T){var D;i({key:$e.LOAD_API_TOKENS,value:_(T)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,null,T)}}),loadUserApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S,D;let[m=[],E]=yield Promise.all([ee(()=>n.auth.getUserApiTokensData(),v?.retryConfig),ee(()=>n.auth.getUserAccessTokensData(),v?.retryConfig)]),w=((S=E.accessTokens)!=null?S:[]).map(M=>y({},M,{type:lt.AccessToken})).concat(m.map(M=>y({},M,{type:lt.ClientCredentials}))).sort((M,O)=>new Date(O.createdAt)-new Date(M.createdAt));s({apiTokensDataUser:w??[]}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,!0)}catch(m){var T;i({key:$e.LOAD_API_TOKENS,value:_(m)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(T=v.callback)==null||T.call(v,null,m)}}),loadTenantApiTokens:v=>l(null,null,function*(){v!=null&&v.silentLoading||o({key:$e.LOAD_API_TOKENS,value:!0});try{var S,D;let[m=[],E]=yield Promise.all([ee(()=>n.auth.getTenantApiTokensData(),v?.retryConfig),ee(()=>n.auth.getTenantAccessTokensData(),v?.retryConfig)]),w=((S=E?.accessTokens)!=null?S:[]).map(M=>y({},M,{type:lt.AccessToken})).concat(m.map(M=>y({},M,{type:lt.ClientCredentials}))).sort((M,O)=>new Date(O.createdAt)-new Date(M.createdAt));s({apiTokensDataTenant:w??[]}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(D=v.callback)==null||D.call(v,!0)}catch(m){var T;i({key:$e.LOAD_API_TOKENS,value:_(m)}),o({key:$e.LOAD_API_TOKENS,value:!1}),v==null||(T=v.callback)==null||T.call(v,null,m)}}),addTenantApiToken:v=>l(null,null,function*(){let{description:S,roleIds:D,expires:T,callback:m}=v,E=$e.ADD_API_TOKEN;o({key:E,value:!0});try{let{policy:A}=e.auth.securityPolicyState.publicPolicy,I=A?.machineToMachineAuthStrategy===lt.AccessToken,w,M=null;T&&(M=T*1440),I?w=yield n.auth.createTenantAccessToken({description:S,expiresInMinutes:M,roleIds:D}):w=yield n.auth.updateTenantApiTokensData({description:S,roleIds:D,expiresInMinutes:M}),s({showAddTokenDialog:!1}),yield Y(200);let O=I?lt.AccessToken:lt.ClientCredentials;e.auth.apiTokensState.apiTokensDataTenant.unshift(y({},w,{type:O})),e.auth.apiTokensState.successDialog={open:!0,secret:w.secret,clientId:I?void 0:w.clientId},m?.(null)}catch(A){i({key:E,value:_(A)}),m?.(null,A)}finally{o({key:E,value:!1})}}),addUserApiToken:v=>l(null,null,function*(){let{description:S,expires:D,callback:T}=v,m=$e.ADD_API_TOKEN;o({key:m,value:!0});try{let{policy:E}=e.auth.securityPolicyState.publicPolicy,A=E?.machineToMachineAuthStrategy===lt.AccessToken,I,w=null;D&&(w=D*1440),A?I=yield n.auth.createUserAccessToken({description:S,expiresInMinutes:w}):I=yield n.auth.updateUserApiTokensData({description:S,expiresInMinutes:w}),s({showAddTokenDialog:!1}),yield Y(200);let M=A?lt.AccessToken:lt.ClientCredentials;e.auth.apiTokensState.apiTokensDataUser.unshift(y({},I,{type:M})),e.auth.apiTokensState.successDialog={open:!0,secret:I.secret,clientId:A?void 0:I.clientId},T?.(null)}catch(E){i({key:m,value:_(E)}),T?.(null,E)}finally{o({key:m,value:!1})}}),deleteUserApiToken:v=>l(null,null,function*(){let S=$e.DELETE_API_TOKEN;o({key:S,value:!0});try{let D=e.auth.apiTokensState.apiTokensDataUser;D.some(m=>m.id===v)?(yield n.auth.deleteUserAccessToken({id:v}),s({apiTokensDataUser:D.filter(m=>m.id!==v),deleteTokenDialog:{open:!1,id:v}})):(yield n.auth.deleteUserApiToken({tokenId:v}),s({apiTokensDataUser:D.filter(m=>m.clientId!==v),deleteTokenDialog:{open:!1,clientId:v}}))}catch(D){i({key:S,value:_(D)})}finally{o({key:S,value:!1})}}),deleteTenantApiToken:v=>l(null,null,function*(){let S=$e.DELETE_API_TOKEN;o({key:S,value:!0});try{let D=e.auth.apiTokensState.apiTokensDataTenant;D.some(m=>m.id===v)?(yield n.auth.deleteTenantAccessToken({id:v}),s({apiTokensDataTenant:D.filter(m=>m.id!==v),deleteTokenDialog:{open:!1,id:v}})):(yield n.auth.deleteTenantApiToken({tokenId:v}),s({apiTokensDataTenant:D.filter(m=>m.clientId!==v),deleteTokenDialog:{open:!1,id:v}}))}catch(D){i({key:S,value:_(D)})}finally{o({key:S,value:!1})}})}};var $v={loading:!0,fetching:!0,error:null,userApplications:[],accountApplications:[],combinedUserApplications:[]},Bv=e=>K($v,e);var YC=e=>{var n;return(n=e.map(({appIds:t})=>t).reduce((t,r)=>(r?.forEach(o=>{t&&!t.includes(o)&&t.push(o)}),t),[]))!=null?n:[]},ZC=(e,n)=>{if(!e&&!n)return[];let t=new Set(e?.map(s=>s.id)||[]),o=(n?.filter(s=>s.tenantApplicationAccessType===or.FREE_ACCESS)||[]).filter(s=>!t.has(s.id));return[...e||[],...o]};var qc=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.applicationsState,v)},i=()=>{Q(e,["auth","applicationsState"],$v)},s=()=>{let{userApplications:v,accountApplications:S}=e.auth.applicationsState,D=ZC(v,S);o({combinedUserApplications:D})},c=v=>l(null,null,function*(){o({loading:!0,fetching:!0});try{var S,D;let T=(S=(D=e.auth.user)==null?void 0:D.id)!=null?S:"",m=v?.retryConfig,E=yield ee(()=>n.applications.getUserApplicationsId({userId:T}),m),A=yield ee(()=>n.applications.getApplicationsData({appIds:E}),m);o({userApplications:A,fetching:!1,loading:!1}),s()}catch(T){o({loading:!1,fetching:!1,error:_(T)})}}),a=v=>l(null,null,function*(){let S=v?.retryConfig;o({loading:!0,fetching:!0});try{let D=yield ee(()=>n.applications.getTenantsApplicationsV2(),S),T=[...new Set(D.flatMap(w=>w.assignments.map(M=>M.appId)))],m=yield ee(()=>n.applications.getApplicationsData({appIds:T}),S),E=yield ee(()=>n.applications.getUsersOfApplications({appIds:T}),S),A=new Map;D.forEach(w=>{w.assignments.forEach(M=>{A.set(M.appId,M.accessType)})});let I=m.map(w=>{var M;return y({},w,{userIds:(M=E.find(O=>O.appId===w.id))==null?void 0:M.userIds,tenantApplicationAccessType:A.get(w.id)})});o({accountApplications:I,fetching:!1,loading:!1}),s()}catch(D){o({loading:!1,fetching:!1,error:_(D)})}}),u=D=>l(null,[D],function*({userIds:v,retryConfig:S}){try{let[T,m]=yield Promise.all([ee(()=>n.applications.getUsersApplicationsId({userIds:v}),S),ee(()=>n.applications.getTenantsApplicationsV2(),S)]),E=m.flatMap(M=>M.assignments).filter(M=>M.accessType===or.FREE_ACCESS).map(M=>M.appId),A=YC(T),I=[...new Set([...A,...E])],w=new Map;if(I.length>0){let M=yield ee(()=>n.applications.getApplicationsData({appIds:I}),S);w=new Map(M.map(O=>[O.id,O]))}return v.reduce((M,O)=>{var L,x;let N=[],k=new Set((L=(x=T.find(P=>P.userId===O))==null?void 0:x.appIds)!=null?L:[]);return w.forEach((P,F)=>{(k.has(F)||P.accessType===or.FREE_ACCESS||E.includes(F))&&N.push(P)}),M[O]=N,M},{})}catch(T){o({error:_(T)})}}),d="Assignment action failed. Try again or contact support.";return{setApplicationsState:o,resetApplicationsState:i,loadUserApplications:c,loadAccountApplications:a,loadMultipleUsersApplications:u,assignUserToApps:v=>l(null,null,function*(){let{userId:S,appIds:D,callback:T}=v;try{var m,E,A,I,w,M,O,L,x;let N=(m=(E=e.auth)==null||(A=E.user)==null?void 0:A.tenantId)!=null?m:"";yield n.applications.assignUserToApplications({userId:S,appIds:D,tenantId:N});let k=(I=e.auth)==null||(w=I.applicationsState)==null?void 0:w.accountApplications,P=(M=(O=e.auth)==null||(L=O.teamState)==null?void 0:L.users)!=null?M:[],F=(x=k?.filter(C=>D.includes(C.id)))!=null?x:[];F!=null&&F.length&&t.setTeamState({users:P.map(C=>{var R;return C.id===S?y({},C,{applications:[...(R=C.applications)!=null?R:[],...F]}):C})}),T?.(!0)}catch(N){o({error:_(N,d)}),T?.(!1)}}),unassignUserFromApps:v=>l(null,null,function*(){let{userId:S,appIds:D,callback:T}=v;try{var m,E,A,I,w,M,O;let L=(m=(E=e.auth)==null||(A=E.user)==null?void 0:A.tenantId)!=null?m:"";yield n.applications.unassignUserFromApplications({userId:S,appIds:D,tenantId:L});let x=(I=(w=e.auth)==null||(M=w.teamState)==null?void 0:M.users)!=null?I:[],N=(O=x.find(k=>k.id===S))==null?void 0:O.applications;N!=null&&N.length&&D.length&&t.setTeamState({users:x.map(k=>k.id===S?y({},k,{applications:N.filter(P=>!D.includes(P.id))}):k)}),T?.(!0)}catch(L){o({error:_(L,d)}),T?.(!1)}}),assignNewUserToApps:D=>l(null,[D],function*({appIds:v,user:S}){var T,m,E;let[A]=yield r.getFeatureFlags(["multi-apps-admin-portal"]);if(!A)return;let I=(T=e.auth)==null||(m=T.applicationsState)==null?void 0:m.accountApplications,w=(E=I?.filter(x=>x.accessType===or.FREE_ACCESS||x.tenantApplicationAccessType===or.FREE_ACCESS))!=null?E:[];if(v!=null&&v.length){var M,O,L;let x=(M=(O=e.auth)==null||(L=O.user)==null?void 0:L.tenantId)!=null?M:"";return yield n.applications.assignUserToApplications({userId:S.id,appIds:v,tenantId:x}),v.map(N=>{var k;return(k=I?.find(P=>P.id===N))!=null?k:[]}).concat(w)}else return w}),mapUsersWithApplicationData:T=>l(null,[T],function*({shouldLoadApps:v,users:S,retryConfig:D}){let[m]=yield t.getFeatureFlags(["multi-apps-admin-portal"]);if(!m||!v)return S;let E=S.map(I=>I.id),A=yield u({userIds:E,retryConfig:D});return A?S.map(I=>A!=null&&A[I.id]?y({},I,{applications:A[I.id]}):I):S})}};var Hv={loading:!0,error:null},Gv=e=>K(Hv,e);var wj=["callback"],Yc=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.customLoginState,d)},i=()=>{Q(e,["auth","customLoginState"],Hv)},s=()=>l(null,null,function*(){o({loading:!0});try{let d=yield n.metadata.getAdminBoxMetadata();o({tenantMetadata:d,loading:!1})}catch(d){o({loading:!1,error:_(d)})}}),c=d=>l(null,null,function*(){let{callback:p}=d,g=V(d,wj);try{o({error:null,saving:!0});let f=Xf(g);if(f.length===0)throw new Error("No changes to update");yield n.metadata.updateAdminBoxMetadata({actions:f});let h=yield n.metadata.getAdminBoxMetadata();o({tenantMetadata:h,saving:!1}),p?.(!0)}catch(f){o({error:_(f,"No changes to update"),saving:!1}),p?.(null,f)}}),a=()=>l(null,null,function*(){var d,p,g;if(e.auth.isAuthenticated){var h,v;return(h=(v=e.auth.tenantsState.activeTenant)==null?void 0:v.hasCustomLogin)!=null?h:!1}return!!((d=yield(p=ie.for(e.root.appName).getContext())==null||(g=p.tenantResolver)==null?void 0:g.call(p))==null?void 0:d.tenant)});return{setCustomLoginState:o,resetCustomLoginState:i,loadTenantMetadata:s,updateTenantMetadata:c,customLoginEnabled:a,loadCustomLoginRoutes:d=>l(null,null,function*(){try{var p,g;if(!(yield a())){var f;d==null||(f=d.callback)==null||f.call(d,!0);return}let D=e.auth.isAuthenticated,{getSettings:T,getPublicSettings:m}=n.accountSettings,{applicationUrl:E}=yield ee(D?T:m,d?.retryConfig);if(!E){var h;d==null||(h=d.callback)==null||h.call(d,!0);return}let A=e.auth.routes,I=(p=Kf(E))!=null?p:"";r.setAuthState({routes:y({},A,{customLoginAuthenticatedUrl:E,customLoginUrl:A.loginUrl+I})}),o({customLoginSearchParams:I??void 0}),d==null||(g=d.callback)==null||g.call(d,!0)}catch(S){var v;d==null||(v=d.callback)==null||v.call(d,null,S)}})}};var Sn;(function(e){e.forgotPassword="forgotPassword",e.resetPasswordViaSms="resetPasswordViaSms",e.passwordRecoverySelector="passwordRecoverySelector",e.resetPasswordPage="resetPasswordPage",e.forgotPasswordEmailSuccess="forgotPasswordEmailSuccess",e.resetPasswordSuccess="resetPasswordSuccess"})(Sn||(Sn={}));var Wv={step:Sn.forgotPassword,loading:!1,identifier:"",identifierType:Bo.email,sessionId:"",userId:"",token:"",passwordConfig:null},zv=e=>K(Wv,e);var Ej=["callback"],Zc=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.forgotPasswordState,f)},i=()=>{Q(e,["auth","forgotPasswordState"],Wv)},s=f=>l(null,null,function*(){o({loading:!0});try{var h;yield n.auth.forgotPassword(f),o({loading:!1,error:void 0,step:Sn.forgotPasswordEmailSuccess}),(h=f.callback)==null||h.call(f,!0)}catch(S){var v;o({loading:!1,error:_(S,"Unknown error occurred")}),(v=f.callback)==null||v.call(f,!1,S)}}),c=()=>l(null,null,function*(){let{identifier:f,identifierType:h}=e.auth.forgotPasswordState;o({loading:!0});try{yield n.auth.resetPasswordViaEmail({identifier:f,identifierType:h}),o({loading:!1,error:void 0,step:Sn.forgotPasswordEmailSuccess})}catch(v){o({loading:!1,error:_(v,"An error occurred while sending recovery email")})}});return{setForgotPasswordState:o,resetForgotPasswordState:i,forgotPassword:s,resetPassword:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,Ej);o({loading:!0});try{yield n.auth.resetPassword(v),o({loading:!1,error:void 0,step:Sn.resetPasswordSuccess}),h?.(!0)}catch(S){o({loading:!1,error:_(S)}),h?.(!1,S)}}),loadPasswordConfig:f=>l(null,null,function*(){o({loading:!0});try{let h=yield n.auth.loadPasswordConfig(f);o({loading:!1,passwordConfig:h})}catch(h){o({loading:!1,error:_(h)})}}),determinePasswordRecoveryStrategy:f=>l(null,null,function*(){o({loading:!0,error:void 0,identifier:f.identifier,identifierType:f.identifierType});try{let h=yield n.auth.getPasswordRecoveryStrategies(),v=h.some(D=>D.strategy===ws.Email&&D.isActive),S=h.some(D=>D.strategy===ws.Sms&&D.isActive);v&&S?o({loading:!1,step:Sn.passwordRecoverySelector,activeStrategies:h}):v?yield c():o(S?{loading:!1,step:Sn.resetPasswordViaSms,activeStrategies:h}:{loading:!1,error:"No active password recovery methods found.",activeStrategies:h})}catch(h){o({loading:!1,error:_(h,"An error occurred while determining recovery strategy")})}}),sendPasswordRecoveryEmail:c,sendPasswordRecoverySms:()=>l(null,null,function*(){let{identifier:f,identifierType:h}=e.auth.forgotPasswordState;o({loading:!0});try{let v=yield n.auth.resetPasswordViaSms({identifier:f,identifierType:h});o({loading:!1,error:void 0,sessionId:v.sessionId})}catch(v){o({loading:!1,error:_(v,"An error occurred while sending recovery sms")})}}),verifyPasswordViaSms:f=>l(null,null,function*(){let{sessionId:h}=e.auth.forgotPasswordState;if(!h){o({loading:!1,error:"Session ID not found in state for verifying password via sms."});return}o({loading:!0});try{let v=yield n.auth.verifyPasswordViaSms({otcToken:f.otcToken,sessionId:h});if(!v.userId||!v.token){let S="Invalid response from server: missing userId or token";throw new Error(S)}o({loading:!1,error:void 0,userId:v.userId,token:v.token,step:Sn.resetPasswordPage})}catch(v){o({loading:!1,error:_(v,"An error occurred while verifying password via sms")})}})}};var di;(function(e){e.success="success",e.notification="notification"})(di||(di={}));var Dj={step:di.notification},qv=e=>K(Dj,e);var Kc=(e,n,t)=>{let r=i=>{Object.assign(e.auth.passwordRotationState,i)};return{setStep:i=>{r({step:i})}}};var Yv={loaders:{},errors:{},groups:[],groupsConfiguration:{}},Zv=e=>K(Yv,e);var ze;(function(e){e.CREATE_GROUP="CREATE_GROUP",e.GET_GROUP="GET_GROUP",e.GET_GROUPS="GET_GROUPS",e.DELETE_GROUP="DELETE_GROUP",e.UPDATE_GROUP="UPDATE_GROUP",e.ADD_USERS_TO_GROUP="ADD_USERS_TO_GROUP",e.DELETE_USERS_FROM_GROUP="DELETE_USERS_FROM_GROUP",e.ADD_ROLES_TO_GROUP="ADD_ROLES_TO_GROUP",e.DELETE_ROLES_FROM_GROUP="DELETE_ROLES_FROM_GROUP",e.GET_GROUP_CONFIGURATION="GET_GROUP_CONFIGURATION",e.UPDATE_GROUP_CONFIGURATION="UPDATE_GROUP_CONFIGURATION",e.GET_TEAM_USERS="GET_TEAM_USERS"})(ze||(ze={}));var $s;(function(e){e.roles="roles",e.users="users",e.rolesAndUsers="rolesAndUsers"})($s||($s={}));var Ij=["roleIds","userIds"],Qc=(e,n,t)=>{let r=m=>{Object.assign(e.auth.groupsState,{loaders:y({},e.auth.groupsState.loaders,{[m.key]:m.value})})},o=m=>{Object.assign(e.auth.groupsState,{errors:y({},e.auth.groupsState.errors,{[m.key]:m.value}),loaders:y({},e.auth.groupsState.loaders,{[m.key]:!1})})},i=m=>{Object.assign(e.auth.groupsState,m)},s=()=>{Q(e,["auth","groupsState"],Yv)},c=m=>l(null,null,function*(){let E=ze.GET_GROUPS,A=e.auth.groupsState;r({key:E,value:!0});try{let{groups:I}=yield ee(()=>n.groups.getGroups({_groupsRelations:$s.rolesAndUsers}),m?.retryConfig);i(y({groups:I},A.selectedGroup&&{selectedGroup:I.find(w=>{var M;return w.id===((M=A.selectedGroup)==null?void 0:M.id)})}))}catch(I){o({key:E,value:_(I)})}finally{r({key:E,value:!1})}}),a=m=>l(null,null,function*(){let E=ze.GET_GROUP;r({key:E,value:!0});try{let A=yield n.groups.getGroupById({groupId:m.groupId},{_groupsRelations:$s.rolesAndUsers});i({selectedGroup:A})}catch(A){o({key:E,value:_(A)})}finally{r({key:E,value:!1})}}),u=m=>l(null,null,function*(){let E=ze.CREATE_GROUP,{roleIds:A,userIds:I}=m,w=V(m,Ij);r({key:E,value:!0});try{var M;let L=yield n.groups.createGroup(y({name:w.name},!!w.description&&{description:w.description},{color:w.color}));I!=null&&I.length&&h({groupId:L.id,userIds:I}),A!=null&&A.length&&g({groupId:L.id,roleIds:A}),yield c(),m==null||(M=m.callback)==null||M.call(m,!0)}catch(L){var O;o({key:E,value:_(L)}),m==null||(O=m.callback)==null||O.call(m,!1)}finally{r({key:E,value:!1})}}),d=m=>l(null,null,function*(){let E=ze.UPDATE_GROUP;r({key:E,value:!0});try{var A;yield n.groups.updateGroup(m),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;o({key:E,value:_(w)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),p=m=>l(null,null,function*(){let E=ze.DELETE_GROUP;r({key:E,value:!0});try{var A;yield n.groups.deleteGroup(m.groupId),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;o({key:E,value:_(w)}),m==null||(I=m.callback)==null||I.call(m,!1,w)}finally{r({key:E,value:!1})}}),g=m=>l(null,null,function*(){let E=ze.ADD_ROLES_TO_GROUP;r({key:E,value:!0});try{var A;yield n.groups.addRolesToGroup(m.groupId,{roleIds:m.roleIds}),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;o({key:E,value:_(w)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),f=m=>l(null,null,function*(){let E=ze.DELETE_ROLES_FROM_GROUP;r({key:E,value:!0});try{var A;yield n.groups.deleteRolesFromGroup(m.groupId,{roleIds:m.roleIds}),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;o({key:E,value:_(w)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),h=m=>l(null,null,function*(){let E=ze.ADD_USERS_TO_GROUP;r({key:E,value:!0});try{var A;yield n.groups.addUsersToGroup(m.groupId,{userIds:m.userIds}),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;m==null||(I=m.callback)==null||I.call(m,!1),o({key:E,value:_(w)})}finally{r({key:E,value:!1})}}),v=m=>l(null,null,function*(){let E=ze.DELETE_USERS_FROM_GROUP;r({key:E,value:!0});try{var A;yield n.groups.deleteUsersFromGroup(m.groupId,{userIds:m.userIds}),yield c(),m==null||(A=m.callback)==null||A.call(m,!0)}catch(w){var I;o({key:E,value:_(w)}),m==null||(I=m.callback)==null||I.call(m,!1)}finally{r({key:E,value:!1})}}),S=m=>l(null,null,function*(){let E=ze.GET_GROUP_CONFIGURATION;r({key:E,value:!0});try{let A=yield ee(()=>n.groups.getGroupConfiguration(),m?.retryConfig);i({groupsConfiguration:A})}catch(A){o({key:E,value:_(A)})}finally{r({key:E,value:!1})}});return{setUsersGroupsLoader:r,setUsersGroupsError:o,setGroupsState:i,resetUsersGroupsState:s,loadGroups:c,getGroupById:a,createGroup:u,updateGroup:d,deleteGroup:p,addRolesToGroup:g,deleteRolesFromGroup:f,addUsersToGroup:h,deleteUsersFromGroup:v,getGroupConfiguration:S,updateGroupConfiguration:m=>l(null,null,function*(){let E=ze.UPDATE_GROUP_CONFIGURATION;r({key:E,value:!0});try{yield n.groups.updateGroupConfiguration(m),yield S()}catch(A){o({key:E,value:_(A)})}finally{r({key:E,value:!1})}}),getTeamUsers:m=>l(null,null,function*(){let E=ze.GET_TEAM_USERS;r({key:E,value:!0});try{let{items:A}=yield n.users.getUsersV2({_filter:m.filter,_offset:m.pageOffset,_limit:m.pageSize,_includeSubTenants:!1});i({teamUsers:A})}catch(A){o({key:E,value:_(A)})}finally{r({key:E,value:!1})}})}};var Kv={addGroupDialogState:{loading:!1,open:!1},editGroupDialogState:{loading:!1,open:!1},deleteGroupDialogState:{loading:!1,open:!1},addMembersToGroupDialogState:{loading:!1,open:!1,userIds:[]},deleteMemberFromGroupDialogState:{loading:!1,open:!1}},Qv=e=>K(Kv,e);var Jc=(e,n,t)=>({setGroupsDialogsState:v=>{Object.assign(e.auth.groupsDialogsState,v)},resetGroupsDialogsState:()=>{Q(e,["auth","groupsDialogsState"],Kv)},openAddGroupDialog:()=>{e.auth.groupsDialogsState.addGroupDialogState.open=!0},closeAddGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.addGroupDialogState,{open:!1,group:void 0})},openAddMembersToGroupDialog:()=>{e.auth.groupsDialogsState.addMembersToGroupDialogState.open=!0},closeAddMembersToGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.addMembersToGroupDialogState,{open:!1,userIds:[]})},openEditGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.editGroupDialogState,y({},v,{open:!0}))},closeEditGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.editGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.deleteGroupDialogState,y({},v,{open:!0}))},closeDeleteGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.deleteGroupDialogState,{open:!1,loading:!1,group:void 0})},openDeleteMemberFromGroupDialog:v=>{Object.assign(e.auth.groupsDialogsState.deleteMemberFromGroupDialogState,v)},closeDeleteMemberFromGroupDialog:()=>{Object.assign(e.auth.groupsDialogsState.deleteMemberFromGroupDialogState,{open:!1,userId:void 0,email:void 0})}});var fi;(function(e){e.impersonating="impersonating",e.success="success"})(fi||(fi={}));var Jv={step:fi.impersonating,loading:!1},Xv=e=>K(Jv,e);var Cj=["callback","events"],Xc=(e,n,t)=>{let r=t,o=c=>{Object.assign(e.auth.impersonateState,c)},i=()=>{Q(e,["auth","impersonateState"],Jv)};return{setImpersonateState:o,resetImpersonateState:i,impersonate:c=>l(null,null,function*(){let{callback:a}=c,u=V(c,Cj);o({loading:!0});try{let d=yield n.impersonate.impersonate(u);o({step:fi.success}),yield Y(1e3),yield r.afterAuthNavigation({preventRedirectUrlOriginCleaning:!0}),i(),a?.(!0)}catch(d){o({loading:!1,error:_(d)})}})}};var ey={flow:dt.Login,step:Se.preLogin,loading:!1,email:"",tenants:[]},ty=e=>K(ey,e);var KC=(e,n,t)=>{let r=t;function o(d){var p,g;return d.startsWith((p=window)==null?void 0:p.location.origin)?d.replace((g=window)==null?void 0:g.location.origin,""):d}function i({user:d,tenants:p=[],activeTenant:g},f={}){let h=e.auth.tenantsState;r.setAuthState(y({user:d,tenantsState:y({},h,{tenants:p,activeTenant:g,loading:!1})},f))}function s(g){return l(this,arguments,function*({customLoginAuthenticatedUrl:d,preventRedirectUrlOriginCleaning:p}){let{routes:f,includeQueryParam:h=!1,enforceRedirectToSameSite:v=!1,allowedRedirectOrigins:S=[]}=e.auth,D=window.localStorage.getItem(Xo);if(d&&!D)return Mv(d,p);let{authenticatedUrl:T,loginUrl:m,logoutUrl:E,socialLoginCallbackUrl:A,activateUrl:I,activateWithOTCUrl:w}=f,M=D;(!M||[m,E,A,I,w].includes(M))&&(M=T);let O=xv({authenticatedUrl:M,includeQueryParam:h,enforceRedirectToSameSite:v,allowedRedirectOrigins:S});return p?O:o(O)})}let c=(g,...f)=>l(null,[g,...f],function*(d,p={}){let{customLoginAuthenticatedUrl:h,forceStepUpUrl:v,shouldStepUpDuringLogin:S,preventRedirectUrlOriginCleaning:D=!1}=p,T=e.auth.onRedirectTo,m;if(v)m=v;else{var E;if(S){let A=window.localStorage.getItem(Xo);A&&!Zf(A)&&(m=A)}m||(m=yield s({customLoginAuthenticatedUrl:h,preventRedirectUrlOriginCleaning:D})),(E=window)==null||E.localStorage.removeItem(Xo)}yield Y(200),yield d(),T(m,{refresh:m.startsWith("http")})});return{afterAuthNavigationUtil:c,afterAuthNavigation:d=>l(null,null,function*(){var p,g;let{customLoginAuthenticatedUrl:f,stepUpUrl:h}=e.auth.routes,v=(p=window)==null?void 0:p.localStorage.getItem(en),S=e.auth.user;if(v){var D;(D=window)==null||D.localStorage.removeItem(en)}if(h&&v&&!li(S))return c(r.resetLoginState,{forceStepUpUrl:h});let T=f;if(!f){var m;yield r.loadCustomLoginRoutes(),T=(m=e.auth.routes)==null?void 0:m.customLoginAuthenticatedUrl}return c(r.resetLoginState,{customLoginAuthenticatedUrl:T,shouldStepUpDuringLogin:!!v,preventRedirectUrlOriginCleaning:(g=d?.preventRedirectUrlOriginCleaning)!=null?g:!1})}),afterStepUpAuthNavigation:()=>l(null,null,function*(){return c(r.resetStepUpState)}),afterAuthenticationStateUpdate:i}};function QC(e,n,t){let r=t,o=a=>l(null,null,function*(){let u=e.root.appName;return hn.getFeatureFlags(a,u)}),i=()=>l(null,null,function*(){return yield r.afterStepUpAuthNavigation()}),s=(a,u)=>l(null,null,function*(){let d=e.auth.loginState,p=e.auth.mfaState.step,[g]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(d.flow===dt.Login){if(g&&d.isBreachedPassword&&!a){r.setLoginState({step:Se.breachedPassword,loading:!1});return}if(ui(u,e.root.appName)){r.setLoginState({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:u.resetPasswordToken,userId:u.userId});return}if(ci(u)){r.setLoginState({step:Se.passwordRotationNotification,loading:!1});return}let f=yield r.__shouldShowPromptPasskeys();p===Ne.smsVerifyCode&&f?r.setLoginState({step:Se.promptPasskeys,loading:!1}):yield r.afterAuthNavigation()}});return{postHandleVerifyMFAResponseForStepUp:i,postHandleVerifyMFAResponseForLogin:s,handleVerifyMFAResponse:(a,u=!1)=>l(null,null,function*(){let{user:d,tenants:p,activeTenant:g}=a;r.setUser(d),r.setTenantsState({tenants:p,activeTenant:g,loading:!1}),d.id&&localStorage.setItem("userId",d.id);let f=!!d.accessToken;return r.setAuthState({isAuthenticated:f}),u?yield i():yield s(f,d)}),getFeatureFlags:o}}var JC=(e,n,t)=>({getMfaRequiredState:(o,i,s=!1,c)=>l(null,null,function*(){var a,u,d;let p=Se.loginWithTwoFactor,g={step:Ne.verify,loading:!1,saving:!1},f=e.auth.loginState,h,v;try{let m=yield ee(()=>n.auth.checkIfAllowToRememberMfaDevice(o.mfaToken),i);h=m.isAllowedToRemember,v=m.mfaDeviceExpiration}catch(m){if(!s)throw m}!("mfaEnrolled"in o&&!o.mfaEnrolled)||((a=o.mfaDevices)==null||(u=a.emails)==null?void 0:u.length)?Object.assign(g,{mfaDevices:o.mfaDevices,mfaToken:o.mfaToken,step:Hc(o.mfaDevices)}):(Object.assign(g,{step:Pv(o.mfaStrategies),qrCode:o.qrCode,recoveryCode:o.recoveryCode,loading:!1,mfaToken:o.mfaToken,mfaStrategies:o.mfaStrategies}),p=Se.forceTwoFactor);let D={},T=localStorage.getItem("register-quick-login");return T&&(D={quickLoginToRegister:T,flow:dt.RegisterQuickLogin}),{user:void 0,isAuthenticated:!1,mfaState:g,loginState:y({},f,D,{mfaToken:o.mfaToken,mfaRequired:o.mfaRequired,loading:!1,error:void 0,step:p,tenantsLoading:!0,email:(d=o.userEmail)!=null?d:c,tenants:[],allowRememberMfaDevice:h,mfaDeviceExpiration:v,isBreachedPassword:o.isBreachedPassword})}})});var _j=["callback"],XC=(e,n,t)=>{let r=t;function o(u,d,p){return l(this,null,function*(){let g=e.auth.loginState,f={};if(!p){let h=g.flow===dt.Login?Se.success:g.step;f={loginState:{flow:g.flow,quickLoginToRegister:g.quickLoginToRegister,loading:!1,step:h,error:void 0,tenants:u}}}return y({},f,{isAuthenticated:d})})}function i(u,d,p){return l(this,null,function*(){let g=e.auth.loginState;if(g.flow!==dt.Login)return;let[f]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(f&&g.isBreachedPassword&&!u){r.setLoginState({step:Se.breachedPassword,loading:!1}),p?.(!0);return}if(ui(d,e.root.appName)){r.setLoginState({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:d.resetPasswordToken,userId:d.userId}),p?.(!0);return}if(ci(d)){r.setLoginState({step:Se.passwordRotationNotification,loading:!1}),p?.(!0);return}(yield r.__shouldShowPromptPasskeys())?r.setLoginState({step:Se.promptPasskeys,loading:!1}):yield r.afterAuthNavigation(),p?.(!0)})}function s(u){return l(this,null,function*(){yield r.afterStepUpAuthNavigation(),u?.(!0)})}let c=(u,d,p)=>l(null,null,function*(){let{callback:g}=u,f=V(u,_j);d({loading:!0,error:void 0});try{let{user:h,tenants:v=[],activeTenant:S}=yield n.auth.loginWithMfaV2(f),D=!!h.accessToken,T=yield o(v,D,p);return yield r.afterAuthenticationStateUpdate({user:h,tenants:v,activeTenant:S},T),h.id&&localStorage.setItem("userId",h.id),d({loading:!1,error:void 0}),p?yield s(g):yield i(D,h,g)}catch(h){d({loading:!1,error:_(h)}),g?.(!1,h)}});return{mfaWithAuthenticator:c,loginWithMfa:u=>l(null,null,function*(){return yield c(u,r.setLoginState,!1)})}};var Tj=["callback"],xj=["callback"],e_=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){var d;let{callback:p}=a,g=V(a,Tj);u=(d=u)!=null?d:r.setLoginState,u({loading:!0,error:void 0});try{let f=yield n.auth.preVerifyMFAEmailCode(g);r.setMfaState({otcToken:f.otcToken,step:Ne.emailVerifyCode}),u({loading:!1,error:void 0}),p?.(!0)}catch(f){u({error:_(f)}),p?.(null)}}),i=(a,u)=>l(null,null,function*(){var d;let{callback:p}=a,g=V(a,xj);u=(d=u)!=null?d:r.setLoginState,u({loading:!0});try{let f=yield n.auth.verifyMFAEmailCodeV2(g);yield r.handleVerifyMFAResponse(f),u({loading:!1,error:void 0}),p?.(!0)}catch(f){u({loading:!1,error:_(f)}),p?.(null)}});return{preVerifyMFAEmailCode:o,verifyMFAEmailCode:i,preVerifyMFAEmailCodeForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFAEmailCodeForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState)})}};var Mj=["callback","deviceId"],Pj=["callback","deviceId"],t_=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){let{callback:d,deviceId:p}=a,g=V(a,Mj);u({loading:!1,error:void 0});try{let f=yield n.auth.preVerifyMFASMSForLogin(p,g);r.setMfaState({otcToken:f.otcToken,step:Ne.smsVerifyCode,phoneNumber:f.phoneNumber}),u({loading:!1,error:void 0}),d?.(!0)}catch(f){u({loading:!1,error:_(f)}),d?.(null)}}),i=(a,u,d=!1)=>l(null,null,function*(){let{callback:p,deviceId:g}=a,f=V(a,Pj);u({loading:!0});try{let h=yield n.auth.verifyMFASMSForLoginV2(g,f);yield r.handleVerifyMFAResponse(h,d),u({loading:!1,error:void 0}),p?.(!0)}catch(h){u({loading:!1,error:_(h)}),p?.(null)}});return{preVerifyMFASMS:o,verifyMFASMS:i,preVerifyMFASMSForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFASMSForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState,!1)})}};var Rj=["callback","deviceId"],Oj=["callback","deviceId"],n_=(e,n,t)=>{let r=t,o=(a,u)=>l(null,null,function*(){let{callback:d,deviceId:p}=a,g=V(a,Rj);u({loading:!0});try{var f;let h=yield n.auth.preVerifyMFAWebAuthnForLogin(p,g),v=y({},h.options,{challenge:bt(h.options.challenge),allowCredentials:(f=h.options.allowCredentials)==null?void 0:f.map(S=>y({},S,{id:bt(S.id)}))});u({loading:!1,error:void 0}),d?.({options:v,webauthnToken:h.webauthnToken})}catch(h){u({loading:!1,error:_(h)}),d?.(null)}}),i=(a,u,d)=>l(null,null,function*(){let{callback:p,deviceId:g}=a,f=V(a,Oj);u({loading:!0});try{let h=gn(f.publicKey),v=yield n.auth.verifyMFAWebAuthnForLoginV2(g,y({},f,{options:h}));yield r.handleVerifyMFAResponse(v,d),u({loading:!1,error:void 0}),p?.(!0)}catch(h){u({loading:!1,error:_(h)}),p?.(null)}});return{preVerifyMFAWebAuthn:o,verifyMFAWebAuthn:i,preVerifyMFAWebAuthnForLogin:a=>l(null,null,function*(){return yield o(a,r.setLoginState)}),verifyMFAWebAuthnForLogin:a=>l(null,null,function*(){return yield i(a,r.setLoginState,!1)})}};var r_=(e,n,t)=>{let r=t,o=()=>l(null,null,function*(){let u=yield n.auth.silentOAuthRefreshTokenV2();if(u!=null&&u.user)yield r.afterAuthenticationStateUpdate(u,{isAuthenticated:!0,isLoading:!1});else throw new Error("couldn't refresh user token with oauth service")}),i=u=>l(null,null,function*(){var d;let{routes:p,onRedirectTo:g}=e.auth,{context:f,urlStrategy:h}=e.root;if(ep(h)===p.hostedLoginRedirectUrl){console.debug("Calling loginWithRedirect while in hostedLoginCallback route");return}r.setAuthState({isLoading:!0});let S=If(),D=If(),T=yield sv(D);localStorage.setItem(bf,D);let m=Qf(e),E=`${window.location.origin}${h==="path"?"":"#"}${m??""}${p.hostedLoginRedirectUrl}`;yield r.loadCustomLoginRoutes();let A=(d=e.auth.customLoginState)==null?void 0:d.customLoginSearchParams;A&&(E.endsWith("/")&&(E=E.slice(0,-1)),E+=A);let w=`${n.fetch.getBaseUrl(f,"/oauth/authorize")}/oauth/authorize`,M=y({response_type:"code",client_id:f.appId||f.clientId||"INVALID-CLIENT-ID",scope:"openid email profile",redirect_uri:E,code_challenge:T,code_challenge_method:"S256",nonce:S},u);if(f.tenantResolver){var O;let k=yield(O=f.tenantResolver)==null?void 0:O.call(f);k!=null&&k.tenant&&(M.organization=k.tenant)}let L=$c(Bc);L&&(M.tenantId=L);let x=new URLSearchParams(M),N=`${w}?${x.toString()}`;g(N,{refresh:!0})});return{requestHostedLoginAuthorize:u=>l(null,null,function*(){var d;(d=localStorage)==null||d.removeItem(en);let p=e.auth.disableSilentRefresh;if(u?.prompt==="login")return yield i(u);try{if(p)throw new Error("silent refresh is disabled");return yield o()}catch{return yield i(u)}}),requestHostedLoginAuthorizeV2:u=>l(null,null,function*(){var d,p;let{shouldRedirectToLogin:g,firstTime:f,loginDirectAction:h}=u??{},{additionalParams:v}=u??{};if((d=localStorage)==null||d.removeItem(en),f){let D=e.root.urlStrategy,T=ep(D);if(r.setAuthState({isLoading:!0}),Rv(T))return}let S=e.auth.disableSilentRefresh;if(h&&(v=v||{},v.login_direct_action=btoa(JSON.stringify(h))),((p=v)==null?void 0:p.prompt)==="login")return yield i(v);try{if(S)throw new Error("silent refresh is disabled");return yield o()}catch{if(!g){r.setAuthState({isLoading:!1});return}return yield i(v)}}),__requestHostedLoginAuthorize:i,__requestHostedLoginSilentAuthorize:o,handleHostedLoginCallback:u=>l(null,null,function*(){var d;let p=localStorage.getItem(bf)||"INVALID-CODE-VERIFIER",g=e.auth.routes,f=e.root.urlStrategy,h=Qf(e),v=`${window.location.origin}${f==="path"?"":"#"}${h??""}${g.hostedLoginRedirectUrl}`;yield r.loadCustomLoginRoutes();let S=(d=e.auth.customLoginState)==null?void 0:d.customLoginSearchParams;S&&(v.endsWith("/")&&(v=v.slice(0,-1)),v+=S);let D={code:u.code,redirect_uri:v,code_verifier:p,grant_type:"authorization_code"};try{let T=yield n.auth.exchangeOAuthTokensV2(D);r.afterAuthenticationStateUpdate(T,{isAuthenticated:!0,isLoading:!1})}catch(T){r.setAuthState({isLoading:!1}),console.error("Failed to exchangeOAuthTokens",T)}finally{let T=e.auth.user,m=window.localStorage.getItem(en);window.localStorage.removeItem(en),m&&li(T)?yield r.afterStepUpAuthNavigation():yield r.afterAuthNavigation()}})}};var wt;(function(e){e.LOAD_SSO_CONFIGURATIONS="LOAD_SSO_CONFIGURATIONS",e.SAVE_SSO_CONFIGURATION="SAVE_SSO_CONFIGURATION",e.UPDATE_SSO_CONFIGURATION="UPDATE_SSO_CONFIGURATION",e.SAVE_SSO_CONFIGURATION_BY_METADATA="SAVE_SSO_CONFIGURATION_BY_METADATA",e.UPDATE_SSO_CONFIGURATION_BY_METADATA="UPDATE_SSO_CONFIGURATION",e.DELETE_SSO_CONFIGURATION="DELETE_SSO_CONFIGURATION",e.SAVE_SSO_DOMAIN="SAVE_SSO_DOMAIN",e.DELETE_SSO_DOMAIN="DELETE_SSO_DOMAIN",e.VALIDATE_SSO_DOMAIN="VALIDATE_SSO_DOMAIN",e.UPDATE_SSO_DEFAULT_ROLES="UPDATE_SSO_DEFAULT_ROLES",e.DELETE_SSO_GROUPS="DELETE_SSO_GROUPS",e.SAVE_SSO_GROUPS="SAVE_SSO_GROUPS",e.GET_SSO_AUTHORIZATION_ROLES="GET_SSO_AUTHORIZATION_ROLES"})(wt||(wt={}));var pi;(function(e){e.Saml="saml",e.Okta="okta",e.Azure="azure",e.Google="google",e.Oidc="oidc"})(pi||(pi={}));var Nj=["callback","error"],kj=["callback"],Lj=["callback"],Fj=["callback"],Uj=["callback"],jj=["callback","events"],Vj=["callback"],$j=["callback"],Bj=["user"],Hj=["callback"],Gj=["callback"],Wj=["callback"],zj=["callback"],qj=["callback"],Yj=["callback"],el=(e,n,t)=>{let r=t,o=ie.for(e.root.appName),i=()=>l(null,null,function*(){let H=e.auth.user;if(!(H!=null&&H.refreshToken)){o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1});return}try{let j={grant_type:"refresh_token",refresh_token:H?.refreshToken},Z=yield n.auth.exchangeOAuthTokensV2(j),q=yield u(Z.user);r.afterAuthenticationStateUpdate(y({},Z,{user:q}),{isAuthenticated:!0})}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1})}}),s=H=>{var j;let{routes:Z,loginState:q}=e.auth,re=(j=localStorage.getItem("register-quick-login"))!=null?j:q.quickLoginToRegister;return re&&localStorage.getItem(`${H.id}-${re}`)!=="true"&&!window.location.pathname.endsWith(Z.logoutUrl)},c=()=>l(null,null,function*(){try{let{routes:j,loginState:Z,onRedirectTo:q}=e.auth,{user:re,tenants:be=[],activeTenant:ke}=yield n.auth.refreshTokenV3();if(yn(re,e.root.appName)){let De=yield r.getMfaRequiredState(re);r.setAuthState(De),q(j.loginUrl,{preserveQueryParams:!0})}else{var H;re.id&&localStorage.setItem("userId",re.id);let De=(H=localStorage.getItem("register-quick-login"))!=null?H:Z.quickLoginToRegister,Le=s(re),pt=yield u(re);r.afterAuthenticationStateUpdate({user:pt,tenants:be,activeTenant:ke},{loginState:y({},Z,{quickLoginToRegister:De,flow:Le?dt.RegisterQuickLogin:dt.Login}),isAuthenticated:!0}),yield d(Le)}}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:void 0,isAuthenticated:!1})}}),a=()=>l(null,null,function*(){e.auth.hostedLoginBox?yield i():yield c()}),u=H=>l(null,null,function*(){var j;let Z=(j=e.auth.user)==null?void 0:j.entitlements;return Vc(Z,H?.entitlements)?y({},H,{entitlements:Z}):H}),d=H=>l(null,null,function*(){var j;let Z=new URL((j=window)==null?void 0:j.location.href),{routes:q,loginState:re,onRedirectTo:be}=e.auth,ke=Z.searchParams.get("invitationToken"),De=[q.socialLoginCallbackUrl,q.oidcRedirectUrl,q.samlCallbackUrl,q.magicLinkCallbackUrl];ke||De.push(q.loginUrl,q.signUpUrl),H?be(q.loginUrl):De.some(Le=>Le&&window.location.pathname.endsWith(Le))&&(re.isNewUser&&q.signUpSuccessUrl&&q.socialLoginCallbackUrl===window.location.pathname?be(q.signUpSuccessUrl,{refresh:q.signUpSuccessUrl.startsWith("http")}):yield r.afterAuthNavigation())}),p=H=>l(null,null,function*(){try{var j;let{isActive:q}=yield ee(n.auth.getSSOPublicConfiguration,H?.retryConfig);r.setAuthState({isSSOAuth:q}),H==null||(j=H.callback)==null||j.call(H,{isSSOAuth:q})}catch(q){var Z;r.setAuthState({isSSOAuth:!1}),H==null||(Z=H.callback)==null||Z.call(H,null,q)}}),g=H=>l(null,null,function*(){let j;try{var Z;let q=yield ee(n.metadata.getSamlMetadata,H?.retryConfig);j=q==null||(Z=q.configuration)==null?void 0:Z.acsUrl}catch(q){console.error(q)}r.setAuthState({ssoACS:j})}),f=Z=>l(null,[Z],function*({accessToken:H,user:j}){if(!H){r.setAuthState({user:void 0,isAuthenticated:!1});return}let{onRedirectTo:q,routes:re}=e.auth;if(yn(j,e.root.appName)){let be=yield r.getMfaRequiredState(j,Tt,!0);r.setAuthState(be),q(re.loginUrl,{preserveQueryParams:!0})}}),h=H=>{Object.assign(e.auth.loginState,H)},v=()=>{Q(e,["auth","loginState"],ey)},S=H=>Ln({callback:(Z,q)=>{!q||q.statusCode<500||r.setErrorByRequestName({requestName:H,traceId:xc(q)})}}),D=H=>l(null,null,function*(){let j=[],Z=[];j.push(a()),H&&(r.setAuthState({isLoading:!0}),j.push(r.loadSocialLoginsConfigurationV2(Ln())),j.push(r.loadAllowSignUps(S(Wt.LOAD_ALLOW_SIGNUPS))),j.push(r.loadPublicAuthStrategiesPolicy(S(Wt.LOAD_PUBLIC_AUTH_STRATEGIES_POLICY))),j.push(r.loadSignUpStrategies()),j.push(p(S(Wt.LOAD_SSO_PUBLIC_CONFIGURATION))),j.push(r.loadVendorPublicInfo(Ln())),j.push(g(Ln())),Z.push(r.loadCustomLoginRoutes(S(Wt.LOAD_CUSTOM_LOGIN_ROUTES)))),yield Promise.all(j),Z.length>0&&(yield Promise.all(Z)),r.setAuthState({isLoading:!1})}),T=H=>l(null,null,function*(){let j=[];j.push(r.loadSocialLoginsConfigurationV2(Ln())),j.push(r.loadAllowSignUps(S(Wt.LOAD_ALLOW_SIGNUPS))),j.push(p(S(Wt.LOAD_SSO_PUBLIC_CONFIGURATION))),j.push(r.loadSignUpStrategies()),j.push(r.loadVendorPublicInfo(Ln())),j.push(g()),j.push(f(H)),j.push(r.loadCustomLoginRoutes(S(Wt.LOAD_CUSTOM_LOGIN_ROUTES))),yield Promise.all(j)}),m=H=>l(null,null,function*(){let{callback:j,error:Z}=H,q=V(H,Nj),re=e.auth.securityPolicyState.publicPolicy.policy;if(!(re!=null&&re.authStrategy)){r.setLoginState({step:Se.loginWithPassword,loading:!1}),j?.();return}re?.authStrategy===Te.EmailAndPassword?(r.setLoginState({step:Se.loginWithPassword,loading:!1}),j?.()):[Te.MagicLink,Te.Code,Te.SmsCode].includes(re?.authStrategy)?yield r.passwordlessPreLogin(y({},q,{type:re?.authStrategy,callback:j})):(r.setLoginState({step:Se.loginWithPassword,loading:!1,error:_(Z)}),j?.())}),E=H=>l(null,null,function*(){let{email:j,username:Z,recaptchaToken:q,invitationToken:re,callback:be}=H;h({loading:!0});try{let pt=e.auth.onRedirectTo,Rt=$c(Bc),En=yield n.auth.preLoginV2(y({},j?{email:j}:{},Z?{username:Z}:{},{tenantId:Rt})),{address:Si,idpType:go}=En??{};if(Si){let Or=Si;if(go===pi.Oidc&&!Or.includes("redirect_uri")){let{oidcRedirectUrl:ub}=e.auth.routes;Or+=`&redirect_uri=${window.location.origin}${ub}`}if(jo.isLoginWithSSOAvailable()){var ke;jo.loginWithSSO((ke=j??Z)!=null?ke:""),h({loading:!1}),be?.()}else h({step:Se.redirectToSSO,loading:!1,ssoRedirectUrl:Or}),setTimeout(()=>{pt(Or,{refresh:!0})},2e3)}else{var De;yield m({email:(De=j??Z)!=null?De:"",recaptchaToken:q,callback:be,invitationToken:re})}}catch(pt){var Le;yield m({email:(Le=j??Z)!=null?Le:"",recaptchaToken:q,callback:be,invitationToken:re,error:pt})}}),A=H=>l(null,null,function*(){let{onRedirectTo:j,routes:Z}=e.auth;h({loading:!0});try{let q=yield n.auth.postLogin(H);r.setAuthState({user:q.accessToken?q:void 0,isAuthenticated:!!q.accessToken}),yield r.afterAuthNavigation()}catch{setTimeout(()=>{j(Z.authenticatedUrl)},1e3),h({step:Se.loginWithSSOFailed,loading:!1})}}),I=H=>l(null,null,function*(){let{email:j,username:Z,password:q,recaptchaToken:re,invitationToken:be,callback:ke}=H;h({loading:!0});try{let{user:De,tenants:Le=[],activeTenant:pt}=yield n.auth.loginv2(y({},j?{email:j}:{},Z?{username:Z}:{},{password:q,recaptchaToken:re,invitationToken:be})),{onRedirectTo:Rt,routes:En}=e.auth;if(yn(De,e.root.appName)){let Si=yield r.getMfaRequiredState(De,Tt,!0,j);r.setAuthState(Si),Rt(En.loginUrl,{preserveQueryParams:!0})}else{let[Si]=yield r.getFeatureFlags(["security-center-show-login-flows"]);if(ui(De,e.root.appName))h({step:Se.passwordRotationExpired,loading:!1,resetPasswordToken:De.resetPasswordToken,userId:De.userId});else{let go=e.auth.loginState,Or=!!De.accessToken;De.id&&localStorage.setItem("userId",De.id),r.afterAuthenticationStateUpdate({user:De,tenants:Le,activeTenant:pt},{loginState:{flow:go.flow,quickLoginToRegister:go.quickLoginToRegister,email:j,loading:!1,error:void 0,mfaToken:De.mfaToken,step:go.flow===dt.Login?Se.success:go.step,tenants:Le,tenantsLoading:!0,isBreachedPassword:De.isBreachedPassword},isAuthenticated:Or}),go.flow===dt.Login&&(Si&&De.isBreachedPassword&&!Or?h({step:Se.breachedPassword,loading:!1}):Or&&(ci(De)?h({step:Se.passwordRotationNotification,loading:!1}):(yield r.__shouldShowPromptPasskeys())?(h({step:Se.promptPasskeys,loading:!1}),Rt(En.loginUrl,{preserveQueryParams:!0})):yield r.afterAuthNavigation()))}}jo.isSuggestSavePasswordAvailable()&&jo.suggestSavePassword(j,q),localStorage.removeItem("register-quick-login"),ke?.(!0)}catch(De){o.setAccessToken(null),o.setUser(null),ke?.(!1,De),h({email:j,error:_(De),loading:!1})}}),w=H=>l(null,null,function*(){let j=e.auth.hostedLoginBox;r.setAuthState({isLoading:!0});try{j?yield n.auth.OAuthLogout():yield n.auth.logout()}catch{}o.isSessionPerTenantEnabled()&&Ds(),r.resetAuthState(),yield r.requestAuthorize(!0),H?.()}),M=H=>l(null,null,function*(){var j;try{yield n.auth.logout()}catch{}o.isSessionPerTenantEnabled()&&Ds(),setTimeout(()=>{var Z;return H==null||(Z=H.callback)==null?void 0:Z.call(H,!0)},(j=H?.callbackTimeout)!=null?j:500)}),O=H=>l(null,null,function*(){h({loading:!0});try{var j;yield n.auth.recoverMfaToken(H),h({loading:!1,error:void 0,step:Se.preLogin}),r.setAuthState({user:void 0,isAuthenticated:!1}),(j=H.callback)==null||j.call(H,!0)}catch(q){var Z;h({error:_(q),loading:!1}),(Z=H.callback)==null||Z.call(H,!1,q)}}),L=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,kj);try{h({loading:!0});let q=yield n.auth.passwordlessPreLogin(y({},Z,{type:Te.SmsCode}));h({step:Se.loginWithQuickSmsOtc,loading:!1,phoneNumber:q?.phoneNumber,error:void 0}),j?.(!0)}catch(q){h({error:_(q),loading:!1}),j?.(!1,q)}}),x=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Lj);try{h({loading:!0});let q=yield n.auth.changePhoneNumberWithVerification(Z);h({phoneNumber:Z.phoneNumber,loading:!1,changePhoneId:q.changePhoneId,step:Se.loginWithQuickSmsOtc,error:void 0}),j?.(!0)}catch(q){h({error:_(q),loading:!1})}}),N=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Fj);try{h({loading:!0}),yield n.auth.verifyChangePhoneNumber(Z),h({loading:!1}),j?.(!0)}catch(q){h({error:_(q),loading:!1})}}),k=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Uj);try{var q;h({loading:!0});let re;Ov(Z)&&(re=Z.email);let be;Nv(Z)&&(be=Z.username);let ke=yield n.auth.passwordlessPreLogin(y({},Z,{email:re,username:(q=be)!=null?q:""})),De=tv[Z.type];h({step:De,loading:!1,phoneNumber:ke?.phoneNumber,email:re,error:void 0}),j?.()}catch(re){h({error:_(re),loading:!1}),j?.(null,re)}}),P=H=>l(null,null,function*(){let{callback:j,events:Z}=H,q=V(H,jj);try{h({loading:!0});let{user:be,tenants:ke=[],activeTenant:De}=yield n.auth.passwordlessPostLoginV2(q),{routes:Le,onRedirectTo:pt}=e.auth;if(yn(be,e.root.appName)){let Rt=yield r.getMfaRequiredState(be);r.setAuthState(Rt),pt(Le.loginUrl,{preserveQueryParams:!0})}else{let Rt=e.auth.loginState;if(be.emailVerified){var re;let En={email:be.email,origin:Pr.PASSWORDLESS,id:be.id,tenantId:be.tenantId,createdAt:new Date,name:be.name};Z==null||(re=Z.userVerified)==null||re.call(Z,En),ir(mn.USER_VERIFIED,En)}be.id&&localStorage.setItem("userId",be.id),r.afterAuthenticationStateUpdate({user:be,tenants:ke,activeTenant:De}),h({error:void 0}),r.setAuthState({isLoading:!1}),Rt.flow===dt.Login?(yield r.__shouldShowPromptPasskeys())?(r.setLoginState({step:Se.promptPasskeys,loading:!1}),pt(Le.loginUrl,{preserveQueryParams:!0})):(r.setAuthState({isAuthenticated:!0}),H.type===Te.MagicLink&&(r.setLoginState({step:Se.magicLinkPostLoginSuccess,loading:!1}),yield Y(5e3)),yield r.afterAuthNavigation()):pt(Le.loginUrl,{preserveQueryParams:!0}),localStorage.removeItem("register-quick-login"),j?.(!0)}}catch(be){h({error:_(be,"Failed to authenticate")}),j?.(null,be)}finally{h({loading:!1})}}),F=H=>l(null,null,function*(){try{h({loading:!0});let{name:j}=yield n.auth.verifyInviteToken(H);h({inviteTokenTenantName:j})}catch(j){h({inviteTokenError:_(j,"We couldn't verify your invitation")})}finally{h({loading:!1})}}),C=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Vj);try{var q;r.setPasskeysState({loading:!0}),h({loading:!0});let{options:re}=yield n.auth.webAuthnPreLogin(Z);re.challenge=bt(re.challenge),re.allowCredentials=(q=re.allowCredentials)==null?void 0:q.map(be=>y({},be,{id:bt(be.id)})),h({error:void 0}),j?.(re)}catch(re){h({error:_(re)}),j?.(null)}finally{r.setPasskeysState({loading:!1}),h({loading:!1})}}),R=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,$j);try{var q;r.setPasskeysState({loading:!0}),h({loading:!0});let re=gn(Z.publicKey),be=yield n.auth.webAuthnPostLoginV2(y({},re,{response:y({},re.response,{userHandle:(q=re.response.userHandle)!=null?q:void 0}),recaptchaToken:Z.recaptchaToken,invitationToken:Z.invitationToken})),{user:ke}=be,De=V(be,Bj);if(yn(ke,e.root.appName)){let{routes:Le,onRedirectTo:pt}=e.auth,Rt=yield r.getMfaRequiredState(ke);r.setAuthState(Rt),pt(Le.loginUrl,{preserveQueryParams:!0})}else ke.id&&localStorage.setItem("userId",ke.id),r.afterAuthenticationStateUpdate(y({user:ke},De),{isAuthenticated:!0}),h({error:void 0}),yield r.afterAuthNavigation(),j?.(!0)}catch(re){h({error:_(re)}),j?.(null)}finally{r.setPasskeysState({loading:!1}),h({loading:!1})}}),U=H=>l(null,null,function*(){let{callback:j}=H;try{h({loading:!0});let{options:Z}=yield n.auth.webAuthnCreateNewDeviceSession();Z.user.id=bt(Z.user.id),Z.challenge=bt(Z.challenge),Z.excludeCredentials=[],j?.(Z)}catch(Z){h({error:_(Z)}),j?.(null)}finally{h({loading:!1})}}),G=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Hj);try{h({loading:!0});let q=gn(Z.publicKey),re=q?.authenticatorAttachment==="platform"?Cs.Platform:Cs.CrossPlatform;yield n.auth.verifyNewDeviceSession({id:q.id,response:q.response,deviceType:re}),j?.(!0)}catch(q){h({error:_(q)}),j?.(null)}finally{h({loading:!1})}}),z=H=>l(null,null,function*(){let{callback:j}=H;try{r.setAuthState({userIpData:{loading:!0}});let{ip:Z,country_code:q}=yield n.metadata.getCurrentUserIpMetadata();r.setAuthState({userIpData:{ip:Z,countryCode:q,loading:!1}}),r.setAuthState({userIp:Z}),j?.({ip:Z,countryCode:q})}catch{r.setAuthState({userIpData:{loading:!1}}),j?.(!1)}}),W=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Gj);h({loading:!0});try{var q;let re=yield n.auth.preEnrollMFAWebAuthnForLogin(Z),be=y({},re.options,{challenge:bt(re.options.challenge),user:y({},re.options.user,{id:bt(re.options.user.id)}),excludeCredentials:(q=re.options.excludeCredentials)==null?void 0:q.map(ke=>y({},ke,{id:bt(ke.id)}))});h({loading:!1}),j?.({options:be,webauthnToken:re.webauthnToken})}catch(re){h({loading:!1,error:_(re)}),j?.(null)}}),$=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Wj);h({loading:!0});try{let q=gn(Z.publicKey),re=yield n.auth.enrollMFAWebAuthnForLoginV2(y({},Z,{options:q}));yield pe(re),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),B=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,zj);h({loading:!0});try{let q=yield n.auth.enrollMFAAuthenticatorAppForLoginV2(Z);yield pe(q),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),te=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,qj);h({loading:!0});try{let q=yield n.auth.preEnrollMFASMSForLogin(Z);r.setMfaState({otcToken:q.otcToken,step:Ne.smsVerifyCode,phoneNumber:q.phoneNumber}),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),ae=H=>l(null,null,function*(){let{callback:j}=H,Z=V(H,Yj);h({loading:!0});try{let q=yield n.auth.enrollMFASMSForLoginV2(Z);yield pe(q),h({loading:!1}),j?.(!0)}catch(q){h({loading:!1,error:_(q)}),j?.(null)}}),pe=H=>l(null,null,function*(){let{user:j,tenants:Z=[],activeTenant:q}=H,re={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1};j!=null&&j.recoveryCode&&(re.recoveryCode=j.recoveryCode),r.setMfaState(re),r.setUser(j),r.setTenantsState({tenants:Z,activeTenant:q,loading:!1}),j.id&&localStorage.setItem("userId",j.id)}),ye=H=>l(null,null,function*(){h({loading:!0});try{yield n.auth.forgotPassword(H),h({loading:!1,error:void 0,step:Se.breachedPasswordSuccess}),r.setAuthState({isAuthenticated:!1})}catch(j){h({loading:!1,error:_(j)})}}),Pt=()=>l(null,null,function*(){let{user:H}=e.auth;if(!(H!=null&&H.refreshToken)){o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1});return}try{let j={grant_type:"refresh_token",refresh_token:H?.refreshToken},Z=yield n.auth.exchangeOAuthTokensV2(j),q=yield u(Z.user);r.afterAuthenticationStateUpdate(y({},Z,{user:q}),{isAuthenticated:!0})}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:null,isAuthenticated:!1})}}),qe=()=>l(null,null,function*(){try{let{routes:j,loginState:Z,onRedirectTo:q}=e.auth,{user:re,tenants:be=[],activeTenant:ke}=yield n.auth.refreshTokenV3();if(yn(re,e.root.appName)){let De=yield r.getMfaRequiredState(re);r.setAuthState(De),q(j.loginUrl,{preserveQueryParams:!0})}else{let De=yield u(re);if(yield r.__shouldShowPromptPasskeys())r.setLoginState({step:Se.promptPasskeys,loading:!1}),r.afterAuthenticationStateUpdate({user:De,tenants:be,activeTenant:ke},{isLoading:!1}),q(j.loginUrl,{preserveQueryParams:!0});else{var H;re.id&&localStorage.setItem("userId",re.id);let pt=(H=localStorage.getItem("register-quick-login"))!=null?H:Z.quickLoginToRegister,Rt=s(re);r.afterAuthenticationStateUpdate({user:De,tenants:be,activeTenant:ke},{loginState:y({},Z,{quickLoginToRegister:pt,flow:Rt?dt.RegisterQuickLogin:dt.Login}),isAuthenticated:!0}),yield d(Rt)}}}catch{o.setAccessToken(null),o.setUser(null),r.setAuthState({user:void 0,isAuthenticated:!1})}});return y({setLoginState:h,resetLoginState:v,requestAuthorize:D,requestAuthorizeSSR:T,preLogin:E,postLogin:A,login:I,logout:w,silentLogout:M,recoverMfa:O,quickSmsPasswordlessPreLogin:L,changePhoneNumberWithVerification:x,verifyChangePhoneNumber:N,passwordlessPreLogin:k,passwordlessPostLogin:P,verifyInviteToken:F,webAuthnPrelogin:C,webAuthnPostLogin:R,webAuthnCreateNewDeviceSession:U,webAuthnVerifyNewDeviceSession:G,getUserIP:z,preEnrollMFAWebAuthnForLogin:W,enrollMFAWebAuthnForLogin:$,enrollMFAAuthenticatorAppForLogin:B,preEnrollMFASMSForLogin:te,enrollMFASMSForLogin:ae,handleEnrollMFAResponse:pe,resetBreachedPassword:ye,refreshTokenForSocialLogins:()=>l(null,null,function*(){e.auth.hostedLoginBox?yield Pt():yield qe()}),__refreshToken:a},r_(e,n,t),KC(e,n,t),QC(e,n,t),JC(e,n,t),XC(e,n,t),e_(e,n,t),t_(e,n,t),n_(e,n,t))};var ny={step:Ne.verify,loading:!1,saving:!1},ry=e=>K(ny,e);var Zj=["callback"],Kj=["callback"],Qj=["user"],Jj=["deviceId"],Xj=["deviceId"],e2=["callback"],t2=["callback"],n2=["deviceId","callback"],tl=(e,n,t)=>{let r=t;function o(A){return l(this,null,function*(){let I=e.auth.mfaState.step;return{step:A.recoveryCode?Ne.recoveryCode:I,loading:!1,saving:!1,error:void 0,recoveryCode:A?.recoveryCode}})}let i=A=>{Object.assign(e.auth.mfaState,A)};return{setMfaState:i,resetMfaState:()=>{Q(e,["auth","mfaState"],ny)},getMFADevices:()=>l(null,null,function*(){i({loading:!0});try{let A=yield n.auth.getMFADevices();i({loading:!1,error:void 0,mfaDevices:A})}catch(A){i({loading:!1,error:_(A)})}}),getMFAStrategies:A=>l(null,null,function*(){i({loading:!0});try{let w=(yield ee(()=>n.auth.getMFAStrategiesConfig(),A?.retryConfig)).strategies.filter(({isActive:M})=>M).map(({strategy:M})=>M);i({loading:!1,error:void 0,mfaStrategies:w})}catch(I){i({loading:!1,error:_(I)})}}),enrollMfa:()=>l(null,null,function*(){i({saving:!0});try{let{qrCode:A}=yield n.auth.enrollMfa();i({saving:!1,error:void 0,qrCode:A})}catch(A){i({saving:!1,error:_(A)})}}),verifyMfa:A=>l(null,null,function*(){let{callback:I}=A,w=V(A,Zj);i({saving:!0});try{let M=e.auth.user,O=yield n.auth.verifyMfa(w),L=yield n.auth.getMFADevices(),x=yield o(O);i(y({},x,{mfaDevices:L})),r.setUser(y({},M,{mfaEnrolled:!0})),I?.(x.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),verifyMfaAfterForce:A=>l(null,null,function*(){let{callback:I}=A,w=V(A,Kj);i({loading:!0});try{let M=yield n.auth.loginWithMfaV2(w),{user:O}=M,L=V(M,Qj),x={step:Ne.recoveryCode,loading:!1,saving:!1,error:void 0};O!=null&&O.recoveryCode&&(x.recoveryCode=O.recoveryCode),i(x),yield r.afterAuthenticationStateUpdate(y({user:O},L)),I?.(x.recoveryCode)}catch(M){i({loading:!1,error:_(M)}),I?.(null,M)}}),disableMfa:A=>l(null,null,function*(){i({saving:!0});try{var I;yield n.auth.disableMfa(A);let M=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:M}),(I=A.callback)==null||I.call(A,!0)}catch(M){var w;i({saving:!1,error:_(M)}),(w=A.callback)==null||w.call(A,!1,M)}}),preDisableMfaSms:A=>l(null,null,function*(){let{deviceId:I}=A,w=V(A,Jj);i({saving:!0});try{var M;let L=yield n.auth.preDisableMFASMS(I);i({saving:!1,error:void 0,otcToken:L.otcToken,phoneNumber:L.phoneNumber}),(M=w.callback)==null||M.call(w,!0)}catch(L){var O;i({saving:!1,error:_(L)}),(O=w.callback)==null||O.call(w,!1,L)}}),disableMfaSms:A=>l(null,null,function*(){let{deviceId:I}=A,w=V(A,Xj);i({saving:!0});try{var M;yield n.auth.disableMFASMS(I,w);let L=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:L}),(M=w.callback)==null||M.call(w,!0)}catch(L){var O;i({saving:!1,error:_(L)}),(O=w.callback)==null||O.call(w,!1,L)}}),preEnrollMfaSms:A=>l(null,null,function*(){i({saving:!0});try{var I;let M=yield n.auth.preEnrollMFASMS(A);i({saving:!1,error:void 0,otcToken:M.otcToken,phoneNumber:M.phoneNumber}),(I=A.callback)==null||I.call(A,!0)}catch(M){var w;i({saving:!1,error:_(M)}),(w=A.callback)==null||w.call(A,!1,M)}}),enrollMfaSms:A=>l(null,null,function*(){let{callback:I}=A,w=V(A,e2);i({saving:!0});try{let M=yield n.auth.enrollMFASMS(w),O=yield n.auth.getMFADevices(),L=yield o(M);i(y({},L,{mfaDevices:O})),I?.(L.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),preEnrollMfaWebAuthn:A=>l(null,null,function*(){i({saving:!0});try{var I,w;let O=yield n.auth.preEnrollMFAWebAuthn(),L=y({},O.options,{challenge:bt(O.options.challenge),user:y({},O.options.user,{id:bt(O.options.user.id)}),excludeCredentials:(I=O.options.excludeCredentials)==null?void 0:I.map(x=>y({},x,{id:bt(x.id)}))});i({saving:!1}),(w=A.callback)==null||w.call(A,{options:L,webauthnToken:O.webauthnToken})}catch(O){var M;i({saving:!1,error:_(O)}),(M=A.callback)==null||M.call(A,null,O)}}),enrollMfaWebAuthn:A=>l(null,null,function*(){let{callback:I}=A,w=V(A,t2);i({saving:!0});try{let M=gn(w.publicKey),O=yield n.auth.enrollMFAWebAuthn(y({},w,{options:M})),L=yield n.auth.getMFADevices(),x=yield o(O);i(y({},x,{mfaDevices:L})),I?.(x.recoveryCode)}catch(M){i({saving:!1,error:_(M)}),I?.(null,M)}}),preDisableMfaWebAuthn:A=>l(null,null,function*(){let{deviceId:I,callback:w}=A;i({saving:!0});try{var M;let O=yield n.auth.preDisableMFAWebAuthn(I),L=y({},O.options,{challenge:bt(O.options.challenge),allowCredentials:(M=O.options.allowCredentials)==null?void 0:M.map(x=>y({},x,{id:bt(x.id)}))});i({saving:!1}),w?.({options:L,webauthnToken:O.webauthnToken})}catch(O){i({saving:!1,error:_(O)}),w?.(null,O)}}),disableMfaWebAuthn:A=>l(null,null,function*(){let{deviceId:I,callback:w}=A,M=V(A,n2);i({saving:!0});try{let O=gn(M.publicKey);yield n.auth.disableMFAWebAuthn(I,y({},M,{options:O}));let L=yield n.auth.getMFADevices();i({saving:!1,error:void 0,mfaDevices:L}),w?.(!0)}catch(O){i({saving:!1,error:_(O)}),w?.(!1,O)}}),__getMfaStateAfterEnroll:o}};var np={loaders:{},errors:{},accounts:{tenantId:"",children:[]},accountsQueryParams:{_limit:50,_offset:0,_filter:"",_subTenantId:""},searchAccountsData:[],rootAccount:{tenantId:""},selectedAccount:{tenantId:"",userJwt:{accessToken:"",expiresIn:0,expires:""},users:[],usersQueryParams:{_offset:0,_limit:10,_order:ec.DESC,_sortBy:Ic.name},usersPageOffset:0,accountSettings:{}}},oy=e=>K(np,e);var ft;(function(e){e.GET_ACCOUNTS="GET_ACCOUNTS",e.SEARCH_ACCOUNTS="SEARCH_ACCOUNTS",e.SET_ROOT_ACCOUNT_DATA="SET_ROOT_ACCOUNT_DATA",e.SET_SELECTED_SUB_ACCOUNT_DATA="SET_SELECTED_SUB_ACCOUNT_DATA",e.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT="LOAD_NUMBER_OF_USERS_FOR_ACCOUNT",e.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER="UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER",e.CREATE_SUB_ACCOUNT="CREATE_SUB_ACCOUNT",e.UPDATE_SUB_ACCOUNT="UPDATE_SUB_ACCOUNT",e.DELETE_SUB_ACCOUNT="DELETE_SUB_ACCOUNT",e.GET_ACCOUNT_USERS="GET_ACCOUNT_USERS",e.ADD_USERS_TO_ACCOUNT="ADD_USERS_TO_ACCOUNT",e.DELETE_USERS_FROM_ACCOUNT="DELETE_USERS_FROM_ACCOUNT",e.SET_USER_ROLES_FOR_SUB_ACCOUNT="SET_USER_ROLES_FOR_SUB_ACCOUNT",e.UPDATE_SUB_ACCOUNT_SETTINGS="UPDATE_SUB_ACCOUNT_SETTINGS",e.UPDATE_SUB_ACCOUNT_MANAGEMENT="UPDATE_SUB_ACCOUNT_MANAGEMENT",e.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS="UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS",e.GET_USER_JWT="GET_USER_JWT",e.GET_TEAM_USERS="GET_TEAM_USERS"})(ft||(ft={}));function hi(e,n,t){var r,o;if(e.tenantId===n){var i;let c=[...(i=e?.children)!=null?i:[],...t].filter((a,u,d)=>u===d.findIndex(p=>p.tenantId===a.tenantId));return y({},e,{children:c})}return y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(s=>hi(s,n,t)))!=null?r:[]})}var iy=({items:e},n)=>e.map(t=>{var r,o;return{name:t.name,tenantId:t.tenantId,numberOfUsers:(r=(o=n.find(i=>i.tenantId===t.tenantId))==null?void 0:o.totalUsers)!=null?r:0,createdAt:t.createdAt,metadata:t.metadata,isReseller:t.isReseller,subAccountAccessType:t.subAccountAccessType}});function nl(e,n){var t;return y({},e,{children:(t=e.children)!=null&&t.length?e.children.filter(r=>r.tenantId!==n).map(r=>nl(r,n)):[]})}var rl=(e,n,t)=>{var r,o;return e.tenantId===n?y({},e,{name:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>rl(i,n,t)))!=null?r:[]})};var ol=(e,n,t)=>{var r,o;return e.tenantId===n?y({},e,{subAccountAccessType:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>ol(i,n,t)))!=null?r:[]})};var il=(e,n,t)=>{var r,o;return e?e.tenantId===n?y({},e,{isReseller:t}):y({},e,{children:(r=e==null||(o=e.children)==null?void 0:o.map(i=>il(i,n,t)))!=null?r:[]}):{}};var sl=(e,n,t)=>{let r=x=>{Object.assign(e.auth.allAccountsState,{loaders:y({},e.auth.allAccountsState.loaders,{[x.key]:x.value})})},o=x=>{Object.assign(e.auth.allAccountsState,{errors:y({},e.auth.allAccountsState.errors,{[x.key]:x.value}),loaders:y({},e.auth.allAccountsState.loaders,{[x.key]:!1})})},i=x=>{Object.assign(e.auth.allAccountsState,x)},s=x=>{Object.assign(e.auth.allAccountsState.selectedAccount,x)},c=()=>{Q(e,["auth","allAccountsState"],np)},a=()=>{Q(e,["auth","allAccountsState","selectedAccount"],np.selectedAccount)},u=()=>e.auth.allAccountsState,d=x=>l(null,null,function*(){let N=ft.GET_ACCOUNTS;r({key:N,value:!0});let{accountsQueryParams:k}=u(),{jwt:P,_limit:F,_offset:C}=x,R={_offset:C??k._offset,_limit:F??k._limit,_subTenantId:x?._subTenantId};try{if(!!P){var U;let{selectedAccount:W}=u(),{items:$,_links:B}=yield n.tenants.searchSubTenants(R,{jwt:P}),te=yield n.tenants.getTenantsUsersCount({tenantIds:$.map(ye=>ye.tenantId)},{jwt:P}),ae=iy({items:$},te),pe=hi(W.accounts?W.accounts:W,(U=x?._subTenantId)!=null?U:"",ae.map(ye=>({name:ye.name,tenantId:ye.tenantId,numberOfUsers:ye.numberOfUsers,createdAt:ye.createdAt,metadata:ye.metadata,children:[],loadMoreLink:B?.next,isReseller:ye.isReseller})));s({accounts:pe})}else{var G;let{accounts:W}=u(),{items:$,_links:B}=yield n.tenants.searchSubTenants(R),te=yield n.tenants.getTenantsUsersCount({tenantIds:$.map(ye=>ye.tenantId)}),ae=iy({items:$},te),pe=hi(W,(G=x?._subTenantId)!=null?G:"",ae.map(ye=>({name:ye.name,tenantId:ye.tenantId,numberOfUsers:ye.numberOfUsers,createdAt:ye.createdAt,metadata:ye.metadata,children:[],loadMoreLink:B?.next,isReseller:ye.isReseller})));i({accounts:pe})}}catch(z){o({key:N,value:_(z)})}finally{r({key:N,value:!1})}}),p=x=>l(null,null,function*(){let{jwt:N}=x,k=ft.SEARCH_ACCOUNTS;r({key:k,value:!0});let{rootAccount:P}=u();try{if(x!=null&&x._subTenantId){var F;let{items:C}=yield n.tenants.searchSubTenants({_offset:0,_limit:50,_filter:(F=x?._filter)!=null?F:"",_subTenantId:x._subTenantId},{jwt:N});i({searchAccountsData:[...C,{name:P.name,tenantId:P.tenantId}]})}}catch(C){o({key:k,value:_(C)})}finally{r({key:k,value:!1})}}),g=x=>l(null,null,function*(){let N=ft.UPDATE_SUB_ACCOUNT_ACCESS_FOR_USER;r({key:N,value:!0});let{selectedAccount:k}=u(),{userId:P,allowAccess:F,jwt:C,callback:R}=x;try{var U;yield n.subTenants.updateSubAccountAccess(P,{allowAccess:F},{jwt:C}),s({users:k==null||(U=k.users)==null?void 0:U.map(G=>G.id===P?y({},G,{subAccountAccessAllowed:F}):G)}),R?.(!0)}catch(G){o({key:N,value:_(G)}),R?.(!1)}finally{r({key:N,value:!1})}}),f=x=>l(null,null,function*(){let N=ft.CREATE_SUB_ACCOUNT;r({key:N,value:!0});let{name:k,parentTenantId:P,tenantId:F,jwt:C,callback:R}=x;try{if(!!C){let{accounts:G,selectedAccount:z}=u(),W=yield n.subTenants.createSubTenant({name:k,parentTenantId:P,tenantId:F},{jwt:C}),$=hi(G,P??"",[{name:W.name,tenantId:W.tenantId,numberOfUsers:0,createdAt:new Date}]),B=hi(y({name:"",tenantId:""},z?.accounts),P??"",[{name:W.name,tenantId:W.tenantId,numberOfUsers:0,createdAt:new Date}]);i({accounts:$}),s({accounts:B})}else{let{accounts:G}=u(),z=yield n.subTenants.createSubTenant({name:k,tenantId:F,parentTenantId:P}),W=hi(G,P??"",[{name:z.name,tenantId:z.tenantId,numberOfUsers:0,createdAt:new Date}]);i({accounts:W})}R?.(!0)}catch(U){o({key:N,value:_(U)}),R?.(!1)}finally{r({key:N,value:!1})}}),h=x=>l(null,null,function*(){}),v=x=>l(null,null,function*(){let N=ft.DELETE_SUB_ACCOUNT;r({key:N,value:!0});let{jwt:k,tenantId:P,callback:F}=x;try{if(!!k){let{selectedAccount:R,accounts:U}=u();yield n.subTenants.deleteSubTenant(P,{jwt:k});let G=nl(U,P),z=nl(R.accounts,P);i({accounts:G}),s({accounts:z})}else{let{accounts:R}=u();yield n.subTenants.deleteSubTenant(P);let U=nl(R,P);i({accounts:U})}F?.(!0)}catch(C){o({key:N,value:_(C)}),F?.(!1)}finally{r({key:N,value:!1})}}),S=x=>l(null,null,function*(){let N=ft.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;r({key:N,value:!0});let{jwt:k,callback:P,tenantId:F,subAccountAccessType:C}=x;if(C)try{if(!!k){let{selectedAccount:U,accounts:G}=u();yield n.subTenants.updateSubTenantHierarchySettings({tenantId:F},{subAccountAccessType:C},{jwt:k});let z=ol(U.accounts,F,C);s({subAccountAccessType:C,accounts:z});let W=ol(G,F,C);i({accounts:W})}else{let{accounts:U}=u();yield n.subTenants.updateSubTenantHierarchySettings({tenantId:F},{subAccountAccessType:C});let G=ol(U,F,C);i({accounts:G})}P?.(!0)}catch(R){o({key:N,value:_(R)}),P?.(!1)}finally{r({key:N,value:!1})}}),D=x=>l(null,null,function*(){let N=ft.UPDATE_SUB_ACCOUNT_HIERARCHY_SETTINGS;r({key:N,value:!0});let{jwt:k,name:P,callback:F,tenantId:C}=x;try{if(!!k){let{selectedAccount:U,accounts:G}=u();yield n.subTenants.updateSubTenant({tenantId:C},{name:P},{jwt:k});let z=rl(U.accounts,C,P);s({name:P,accounts:z});let W=rl(G,C,P);i({accounts:W})}else{let{accounts:U}=u();yield n.subTenants.updateSubTenant({tenantId:C},{name:P});let G=rl(U,C,P);i({accounts:G})}F?.(!0)}catch(R){o({key:N,value:_(R)}),F?.(!1)}finally{r({key:N,value:!1})}}),T=x=>l(null,null,function*(){let N=ft.UPDATE_SUB_ACCOUNT_MANAGEMENT;t.setAllAccountsLoader({key:N,value:!0});let{jwt:k,isReseller:P,callback:F,tenantId:C,shouldUpdateSelectedAccount:R}=x,U=!!k;try{if(R){let{selectedAccount:G,accounts:z}=e.auth.allAccountsState;yield n.subTenants.updateSubTenantManagement({tenantId:C},{isReseller:P},k?{jwt:k}:void 0);let W=il(G.accounts,C,P??!1);s({accounts:W}),U||s({isReseller:P});let $=il(z,C,P??!1);i({accounts:$})}else{let{accounts:G}=e.auth.allAccountsState;n.subTenants.updateSubTenantManagement({tenantId:C},{isReseller:P},k?{jwt:k}:void 0);let z=il(G,C,P??!1);i({accounts:z})}F?.(!0)}catch(G){o({key:N,value:_(G)}),F?.(!1)}finally{r({key:N,value:!1})}}),m=x=>l(null,null,function*(){let{users:N,tenantId:k,jwt:P,callback:F,allowSubAccountAccess:C=!1,roleIds:R}=x,U=ft.ADD_USERS_TO_ACCOUNT;try{r({key:U,value:!0}),yield n.subTenants.addUsersToSubTenant({users:N,tenantId:k,allowSubAccountAccess:C,roleIds:R},{jwt:P}),yield E({jwt:P,_tenantId:k}),F?.(!0)}catch(G){o({key:U,value:_(G)}),F?.(!1)}finally{r({key:U,value:!1})}}),E=x=>l(null,null,function*(){var N,k,P,F,C,R,U,G;let{jwt:z,_tenantId:W,_email:$}=x,B=ft.GET_ACCOUNT_USERS;r({key:B,value:!0});let te=u(),ae=(N=(k=x?._offset)!=null?k:te==null||(P=te.selectedAccount)==null||(F=P.usersQueryParams)==null?void 0:F._offset)!=null?N:0,pe=(C=(R=x?._limit)!=null?R:te==null||(U=te.selectedAccount)==null||(G=U.usersQueryParams)==null?void 0:G._limit)!=null?C:10,ye=y({_offset:ae,_limit:pe,_tenantId:W,_includeSubTenants:!1},!!$&&{_email:$});try{let{items:Pt,_metadata:{totalItems:qe,totalPages:Ue}}=yield n.users.getUsersV3(ye,{jwt:z}),H={totalUsersItems:qe,totalUsersPages:Ue,usersQueryParams:y({_offset:ae??0,_limit:pe??10},!!$&&{_email:$})};if(Pt.length){let j=Pt.map(be=>be.id),Z=yield n.roles.getRoles(),q=yield n.users.getUsersRoles({ids:j},{jwt:z}),re=Pt.map(be=>{var ke,De;let Le=q==null||(ke=q.find(pt=>pt.userId===be.id))==null?void 0:ke.roleIds;return y({},be,{roles:(De=Le?.map(pt=>{var Rt;return(Rt=Z?.find(En=>En.id===pt))!=null?Rt:[]}))!=null?De:[]})});s(y({users:re},H))}else s(y({users:[]},H))}catch(Pt){o({key:B,value:_(Pt)})}finally{r({key:B,value:!1})}});return{setAllAccountsLoader:r,setAllAccountsError:o,setAllAccountsState:i,setSelectedAccountState:s,resetAllAccountsState:c,clearSelectedAccount:a,loadAccounts:d,searchAccounts:p,updateSubAccountAccessForUser:g,createSubAccount:f,updateSubAccount:h,deleteSubAccount:v,updateSubAccountSettings:D,updateSubAccountManagement:T,updateSubAccountHierarchySettings:S,addUsersToAccount:m,getAccountUsers:E,deleteUsersFromAccount:x=>l(null,null,function*(){let N=ft.DELETE_USERS_FROM_ACCOUNT;r({key:N,value:!0});let{userId:k,subTenants:P,jwt:F,callback:C}=x;try{yield n.subTenants.removeUserFromTenantAndSubTenants({userId:k,subTenants:P},{jwt:F}),yield E({jwt:F,_tenantId:P[0].tenantId}),C?.(!0)}catch(R){o({key:N,value:_(R)}),C?.(!1)}finally{r({key:N,value:!1})}}),setUserRolesForSubAccount:x=>l(null,null,function*(){let{userId:N,subTenantsRoles:k,jwt:P,callback:F}=x,C=ft.SET_USER_ROLES_FOR_SUB_ACCOUNT;try{r({key:C,value:!0});let{selectedAccount:R}=u();yield n.subTenants.setUserRolesForSubTenants(N,{subTenantsRoles:k},{jwt:P}),yield E({jwt:P,_tenantId:R.tenantId}),F?.(!0)}catch(R){o({key:C,value:_(R)}),F?.(!1)}finally{r({key:C,value:!1})}}),getUserJwtForSubAccount:x=>l(null,null,function*(){let{tenantId:N,callback:k}=x,P=ft.GET_USER_JWT;try{r({key:P,value:!0});let F=yield n.users.GetUserJwt({tenantId:N});s({userJwt:F,accessPermission:!0}),k?.(!0)}catch(F){o({key:P,value:_(F)}),s({accessPermission:!1}),k?.(!1)}finally{r({key:P,value:!1})}}),setRootAccountData:()=>l(null,null,function*(){let x=ft.SET_ROOT_ACCOUNT_DATA;r({key:x,value:!0});let{activeTenant:N}=e.auth.tenantsState,{accounts:k}=u();if(N)try{var P;let F=yield n.tenants.getTenantsUsersCount({tenantIds:[N?.tenantId]}),C={name:N?.name,tenantId:N?.tenantId,numberOfUsers:(P=F[0])==null?void 0:P.totalUsers,createdAt:N?.createdAt};i({rootAccount:C,accounts:y({},k,C)})}catch(F){o({key:x,value:_(F)})}finally{r({key:x,value:!1})}}),setSelectedSubAccountData:x=>l(null,null,function*(){let{jwt:N}=x,k=ft.SET_SELECTED_SUB_ACCOUNT_DATA;try{var P,F,C,R,U,G,z;r({key:k,value:!0});let W=yield n.accountSettings.getSettings({jwt:N}),[$,B,te]=yield Promise.all([n.tenants.getTenantsUsersCount({tenantIds:[(P=W?.tenantId)!=null?P:""]},{jwt:N}),n.tenants.getParentTenants({jwt:N}),n.tenants.getHierarchyMetadata({_tenantIds:[(F=W?.tenantId)!=null?F:""]},{jwt:N})]);s({tenantId:(C=W.tenantId)!=null?C:"",name:W.name,numberOfUsersObject:$[0],parentsAccounts:B,numberOfSubAccounts:(R=te[0])==null?void 0:R.totalSubTenants,accountSettings:W,accounts:{name:W.name,tenantId:(U=W.tenantId)!=null?U:"",numberOfUsers:(G=$[0])==null?void 0:G.totalUsers,createdAt:void 0,children:[]}}),yield E({jwt:N,_tenantId:(z=W?.tenantId)!=null?z:""})}catch(W){o({key:k,value:_(W)})}finally{r({key:k,value:!1})}}),loadNumberOfUsersForSelectedSubAccount:x=>l(null,null,function*(){let{tenantId:N,jwt:k}=x,P=ft.LOAD_NUMBER_OF_USERS_FOR_ACCOUNT;try{r({key:P,value:!0});let F=yield n.tenants.getTenantsUsersCount({tenantIds:[N]},{jwt:k});s({numberOfUsersObject:F[0]})}catch(F){o({key:P,value:_(F)})}finally{r({key:P,value:!1})}})}};var bn={createSubAccountDialog:{loading:!1,open:!1,error:!1,jwt:"",canSelectParentAccount:!1},updateSubAccountDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1,jwt:""},disableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},enableSubAccountManagementDialog:{accountId:"",accountName:"",loading:!1,open:!1,error:!1},updateSubAccountHierarchySettingsDialog:{accountId:"",accountName:"",subAccountAccessType:Ec.DEFAULT_OFF,loading:!1,open:!1,error:!1},deleteSubAccountDialog:{accountId:"",accountName:"",isParentAccount:!1,loading:!1,open:!1,error:!1,jwt:""},addUsersToAccountDialog:{loading:!1,open:!1,accountName:"",accountId:"",permissionToGiveAccessToSubAccounts:!1,jwt:""},deleteUserFromAccountDialog:{userId:"",userName:"",accountId:"",loading:!1,open:!1,jwt:""},editUserRolesDialog:{loading:!1,open:!1,jwt:"",accountId:"",userId:"",userName:"",userRoles:[]}},sy=e=>K(bn,e);var al=(e,n,t)=>({setAllAccountDialogsState:w=>{Object.assign(e.auth.allAccountsDialogsState,w)},resetAllAccountDialogsState:()=>{Q(e,["auth","allAccountsDialogsState"],bn)},openCreateSubAccountDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.createSubAccountDialog,y({},w,{open:!0}))},closeCreateSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","createSubAccountDialog"],bn.createSubAccountDialog)},openUpdateSubAccountDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.updateSubAccountDialog,y({},w,{open:!0}))},closeUpdateSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","updateSubAccountDialog"],bn.updateSubAccountDialog)},openEnableSubAccountManagementDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.enableSubAccountManagementDialog,y({},w,{open:!0}))},closeEnableSubAccountManagementDialog:()=>{Q(e,["auth","allAccountsDialogsState","enableSubAccountManagementDialog"],bn.enableSubAccountManagementDialog)},openUpdateSubAccountHierarchySettingsDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.updateSubAccountHierarchySettingsDialog,y({},w,{open:!0}))},closeUpdateSubAccountHierarchySettingsDialog:()=>{Q(e,["auth","allAccountsDialogsState","updateSubAccountHierarchySettingsDialog"],bn.updateSubAccountHierarchySettingsDialog)},openDisableSubAccountManagementDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.disableSubAccountManagementDialog,y({},w,{open:!0}))},closeDisableSubAccountManagementDialog:()=>{Q(e,["auth","allAccountsDialogsState","disableSubAccountManagementDialog"],bn.disableSubAccountManagementDialog)},openDeleteSubAccountDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.deleteSubAccountDialog,y({},w,{open:!0}))},closeDeleteSubAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","deleteSubAccountDialog"],bn.deleteSubAccountDialog)},openAddUsersToAccountDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.addUsersToAccountDialog,y({},w,{open:!0}))},closeAddUsersToAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","addUsersToAccountDialog"],bn.addUsersToAccountDialog)},openDeleteUserFromAccountDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.deleteUserFromAccountDialog,y({},w,{open:!0}))},closeDeleteUserFromAccountDialog:()=>{Q(e,["auth","allAccountsDialogsState","deleteUserFromAccountDialog"],bn.deleteUserFromAccountDialog)},openEditUserRolesDialog:w=>{Object.assign(e.auth.allAccountsDialogsState.editUserRolesDialog,y({},w,{open:!0}))},closeEditUserRolesDialog:()=>{Q(e,["auth","allAccountsDialogsState","editUserRolesDialog"],bn.editUserRolesDialog)}});var ay={devices:[],loading:!1,error:null},cy=e=>K(ay,e);var cl=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.passkeysState,d)},i=()=>{Q(e,["auth","passkeysState"],ay)},s=()=>l(null,null,function*(){o({loading:!0});try{let{devices:d}=yield n.auth.getWebAuthnDevices();o({devices:d,loading:!1})}catch(d){o({loading:!1,error:_(d,null)})}}),c=d=>l(null,null,function*(){let{callback:p,deviceId:g}=d;o({loading:!0});try{yield n.auth.deleteWebAuthnDevice(g);let h=e.auth.passkeysState.devices.filter(v=>v.id!==g);o({devices:h,loading:!1}),p?.(!0)}catch(f){o({loading:!1,error:_(f,null)}),p?.(null,f)}});function a(d){return l(this,null,function*(){var p;return!!(d!=null&&(p=d.secondaryAuthStrategies)!=null&&p.some(({isActive:g,strategy:f})=>g&&f===nc.Passkeys))})}function u(){return l(this,null,function*(){let{publicAuthStrategyPolicy:d}=e.auth.securityPolicyState,{policy:p}=d,g=yield a(p),f=localStorage.getItem("preferred-login-method")==="Passkeys",h=localStorage.getItem("dont-show-again-prompt-passkeys")==="true",[v]=yield r.getFeatureFlags(["show-passkeys-new"]);if(!v||!g||f||h)return!1;{let{devices:S}=yield n.auth.getWebAuthnDevices();return o({devices:S??[]}),(S!=null&&S.length?S.length:0)===0}})}return{setPasskeysState:o,resetPasskeysState:i,loadWebAuthnDevices:s,deleteWebAuthnDevice:c,__shouldShowPromptPasskeys:u}};var ly={loading:!1,error:null},uy=e=>K(ly,e);var r2=["callback","profilePictureUrl"],ll=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.auth.profileState,p)};return{setProfileState:o,resetProfileState:()=>{Q(e,["auth","profileState"],ly)},loadProfile:()=>l(null,null,function*(){o({loading:!0});try{let p=yield Af(n.teams.getProfile,3,2e3),g=e.auth.user;r.setUser(y({},g,p)),o({profile:p,loading:!1})}catch(p){o({loading:!1,error:_(p)})}}),saveProfile:p=>l(null,null,function*(){let{callback:g,profilePictureUrl:f}=p,h=V(p,r2);o({saving:!0,error:null,loading:!0});try{var v;let S=(v=e.auth.profileState.profile)!=null?v:{},D=S.profilePictureUrl;if(f!==S.profilePictureUrl&&f&&(f||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)){let I=ov(f,"image");if(I){D=yield n.teams.updateProfileImage(I);let w=Date.now().toString(),M=new URL(D);M.searchParams.set("t",w),D=M.href}}let T=y({},S,h,{profilePictureUrl:D}),m=yield n.users.updateUserProfileV2(T),E=e.auth.user;r.setUser(y({},E,m)),r.setProfileState({profile:m,saving:!1,loading:!1}),g?.(T)}catch(S){o({saving:!1,error:_(S),loading:!1}),g?.(null,S)}}),changePassword:p=>l(null,null,function*(){o({loading:!0});try{var g;yield n.teams.changePassword(p),o({loading:!1,error:void 0}),(g=p.callback)==null||g.call(p,!0)}catch(h){var f;o({loading:!1,error:_(h)}),(f=p.callback)==null||f.call(p,null,h)}}),updateEmail:p=>l(null,null,function*(){let{email:g,callback:f}=p;o({saving:!0,error:null,loading:!0});try{yield n.teams.updateEmail(g),o({saving:!1,error:null,loading:!1}),f?.(!0)}catch(h){o({saving:!1,error:_(h),loading:!1}),f?.(null,h)}}),verifyEmail:p=>l(null,null,function*(){let{email:g,code:f,callback:h}=p;o({saving:!0,error:null,loading:!0});try{yield n.teams.verifyEmail(g,f),yield r.__refreshToken(),o({saving:!1,error:null,loading:!1}),h?.(!0)}catch(v){o({saving:!1,error:_(v),loading:!1}),h?.(null,v)}})}};var dy={loading:!1},fy=e=>K(dy,e);var o2=["callback"],i2=["id"],ul=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.auth.provisioningState,p)},i=()=>{Q(e,["auth","provisioningState"],dy)},s=(p,g)=>l(null,null,function*(){let{count:f}=yield ee(()=>n.directory.countConfigurationUsers(p.id),g);return y({},p,{count:f})});return{setProvisioningState:o,resetProvisioningState:i,__loadCountForConnection:s,loadProvisionConnections:p=>l(null,null,function*(){o({loading:!0,error:null});try{let g=p?.retryConfig,f=yield ee(()=>n.directory.getConfigs(),g),h=yield Promise.all(f.map(v=>s(v,g)));o({connections:h,loading:!1})}catch(g){o({error:_(g),loading:!1})}}),createProvisionConnection:p=>l(null,null,function*(){let{callback:g}=p,f=V(p,o2);o({loading:!0,error:null});try{let h=yield n.directory.createConfiguration(f),v=yield n.directory.getConfigs(),S=yield Promise.all(v.map(D=>s(D)));o({connections:S,loading:!1}),g?.(h)}catch(h){o({error:_(h),loading:!1})}}),deleteProvisionConnection:p=>l(null,null,function*(){let{id:g,callback:f}=p;o({loading:!0,error:null});try{yield n.directory.deleteConfiguration(g,p.deleteAll);let h=yield n.directory.getConfigs(),v=yield Promise.all(h.map(S=>s(S)));o({connections:v,loading:!1}),f?.(!0)}catch(h){o({error:_(h),loading:!1}),f?.(!1,h)}}),updateProvisionConnection:p=>l(null,null,function*(){let{id:g}=p,f=V(p,i2);o({loading:!0,error:null});try{yield n.directory.updateConfiguration(g,f);let h=yield n.directory.getConfigs(),v=yield Promise.all(h.map(S=>s(S)));o({connections:v,loading:!1})}catch(h){o({error:_(h),loading:!1})}})}};var so;(function(e){e.ResetPhoneNumber="ResetPhoneNumber",e.VerifyResetPhoneNumber="VerifyResetPhoneNumber",e.ChangePhoneNumber="ChangePhoneNumber"})(so||(so={}));var py={step:so.ResetPhoneNumber,loading:!1},hy=e=>K(py,e);var s2=["callback"],a2=["callback"],c2=["callback"],dl=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.auth.resetPhoneNumberState,u)};return{setResetPhoneNumberState:o,resetResetPhoneNumberState:()=>{Q(e,["auth","resetPhoneNumberState"],py)},resetPhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,s2);o({loading:!0});try{let g=yield n.auth.resetPhoneNumber(p);o({loading:!1,error:void 0,resetPhoneNumberToken:g.resetPhoneNumberToken,step:so.VerifyResetPhoneNumber}),r.setLoginState({email:p.email})}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}}),verifyResetPhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,a2);o({loading:!0});try{let g=yield n.auth.verifyResetPhoneNumber(p);o({loading:!1,error:void 0,changePhoneNumberToken:g.changePhoneNumberToken,step:so.ChangePhoneNumber}),d?.(!0)}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}}),changePhoneNumber:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,c2);o({loading:!0});try{let{onRedirectTo:g,routes:f}=e.auth;yield n.auth.changePhoneNumber({phoneNumber:p.phoneNumber,changePhoneNumberToken:p.changePhoneNumberToken}),r.setLoginState({step:Se.loginWithSmsOtc}),yield r.passwordlessPreLogin({type:Te.SmsCode,email:p.email,recaptchaToken:p.recaptchaToken}),g(f.loginUrl),o({loading:!1}),d?.(!0)}catch(g){o({loading:!1,error:_(g)}),d?.(null,g)}})}};var gy={loaders:{},errors:{},roles:[],permissions:[],permissionCategories:[]},my=e=>K(gy,e);var nn;(function(e){e.EDIT_ROLE_DIALOG="editRoleDialog",e.DELETE_ROLE_DIALOG="deleteRoleDialog",e.LOAD_ROLES="loadRoles",e.ADD_ROLE="addRole",e.MANAGE_PERMISSIONS="managePermissions"})(nn||(nn={}));var l2=["callback"],u2=["callback"],d2=["callback"],f2=["callback"],p2=["callback"],h2=["callback"],fl=(e,n,t)=>{let r=t,o=v=>{Object.assign(e.auth.rolesState,v)},i=()=>{Q(e,["auth","rolesState"],gy)},s=v=>{Object.assign(e.auth.rolesState,{loaders:y({},e.auth.rolesState.loaders,{[v.key]:v.value})})},c=v=>{Object.assign(e.auth.rolesState,{errors:y({},e.auth.rolesState.errors,{[v.key]:v.value}),loaders:y({},e.auth.rolesState.loaders,{[v.key]:!1})})},a=v=>l(null,null,function*(){var S;let D=nn.LOAD_ROLES;s({key:D,value:!((S=v?.silentLoading)!=null&&S)});try{let T=v?.retryConfig,[m,E,A]=yield Promise.all([ee(()=>n.roles.getRoles(),T),ee(()=>n.roles.getPermissions(),T),ee(()=>n.roles.getPermissionCategories(),T)]),{selectedRole:I}=e.auth.rolesState,w=m?.find(({id:M})=>I?.id===M);o({roles:m,permissions:E,permissionCategories:A,selectedRole:w})}catch(T){c({key:D,value:_(T)})}finally{s({key:D,value:!1})}}),u=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,l2),T=nn.ADD_ROLE;s({key:T,value:!0});try{let m=yield n.roles.addRole(D);yield a({silentLoading:!0}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),d=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,u2),T=nn.ADD_ROLE;s({key:T,value:!0});try{let m=yield n.roles.addRoleV2(D);yield a({silentLoading:!0}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),p=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,d2),T=nn.EDIT_ROLE_DIALOG;s({key:T,value:!0});try{let m=yield n.roles.updateRole(D);yield a({silentLoading:!0}),o({saving:!1}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}}),g=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,f2),T=nn.DELETE_ROLE_DIALOG;s({key:T,value:!0});try{yield n.roles.deleteRole(D),yield a({silentLoading:!0}),o({saving:!1}),S?.(!0)}catch(m){c({key:T,value:_(m)}),S?.(!1,m)}finally{s({key:T,value:!1})}}),f=v=>l(null,null,function*(){let{callback:S}=v,D=V(v,p2),T=nn.MANAGE_PERMISSIONS;s({key:T,value:!0});try{let m=yield n.roles.attachPermissionsToRole(D);yield a({silentLoading:!0}),o({saving:!1}),S?.(m)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}});return{setRolesState:o,setRolesStateLoader:s,setRolesStateError:c,resetRolesState:i,loadRolesAndPermissions:a,addRole:u,addRoleV2:d,updateRole:p,deleteRole:g,attachPermissionsToRole:f,attachPermissionToRoles:v=>l(null,null,function*(){let{callback:S}=v,D=V(v,h2),T=nn.MANAGE_PERMISSIONS;s({key:T,value:!0});try{yield Promise.all(D.roleIds.map(m=>f({roleId:m,permissionIds:[D.permissionId]}))),yield a({silentLoading:!0}),S?.(!0)}catch(m){c({key:T,value:_(m)}),S?.(null,m)}finally{s({key:T,value:!1})}})}};var g2={ipRestrictions:{loading:!1,pagination:{_offset:0,_limit:4,_filter:He.ALLOW},totalPages:1,userIpValid:!1},emailDomainRestrictions:{loading:!1}},vy=e=>K(g2,e);var m2=["callback"],v2=["callback"],y2=["callback"],S2=["callback"],pl=(e,n,t)=>{let r=t,o=k=>{var P,F,C;return{_filter:(P=k?._filter)!=null?P:He.ALLOW,_limit:(F=k?._limit)!=null?F:10,_offset:(C=k?._offset)!=null?C:0}},i=k=>(...P)=>l(null,null,function*(){let[F]=yield r.getFeatureFlags(["security-center-admin-portal-major-version"]);yield k(...P),F&&(yield r.loadRecommendations(Ln()),yield r.loadInsights(Ln()))}),s=k=>{Object.assign(e.auth.restrictionsState,k)},c=k=>{Object.assign(e.auth.restrictionsState.ipRestrictions,k)},a=k=>{Object.assign(e.auth.restrictionsState.emailDomainRestrictions,k)},u=()=>l(null,null,function*(){c({loading:!0,error:null});try{let k=e.auth.restrictionsState.ipRestrictions,P=yield n.auth.getIPRestrictionsConfig(),F=o({_filter:P.strategy,_limit:k.pagination._limit,_offset:k.pagination._offset}),{items:C,_metadata:{totalPages:R}}=yield n.auth.getIPRestrictions(F);c({data:{restrictions:C,config:P},totalPages:R,pagination:F,loading:!1})}catch(k){c({error:_(k),loading:!1})}}),d=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,m2);c({saving:!0,error:null});try{var C,R;yield n.auth.createIPRestriction(F);let U=e.auth.restrictionsState.ipRestrictions,G=o(U.pagination),{items:z,_metadata:{totalPages:W}}=yield n.auth.getIPRestrictions(G),$=z;yield f(),c({data:{config:(C=(R=U.data)==null?void 0:R.config)!=null?C:{isActive:!1,strategy:He.ALLOW},restrictions:$},pagination:G,totalPages:W,saving:!1}),P?.(!0)}catch(U){c({saving:!1,error:_(U)}),P?.(null,U)}}),p=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,v2);c({saving:!0,error:null});try{yield n.auth.updateIPRestrictionConfig(F);let C=e.auth.restrictionsState.ipRestrictions,R=yield n.auth.getIPRestrictionsConfig(),U=o(y({},C.pagination,{_filter:R.strategy})),{items:G,_metadata:{totalPages:z}}=yield n.auth.getIPRestrictions(U),W=G;yield f(),c({data:{config:R,restrictions:W},pagination:U,totalPages:z,saving:!1}),P?.(!0)}catch(C){c({saving:!1,error:_(C)}),P?.(null,C)}}),g=k=>l(null,null,function*(){let{id:P,callback:F}=k;c({saving:!0,error:null});try{var C;yield n.auth.deleteIPRestriction(P);let R=e.auth.restrictionsState.ipRestrictions,U=o(R.pagination),{items:G,_metadata:{totalPages:z}}=yield n.auth.getIPRestrictions(U),W=G;yield f(),c({data:{config:((C=R.data)==null?void 0:C.config)||{isActive:!1,strategy:He.ALLOW},restrictions:W},pagination:U,totalPages:z,saving:!1}),F?.(!0)}catch(R){c({saving:!1,error:_(R)}),F?.(null,R)}}),f=()=>l(null,null,function*(){try{let{valid:k}=yield n.auth.testCurrentIpInAllowList();c({userIpValid:k})}catch(k){c({error:_(k)})}}),h=k=>l(null,null,function*(){let{callback:P}=k;c({saving:!0,error:null});try{var F,C;let R=(F=((C=e.auth.userIpData)==null?void 0:C.ip)||e.auth.userIp)!=null?F:"";yield Promise.all([n.auth.createIPRestriction({ip:R,isActive:!0,description:"My IP",strategy:He.ALLOW}),n.auth.updateIPRestrictionConfig({isActive:!0})]);let U=e.auth.restrictionsState.ipRestrictions,G=o(U.pagination),{items:z,_metadata:{totalPages:W}}=yield n.auth.getIPRestrictions(G),$=z;c({data:{config:{isActive:!0,strategy:He.ALLOW},restrictions:$},userIpValid:!0,pagination:G,totalPages:W,saving:!1}),P?.(!0)}catch(R){c({saving:!1,error:R}),P?.(!1,R)}}),v=()=>l(null,null,function*(){a({loading:!0,error:null});try{let k=yield n.auth.getDomainRestrictionsConfig(),F=(yield n.auth.getDomainRestrictions()).items.filter(C=>C.type===k.listType);a({data:{restrictions:F,config:k},loading:!1})}catch(k){a({error:_(k),loading:!1})}}),S=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,y2);a({saving:!0,error:null});let C=e.auth.restrictionsState.emailDomainRestrictions;try{var R;yield n.auth.createDomainRestriction(F);let G=(yield n.auth.getDomainRestrictions()).items.filter(z=>{var W;return z.type===((W=C.data)==null?void 0:W.config.listType)});a({data:{config:((R=C.data)==null?void 0:R.config)||{active:!1,blockPublicDomains:!1,listType:F.type},restrictions:G},saving:!1}),P?.(!0)}catch(U){a({saving:!1,error:_(U)}),P?.(null,U)}}),D=k=>l(null,null,function*(){let{callback:P}=k,F=V(k,S2);a({saving:!0,error:null});try{let C=yield n.auth.updateDomainRestrictionConfig(F),U=(yield n.auth.getDomainRestrictions()).items.filter(G=>G.type===C.listType);a({data:{config:C,restrictions:U},saving:!1}),P?.(!0)}catch(C){a({saving:!1,error:_(C)}),P?.(null,C)}}),T=k=>l(null,null,function*(){let{id:P}=k;a({saving:!0,error:null});let F=e.auth.restrictionsState.emailDomainRestrictions;try{var C;yield n.auth.deleteDomainRestriction(P);let U=(yield n.auth.getDomainRestrictions()).items.filter(G=>{var z;return G.type===((z=F.data)==null?void 0:z.config.listType)});a({data:{config:((C=F.data)==null?void 0:C.config)||{active:!1,blockPublicDomains:!1,listType:He.ALLOW},restrictions:U},saving:!1})}catch(R){a({saving:!1,error:_(R)})}}),m=i(u),E=i(d),A=i(p),I=i(g),w=i(f),M=i(h),O=i(v),L=i(S),x=i(D),N=i(T);return{setRestrictionsState:s,setIpRestrictionsState:c,setEmailDomainRestrictionsState:a,__securityCenterSagaWrapper:i,loadIpRestrictions:m,saveIpRestriction:E,saveIpRestrictionsConfig:A,deleteIpRestriction:I,checkIfUserIpValid:w,addCurrentUserIpAndActivate:M,loadEmailDomainRestrictions:O,saveEmailDomainRestriction:L,saveEmailDomainRestrictionsConfig:x,deleteEmailDomainRestriction:N}};var yy={loaders:{},errors:{},recommendations:void 0,insights:void 0,hasSecurityChanges:!1,score:0,breachedPasswordUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},unenrolledMfaUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10}},inactiveUsersTable:{users:[],usersPageOffset:0,totalUsersItems:0,totalUsersPages:0,queryParams:{_offset:0,_limit:10,_maxInactiveSeconds:7776e3}}},Sy=e=>K(yy,e);var Et;(function(e){e.RECOMMENDATIONS="recommendations",e.INSIGHTS="insights",e.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS="sendBulkResetBreachedPasswordEmails",e.SEND_BREACHED_PASSWORD_EMAIL="sendBreachedPasswordEmail",e.BREACHED_PASSWORD_USERS_TABLE="breachedPasswordUsersTable",e.UNENROLLED_MFA_USERS_TABLE="unenrolledMfaUsersTable",e.INACTIVE_USERS_TABLE="inactiveUsersTable"})(Et||(Et={}));var b2=["callback"],hl=(e,n,t)=>{let r=t,o=T=>l(null,null,function*(){let m=T.map(w=>w.id),E=yield n.roles.getRoles(),A=yield n.users.getUsersRoles({ids:m});return T.map(w=>{var M,O;let L=A==null||(M=A.find(x=>x.userId===w.id))==null?void 0:M.roleIds;return y({},w,{roles:(O=L?.map(x=>{var N;return(N=E?.find(k=>k.id===x))!=null?N:[]}))!=null?O:[]})})}),i=T=>l(null,null,function*(){var m,E,A,I;let{key:w,tableState:M,updateStateKey:O,_offset:L,_limit:x,_preset:N,_email:k,_maxInactiveSeconds:P}=T;u({key:w,value:!1}),a({key:w,value:!0});let F=(m=L??(M==null||(E=M.queryParams)==null?void 0:E._offset))!=null?m:0,C=(A=x??(M==null||(I=M.queryParams)==null?void 0:I._limit))!=null?A:10,R=y({_offset:F,_limit:C,_includeSubTenants:!1,_preset:N,_maxInactiveSeconds:P},!!k&&{_email:k});try{let{items:U,_metadata:{totalItems:G,totalPages:z}}=yield n.users.getUsersV3(R),W={totalUsersItems:G,totalUsersPages:z,usersPageOffset:F,queryParams:y({_offset:F,_limit:C,_maxInactiveSeconds:P},!!k&&{_email:k})};if(U.length){let $=yield o(U);r.setSecurityCenterState({[O]:y({users:$},W)})}else s({[O]:y({users:[]},W)})}catch(U){u({key:w,value:_(U)})}finally{a({key:w,value:!1})}}),s=T=>{Object.assign(e.auth.securityCenterState,T)},c=()=>{Q(e,["auth","securityCenterState"],yy)},a=T=>{Object.assign(e.auth.securityCenterState,{loaders:y({},e.auth.securityCenterState.loaders,{[T.key]:T.value})})},u=T=>{Object.assign(e.auth.securityCenterState,{errors:y({},e.auth.securityCenterState.errors,{[T.key]:T.value}),loaders:y({},e.auth.securityCenterState.loaders,{[T.key]:!1})})};return{setSecurityCenterState:s,resetSecurityCenterState:c,setSecurityCenterStateLoader:a,setSecurityCenterStateError:u,loadRecommendations:T=>l(null,null,function*(){let m=Et.RECOMMENDATIONS;a({key:m,value:!0});try{var E;let{recommendations:A,scoring:I}=yield ee(()=>n.securityCenter.getRecommendations(),T?.retryConfig);s({recommendations:A.items,score:(E=I?.score)!=null?E:0})}catch(A){u({key:m,value:_(A)})}finally{a({key:m,value:!1})}}),loadInsights:T=>l(null,null,function*(){let m=Et.INSIGHTS;a({key:m,value:!0});try{let{insights:E}=yield yield ee(()=>n.securityCenter.getInsights(),T?.retryConfig);s({insights:E.items})}catch(E){u({key:m,value:_(E)})}finally{a({key:m,value:!1})}}),sendResetBreachedPasswordEmail:T=>l(null,null,function*(){let{callback:m}=T,E=V(T,b2),A=Et.SEND_BREACHED_PASSWORD_EMAIL;u({key:A,value:!1}),a({key:A,value:!0});try{yield n.auth.forgotPassword(E),m?.(!0)}catch(I){u({key:A,value:_(I)}),m?.(!1,I)}finally{a({key:A,value:!1})}}),sendBulkResetBreachedPasswordEmails:T=>l(null,null,function*(){let{callback:m}=T,E=Et.SEND_BULK_RESET_BREACHED_PASSWORD_EMAILS;u({key:E,value:!1}),a({key:E,value:!0});try{yield n.users.sendResetBreachedPasswordEmails(),m?.(!0)}catch(A){u({key:E,value:_(A)}),m?.(!1)}finally{a({key:E,value:!1})}}),loadBreachedPasswordUsers:T=>l(null,null,function*(){var m;let E=Et.BREACHED_PASSWORD_USERS_TABLE,A=(m=e.auth.securityCenterState)==null?void 0:m.breachedPasswordUsersTable;yield i(y({key:E,updateStateKey:"breachedPasswordUsersTable",_preset:Qo.BREACHED_PASSWORDS,tableState:A},T))}),loadUnenrolledMfaUsers:T=>l(null,null,function*(){var m;let E=Et.UNENROLLED_MFA_USERS_TABLE,A=(m=e.auth.securityCenterState)==null?void 0:m.unenrolledMfaUsersTable;yield i(y({key:E,updateStateKey:"unenrolledMfaUsersTable",_preset:Qo.MFA_UNENROLLED,tableState:A},T))}),loadInactiveUsers:T=>l(null,null,function*(){var m;let E=Et.INACTIVE_USERS_TABLE,A=(m=e.auth.securityCenterState)==null?void 0:m.inactiveUsersTable;yield i(y({key:E,updateStateKey:"inactiveUsersTable",_preset:Qo.INACTIVE,tableState:A},T))}),markSecurityCenterStateAsChanged:(T=!0)=>{s({hasSecurityChanges:T})}}};var by={globalPolicy:{loading:!0},publicPolicy:{loading:!1},vendorMfaPolicy:{loading:!0},mfaPolicy:{loading:!0},vendorLockoutPolicy:{loading:!0},lockoutPolicy:{loading:!0},captchaPolicy:{loading:!0},passwordHistoryPolicy:{loading:!0},passwordPolicy:{loading:!0},vendorPasswordHistoryPolicy:{loading:!0},publicAuthStrategyPolicy:{loading:!0},passwordRotationPolicy:{loading:!0}},Ay=e=>K(by,e);function o_(e,n){let t=n!=null,r=e!=null;if(!(!t&&!r))return t?r?Math.min(e,n):n:e}var A2=["callback"],w2=["callback"],E2=["callback"],D2=["callback"],gl=(e,n,t)=>{let r=t,o=($,B)=>l(null,null,function*(){var te,ae;if(!(yield r.customLoginEnabled()))return $;let ye=yield i(B);return ye!=null&&(te=ye.mainAuthStrategies)!=null&&(ae=te[0])!=null&&ae.strategy?y({},$,{authStrategy:ye.mainAuthStrategies[0].strategy}):$}),i=$=>l(null,null,function*(){let B=e.auth.isAuthenticated,te;return B?te=yield ee(n.auth.getPublicAuthStrategiesConfigForAuthenticatedUser,$):te=yield ee(n.auth.getVendorPublicAuthStrategiesConfig,$),te}),s=$=>l(null,null,function*(){var B,te;let ae=yield r.customLoginEnabled();if(!$||!ae)return;let{policy:pe}=(B=(te=e.auth.securityPolicyState)==null?void 0:te.publicPolicy)!=null?B:{policy:null};u({policy:y({},pe,{authStrategy:$}),loading:!1})}),c=$=>{Object.assign(e.auth.securityPolicyState,$)},a=$=>{Object.assign(e.auth.securityPolicyState.globalPolicy,$)},u=$=>{Object.assign(e.auth.securityPolicyState.publicPolicy,$)},d=$=>{Object.assign(e.auth.securityPolicyState.mfaPolicy,$)},p=$=>{Object.assign(e.auth.securityPolicyState.vendorMfaPolicy,$)},g=$=>{Object.assign(e.auth.securityPolicyState.lockoutPolicy,$)},f=$=>{Object.assign(e.auth.securityPolicyState.vendorLockoutPolicy,$)},h=$=>{Object.assign(e.auth.securityPolicyState.captchaPolicy,$)},v=$=>{Object.assign(e.auth.securityPolicyState.passwordHistoryPolicy,$)},S=$=>{Object.assign(e.auth.securityPolicyState.vendorPasswordHistoryPolicy,$)},D=$=>{Object.assign(e.auth.securityPolicyState.passwordRotationPolicy,$)},T=$=>{Object.assign(e.auth.securityPolicyState.passwordPolicy,$)},m=$=>{Object.assign(e.auth.securityPolicyState.publicAuthStrategyPolicy,$)},E=()=>{Q(e,["auth","securityPolicyState"],by)},A=$=>l(null,null,function*(){let B={retryConfig:$?.retryConfig};yield Promise.all([I(),O(),L(B),x(B),N(B),F(),k(B),R(B)])}),I=$=>l(null,null,function*(){a({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getGlobalSecurityPolicy(),$?.retryConfig);a({policy:B,loading:!1})}catch(B){a({error:_(B),loading:!1})}}),w=$=>l(null,null,function*(){u({loading:!0,error:null});try{let B=yield n.auth.getVendorConfig(),te=yield o(B,$?.retryConfig);u({policy:te,loading:!1})}catch(B){u({error:_(B),loading:!1})}}),M=$=>l(null,null,function*(){T({loading:!0,error:null});try{var B;let ae=yield ee(()=>n.auth.getPasswordConfigPolicy(),$?.retryConfig);T({policy:ae,loading:!1}),$==null||(B=$.callback)==null||B.call($,ae)}catch(ae){var te;T({error:_(ae),loading:!1}),$==null||(te=$.callback)==null||te.call($,null,ae)}}),O=$=>l(null,null,function*(){d({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getMfaPolicy(),$?.retryConfig);d({policy:B,loading:!1})}catch(B){d({error:_(B),loading:!1})}}),L=$=>l(null,null,function*(){d({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorMfaPolicy(),$?.retryConfig);p({policy:B,loading:!1})}catch(B){p({error:_(B),loading:!1})}}),x=$=>l(null,null,function*(){g({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getLockoutPolicy(),$?.retryConfig);g({policy:B,loading:!1})}catch(B){g({error:_(B),loading:!1})}}),N=$=>l(null,null,function*(){f({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorLockoutPolicy(),$?.retryConfig);f({policy:B,loading:!1})}catch(B){f({error:_(B),loading:!1})}}),k=$=>l(null,null,function*(){g({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getCaptchaPolicy(),$?.retryConfig);h({policy:B,loading:!1})}catch(B){h({error:_(B),loading:!1})}}),P=()=>l(null,null,function*(){v({loading:!0,error:null});try{let $=yield n.auth.getPasswordHistoryPolicy();v({policy:$,loading:!1})}catch($){v({error:_($),loading:!1})}}),F=$=>l(null,null,function*(){S({loading:!0,error:null});try{let B=yield ee(()=>n.auth.getVendorPasswordHistoryPolicy(),$?.retryConfig);S({policy:B,loading:!1})}catch(B){S({error:_(B),loading:!1})}}),C=()=>l(null,null,function*(){D({loading:!0,error:null});try{let $=yield n.securityPolicy.getPasswordRotationPolicy(),B=yield n.securityPolicy.getVendorPasswordRotationPolicy(),te={passwordRotationVendorConfig:B};$&&(B!=null&&B.isActive?te.passwordRotationTenantConfig=$!=null&&$.isActive?y({},$,{rotationPeriod:o_(B.rotationPeriod,$.rotationPeriod)}):B:te.passwordRotationTenantConfig=$),D({policy:y({},te),loading:!1})}catch($){D({error:_($),loading:!1})}}),R=$=>l(null,null,function*(){m({loading:!0,error:null});try{var B,te,ae;let ye=yield i($?.retryConfig);yield s(ye==null||(B=ye.mainAuthStrategies)==null||(te=B[0])==null?void 0:te.strategy),m({policy:ye,loading:!1}),$==null||(ae=$.callback)==null||ae.call($,ye)}catch(ye){var pe;m({error:_(ye),loading:!1}),$==null||(pe=$.callback)==null||pe.call($,null,ye)}});return{setSecurityPolicyState:c,setSecurityPolicyGlobalState:a,setSecurityPolicyPublicState:u,setSecurityPolicyMfaState:d,setSecurityPolicyVendorMfaState:p,setSecurityPolicyLockoutState:g,setSecurityPolicyVendorLockoutState:f,setSecurityPolicyCaptchaState:h,setSecurityPolicyPasswordHistoryState:v,setSecurityPolicyVendorPasswordHistoryState:S,setSecurityPolicyPasswordRotationState:D,resetSecurityPolicyState:E,setSecurityPolicyPasswordState:T,setSecurityPolicyAuthStrategyPublicState:m,loadSecurityPolicy:A,loadGlobalSecurityPolicy:I,loadPublicSecurityPolicy:w,loadVendorPasswordConfig:M,loadSecurityPolicyMfa:O,loadSecurityPolicyVendorMfa:L,loadSecurityPolicyLockout:x,loadSecurityPolicyVendorLockout:N,loadSecurityPolicyCaptcha:k,loadSecurityPolicyPasswordHistory:P,loadSecurityPolicyVendorPasswordHistory:F,loadSecurityPolicyPasswordRotation:C,loadPublicAuthStrategiesPolicy:R,saveSecurityPolicyMfa:$=>l(null,null,function*(){let{callback:B}=$,te=V($,A2);d({saving:!0,error:null});try{let ae=yield n.auth.securityPolicy.saveMfaPolicy(te);d({policy:ae,saving:!1}),B?.(ae)}catch(ae){d({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyLockout:$=>l(null,null,function*(){let{callback:B}=$,te=V($,w2);g({saving:!0,error:null});try{let ae=yield n.auth.saveLockoutPolicy(te);g({policy:ae,saving:!1}),B?.(ae)}catch(ae){g({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyPasswordHistory:$=>l(null,null,function*(){let{callback:B}=$,te=V($,E2);v({saving:!0,error:null});try{let ae=yield n.auth.savePasswordHistoryPolicy(te);v({policy:ae,saving:!1}),B?.(ae)}catch(ae){v({saving:!1,error:_(ae)}),B?.(null,ae)}}),saveSecurityPolicyPasswordRotation:$=>l(null,null,function*(){let{callback:B}=$,te=V($,D2);D({saving:!0,error:null});try{yield n.securityPolicy.savePasswordRotationPolicy(te.passwordRotationTenantConfig||{}),D({policy:te,saving:!1}),B?.(te)}catch(ae){D({saving:!1,error:_(ae)}),B?.(null,ae)}}),__getSecurityPolicyPublicStateWithCustomLogin:o}};var wy={loading:!1,configurations:{}},Ey=e=>K(wy,e);var I2=["callback"],ml=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auth.sessionsPolicyState,a)};return{setSessionsPolicyState:o,resetSessionsPolicyState:()=>{Q(e,["auth","sessionsPolicyState"],wy)},loadSessionsPolicy:()=>l(null,null,function*(){o({loading:!0,error:null});try{let a=yield n.auth.getSessionConfigurations();o({configurations:a,loading:!1})}catch(a){r.setSessionsState({error:a,loading:!1})}}),createOrUpdateSessionsPolicy:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,I2);try{o({loading:!0,error:null}),yield n.auth.createOrUpdateSessionConfigrations(d),yield r.loadSessionsPolicy(),u?.(!0)}catch(p){o({error:p,loading:!1})}})}};var Dy={loading:!1,sessions:[]},Iy=e=>K(Dy,e);var vl=(e,n,t)=>{let r=d=>{Object.assign(e.auth.sessionsState,d)},o=()=>{Q(e,["auth","sessionsState"],Dy)},i=d=>l(null,null,function*(){r({loading:!0,error:null});try{let p=yield ee(()=>n.auth.getCurrentUserSessions(),d?.retryConfig);r({sessions:p,loading:!1})}catch(p){r({error:_(p),loading:!1})}});return{setSessionsState:r,resetSessionsState:o,loadUserSessions:i,loadCurrentUserSession:()=>l(null,null,function*(){r({loading:!0,error:null});try{let d=yield n.auth.getCurrentUserSession();r({currentSession:d,loading:!1})}catch(d){r({error:_(d),loading:!1})}}),deleteUserSession:d=>l(null,null,function*(){let{id:p}=d;r({loading:!0,error:null});try{yield n.auth.deleteSessionForUser(p),yield i()}catch(g){r({error:_(g),loading:!1})}}),deleteAllUserSessions:()=>l(null,null,function*(){r({loading:!0,error:null});try{yield n.auth.deleteAllSessionsForUser(),yield i()}catch(d){r({error:_(d),loading:!1})}}),revokeUserSessions:d=>l(null,null,function*(){let{callback:p,userId:g}=d;r({loading:!0,error:null});try{yield n.auth.revokeSessionsForUser(g),r({loading:!1}),p?.(!0)}catch(f){r({error:_(f),loading:!1}),p?.(!1)}})}};var ao;(function(e){e.SignUp="SignUp",e.SignUpSuccess="SignUpSuccess",e.VerifyPhone="VerifyPhone"})(ao||(ao={}));var Cy={loading:!1,allowSignUps:!1,allowNotVerifiedUsersLogin:!1,firstLoad:!0,stage:ao.SignUp,strategies:{[As.Email]:{enabled:!0,required:!0},[As.PhoneNumber]:{enabled:!1,required:!1}}},_y=e=>K(Cy,e);var C2=["events","url"],_2=["events","url"],yl=(e,n,t)=>{let r=t,o=ie.for(e.root.appName),i=f=>{Object.assign(e.auth.signUpState,f)},s=()=>{Q(e,["auth","signUpState"],Cy)},c=()=>{let{allowSignUps:f,allowNotVerifiedUsersLogin:h}=e.auth.signUpState;s(),i({allowSignUps:f,allowNotVerifiedUsersLogin:h})},a=(f,h,v,S,D,T=to.PASSWORD)=>{var m;let{email:E,name:A,companyName:I,phoneNumber:w,url:M}=f,O={email:E,name:A,companyName:I,url:M,phoneNumber:w||void 0,authenticationType:T,id:h,tenantId:v,createdAt:new Date,activationToken:S};D==null||(m=D.signUpComplete)==null||m.call(D,O),ir(mn.SIGNUP_COMPLETED,O)},u=f=>l(null,null,function*(){let{events:h}=f,v=V(f,C2);if(i({loading:!0}),!v.phoneNumber)throw new Error("Phone number is required for phone number signup");try{var S,D,T;let{routes:m,onRedirectTo:E}=e.auth,{tenantId:A,userId:I,activationToken:w}=yield n.auth.signUpUserWithPhoneNumber(tp(v));v.invitationToken||a(v,I,A,w,h,to.PHONE_NUMBER);let{enabled:M,siteKey:O}=(S=e.auth.securityPolicyState.captchaPolicy.policy)!=null?S:{},L=M&&O?yield(D=window.grecaptcha)==null||(T=D.execute)==null?void 0:T.call(D,{action:"login"}):"";r.passwordlessPreLogin({recaptchaToken:L,phoneNumber:v.phoneNumber,type:Te.SmsCode,callback:(x,N)=>{if(!x&&N)throw N;E(m.loginUrl),r.setLoginState({step:Se.loginWithSmsOtc,phoneNumber:v.phoneNumber})}})}catch(m){o.setAccessToken(null),o.setUser(null),i({error:_(m)})}finally{i({loading:!1})}});return{setSignUpState:i,resetSignUpState:s,resetSignUpStateSoft:c,signUpUser:f=>l(null,null,function*(){let{events:h}=f,v=V(f,_2);i({loading:!0});let S=e.auth.signUpState.strategies.phoneNumber;if(S!=null&&S.required&&S!=null&&S.enabled&&v.phoneNumber)return u(f);try{let{routes:D,onRedirectTo:T}=e.auth,{shouldActivate:m,user:E,tenantId:A,userId:I,tenants:w=[],activeTenant:M,activationToken:O}=yield n.auth.signUpUser(tp(v));if(v.invitationToken||a(v,I,A,O,h),!m&&E&&yn(E,e.root.appName)){let L=yield r.getMfaRequiredState(E,Tt,!0,v.email);r.setAuthState(L),T(D.loginUrl)}else if(m&&O){let L=new URLSearchParams({userId:I||"",token:O||""}),x=`${D.activateWithOTCUrl}?${L.toString()}`;i({loading:!1,shouldActivate:m,stage:ao.SignUpSuccess}),T(x)}else{let L=e.auth.tenantsState;i({loading:!1,shouldActivate:m,stage:ao.SignUpSuccess}),r.setAuthState({user:E,isAuthenticated:!!(E!=null&&E.accessToken),tenantsState:y({},L,{tenants:w,activeTenant:M})})}}catch(D){o.setAccessToken(null),o.setUser(null),i({error:_(D)})}finally{i({loading:!1})}}),signUpUserWithPhoneNumber:u,loadAllowSignUps:f=>l(null,null,function*(){i({loading:!0});try{var h;let S=yield ee(n.auth.getVendorConfig,f?.retryConfig),D=yield r.__getSecurityPolicyPublicStateWithCustomLogin(S,f?.retryConfig),{allowSignups:T,allowNotVerifiedUsersLogin:m}=S;i({loading:!1,allowSignUps:T,allowNotVerifiedUsersLogin:m,firstLoad:!1}),r.setSecurityPolicyPublicState({policy:D,loading:!1}),f==null||(h=f.callback)==null||h.call(f,D||S)}catch(S){var v;i({loading:!1,error:_(S),firstLoad:!1}),f==null||(v=f.callback)==null||v.call(f,null,S)}}),loadSignUpStrategies:()=>l(null,null,function*(){try{let f=yield n.auth.getSignUpStrategies();i({strategies:f.reduce((h,{isActive:v,strategy:S,isRequired:D})=>(h[S]={enabled:v,required:D},h),{})})}catch{}})}};var Ty={loading:!1,error:null,phoneNumbers:void 0},xy=e=>K(Ty,e);var T2=["callback"],x2=["callback"],M2=["callback"],P2=["callback","phoneId"],R2=["callback","phoneId"],O2=["callback"],Sl=(e,n,t)=>{let r=f=>{Object.assign(e.auth.smsState,f)},o=()=>{Q(e,["auth","smsState"],Ty)},i=()=>l(null,null,function*(){r({loading:!0});let f={_limit:10,_offset:0};try{let{items:h}=yield n.userPhoneNumbers.getUserPhoneNumbers(f);r({phoneNumbers:h})}catch(h){r({error:_(h)})}finally{r({loading:!1})}}),s=()=>l(null,null,function*(){r({loading:!0});try{let f=yield n.userPhoneNumbers.getUserOwnPhoneNumbers();r({phoneNumbers:f})}catch(f){r({error:_(f)})}finally{r({loading:!1})}});return{setSmsState:r,resetSmsState:o,loadPhoneNumbers:i,loadUserOwnPhoneNumbers:s,setUpPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,x2);try{let{otcToken:S}=yield n.userPhoneNumbers.createPhoneNumber(v);r({otcToken:S}),yield i(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}}),setUpOwnPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,T2);try{let{otcToken:S}=yield n.userPhoneNumbers.createPhoneNumber(v);r({otcToken:S}),yield s(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}}),verifyPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,M2);r({loading:!0});try{yield n.userPhoneNumbers.verifyPhoneNumber(v),yield i(),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}finally{r({loading:!1})}}),deletePhoneNumber:f=>l(null,null,function*(){let{callback:h,phoneId:v}=f,S=V(f,P2);r({loading:!0});try{let{otcToken:D}=yield n.userPhoneNumbers.deletePhoneNumber(v);r({otcToken:D}),h?.(!0)}catch(D){r({error:_(D)}),h?.(!1,D)}finally{r({loading:!1})}}),verifyDeletePhoneNumber:f=>l(null,null,function*(){let{callback:h,phoneId:v}=f,S=V(f,R2);r({loading:!0});try{yield n.userPhoneNumbers.verifyDeletePhoneNumber(v,S),yield i(),h?.(!0)}catch(D){r({error:_(D)}),h?.(!1,D)}finally{r({loading:!1})}}),preVerifyPhoneNumber:f=>l(null,null,function*(){let{callback:h}=f,v=V(f,O2);r({loading:!0});try{let{otcToken:S}=yield n.userPhoneNumbers.preVerifyPhoneNumber(v);r({otcToken:S}),h?.(!0)}catch(S){r({error:_(S)}),h?.(!1,S)}finally{r({loading:!1})}})}};var My={firstLoad:!0,loading:!1,error:""},Py=e=>K(My,e);var N2=["authorizationUrl"],k2=["events","url"],bl=(e,n,t)=>{let r=t,o=p=>l(null,null,function*(){let g=e.auth.isAuthenticated,f;return g?f=yield ee(n.auth.getSocialLoginProvidersV2ForAuthenticatedUser,p):f=yield ee(n.auth.getSocialLoginProvidersV2,p),f}),i=p=>{Object.assign(e.auth.socialLoginState,p)};return{setSocialLoginsState:i,resetSocialLoginsState:()=>{Q(e,["auth","socialLoginState"],My)},setSocialLoginError:p=>{i({error:p.error,loading:!1,firstLoad:!1})},loadSocialLoginsConfiguration:()=>l(null,null,function*(){try{i({loading:!0});let p=yield n.auth.getSocialLoginProviders();i({socialLoginsConfig:p,loading:!1,firstLoad:!1})}catch(p){i({error:_(p),loading:!1,firstLoad:!1})}}),loadSocialLoginsConfigurationV2:p=>l(null,null,function*(){try{var g;let h=e.root.context;i({loading:!0});let v=yield o(p?.retryConfig),{providers:S}=yield ee(n.auth.getCustomSocialLoginProvidersV1,p?.retryConfig),T={socialLoginsConfigV2:v.map(m=>{let{authorizationUrl:E}=m,A=V(m,N2),I=n.fetch.getBaseUrl(h,E??"");return y({},A,{authorizationUrl:E?`${I}${E}`:null})}),customSocialLoginsConfig:S,loading:!1,firstLoad:!1};i(T),p==null||(g=p.callback)==null||g.call(p,T)}catch(h){var f;p==null||(f=p.callback)==null||f.call(p,null,h),i({error:_(h),loading:!1,firstLoad:!1})}}),loginViaSocialLogin:p=>l(null,null,function*(){let{events:g,url:f}=p,h=V(p,k2);try{i({loading:!0});let{email:D,isNewUser:T,userId:m,tenantId:E,name:A}=yield n.auth.loginViaSocialLogin(h);if(T){var v,S;let I={email:D,url:f,createdAt:new Date,id:m,tenantId:E},w=y({},I,{socialProvider:h.provider,authenticationType:to.SOCIAL_LOGIN});g==null||(v=g.signUpComplete)==null||v.call(g,w),ir(mn.SIGNUP_COMPLETED,w);let M=y({},I,{origin:Pr.SOCIAL_LOGIN,name:A});g==null||(S=g.userVerified)==null||S.call(g,M),ir(mn.USER_VERIFIED,M)}m&&localStorage.setItem("userId",m),r.setLoginState({email:D,isNewUser:T}),r.refreshTokenForSocialLogins(),localStorage.removeItem("register-quick-login"),i({loading:!1})}catch(D){i({loading:!1,error:_(D,"Failed to authenticate"),firstLoad:!1})}})}};var Ry={firstLoad:!0,loading:!0,saving:!1,errors:{},loaders:{},ssoConfigurations:[]},Oy=e=>K(Ry,e);var L2=["callback","samlVendor"],i_=(e,n,t)=>{let r=t,o=()=>l(null,null,function*(){try{let E=yield n.auth.getSamlRoles(),A=yield n.auth.getSamlRolesGroups();s({authorizationRoles:E.roleIds,rolesGroups:A,error:void 0})}catch(E){s({error:_(E)})}}),i=E=>l(null,null,function*(){try{yield Promise.all(E.map(A=>n.auth.updateSamlGroup({id:A.id,roleIds:A.roleIds,group:A.group})))}catch(A){s({error:_(A)})}}),s=E=>{Object.assign(e.auth.ssoState,E)};return{setSSOState:s,resetSSOState:()=>{Q(e,["auth","ssoState"],Ry)},setSSOLoader:E=>{Object.assign(e.auth.ssoState,{loaders:y({},e.auth.ssoState.loaders,{[E.key]:E.value})})},setSSOError:E=>{Object.assign(e.auth.ssoState,{errors:y({},e.auth.ssoState.errors,{[E.key]:E.value}),loaders:y({},e.auth.ssoState.loaders,{[E.key]:!1})})},loadSSOConfigurations:()=>l(null,null,function*(){try{var E,A;s({loading:!0});let I=yield n.auth.getSamlConfiguration(),w=yield n.auth.getOidcConfiguration(),M=yield n.metadata.getSamlMetadata();I.acsUrl=M==null||(E=M.configuration)==null?void 0:E.acsUrl,I.spEntityId=M==null||(A=M.configuration)==null?void 0:A.spEntityId,I.isSamlActive=M?.isActive,s({samlConfiguration:I,oidcConfiguration:w,loading:!1,firstLoad:!1})}catch(I){s({error:_(I),loading:!1})}}),saveSSOConfigurations:E=>l(null,null,function*(){let{callback:A,samlVendor:I}=E,w=V(E,L2),M=e.auth.ssoState.samlConfiguration,O=y({},M,w),L="saving";O?.enabled!==M?.enabled&&(L="loading");try{if(!(O!=null&&O.domain)){s({samlConfiguration:y({},M,O)});return}else s({error:void 0,[L]:!0});if(E.type===pi.Saml){var x,N;let C=yield n.metadata.getSamlMetadata();O.acsUrl=C==null||(x=C.configuration)==null?void 0:x.acsUrl,O.spEntityId=C==null||(N=C.configuration)==null?void 0:N.spEntityId}let P=Mc(O,["validated","generatedVerification","createdAt","updatedAt"]);M?.domain!==P?.domain&&(P.ssoEndpoint="",P.publicCertificate="",P.signRequest=!1),P.type=I?.toLowerCase();let F=yield n.auth.updateSamlConfiguration(P);F.isSamlActive=M?.isSamlActive,s({samlConfiguration:F,error:void 0,[L]:!1}),A?.(!0)}catch(k){s({samlConfiguration:M,error:_(k),[L]:!1}),A?.(null,k)}}),saveSSOConfigurationsFile:E=>l(null,null,function*(){let A=e.auth.ssoState.samlConfiguration,I="saving";s({error:void 0,[I]:!0});try{let w=yield ei(E[0]),M=yield n.auth.updateSamlVendorMetadata({metadata:w});M.isSamlActive=A?.isSamlActive,s({samlConfiguration:M,error:void 0,[I]:!1})}catch(w){s({samlConfiguration:A,error:_(w),[I]:!1})}}),saveSSOConfigurationsFileWithCallback:E=>l(null,null,function*(){let{configFile:A,callback:I}=E,w=e.auth.ssoState.samlConfiguration,M="saving";s({error:void 0,[M]:!0});try{let O=yield ei(A),L=yield n.auth.updateSamlVendorMetadata({metadata:O});L.isSamlActive=w?.isSamlActive,s({samlConfiguration:L,error:void 0,[M]:!1}),I?.(!0)}catch(O){s({samlConfiguration:w,error:_(O),[M]:!1}),I?.(null,O)}}),validateSSODomain:E=>l(null,null,function*(){let{callback:A}=E??{},I=e.auth.ssoState.samlConfiguration;if(!I){let w=new Error("IllegalState: samlConfiguration is not defined");console.error(w),A?.(null,w);return}try{s({error:void 0,saving:!0}),yield n.auth.validateSamlDomain(),s({samlConfiguration:y({},I,{validated:!0}),error:void 0,saving:!1}),A?.(!0)}catch(w){s({samlConfiguration:y({},I,{validated:!1}),error:_(w),saving:!1}),A?.(null,w)}}),loadSSOAuthorizationRoles:()=>l(null,null,function*(){try{let E=yield n.auth.getSamlRoles(),A=yield n.auth.getSamlRolesGroups();s({authorizationRoles:E.roleIds,rolesGroups:A,error:void 0})}catch(E){s({error:_(E)})}}),updateSSOAuthorizationRoles:E=>l(null,null,function*(){let{callback:A,authorizationRoles:I,groups:w}=E;try{s({error:void 0,saving:!0}),yield n.auth.updateSamlRoles({roleIds:I}),w&&(yield i(w)),yield o(),s({error:void 0,saving:!1}),A?.(!0)}catch(M){s({error:_(M),saving:!1}),A?.(null,M)}}),deleteSamlGroup:E=>l(null,null,function*(){let{id:A,callback:I}=E;try{s({error:void 0,saving:!0}),yield n.auth.deleteSamlGroup({id:A}),yield o(),s({error:void 0,saving:!1}),I?.(!0)}catch(w){s({error:_(w),saving:!1}),I?.(null,w)}}),createSamlGroup:E=>l(null,null,function*(){let{group:A,roleIds:I,callback:w}=E;try{s({error:void 0,saving:!0}),yield n.auth.createSamlGroup({group:A,roleIds:I}),yield o(),s({error:void 0,saving:!1}),w?.(!0)}catch(M){s({error:_(M),saving:!1}),w?.(null,M)}}),oidcPostlogin:E=>l(null,null,function*(){let A={code:E.code,redirectUri:E.redirectUri,RelayState:E.state};try{s({loading:!0}),yield n.auth.oidcPostLoginV2(A),yield r.__refreshToken(),s({loading:!1})}catch(I){s({loading:!1,error:_(I,"Failed to authenticate"),firstLoad:!1})}})}};var F2=["callback"],U2=["callback","ssoConfigId"],j2=["callback","ssoConfigId"],V2=["callback","ssoConfigId"],s_=(e,n,t)=>{let r=t,o=A=>l(null,null,function*(){try{return yield ee(()=>n.auth.getOidcConfiguration(),A)}catch{return null}}),i=A=>l(null,null,function*(){try{return yield ee(()=>n.metadata.getSamlMetadata(),A)}catch{return null}}),s=(A,I,w)=>l(null,null,function*(){r.setSSOLoader({key:A,value:!0});try{yield w()}catch(M){r.setSSOError({key:A,value:_(M)}),I?.(null,M)}finally{r.setSSOLoader({key:A,value:!1})}});return{loadSSOConfigurationsV2:A=>l(null,null,function*(){yield s(wt.LOAD_SSO_CONFIGURATIONS,void 0,()=>l(null,null,function*(){let[I,w]=yield Promise.all([o(A?.retryConfig),i(A?.retryConfig)]),M=yield ee(()=>n.auth.getSSOConfigurations(),A?.retryConfig);r.setSSOState({ssoConfigurations:M,oidcConfiguration:I,samlMetadata:w})}))}),saveSSOConfigurationV2:A=>l(null,null,function*(){let{callback:I}=A,w=V(A,F2),M=e.auth.ssoState.ssoConfigurations;yield s(wt.SAVE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){var O;let L=yield n.auth.createSSOConfiguration(y({},w,{enabled:(O=w.enabled)!=null?O:!1}));r.setSSOState({ssoConfigurations:[...M,L]}),I?.(L)}))}),updateSSOConfiguration:A=>l(null,null,function*(){let{callback:I,ssoConfigId:w}=A,M=V(A,U2),O=e.auth.ssoState.ssoConfigurations;yield s(wt.UPDATE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){let L=yield n.auth.updateSSOConfiguration(w,M),x=O.map(N=>N.id===w?L:N);r.setSSOState({ssoConfigurations:x}),I?.(L)}))}),deleteSSOConfiguration:A=>l(null,null,function*(){let{ssoConfigId:I,callback:w}=A,M=e.auth.ssoState.ssoConfigurations;yield s(wt.DELETE_SSO_CONFIGURATION,w,()=>l(null,null,function*(){yield n.auth.deleteSSOConfiguration(I),r.setSSOState({ssoConfigurations:M.filter(({id:O})=>O!==I)}),w?.(!0)}))}),saveSSODomain:A=>l(null,null,function*(){let{callback:I,ssoConfigId:w}=A,M=V(A,j2),O=e.auth.ssoState.ssoConfigurations;yield s(wt.SAVE_SSO_DOMAIN,I,()=>l(null,null,function*(){let L=yield n.auth.createSSODomain(w,M),x=O.map(N=>N.id===w?y({},N,{domains:[...N.domains,L]}):N);r.setSSOState({ssoConfigurations:x}),I?.(L)}))}),deleteSSODomain:A=>l(null,null,function*(){let{ssoConfigId:I,domainId:w,callback:M}=A,O=e.auth.ssoState.ssoConfigurations;yield s(wt.DELETE_SSO_DOMAIN,M,()=>l(null,null,function*(){yield n.auth.deleteSSODomain(I,w);let L=O.map(x=>x.id===I?y({},x,{domains:x.domains.filter(({id:N})=>N!==w)}):x);r.setSSOState({ssoConfigurations:L}),M?.(!0)}))}),validateSSODomainV2:A=>l(null,null,function*(){let{callback:I,domainId:w,ssoConfigId:M}=A;yield s(wt.VALIDATE_SSO_DOMAIN,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations;yield n.auth.validateSSODomainV2(M,w);let L=O.map(x=>x.id===M?y({},x,{domains:x.domains.map(N=>N.id===w?y({},N,{validated:!0}):N)}):x);r.setSSOState({ssoConfigurations:L}),I?.(!0)}))}),setSSOGroups:A=>l(null,null,function*(){let{groupsToAdd:I,groupsToDelete:w,ssoConfigId:M,callback:O}=A;yield s(wt.SAVE_SSO_GROUPS,O,()=>l(null,null,function*(){let L=e.auth.ssoState.ssoConfigurations;yield Promise.all(w.map(k=>n.auth.deleteSSOGroup(M,k))),yield Promise.all(I.map(k=>n.auth.createSSOGroup(M,k)));let x=yield n.auth.getSSOGroups(M),N=L.map(k=>k.id===M?y({},k,{groups:x}):k);r.setSSOState({ssoConfigurations:N}),O?.(!0)}))}),updateSSOGroups:A=>l(null,null,function*(){let{ssoConfigId:I,changedGroups:w,callback:M}=A;yield s(wt.SAVE_SSO_GROUPS,M,()=>l(null,null,function*(){yield Promise.all(w.map(O=>n.auth.updateSSOGroup(I,O))),M?.(!0)}))}),setSSODefaultRoles:A=>l(null,null,function*(){let{callback:I,ssoConfigId:w,roleIds:M}=A;yield s(wt.UPDATE_SSO_DEFAULT_ROLES,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations;yield n.auth.setSSODefaultRoles(w,{roleIds:M});let L=O.map(x=>x.id===w?y({},x,{roleIds:M}):x);r.setSSOState({ssoConfigurations:L}),I?.(!0)}))}),saveSSOConfigurationByMetadata:A=>l(null,null,function*(){let{configFile:I,callback:w}=A;yield s(wt.SAVE_SSO_CONFIGURATION_BY_METADATA,w,()=>l(null,null,function*(){let M=e.auth.ssoState.ssoConfigurations,O=yield ei(I),L=yield n.auth.createSSOConfigurationByMetadata({metadata:O});r.setSSOState({ssoConfigurations:[...M,L]}),w?.(L)}))}),updateSSOConfigurationByMetadata:A=>l(null,null,function*(){let{callback:I,ssoConfigId:w,configFile:M}=A;yield s(wt.UPDATE_SSO_CONFIGURATION_BY_METADATA,I,()=>l(null,null,function*(){let O=e.auth.ssoState.ssoConfigurations,L=yield ei(M),x=yield n.auth.updateSSOConfigurationByMetadata(w,{metadata:L}),N=O.map(k=>k.id===w?x:k);r.setSSOState({ssoConfigurations:N}),I?.(x)}))}),saveSSOConfigurationByUrl:A=>l(null,null,function*(){let{metadataUrl:I,configMetadata:w,ssoConfigId:M,callback:O}=A;yield s(wt.SAVE_SSO_CONFIGURATION_BY_METADATA,O,()=>l(null,null,function*(){let L=e.auth.ssoState.ssoConfigurations,x={url:I,configMetadata:w},N,k;M?(N=yield n.auth.updateSSOConfigurationByMetadataUrl(M,x),k=L.map(P=>P.id===M?N:P)):(N=yield n.auth.createSSOConfigurationByMetadataUrl(x),k=[N,...L]),r.setSSOState({ssoConfigurations:k}),O?.(N)}))}),saveSSOConfigurationByData:A=>l(null,null,function*(){let{callback:I,ssoConfigId:w}=A,M=V(A,V2),O=e.auth.ssoState.ssoConfigurations;yield s(wt.SAVE_SSO_CONFIGURATION,I,()=>l(null,null,function*(){let L,x;w?(L=yield n.auth.updateSSOConfiguration(w,M),x=O.map(N=>N.id===w?L:N)):(L=yield n.auth.createSSOConfiguration(M),x=[L,...O]),r.setSSOState({ssoConfigurations:x}),I?.(L)}))})}};var Al=(e,n,t)=>y({},i_(e,n,t),s_(e,n,t));var Ny={loading:!1,mfaDevices:void 0,mfaToken:""},ky=e=>K(Ny,e);var $2="MFA is not enrolled",B2=e=>e?.message===$2,a_=(e,n,t)=>{let r=t,o=a=>l(null,null,function*(){yield r.afterAuthenticationStateUpdate(a),yield r.afterStepUpAuthNavigation()}),i=d=>l(null,[d],function*({mfaToken:a,mfaDevices:u}){r.setStepUpState({mfaDevices:u,mfaToken:a});let p=yield Hc(u);r.setMfaState({step:p})}),s=a=>l(null,null,function*(){if(B2(a)){r.setMfaState({step:Ne.noMFAEnrolledStepUp});return}window.localStorage.setItem(en,"true");let u=e.auth.routes;ie.for(e.root.appName).onRedirectTo(u.logoutUrl,{preserveQueryParams:!0})});return{generateStepUpSession:a=>l(null,null,function*(){let{maxAge:u,callback:d}=a;r.setStepUpState({mfaDevices:void 0,mfaToken:""});try{let p=yield n.auth.generateStepupSession({maxAge:u});p.hasOwnProperty("user")?yield o(p):yield i(p),d?.(!0)}catch(p){d?.(!1),yield s(p)}})}};var c_=(e,n,t)=>{let r=t;return{stepUpHostedLogin:i=>l(null,null,function*(){var s,c;let a={acr_values:_c},{maxAge:u}=i||{};u!==void 0&&(a.max_age=u.toString());let d=(s=e.auth.tenantsState)==null||(c=s.activeTenant)==null?void 0:c.alias;d&&(a.organization=d),Jf(),window.localStorage.setItem(en,"true"),yield r.__requestHostedLoginAuthorize(a)})}};var wl=(e,n,t)=>{let r=t;return y({setStepUpState:f=>{Object.assign(e.auth.stepUpState,f)},resetStepUpState:()=>{Q(e,["auth","stepUpState"],Ny)},stepUpWithAuthenticator:f=>l(null,null,function*(){yield r.mfaWithAuthenticator(f,r.setStepUpState,!0)}),preVerifyMFASMSForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFASMS(f,r.setStepUpState)}),verifyMFASMSForStepUp:f=>l(null,null,function*(){yield r.verifyMFASMS(f,r.setStepUpState,!0)}),preVerifyMFAWebAuthnForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFAWebAuthn(f,r.setStepUpState)}),verifyMFAWebAuthnForStepUp:f=>l(null,null,function*(){yield r.verifyMFAWebAuthn(f,r.setStepUpState,!0)}),preVerifyMFAEmailCodeForStepUp:f=>l(null,null,function*(){yield r.preVerifyMFAEmailCode(f,r.setStepUpState)}),verifyMFAEmailCodeForStepUp:f=>l(null,null,function*(){yield r.verifyMFAEmailCode(f,r.setStepUpState)})},a_(e,n,t),c_(e,n,t))};var Ly={loaders:{},pageOffset:0,pageSize:20,errors:{},users:[],allUsers:[],roles:[],permissions:[],totalPages:0,shouldShowSubTenantUsersIfReseller:!1,allUsersQueryParams:{_filter:null,_offset:0,_limit:20,_order:"DESC",_sortBy:"name"},addUserDialogState:{loading:!1,open:!1},deleteUserDialogState:{loading:!1,open:!1},lockUserDialogState:{loading:!1,open:!1},enableUserDialogState:{loading:!1,open:!1},disableUserDialogState:{loading:!1,open:!1}},Fy=e=>K(Ly,e);var H2=["callback","appIds"],G2=["roles"],W2=["callback","profileImage"],z2=["callback"],q2=["callback"],Y2=["callback"],l_=(e,n,t)=>{let r=t,o=m=>l(null,null,function*(){try{let{groups:E}=yield ee(()=>n.groups.getGroups({_groupsRelations:Dc.roles}),m);return E}catch{return[]}}),i=m=>l(null,null,function*(){r.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0});try{var E;let I=m?.retryConfig,[{items:w},{items:M}]=yield Promise.all([ee(()=>n.teams.loadAvailableRoles(),I),ee(()=>n.teams.loadAvailablePermissions(),I)]);r.setTeamState({roles:w,permissions:M}),m==null||(E=m.callback)==null||E.call(m,{roles:w,permissions:M})}catch(I){var A;m==null||(A=m.callback)==null||A.call(m,null,I),r.setTeamError({key:ce.ROLES_AND_PERMISSIONS,value:_(I)})}finally{r.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!1})}}),s=m=>l(null,null,function*(){var E,A,I,w;let{silentLoading:M,callback:O}=m,L=e.auth.teamState,x=(E=m.pageSize)!=null?E:L.pageSize,N=(A=m.pageOffset)!=null?A:L.pageOffset,k=(I=m.filter)!=null?I:L.filter,P=(w=m.sort)!=null?w:L.sort;r.setTeamLoader({key:ce.USERS,value:!M}),r.setTeamState({pageSize:x,pageOffset:N,filter:k,sort:P});try{let[{items:F,totalPages:C,totalItems:R}]=yield Promise.all([n.teams.loadUsers({pageSize:x,pageOffset:N,filter:k,sort:P}),i()]);r.setTeamState({users:F,totalPages:C,totalItems:R}),O?.(F)}catch(F){r.setTeamError({key:ce.USERS,value:_(F)}),r.setTeamState({totalPages:0,users:[]}),O?.(null,F)}r.setTeamLoader({key:ce.USERS,value:!1})}),c=m=>l(null,null,function*(){var E,A,I,w,M;let{silentLoading:O,callback:L,shouldLoadRoles:x=!0,shouldLoadApps:N,retryConfig:k}=m,P=e.auth.teamState,F=(E=m.pageSize)!=null?E:P.pageSize,C=(A=m.pageOffset)!=null?A:P.pageOffset,R=(I=m.filter)!=null?I:P.filterV2,U=(w=m.sort)!=null?w:P.sortV2,G=(M=m?.shouldShowSubTenantUsersIfReseller)!=null?M:P?.shouldShowSubTenantUsersIfReseller;r.setTeamLoader({key:ce.USERS,value:!O}),r.setTeamState({pageSize:F,pageOffset:C,filterV2:R,sortV2:U});try{let[{items:z,_metadata:{totalPages:W,totalItems:$}},{items:B},{items:te},ae]=yield Promise.all([ee(()=>n.users.getUsersV2(y({},R?.length&&{_filter:R},U&&{_sortBy:U},m.order&&{_order:m.order},{_offset:C,_limit:F,_includeSubTenants:G})),k),ee(()=>n.teams.loadAvailableRoles(),k),ee(()=>n.teams.loadAvailablePermissions(),k),o(k),x?i({retryConfig:k}):void 0]),ye=z.map(qe=>{var Ue;let H=qe==null||(Ue=qe.groups)==null?void 0:Ue.map(j=>ae.filter(Z=>Z.id===j.id)).flat();return y({},qe,{groups:H})}).map(qe=>y({},qe,{roleIds:qe.roles.map(Ue=>Ue.id)})),Pt=yield t.mapUsersWithApplicationData({shouldLoadApps:N,users:ye,retryConfig:k});t.setTeamState({users:Pt,totalPages:W,totalItems:$,roles:B,permissions:te}),L?.(z)}catch(z){console.error("Failed to load users",z),r.setTeamError({key:ce.USERS,value:_(z)}),r.setTeamState({totalPages:0,users:[]}),L?.(null,z)}r.setTeamLoader({key:ce.USERS,value:!1})}),a=m=>l(null,null,function*(){var E,A,I,w;let{silentLoading:M,callback:O,shouldLoadRoles:L=!0,shouldLoadApps:x,retryConfig:N}=m,k=e.auth.teamState,P=(E=m.pageSize)!=null?E:k.pageSize,F=(A=m.pageOffset)!=null?A:k.pageOffset,C=(I=m.sort)!=null?I:k.sortV2,R=(w=m?.shouldShowSubTenantUsersIfReseller)!=null?w:k?.shouldShowSubTenantUsersIfReseller;r.setTeamLoader({key:ce.USERS,value:!M}),r.setTeamState({pageSize:P,pageOffset:F});try{let{items:U,_metadata:{totalPages:G,totalItems:z}}=yield n.users.getUsersV3(y({},C&&{_sortBy:C},m.order&&{_order:m.order},{_offset:F,_limit:P,_includeSubTenants:R},u(m))),W=U.map(Ue=>Ue.id),[{items:$},{items:B},te,ae,pe,ye]=yield Promise.all([W.length>0?n.users.getUsersUsernames({userIds:W}):[],n.teams.loadAvailableRoles(),n.teams.loadAvailablePermissions(),W.length>0?n.users.getUsersRoles({ids:W}):[],W.length>0?n.users.getUsersGroups({ids:W}):[],o(N),L?i({retryConfig:N}):void 0]),Pt=U.map(Ue=>{var H;let j=ae.find(Le=>Le.userId===Ue.id),Z=j?.roleIds||[],q=B.filter(Le=>Z.includes(Le.id)),re=pe.find(Le=>Le.userId===Ue.id),be=re?.groupIds||[],ke=ye.filter(Le=>be.includes(Le.id)),De=$==null||(H=$.find(Le=>Le.userId===Ue.id))==null?void 0:H.username;return Ue.name||(Ue.name=De),y({},Ue,{roles:q,roleIds:Z,groups:ke,permissions:q.flatMap(Le=>Le.permissions)})}),qe=yield t.mapUsersWithApplicationData({shouldLoadApps:x,users:Pt,retryConfig:N});t.setTeamState({users:qe,totalPages:G,totalItems:z,roles:B,permissions:te}),O?.(Pt)}catch(U){console.error("Failed to load users v3",U),r.setTeamError({key:ce.USERS,value:_(U)}),r.setTeamState({totalPages:0,users:[]}),O?.(null,U)}r.setTeamLoader({key:ce.USERS,value:!1})}),u=m=>{let{identifier:E,identifierType:A,email:I}=m;return A==="username"&&E!=null&&E.length?{_identifier:E,_identifierType:"username"}:I!=null&&I.length?{_email:I}:{}};return{loadRoles:i,loadUsers:s,loadUsersV2:c,loadUsersV3:a,addUser:m=>l(null,null,function*(){let{callback:E,appIds:A}=m,I=V(m,H2),w=e.auth.teamState;r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!0})});try{var M;let O=yield n.teams.addUser(I),{roles:L}=O,x=V(O,G2),N=(M=L?.map(F=>F.id))!=null?M:[],k=y({},x,{roleIds:N,roles:L||[],groups:[]}),P=yield t.assignNewUserToApps({appIds:A,user:k});P&&(k.applications=P),E?.(k),r.setTeamState({users:[k,...w.users],addUserDialogState:{open:!1,loading:!1}})}catch(O){console.error("Failed to add user",O),r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!1,error:_(O)})}),E?.(null,O)}}),addUsersBulk:m=>l(null,null,function*(){let{callback:E}=m,A=e.auth.teamState;r.setTeamState({addUserDialogState:y({},A.addUserDialogState,{loading:!0})});let I=[],w=[],M=m.emails.map(L=>y({email:L,roleIds:m.roleIds},m.expirationInSeconds&&{expirationInSeconds:m.expirationInSeconds}));r.setTeamState({addUserDialogState:{open:!0,loading:!0}});for(let L=0;L<M.length;L++){let x=M.at(L);try{yield n.teams.addUser(x),I.push(x.email)}catch{w.push(x.email)}}let O={pageOffset:0,pageSize:10,filter:"",silentLoading:m.emails.length>0};yield r.loadUsersV2(O),r.setTeamState({addUserDialogState:{loading:!1}}),E?.({unallowedEmails:w,allowedEmails:I})}),updateUser:m=>l(null,null,function*(){let{callback:E}=m,A=V(m,W2),{id:I}=A,w=e.auth.teamState,M=w.users.find(L=>L.id===A.id);if(M===void 0){E?.(null,"User not in state");return}r.setTeamLoader({key:ce.UPDATE_USER,value:I||""}),r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!0})}),r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!0}),users:w.users.map(L=>L.id===A.id?y({},L,A):L)});try{var O;M.roleIds.length>0&&((O=A.roleIds)==null?void 0:O.length)===0&&(A.roleIds=[""]);let{item:L}=yield n.teams.updateUser(A);E?.(L),r.setTeamState({users:w.users.map(x=>x.id===L.id?y({},x,L,{groups:x.groups,createdAt:x.createdAt,customData:x.customData,lastLogin:x.lastLogin}):x)}),r.setTeamLoader({key:ce.UPDATE_USER,value:!1})}catch(L){r.setTeamState({addUserDialogState:y({},w.addUserDialogState,{loading:!1,error:_(L)}),users:w.users.map(x=>x.id===A.id?y({},x,M):x)}),r.setTeamLoader({key:ce.UPDATE_USER,value:!1}),E?.(null,L)}}),deleteUser:m=>l(null,null,function*(){let{callback:E}=m,A=V(m,z2),I=e.auth.teamState;r.setTeamState({deleteUserDialogState:y({},I.deleteUserDialogState,{loading:!0})});try{yield n.teams.deleteUser(A),E?.(!0),r.setTeamState({users:I.users.filter(w=>w.id!==A.userId),deleteUserDialogState:{open:!1,loading:!1}})}catch(w){r.setTeamState({deleteUserDialogState:y({},I.deleteUserDialogState,{loading:!1,error:_(w)})}),E?.(null,w)}}),enableUser:m=>l(null,null,function*(){let{callback:E,userId:A}=m,I=e.auth.teamState;r.setTeamState({enableUserDialogState:y({},I.enableUserDialogState,{loading:!0})});try{yield n.teams.enableUser(A),E?.(!0),r.setTeamState({users:I.users.map(w=>w.id===A?y({},w,{isDisabled:!1}):w),enableUserDialogState:{open:!1,loading:!1}})}catch(w){r.setTeamState({enableUserDialogState:y({},I.enableUserDialogState,{loading:!1,error:_(w)})}),E?.(null,w)}}),disableUser:m=>l(null,null,function*(){let{callback:E,userId:A}=m,I=e.auth.teamState;r.setTeamState({disableUserDialogState:y({},I.disableUserDialogState,{loading:!0})});try{yield n.teams.disableUser(A),E?.(!0),r.setTeamState({users:I.users.map(w=>w.id===A?y({},w,{isDisabled:!0}):w),disableUserDialogState:{open:!1,loading:!1}})}catch(w){r.setTeamState({disableUserDialogState:y({},I.disableUserDialogState,{loading:!1,error:_(w)})}),E?.(null,w)}}),getTemporaryUsersConfig:m=>l(null,null,function*(){r.setTeamError({key:ce.CONFIG_TEMPORARY_USERS,value:!1});try{let E=yield ee(()=>n.teams.getTemporaryUserConfiguration(),m?.retryConfig);r.setTeamState({temporaryUsersConfig:E})}catch(E){r.setTeamError({key:ce.CONFIG_TEMPORARY_USERS,value:_(E)})}}),updateUserExpirationTime:m=>l(null,null,function*(){let{callback:E}=m,A=V(m,q2),I=e.auth.teamState;r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});try{let w=yield n.teams.updateUserExpirationTime(A);r.setTeamState({users:I.users.map(M=>M.id===A.userId?y({},M,{temporaryExpirationDate:new Date(w.temporaryExpirationDate)}):M)}),E?.(!0)}catch(w){r.setTeamError({key:ce.UPDATE_USER_EXPIRATION_TIME,value:_(w)}),E?.(null,w)}finally{r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}}),setUserAsPermanent:m=>l(null,null,function*(){let{callback:E}=m,A=V(m,Y2),I=e.auth.teamState;r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});try{yield n.teams.setPermanentUser(A.userId),r.setTeamState({users:I.users.map(w=>w.id===A.userId?y({},w,{temporaryExpirationDate:void 0}):w)}),E?.(!0)}catch(w){r.setTeamError({key:ce.UPDATE_USER_EXPIRATION_TIME,value:_(w)}),E?.(null,w)}finally{r.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}})}};var Z2=["callback","userId"],K2=["callback"],Q2=["callback"],u_=(e,n,t)=>{let r=t;return{loadAllSubTenantsUsers:a=>l(null,null,function*(){var u,d,p,g,f;let{silentLoading:h,callback:v}=a,D=e.auth.teamState.allUsersQueryParams,T=(u=a._limit)!=null?u:D._limit,m=(d=a._offset)!=null?d:D._offset,E=(p=a._filter)!=null?p:D._filter,A=(g=a._sortBy)!=null?g:D._sortBy,I=(f=a._order)!=null?f:D._order,w={_limit:T||20,_offset:m||0,_filter:E||"",_sortBy:A||"name",_order:I||"DESC"};r.setTeamLoader({key:ce.USERS,value:!h}),r.setTeamState({allUsersQueryParams:w,pageOffset:w._offset});try{let[{items:M,_metadata:{totalPages:O,totalItems:L}},{items:x},{items:N}]=yield Promise.all([n.subTenants.loadAllUsers(y({},w)),n.teams.loadAvailableRoles(),n.teams.loadAvailablePermissions()]);r.setTeamState({allUsers:M,totalPages:O,totalItems:L,roles:x,permissions:N}),v?.(M)}catch(M){r.setTeamError({key:ce.USERS,value:_(M)}),r.setTeamState({totalPages:0,users:[]}),v?.(null,M)}r.setTeamLoader({key:ce.USERS,value:!1})}),setUserRolesForSubTenants:a=>l(null,null,function*(){let{callback:u,userId:d}=a,p=V(a,Z2),g=e.auth.teamState;r.setTeamState({addUserDialogState:y({},g.addUserDialogState,{loading:!0})});try{yield n.subTenants.setUserRolesForSubTenants(d,p);let f=g.allUsers.find(v=>v.id===d),h=[];f&&(h=f.tenants.map(v=>{var S;return y({},v,{roles:((S=p.subTenantsRoles.find(D=>D.tenantId===v.tenantId))==null?void 0:S.roleIds.map(D=>g.roles.find(({id:m})=>D===m)).filter(D=>D))||v.roles})})),r.setTeamState({allUsers:[...g.allUsers.filter(v=>v.id!==d),...f?[y({},f,{tenants:h})]:[]],addUserDialogState:{open:!1,loading:!1}}),u?.(!0)}catch(f){r.setTeamState({addUserDialogState:y({},g.addUserDialogState,{loading:!1,error:_(f)})}),u?.(null,f)}}),deleteUserFromSubTenants:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,K2),p=e.auth.teamState;r.setTeamState({deleteUserDialogState:y({},p.deleteUserDialogState,{loading:!0})});try{yield n.subTenants.removeUserFromTenantAndSubTenants(d),u?.(!0),r.setTeamState({allUsers:p.allUsers.filter(g=>g.id!==d.userId&&g.tenants.length===d.subTenants.length),deleteUserDialogState:{open:!1,loading:!1}})}catch(g){r.setTeamState({deleteUserDialogState:y({},p.deleteUserDialogState,{loading:!1,error:_(g)})}),u?.(null,g)}}),addUserToSubTenants:a=>l(null,null,function*(){let{callback:u}=a,d=V(a,Q2),p=e.auth.teamState;r.setTeamState({addUserDialogState:y({},p.addUserDialogState,{loading:!0})});try{yield n.subTenants.addUserToTenantAndSubTenants(d);let{items:g,_metadata:{totalPages:f,totalItems:h}}=yield n.subTenants.loadAllUsers({_limit:20,_offset:0,_filter:"",_sortBy:"name",_order:"DESC"});r.setTeamState({allUsers:g,totalPages:f,totalItems:h,addUserDialogState:{open:!1,loading:!1}}),u?.(null)}catch(g){r.setTeamState({addUserDialogState:y({},p.addUserDialogState,{loading:!1,error:_(g)})}),u?.(null,g)}})}};var J2=["callback"],X2=["callback"],eV=["callback"],tV=["callback"],d_=(e,n,t)=>{let r=t,o=(u,d,p,g)=>l(null,null,function*(){r.setTeamLoader({key:u,value:d});try{yield g()}catch(f){r.setTeamError({key:u,value:_(f)}),p?.(null,f)}finally{r.setTeamLoader({key:u,value:!1})}});return{resendActivationLink:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,J2);yield o(ce.RESEND_ACTIVATE_LINK,p.userId,d,()=>l(null,null,function*(){yield n.teams.resendActivationLink(p),d?.(!0)}))}),resendInvitationLink:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,X2);yield o(ce.RESEND_INVITATION_LINK,p.email,d,()=>l(null,null,function*(){yield n.teams.resendInvitationLink(p),d?.(!0)}))}),resendInvitationEmail:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,eV);yield o(ce.RESEND_INVITATION_LINK,d,p.email,()=>l(null,null,function*(){yield n.auth.resendInvitationEmail(p),d?.(!0)}))}),resendInvitationLinkToAllSubTenants:u=>l(null,null,function*(){let{callback:d}=u,p=V(u,tV);yield o(ce.RESEND_INVITATION_LINK,p.email,d,()=>l(null,null,function*(){yield n.teams.resendInvitationLinkToAllTenants(p),d?.(!0)}))})}};var f_=(e,n,t)=>{let r=t,o=u=>l(null,null,function*(){r.setTeamError({key:ce.CONFIG_TOKEN_LINK,value:!1});try{let d=yield ee(()=>n.teams.getInviteLinkConfiguration(),u);r.setTeamState({inviteTokenState:y({},d)})}catch(d){r.setTeamError({key:ce.CONFIG_TOKEN_LINK,value:_(d)})}});return{getInvitationLink:u=>l(null,null,function*(){r.setTeamError({key:ce.GET_TOKEN_LINK,value:!1});try{let d=u?.retryConfig;yield o(d);let p=yield ee(()=>n.teams.getInviteUserLink(),d),{inviteTokenState:g}=e.auth.teamState;r.setTeamState({inviteTokenState:y({},g,p)})}catch(d){r.setTeamError({key:ce.GET_TOKEN_LINK,value:_(d)})}}),createInvitationLink:u=>l(null,null,function*(){let{callback:d,expiresInMinutes:p,shouldSendEmail:g,roleIds:f}=u;r.setTeamError({key:ce.CREATE_TOKEN_LINK,value:!1});let{inviteTokenState:h}=e.auth.teamState;try{let[v]=yield r.getFeatureFlags(["invite_user_modal_enhancements_frontend"]),S;v?S=yield n.teams.createInviteUserLinkV2({expiresInMinutes:p??43200,shouldSendEmail:g??!0,roleIds:f??[]}):S=yield n.teams.createInviteUserLink({expiresInMinutes:43200}),r.setTeamState({inviteTokenState:y({},h,S)}),d?.(S.token)}catch(v){d?.(null,v),r.setTeamError({key:ce.CREATE_TOKEN_LINK,value:_(v)})}}),updateInvitationLink:u=>l(null,null,function*(){let{callback:d,expiresInMinutes:p,shouldSendEmail:g}=u;r.setTeamError({key:ce.UPDATE_TOKEN_LINK,value:!1});try{let{inviteTokenState:f}=e.auth.teamState,h=yield n.teams.updateInviteUserLink({expiresInMinutes:p,shouldSendEmail:g});r.setTeamState({inviteTokenState:y({},f,h)}),d?.(!0)}catch(f){d?.(null,f),r.setTeamError({key:ce.UPDATE_TOKEN_LINK,value:_(f)})}}),deleteInvitationLink:u=>l(null,null,function*(){let{callback:d}=u??{};r.setTeamError({key:ce.DELETE_TOKEN_LINK,value:!1});try{yield n.teams.deleteInviteUserLink(),yield o(),d?.(!0)}catch(p){r.setTeamError({key:ce.DELETE_TOKEN_LINK,value:_(p)}),d?.(!1,p)}})}};var El=(e,n,t)=>{let r=t,o=f=>{Object.assign(e.auth.teamState,f)};return y({setTeamLoader:f=>{Object.assign(e.auth.teamState,{loaders:y({},e.auth.teamState.loaders,{[f.key]:f.value})})},setTeamError:f=>{Object.assign(e.auth.teamState,{errors:y({},e.auth.teamState.errors,{[f.key]:f.value}),loaders:y({},e.auth.teamState.loaders,{[f.key]:!1})})},setTeamState:o,resetTeamState:()=>{Q(e,["auth","teamState"],Ly)},openAddUserDialog:f=>{o({addUserDialogState:y({open:!0,loading:!1,error:!1},f)})},closeAddUserDialog:f=>{var h,v;(h=(v=e.auth.teamState.addUserDialogState).onClose)==null||h.call(v,f),o({addUserDialogState:{loading:!1,error:!1,open:!1}})},openDeleteUserDialog:f=>{o({deleteUserDialogState:y({open:!0,loading:!1,error:!1},f)})},closeDeleteUserDialog:f=>{var h,v;(h=(v=e.auth.teamState.deleteUserDialogState).onClose)==null||h.call(v,f),o({deleteUserDialogState:{loading:!1,error:!1,open:!1}})},lockUser:f=>l(null,null,function*(){})},l_(e,n,t),u_(e,n,t),d_(e,n,t),f_(e,n,t))};var Uy={tenants:[],subTenants:[],switchingTenant:!1,loading:!0,tenantTree:null},jy=e=>K(Uy,e);var Dl=(e,n,t)=>{let r=t,o=d=>{Object.assign(e.auth.tenantsState,d)};return{setTenantsState:o,resetTenantsState:()=>{Q(e,["auth","tenantsState"],Uy)},switchTenant:d=>l(null,null,function*(){let{tenantId:p,silentReload:g,callback:f}=d;g?r.setTenantsState({switchingTenant:!0}):r.setAuthState({isLoading:!0});try{yield n.tenants.switchTenant({tenantId:p}),g&&r.resetAuthState({isLoading:!1,isAuthenticated:!0,user:e.auth.user}),yield r.__refreshToken(),f?.(!0)||(g?r.setTenantsState({switchingTenant:!1}):r.setAuthState({isLoading:!1}))}catch(h){g?r.setTenantsState({switchingTenant:!1}):r.setAuthState({isLoading:!1}),f?.(!1,h)}}),loadTenants:d=>l(null,null,function*(){o({loading:!0});try{var p;let h=yield Jr(e.root.appName)();o({tenants:h.tenants,activeTenant:h.activeTenant,loading:!1}),d==null||(p=d.callback)==null||p.call(d,[])}catch(f){var g;d==null||(g=d.callback)==null||g.call(d,[],f),o({loading:!1})}}),loadSubTenants:d=>l(null,null,function*(){o({loading:!0});try{var p;let f=yield retryIfNeeded(()=>n.tenants.getSubTenants(),d?.retryConfig);o({subTenants:f,loading:!1}),d==null||(p=d.callback)==null||p.call(d,!0)}catch(f){var g;o({loading:!1}),d==null||(g=d.callback)==null||g.call(d,null,f)}}),loadSubTenantsTree:d=>l(null,null,function*(){o({loading:!0});try{var p;let f=yield n.tenants.getSubTenantsAsTree();o({tenantTree:f,loading:!1}),d==null||(p=d.callback)==null||p.call(d,!0)}catch(f){var g;o({loading:!1}),d==null||(g=d.callback)==null||g.call(d,null,f)}})}};var Vy={loading:!1,error:null,username:void 0,fetching:!0},$y=e=>K(Vy,e);var Il=(e,n,t)=>{let r=a=>{Object.assign(e.auth.usernamesState,a)},o=()=>{Q(e,["auth","usernamesState"],Vy)},i=()=>l(null,null,function*(){r({loading:!0});try{let a=yield n.usernames.getUserOwnUsername();r({username:a?.username,loading:!1,fetching:!1})}catch(a){r({error:_(a),fetching:!1})}finally{r({loading:!1,fetching:!1})}}),s=a=>l(null,null,function*(){r({loading:!0});try{if(e.auth.usernamesState.username===a.username){var u;(u=a.callback)==null||u.call(a);return}if(e.auth.usernamesState.username&&e.auth.usernamesState.username!==a.username&&(yield c(e.auth.usernamesState.username),!a.username)){var d;r({username:void 0,loading:!1}),(d=a.callback)==null||d.call(a);return}if(a.username){var p;yield n.usernames.createUsername(a),r({username:a.username,loading:!1}),(p=a.callback)==null||p.call(a)}}catch(g){r({error:_(g)})}finally{r({loading:!1})}}),c=a=>l(null,null,function*(){r({loading:!0});try{yield n.usernames.deleteUsername(a),r({username:void 0,loading:!1})}catch(u){r({error:_(u)})}finally{r({loading:!1})}});return{resetUsernamesState:o,loadUserOwnUsername:i,saveUserUsername:s,deleteUserUsername:c}};var nV={userEmailPolicyConfig:null,loading:!1},By=e=>K(nV,e);var Cl=(e,n,t)=>{let r=i=>{Object.assign(e.auth.userEmailPolicyState,i)};return{loadUserEmailPolicyState:()=>l(null,null,function*(){r({loading:!0});try{let i=yield n.userEmailPolicy.getUserEmailPolicyConfig();r({loading:!1,userEmailPolicyConfig:i})}catch(i){r({loading:!1,error:_(i)})}}),setUserEmailPolicyState:r}};var _l=(e,n,t)=>{let r=t,o=c=>{e.auth.user&&(e.auth.user.entitlements=c)},i=c=>{var a;let u=(a=e.auth.user)==null?void 0:a.entitlements;Vc(u,c)||o(c)};return{setEntitlements:o,handleFetchedEntitlements:i,loadEntitlements:c=>l(null,null,function*(){let a=c?.callback;try{let u=yield n.entitlements.loadEntitlementsV2();i(u),a?.(!0)}catch{a?.(!1)}})}};var Hy;(function(e){e[e.Email=0]="Email",e[e.Otc=1]="Otc",e[e.Success=2]="Success"})(Hy||(Hy={}));var rV=["routes"],oV=["requestName"],Gy=e=>{let n=e??{},{routes:t}=n,r=V(n,rV);return K(y({routes:y({},Tc,t),onRedirectTo:()=>{},isAuthenticated:!1,isLoading:!0,isSSOAuth:!1,user:null,error:void 0,errorByRequest:{},userIp:void 0,userIpData:{loading:!1}},r,{acceptInvitationState:Wm(r?.acceptInvitationState),accountSettingsState:cv(r?.accountSettingsState),activateAccountState:uv(r?.activateAccountState),unlockAccountState:Uv(r?.unlockAccountState),apiTokensState:Vv(r?.apiTokensState),applicationsState:Bv(r?.applicationsState),customLoginState:Gv(r?.customLoginState),forgotPasswordState:zv(r?.forgotPasswordState),passwordRotationState:qv(r?.passwordRotationState),groupsState:Zv(r?.groupsState),groupsDialogsState:Qv(r?.groupsDialogsState),impersonateState:Xv(r?.impersonateState),loginState:ty(r?.loginState),mfaState:ry(r?.mfaState),allAccountsState:oy(r?.allAccountsState),allAccountsDialogsState:sy(r?.allAccountsDialogsState),passkeysState:cy(r?.passkeysState),profileState:uy(r?.profileState),provisioningState:fy(r?.provisioningState),resetPhoneNumberState:hy(r?.resetPhoneNumberState),rolesState:my(r?.rolesState),restrictionsState:vy(r?.restrictionsState),securityCenterState:Sy(r?.securityCenterState),securityPolicyState:Ay(r?.securityPolicyState),sessionsPolicyState:Ey(r?.sessionsPolicyState),sessionsState:Iy(r?.sessionsState),signUpState:_y(r?.signUpState),smsState:xy(r?.smsState),socialLoginState:Py(r?.socialLoginState),ssoState:Oy(r?.ssoState),stepUpState:ky(r?.stepUpState),teamState:Fy(r?.teamState),tenantsState:jy(r?.tenantsState),usernamesState:$y(r?.usernamesState),userEmailPolicyState:By(r?.userEmailPolicyState)}))},Wy=(e,n,t,r)=>{let o=qe=>{Object.keys(qe).forEach(Ue=>{let H=Ue;Pc(e.auth[H])?Object.assign(e.auth[H],qe[H]):e.auth[H]=qe[H]})},i=(qe={})=>{Q(e,["auth"],y({},r,qe))},s=qe=>{o({user:qe})},c=qe=>{let{requestName:Ue}=qe,H=V(qe,oV);e.auth.errorByRequest=y({},e.auth.errorByRequest,{[Ue]:y({},H,{isError:!0})})},a=Nc(e,n,t),u=kc(e,n,t),d=Gc(e,n,t),p=Wc(e,n,t),g=zc(e,n,t),f=qc(e,n,t),h=Yc(e,n,t),v=_l(e,n,t),S=Zc(e,n,t),D=Kc(e,n,t),T=Qc(e,n,t),m=Jc(e,n,t),E=Xc(e,n,t),A=el(e,n,t),I=tl(e,n,t),w=sl(e,n,t),M=al(e,n,t),O=cl(e,n,t),L=ll(e,n,t),x=ul(e,n,t),N=dl(e,n,t),k=fl(e,n,t),P=pl(e,n,t),F=hl(e,n,t),C=gl(e,n,t),R=ml(e,n,t),U=vl(e,n,t),G=yl(e,n,t),z=Sl(e,n,t),W=bl(e,n,t),$=Al(e,n,t),B=wl(e,n,t),te=El(e,n,t),ae=Dl(e,n,t),pe=Il(e,n,t),ye=Cl(e,n,t),Pt={acceptInvitationActions:a,accountSettingsActions:u,activateAccountActions:d,unlockAccountActions:p,apiTokensActions:g,applicationsActions:f,customLoginActions:h,entitlementsActions:v,forgotPasswordActions:S,passwordRotationActions:D,groupsActions:T,groupsDialogsActions:m,impersonateActions:E,loginActions:A,mfaActions:I,allAccountsActions:w,allAccountsDialogActions:M,passkeysActions:O,profileActions:L,provisioningActions:x,resetPhoneNumberActions:N,rolesActions:k,restrictionsActions:P,securityCenterActions:F,securityPolicyActions:C,sessionsPolicyActions:R,sessionsActions:U,signUpActions:G,smsActions:z,socialLoginActions:W,ssoActions:$,stepUpActions:B,teamActions:te,tenantsActions:ae,usernamesActions:pe,usersEmailsPolicyActions:ye};return[y({setAuthState:o,setErrorByRequestName:c,setState:o,resetAuthState:i,setUser:s},Object.values(Pt).reduce((qe,Ue)=>y({},qe,Ue),{})),Pt]};var zy={isLoading:!1,isSaving:!1,list:[],processIds:[],slackChannels:{isLoading:!1}},rp=e=>K(zy,e);var p_=["email","slack","sms","webhook"],Bs={sms:{title:"connectivity.sms",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({enabled:t})=>t))!=null?n:!1},image:"sms"},email:{title:"common.email",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({enabled:t})=>t))!=null?n:!1},image:"email"},slack:{title:"connectivity.slack",events:e=>{var n;return(e==null||(n=e.slackSubscriptions)==null?void 0:n.length)||0},isActive:e=>!!(e!=null&&e.slackSubscriptions.some(({isActive:n})=>n)),image:"slack"},webhook:{title:"connectivity.webhook",events:e=>e?.length||0,isActive:e=>{var n;return(n=e?.some(({isActive:t})=>t))!=null?n:!1},image:"webhook"}};var iV=["id"],sV=["id","enabled"],Hs=(e,n,t)=>{let r={slack:n.connectivity.getSlackConfiguration,email:n.connectivity.getEmailConfiguration,sms:n.connectivity.getSMSConfiguration,webhook:n.connectivity.getWebhooksConfigurations,categories:n.connectivity.getCategories,channelMap:n.connectivity.getChannelMaps},o=["categories","channelMap"],i={slack:n.connectivity.postSlackConfiguration,email:n.connectivity.postEmailConfiguration,sms:n.connectivity.postSMSConfiguration,webhook:n.connectivity.postWebhooksConfiguration},s=x=>{Object.assign(e.connectivity,x)},c=x=>{var N;let k=(N=e.connectivity.retryResult)!=null?N:{};e.connectivity.retryResult=y({},k,x)},a=()=>{Q(e,["connectivity"],zy)},u=(x,N,k)=>l(null,null,function*(){try{return yield ee(()=>r[x](N),k)}catch{return}}),d=()=>l(null,null,function*(){try{s({slackChannels:{isLoading:!0}});let x=yield n.connectivity.getSlackChannels();s({error:void 0,slackChannels:{isLoading:!1,data:x}})}catch{s({error:void 0,slackChannels:{isLoading:!1}})}}),p=x=>l(null,null,function*(){let N=x??p_;s({isLoading:!0});try{let k=yield Promise.all([...N.map(C=>u(C,void 0,Tt)),u("categories",void 0,Tt),l(null,null,function*(){return(yield Promise.all(N.map(R=>u("channelMap",R,Tt)))).reduce((R,U,G)=>y({},R,{[`${N[G]}`]:U}),{})})]),P=yield u("webhook",void 0,Tt),F=k.reduce((C,R,U)=>N[U]?k[k.length-1][N[U]].length?y({},C,{[`${N[U]}`]:R,list:[...C.list,{id:U,key:N[U],events:Bs[N[U]].events(R),active:Bs[N[U]].isActive(R),platform:Bs[N[U]].title,image:Bs[N[U]].image}]}):C:y({},C,{[`${o[U-N.length]}`]:R}),{list:[],webhook:P});s(y({},F,{error:void 0,isSaving:!1,isLoading:!1}))}catch(k){s({isLoading:!1,error:_(k)})}}),g=x=>l(null,null,function*(){var N;let k=(N=e.connectivity.slack)==null?void 0:N.slackSubscriptions;if(!k)return;let{slackSubscriptions:P}=x;yield Promise.all([...P.reduce((F,C)=>{var R,U;return!C.id&&C.slackEvents&&(R=C.slackEvents[0].channelIds)!=null&&R.length?[...F,C]:k?.find(z=>{let{id:W}=z,$=V(z,iV);return W===C.id&&JSON.stringify(y({id:W},$))!==JSON.stringify(C)})&&C.slackEvents&&(U=C.slackEvents[0].channelIds)!=null&&U.length?[...F,C]:F},[]).map(F=>i.slack(F)),...P.reduce((F,C)=>C.id&&!C.slackEvents[0].channelIds.length?[...F,C]:F,[]).map(F=>n.connectivity.deleteSlackConfiguration(F))])}),f=(x,N)=>l(null,null,function*(){let k=e.connectivity.processIds,P=e.connectivity[N];if(!P)return;let F=[];try{F=yield Promise.all([...x.reduce((C,R)=>!P.find(({eventKey:G})=>G===R.eventKey)&&R.subscriptions[0].recipients.filter(G=>G).length?[...C,R]:C,[]).map(C=>N==="email"?n.connectivity.postEmailConfiguration(C):n.connectivity.postSMSConfiguration(C)),...x.reduce((C,R)=>{let U=P.find(({eventKey:G})=>G===R.eventKey);return U&&JSON.stringify(U)!==JSON.stringify(R)?[...C,R]:C},[]).map(C=>{let{subscriptions:R,eventKey:U}=C,G=R[0],{id:z="",enabled:W}=G,$=V(G,sV);return Promise.all([N==="email"?n.connectivity.patchEmailConfiguration({eventKey:U,enabled:W}):n.connectivity.patchSMSConfiguration({eventKey:U,enabled:W}),N==="email"?n.connectivity.putEmailSubscriptions(z,U,y({},$,{enabled:W})):n.connectivity.putSMSSubscriptions(z,U,y({},$,{enabled:W}))])}),...x.reduce((C,R)=>{let U=P.find(({eventKey:G})=>G===R.eventKey);return U&&U.subscriptions[0].recipients.length&&!R.subscriptions[0].recipients.filter(G=>!!G).length?[...C,R]:C},[]).map(({eventKey:C,subscriptions:R})=>N==="email"?n.connectivity.deleteEmailSubscriptions(C,R[0].id||""):n.connectivity.deleteSMSSubscriptions(C,R[0].id||""))])}catch{}if(F.length){let C=yield u(N);s({error:void 0,isSaving:!1,[`${N}`]:C,processIds:C.id?k.filter(R=>R!==C.id):k}),yield h(N,C)}else s({error:void 0,isSaving:!1,[`${N}`]:P,processIds:k})}),h=(x,N)=>l(null,null,function*(){let{list:k}=e.connectivity,P=k.find(({key:C})=>C===x);if(!P)return;let F=Bs[x].isActive(N);F!==P.active&&s({list:k.map(C=>C.key===x?y({},C,{active:F}):C)})}),v=x=>l(null,null,function*(){let{platform:N,data:k,callback:P}=x,F=e.connectivity.processIds;try{if(s({isSaving:!0,processIds:N==="webhook"?[k._id,...F]:F}),N==="slack"?yield g(k):["sms","email"].includes(N)?yield f(k,N):yield i[N](k),!["sms","email"].includes(N)){let C=yield u(N);N==="webhook"&&(C.id=k._id),s({error:void 0,isSaving:!1,[`${N}`]:C,processIds:C.id?F.filter(R=>R!==C.id):F}),yield h(N,C),P?.(!0)}}catch(C){s({error:_(C),isSaving:!1,isLoading:!1})}}),S=x=>l(null,null,function*(){try{yield n.connectivity.postSlackCode(x)}catch{}s({error:void 0,isSaving:!1})}),D=()=>l(null,null,function*(){let x=e.connectivity.slackChannels;try{s({slackChannels:y({},x,{isLoadingScope:!0})});let{clientId:N}=yield n.connectivity.getSlackScope();s({slackChannels:{error:void 0,clientId:N,isLoadingScope:!1,isLoading:!1}})}catch{s({slackChannels:{error:void 0,isLoadingScope:!1,isLoading:!1}})}}),T=x=>l(null,null,function*(){let{callback:N,webhookId:k}=x,P=e.connectivity.processIds;try{s({isSaving:!0}),yield n.connectivity.deleteWebhooksConfiguration(k)}catch(C){N?.(null,_(C))}let F=yield u("webhook");F&&s({error:void 0,isSaving:!1,webhook:F,processIds:F.id?P.filter(C=>C!==F.id):P}),N?.(!0)}),m=x=>l(null,null,function*(){try{s({isTesting:!0});let{statusCode:N,body:k}=yield n.connectivity.postWebhookTest(x);if([201,200].includes(N)){let P=JSON.stringify(k,null,2);s({isTesting:!1,testResult:{status:"success",message:P}})}else s({isTesting:!1,testResult:{status:"failed"}})}catch(N){s({isTesting:!1,testResult:{status:"failed",message:_(N)}})}}),E=x=>l(null,null,function*(){try{let{statusCode:N}=yield n.connectivity.postWebhookRetry(x);c({[x]:{isProcess:!1,success:N===202}})}catch{c({[x]:{isProcess:!1,success:!1}})}}),A=x=>l(null,null,function*(){let{id:N,limit:k,offset:P}=x,F=e.connectivity.webhookLogs;try{s({webhookLogs:y({},F,{isLoading:!0})});let C=yield n.connectivity.getWebhookLog(N,P,k);s({error:void 0,webhookLogs:y({isLoading:!1},C)})}catch{s({error:void 0,webhookLogs:{isLoading:!1}})}});return{setConnectivityState:s,initData:a,resetConnectivityState:a,loadSlackActions:d,loadSlackChannels:d,loadDataAction:p,loadConnectivityChannels:p,postDataAction:v,postChannelData:v,postCodeAction:S,postSlackCode:S,loadScope:D,loadSlackPermissions:D,deleteWebhookConfigAction:T,deleteWebhookConfig:T,postWebhookTestAction:m,postWebhookTest:m,postWebhookRetryAction:E,postWebhookRetry:E,loadWebhookLogsAction:A,loadWebhookLogs:A,cleanWebhookTestData:()=>{s({testResult:void 0})},cleanWebhookLogsData:()=>l(null,null,function*(){s({webhookLogs:void 0})}),cleanWebhookTestMessage:x=>l(null,null,function*(){var N;s({testResult:{status:(N=x.testResult)==null?void 0:N.status,message:void 0}})}),cleanError:()=>l(null,null,function*(){s({error:void 0})}),cleanSlackData:()=>l(null,null,function*(){s({slackChannels:{isLoading:!1}})})}};var qy;(function(e){e.UNKNWON="unknown",e.CARD="card"})(qy||(qy={}));var Yy={loading:!1,error:null,fetching:!0,config:null},Zy=e=>K(Yy,e);var gi;(function(e){e.STRIPE="Stripe"})(gi||(gi={}));var An;(function(e){e.ACTIVE="ACTIVE",e.CANCELED="CANCELED",e.INCOMPLETE="INCOMPLETE",e.EXPIRED="EXPIRED",e.TRIALING="TRIALING"})(An||(An={}));var Tl;(function(e){e.AT_PERIOD_END="atPeriodEnd"})(Tl||(Tl={}));var xl=(e,n,t)=>{let r=a=>{Object.assign(e.subscriptions.config,a)},o=()=>{Q(e,["subscriptions","config"],Yy)},i=a=>{Object.assign(e.subscriptions.config,{error:a,loading:!1,fetching:!1})},s=()=>l(null,null,function*(){r({loading:!0});try{let a=yield n.subscriptions.getStripePaymentProviderConfiguration(),u={paymentProvider:gi.STRIPE,apiKey:a.publishableKey};r({config:u}),r({loading:!1,fetching:!1})}catch(a){i(_(a))}});return{setPaymentConfigState:r,resetPaymentConfigState:o,loadPaymentConfiguration:()=>l(null,null,function*(){r({loading:!0});try{var a;((a=yield n.subscriptions.getPaymentProviders())!=null?a:[]).find(p=>p.status==="1"&&p.providerType===xr.Stripe)?yield s():i(_("Payment provider not configured"))}catch(u){i(_(u))}})}};var Ky={loading:!1,error:null,fetching:!0},Qy=e=>K(Ky,e);function h_({policy:e}){return{policy:aV(e)}}function aV(e){return Tl.AT_PERIOD_END}function g_(e){switch(e){case St.ACTIVE:return An.ACTIVE;case St.INCOMPLETE:return An.INCOMPLETE;case St.CANCELED:return An.CANCELED;case St.EXPIRED:return An.EXPIRED;case St.TRIALING:return An.TRIALING;default:return An.EXPIRED}}var Ml=(e,n,t)=>{let r=t,o=u=>{Object.assign(e.subscriptions.billing.information,u)},i=()=>{Q(e,["subscriptions","billing","information"],Ky)},s=u=>{o({error:u,loading:!1,fetching:!1})},c=(u,d)=>l(null,null,function*(){o({loading:!0});try{var p,g;let f=yield n.subscriptions.getSubscriptionSummaries(u),{currentPlanId:h,externallyManaged:v}=f,S=null,D;v?D=yield n.subscriptions.getSubscriptionPlan(h):([,D]=yield Promise.all([r.loadSubscription(),n.subscriptions.getSubscriptionPlan(h)]),S=e.subscriptions.billing.subscription.subscription||null),o(y({loading:!1,fetching:!1,summary:f},S?{subscription:{id:S.id,externalId:S.externalId,startDate:S.startDate,currentPeriodStart:S.currentPeriodStart,currentPeriodEnd:S.currentPeriodEnd,status:d?An.ACTIVE:g_(S.status),cancellation:S.cancellation&&h_(S.cancellation),trialEnd:S.trialEnd?S.trialEnd:null}}:{},D?{plan:{id:D.id,name:D.name,description:D.description,price:((p=D.price)==null?void 0:p.amount)||0,currency:((g=D.price)==null?void 0:g.currency)||"usd",recurringInterval:"month",slug:D.slug}}:{}))}catch(f){s(_(f))}});return{setBillingInformationState:o,resetBillingInformationState:i,loadSummaries:c,loadBillingInformation:u=>l(null,null,function*(){var d,p;let g=(d=e.subscriptions.config.config)==null?void 0:d.paymentProvider,f=(p=e.auth.user)==null?void 0:p.tenantId;if(!g||!f){s(new ct(g?"Not authorized":"Internal feature failure",500,null));return}yield c(f,u)})}};var Jy={loading:!1,error:null,fetching:!0,invoices:[],invoiceDownload:{loading:!1,error:null}},Xy=e=>K(Jy,e);var Pl=(e,n,t)=>{let r=u=>{Object.assign(e.subscriptions.billing.invoices,u)},o=()=>{Q(e,["subscriptions","billing","invoices"],Jy)},i=u=>{r({error:u,loading:!1,fetching:!1})},s=u=>{Object.assign(e.subscriptions.billing.invoices.invoiceDownload,u)},c=()=>l(null,null,function*(){r({loading:!0});try{let d=(yield n.subscriptions.getSubscriptionInvoices()).map(p=>({id:p.id,externalId:p.externalId,subscriptionId:p.subscriptionId,paymentDate:new Date(Date.parse(p.paymentDate)),totalAmount:+((p.totalAmount||0)/100).toFixed(2),currency:p.currency||"usd",paid:p.paid||!1,receiptNumber:p.receiptNumber}));r({loading:!1,fetching:!1,invoices:d})}catch(u){i(_(u))}}),a=u=>l(null,null,function*(){s({loading:!0,error:null});try{yield n.subscriptions.getSubscriptionInvoicePdf(u.invoiceId,u.filename),s({loading:!1,error:null})}catch(d){s({loading:!1,error:_(d,null)})}});return{setBillingInvoiceState:r,resetBillingInvoiceState:o,loadInvoices:c,loadBillingInvoices:c,downloadInvoice:a,downloadBillingInvoice:a}};var eS={loading:!1,error:null,fetching:!0},tS=e=>K(eS,e);var Rl=(e,n,t)=>{let r=g=>{Object.assign(e.subscriptions.billing.paymentMethod,g)},o=()=>{Q(e,["subscriptions","billing","paymentMethod"],eS)},i=g=>{r({loading:g})},s=g=>{r({error:g,loading:!1,fetching:!1})},c=()=>l(null,null,function*(){i(!0);try{let f=(yield n.subscriptions.getPaymentMethods())[0];r({paymentMethod:f,loading:!1,fetching:!1})}catch(g){s(_(g))}});return{setBillingPaymentMethodState:r,resetBillingPaymentMethodState:o,loadPaymentMethod:c,submitPaymentMethod:()=>l(null,null,function*(){i(!0)}),submitPaymentMethodError:g=>l(null,null,function*(){s(g)}),submitPaymentMethodSuccess:()=>l(null,null,function*(){return yield c()}),updatePaymentMethodBillingDetails:g=>l(null,null,function*(){i(!0);let{id:f,email:h,address:v,callback:S}=g;try{yield n.subscriptions.updatePaymentMethodBillingDetails(f,y({email:h},v)),yield c(),S?.(!0)}catch(D){s(_(D)),S?.(!1,D)}finally{i(!1)}})}};var nS={loading:!1,error:null,fetching:!0,cancellation:{loading:!1,error:null},renewal:{loading:!1,error:null}},rS=e=>K(nS,e);var Ol=(e,n,t)=>{let r=t,o=S=>{Object.assign(e.subscriptions.billing.subscription,S)},i=()=>{Q(e,["subscriptions","billing","subscription"],nS)},s=S=>{o({error:S,loading:!1,fetching:!1})},c=S=>{o({loading:S})},a=S=>{Object.assign(e.subscriptions.billing.subscription.cancellation,{loading:S})},u=S=>{Object.assign(e.subscriptions.billing.subscription.cancellation,{error:S})},d=S=>{Object.assign(e.subscriptions.billing.subscription.renewal,{loading:S})},p=S=>{Object.assign(e.subscriptions.billing.subscription.renewal,{error:S})},g=()=>l(null,null,function*(){c(!0);try{let[S]=yield n.subscriptions.getManagedSubscriptions();o({subscription:S,fetching:!1,loading:!1,error:null})}catch(S){s(_(S))}});return{setBillingSubscriptionState:o,resetBillingSubscriptionState:i,setCancellationLoading:a,setCancellationError:u,setRenewalLoading:d,setRenewalError:p,loadSubscription:g,loadSubscriptionTenant:()=>l(null,null,function*(){var S;let D=(S=e.auth.user)==null?void 0:S.tenantId;if(!D){s(new ct("TenantId is not defined",500,null));return}yield r.loadSummaries(D)}),cancelSubscription:()=>l(null,null,function*(){let{subscription:S}=e.subscriptions.billing.subscription;if(!S){u(new ct("Subscription not found",500,null));return}if(S!=null&&S.externallyManaged){u(new ct("Billing is externally managed",500,null));return}let{id:D,cancellation:T,status:m}=S||{};if(!T&&m===St.ACTIVE)try{a(!0),yield n.subscriptions.cancelManagedSubscription(D),yield g(),a(!1)}catch(A){u(_(A))}}),renewSubscription:()=>l(null,null,function*(){let{subscription:S}=e.subscriptions.billing.subscription;if(!S){p(new ct("Subscription not found",500,null));return}if(S!=null&&S.externallyManaged){p(new ct("Billing is externally managed",500,null));return}let{id:D,cancellation:T}=S||{};if(T?.policy===Zo.AT_PERIOD_END)try{d(!0),yield n.subscriptions.renewManagedSubscription(D),yield g(),d(!1)}catch(E){p(_(E))}})}};var m_=e=>K({information:Qy(e?.information),invoices:Xy(e?.invoices),paymentMethod:tS(e?.paymentMethod),subscription:rS(e?.subscription)}),v_=(e,n,t)=>{let r=Ml(e,n,t),o=Rl(e,n,t),i=Pl(e,n,t),s=Ol(e,n,t);return[y({},r,o,i,s),{information:r,invoices:i,paymentMethod:o,subscription:s}]};var oS={loading:!1,error:null,fetching:!0,plans:[]},iS=e=>K(oS,e);var Nl=(e,n,t)=>{let r=c=>{Object.assign(e.subscriptions.plans,c)},o=()=>{Q(e,["subscriptions","plans"],oS)},i=c=>{r({loading:!1,fetching:!1,error:c})};return{setPlansState:r,resetPlansState:o,loadPlans:()=>l(null,null,function*(){r({loading:!0});try{let a=(yield n.subscriptions.getSubscriptionPlans()).map(u=>{var d,p;return{id:u.id,name:u.name,description:u.description,price:((d=u.price)==null?void 0:d.amount)||0,currency:((p=u.price)==null?void 0:p.currency)||"usd",recurringInterval:"month",slug:u.slug}});r({fetching:!1,loading:!1,plans:a})}catch(c){i(_(c))}})}};var sS={fetching:!0,loading:!1,error:null,confirmed:!1},aS=e=>K(sS,e);var kl=(e,n,t)=>{let r=t,o=p=>{Object.assign(e.subscriptions.checkout,p)};return{setCheckoutState:o,resetCheckoutState:()=>{Q(e,["subscriptions","checkout"],sS)},loadCheckout:()=>{o({fetching:!1,loading:!1,error:null,confirmed:!1})},resetCheckout:()=>{o({loading:!1,error:null,confirmed:!1})},submitCheckout:()=>{o({loading:!0,error:null})},confirmCheckout:p=>l(null,null,function*(){let{paymentMethodId:g,planId:f}=p,h=e.subscriptions.billing.subscription.subscription,v=e.subscriptions.billing.information.summary,S=h?.status===St.TRIALING,D=!!(v!=null&&v.paymentMethodId);if(!h){o({loading:!1,error:new ct("Subscription not found",500,null)});return}if(o({loading:!0,error:null}),S&&D){o({loading:!1,error:null,confirmed:!0}),r.setBillingSubscriptionState({subscription:y({},h,{status:St.ACTIVE})});return}try{yield n.subscriptions.updateManagedSubscription(h.id,{paymentMethodId:g,planId:f}),yield Promise.all([r.loadBillingInformation(),r.loadPaymentMethod(),r.loadInvoices()]),o({loading:!1,error:null,confirmed:!0})}catch(T){o({loading:!1,error:_(T)})}}),errorCheckout:p=>{o({loading:!1,error:p})}}};var cS={loading:!1,error:null,cardSetupIntentSecret:null},lS=e=>K(cS,e);var Ll=(e,n,t)=>{let r=c=>{Object.assign(e.subscriptions.stripe,c)},o=()=>{Q(e,["subscriptions","stripe"],cS)},i=c=>{Object.assign(e.subscriptions.stripe,{error:c,loading:!1,fetching:!1})};return{createCardSetupIntentSecret:c=>l(null,null,function*(){r({loading:!0,error:null,cardSetupIntentSecret:null});try{let a={};c&&(a.paymentMethodId=c);let{setupIntentSecret:u}=yield n.subscriptions.createStripePaymentMethodSetupIntentSecret(a);r({cardSetupIntentSecret:u,loading:!1})}catch(a){i(_(a))}}),setStripeState:r,resetStripeState:o}};var uS={loading:!1,fetching:!0,vendorPublicConfig:null},dS=e=>K(uS,e);var Fl=(e,n,t)=>{let r=a=>{Object.assign(e.subscriptions.vendorPublicConfig,a)},o=()=>{Q(e,["subscriptions","vendorPublicConfig"],uS)},i=a=>{Object.assign(e.subscriptions.vendorPublicConfig,{error:a,loading:!1,fetching:!1})},s=a=>{Object.assign(e.subscriptions.vendorPublicConfig,{error:null,loading:a})};return{setVendorPublicConfigState:r,resetVendorPublicConfigState:o,setVendorPublicConfigError:i,setVendorPublicConfigLoading:s,loadVendorPublicConfiguration:()=>l(null,null,function*(){s(!0);try{let a=yield n.subscriptions.getVendorPublicConfigurations();r({fetching:!1,loading:!1,vendorPublicConfig:a})}catch(a){i(_(a))}})}};var fS=e=>K({config:Zy(e?.config),billing:m_(e?.billing),plans:iS(e?.plans),checkout:aS(e?.checkout),stripe:lS(e?.stripe),vendorPublicConfig:dS(e?.vendorPublicConfig)}),pS=(e,n,t)=>{let r=xl(e,n,t),[o,i]=v_(e,n,t),s=Nl(e,n,t),c=kl(e,n,t),a=Ll(e,n,t),u=Fl(e,n,t);return[y({},r,o,s,c,a,u),{config:r,billing:i,plans:s,checkout:c,stripe:a,vendorPublicConfig:u}]};var hS={loading:!1},op=e=>K(hS,e);var Gs=(e,n,t)=>{let r=s=>{Object.assign(e.vendor,s)},o=()=>{Q(e,["vendor"],hS)},i=s=>l(null,null,function*(){r({loading:!0});try{var c;let a=yield ee(()=>n.vendor.getVendorPublicInfo(),s?.retryConfig);a.whiteLabelMode=(c=a.whiteLabelMode)!=null?c:!1,r(y({},a,{loading:!1}))}catch(a){r({loading:!1}),console.error("failed to getVendorPublicInfo - ",a)}});return{setVendorState:r,resetVendorState:o,loadVendorPublicInfo:i,loadVendorPublicConfiguration:i}};var gS={loading:!0,pageOffset:0,pageSize:20,logs:[],sort:[],filter:[],totalPages:0,isDownloadingCsv:!1},mS=e=>K(gS,e);var Ul=(e,n,t)=>{let r=t,o=a=>{Object.assign(e.auditLogs.auditLogsState,a)};return{setAuditLogsState:o,resetAuditLogsState:()=>{Q(e,["auditLogs","auditLogsState"],gS)},exportAuditsCsv:()=>l(null,null,function*(){let a=e.auditLogs.auditLogsState,{columns:u}=e.auditLogs.auditsMetadataState;try{let d=a.filter,g=a.sort.reduce((v,S)=>y({},v,{sortBy:S.id,sortDirection:S.desc?"desc":"asc"}),{}),f=d.reduce((v,S)=>y({},v,{[S.id]:S.value}),{});o({isDownloadingCsv:!0}),yield n.audits.exportAudits(y({endpoint:"csv/v2",headerProps:u,offset:0,outputFileName:"audits.csv"},g,f))}catch(d){console.error("failed to export audits - ",d)}o({isDownloadingCsv:!1})}),loadAuditLogs:a=>l(null,null,function*(){o({loading:!(a!=null&&a.silentLoading),error:null});let u=e.auditLogs.auditLogsState,d=a?.retryConfig,{columns:p}=e.auditLogs.auditsMetadataState;try{var g,f,h,v,S;let T=(g=a.pageSize)!=null?g:u.pageSize,m=(f=a.pageOffset)!=null?f:u.pageOffset,E=(h=a.filter)!=null?h:u.filter,A=(v=a.sort)!=null?v:u.sort;o({pageSize:T,pageOffset:m,filter:E,sort:A});let I=A.reduce((L,x)=>y({},L,{sortBy:x.id,sortDirection:x.desc?"desc":"asc"}),{}),w=E.reduce((L,x)=>y({},L,{[x.id]:x.value}),{});p||(yield r.loadAuditsMetadata({retryConfig:d}));let{data:M,total:O}=yield ee(()=>n.audits.getAudits(y({offset:m,count:T},I,w)),d);o({loading:!1,logs:M??[],totalPages:+Math.ceil(O/T)}),a==null||(S=a.callback)==null||S.call(a,!0)}catch(T){var D;o({loading:!1,error:_(T)}),a==null||(D=a.callback)==null||D.call(a,null,T)}})}};var vS={loading:!0},yS=e=>K(vS,e);var jl=(e,n,t)=>{let r=t,o=c=>{Object.assign(e.auditLogs.auditsMetadataState,c)};return{setAuditsMetadataState:o,resetAuditsMetadataState:()=>{Q(e,["auditLogs","auditsMetadataState"],vS)},loadAuditsMetadata:c=>l(null,null,function*(){o({loading:!0,error:null});try{let{properties:a}=yield ee(()=>n.metadata.getAuditsMetadata(),c?.retryConfig);o({columns:a,loading:!1})}catch(a){o({error:a,loading:!1})}})}};var SS=e=>({auditLogsState:mS(e?.auditLogsState),auditsMetadataState:yS(e?.auditsMetadataState)}),bS=(e,n,t)=>y({},Ul(e,n,t),jl(e,n,t));var xT=Dn(Zm());var cV={total:0,offset:0,filter:"",sortBy:"createdAt",context:null,filters:[],rowsData:[],lastUpdated:new Date,isLoading:!0,isFetchMore:!1,totalToday:0,currentPage:0,headerProps:[],sortDirection:"desc",severeThisWeek:0,predefinedFilters:[],isDownloadingCsv:!1,virtualScroll:!1},AS=e=>K(cV,e);var wS=20,ES=(e,n,t)=>{let r=t,o=P=>{e.audits.context=P},i=()=>{e.audits.isLoading=!0},s=P=>{e.audits.virtualScroll=P},c=()=>{e.audits.isLoading=!0},a=()=>{e.audits.isFetchMore=!0},u=()=>{e.audits.isLoading=!1},d=()=>{e.audits.isDownloadingCsv=!0},p=()=>{e.audits.isDownloadingCsv=!1},g=P=>{e.audits.error=void 0,e.audits.totalToday=P.totalToday,e.audits.severeThisWeek=P.severeThisWeek},f=P=>{var F;e.audits.error=(F=e.audits.error)!=null?F:{},Object.assign(e.audits.error,{[P.name]:P.error})},h=P=>{e.audits.error={},e.audits.headerProps=P.properties,e.audits.themeAudits=P.theme?P.theme.styles:{}},v=P=>{e.audits.error={},e.audits.rowsData=P.rowsData,e.audits.lastUpdated=new Date,e.audits.total=P.total},S=P=>{e.audits.error={},e.audits.offset=P.offset,e.audits.currentPage=P.currentPage,e.audits.isFetchMore=!1},D=P=>{e.audits.filters=P,e.audits.currentPage=0,e.audits.offset=0,e.audits.isLoading=!0},T=P=>{e.audits.filter=P,e.audits.currentPage=0,e.audits.offset=0,e.audits.isLoading=!0},m=P=>{e.audits.currentPage=P-1,e.audits.offset=e.audits.currentPage*wS,e.audits.isLoading=!0},E=P=>{e.audits.sortBy=P.sortBy,e.audits.currentPage=0,e.audits.sortDirection=P.sortDirection==="asc"?"desc":"asc",e.audits.offset=0,e.audits.isLoading=!0},A=P=>{e.audits.predefinedFilters=P;let F=Object.keys(P).map(C=>({key:C,value:P[C]}));e.audits.filters=F},I=()=>l(null,null,function*(){let{sortBy:P,sortDirection:F}=e.audits;try{let C=yield n.audits.getAuditsStats({sortBy:P,sortDirection:F,count:wS});g(C)}catch(C){let R={name:"stats",error:C};console.error("failed to load stats - ",C),f(R)}}),w=()=>l(null,null,function*(){try{let P=yield n.metadata.getAuditsMetadata();h(P)}catch(P){let F={name:"metadata",error:P};console.error("failed to load metadata - ",P),f(F)}}),M=P=>P.reduce((F,C)=>(F[C.key]=C.value,F),{}),O=P=>l(null,null,function*(){let{filters:F,sortBy:C,sortDirection:R,filter:U,offset:G,virtualScroll:z}=e.audits,{appendMode:W=z,onlyOneLoad:$=!0,offset:B=0}=P||{},{rowsData:te}=W?e.audits:{rowsData:[]};try{let ae=M(F),{data:pe,total:ye}=yield n.audits.getAudits(y({},z&&{paginationMode:"virtual"},{sortDirection:R,sortBy:C,filter:U},ae,{offset:z?te.length+B||te.length+G:B||G,count:wS}));v({rowsData:[...te,...pe],total:ye}),$&&u()}catch(ae){let pe={name:"audits",error:ae};console.error("failed to load audits - ",ae),f(pe)}});return{initData:()=>l(null,null,function*(){i(),yield Promise.all([I(),w(),O({onlyOneLoad:!1})]),u()}),loadAudits:O,removeFilter:P=>l(null,null,function*(){let{filters:F}=e.audits,C=F.findIndex(U=>U.key===P.key);if(C<0)return;let R=[...F.slice(0,C),...F.slice(C+1)];D(R)}),filterData:P=>l(null,null,function*(){let{filters:F}=e.audits,C=F.findIndex(U=>U.key===P.key);C<0&&(C=F.length);let R=[...F.slice(0,C),P,...F.slice(C+1)];D(R)}),exportCSV:()=>l(null,null,function*(){let{filters:P,sortBy:F,sortDirection:C,filter:R,headerProps:U=[]}=e.audits,G=M(P);d();let z="audits.csv";try{yield n.audits.exportAudits(y({endpoint:"csv/v2",headerProps:U,sortDirection:C,sortBy:F,filter:R},G,{offset:0,outputFileName:z}))}catch(W){console.error("failed to export audits - ",W)}finally{p()}})}};var J=(e,n)=>Object.keys(e).reduce((t,r)=>{let o=r;return n.includes(r)?y({},t,{[r]:e[o]}):y({},t,{[r]:()=>{console.debug(`Action ${String(r)} was called`)}})},{});var y_=(e,n,t)=>{let r=Nc(e,n,t);return J(r,["setAcceptInvitationState","resetAcceptInvitationState"])};var S_=(e,n,t)=>{let r=kc(e,n,t),o=J(r,["setAccountSettingsState","resetAccountSettingsState"]);return o.saveAccountSettings=i=>l(null,null,function*(){var s;o.setAccountSettingsState({loading:!0}),yield Y();let c=e.auth.accountSettingsState,{address:a,timezone:u,dateFormat:d,timeFormat:p,currency:g,logo:f}=c,h=y({address:a,timezone:u,dateFormat:d,timeFormat:p,currency:g,logo:f},i);o.setAccountSettingsState(y({},h,{loading:!1})),(s=i.callback)==null||s.call(i,h)}),o.loadAccountSettings=i=>l(null,null,function*(){o.setAccountSettingsState({loading:!(i!=null&&i.silentLoading),error:null}),yield Y(),o.setAccountSettingsState(y({address:"Tel-aviv",timezone:"Asia/Jerusalem",dateFormat:"DD/MM/YYYY",timeFormat:"HH:mm",currency:"USD",loading:!1},i))}),o};var b_=(e,n,t)=>{let r=Gc(e,n,t);return J(r,["setActivateState","resetActivateState","setActivateStrategyState"])};var A_=(e,n,t)=>{let r=sl(e,n,t);return J(r,["setAllAccountsLoader","setAllAccountsError","setAllAccountsState","setSelectedAccountState","resetAllAccountsState","clearSelectedAccount"])};var sp={clientId:"CLIENT_ID_16806d3d-8fc3-4450-be97-abdaf66b723e",secret:"SECRET_16806d3d-8fc3-4450-be97-abdaf66b723e",createdAt:"createdAt",description:"Demo API Token (preview only)"},Vl=y({},sp,{roleIds:[],tenantId:"my-tenant-id",createdByUserId:"createdByUserId"}),lo=[{id:"a040dcf6-b907-4e83-9970-6bd23c88fd40",key:"ReadOnly",name:"Read Only",description:null,isDefault:!1,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],vendorId:"vendorId"},{id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0",key:"Admin",name:"Admin",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","16647407-ed6f-4ca6-83a0-86225d921959","f403c6b9-1abe-4ec7-9971-aa032255fc25","a43e059d-d731-44b1-94bb-fb6b16c62210"],vendorId:"vendorId"},{id:"1234",key:"Support",name:"Support",description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03","f26b00f8-ffe0-4739-b15c-7db15c27ea26","a9c803b0-ebfa-49b9-9607-f0d3a390ee61"],tenantId:"tenantId",vendorId:"vendorId"}],lV=[{id:"roleId",key:"admin",isDefault:!1,name:"Admin",description:null,permissions:["8d71b676-754c-4600-afe7-ca5add1e6809","04dbcc11-61db-40a9-9577-9b73e50d1d03"],tenantId:"tenantId",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date}],uV=[{id:"8d71b676-754c-4600-afe7-ca5add1e6809",key:"fe.*",name:"General Admin",description:"description",categoryId:"category",fePermission:!0,createdAt:new Date,updatedAt:new Date,roleIds:[]}],$l={sub:"",tenants:[],id:"testId",name:"Demo User Name",email:"demo-user@frontegg.com",mfaEnrolled:!0,profilePictureUrl:"https://www.gravatar.com/avatar/42b2ad2bad6fc9b9db5086dfcf8072ac?d=https://ui-avatars.com/api/fe/128/random?t=1617261890875?t=1617261917434",roles:lV,permissions:uV,tenantId:"my-tenant-id",tenantIds:["my-tenant-id"],activatedForTenant:!0,metadata:JSON.stringify({phoneNumber:"+972-54123456",jobTitle:"Developer",address:{city:"Tel Aviv",country:"Israel"}}),verified:!1},Hn=y({},$l,{accessToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1MTY5YmY0Zi02YmI5LTQ5NGMtOGNkZS05MDc4NDQ0NWY4MDciLCJuYW1lIjoiRHVtbXkgVXNlciIsImVtYWlsIjoiZHVtbXlAZnJvbnRlZ2cuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsIm1ldGFkYXRhIjp7fSwicm9sZXMiOlsiYWRtaW4iXSwicGVybWlzc2lvbnMiOlsiZmUuKiJdLCJ0ZW5hbnRJZCI6Im15LXRlbmFudC1pZCIsInRlbmFudElkcyI6WyJteS10ZW5hbnQtaWQiXSwicHJvZmlsZVBpY3R1cmVVcmwiOiJodHRwczovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyLzQyYjJhZDJiYWQ2ZmM5YjlkYjUwODZkZmNmODA3MmFjP2Q9aHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvZmUvMTI4L3JhbmRvbT90PTE2MTcyNjE4OTA4NzU_dD0xNjE3MjYxOTE3NDM0IiwidHlwZSI6InVzZXJUb2tlbiIsImlhdCI6MTYxNzkwNjMyNCwiZXhwIjoxNjE3OTkyNzI0LCJpc3MiOiJmcm9udGVnZyJ9.paaXLkpWEWbQmUtoK2P8IwXCxK4WJp7XhXonvzF8g1I",expiresIn:86400,mfaRequired:!1,refreshToken:"refresh-token-dummy-de39dc9c-9d22-4852-b7f5-c3c0aa613b58",type:"userToken",iat:1617906324,exp:1617992724,iss:"frontegg",email_verified:!0}),w_={loading:!1,error:void 0,saving:!0,profile:$l},E_={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date,allowOverrideEnforcePasswordHistory:!0,allowOverridePasswordComplexity:!1,allowOverridePasswordExpiration:!1,allowSignups:!0,apiTokensEnabled:!0,cookieSameSite:"cookieSameSite",defaultRefreshTokenExpiration:0,defaultTokenExpiration:1,publicKey:"publicKey"},D_={allowSignups:!0,allowNotVerifiedUsersLogin:!1,apiTokensEnabled:!0,forcePermissions:!1,authStrategy:Te.EmailAndPassword,machineToMachineAuthStrategy:lt.ClientCredentials},DS={id:"id",enforceMFAType:"DontForce",createdAt:new Date,updatedAt:new Date},uo={id:"id",enabled:!0,maxAttempts:1,createdAt:new Date,updatedAt:new Date},Bl={id:"id",enabled:!0,historySize:1,createdAt:new Date,updatedAt:new Date},IS={enabled:!0,domain:"domain",validated:!0,generatedVerification:"generatedVerification",ssoEndpoint:"ssoEndpoint",publicCertificate:"publicCertificate",signRequest:!0,createdAt:new Date,updatedAt:new Date,acsUrl:void 0,spEntityId:void 0,oidcClientId:void 0,oidcSecret:void 0,type:void 0},Hl={id:"id",createdAt:"createdAt",updatedAt:"updatedAt",properties:[],vendorId:"vendorId",entityName:"saml",isActive:!0,configuration:{acsUrl:"acsUrl",spEntityId:"spEntityId"}},Ws=[{id:"id",description:"description",key:"key",name:"name",permissions:[],permissionLevel:1}],CS={firstLoad:!1,loading:!1,error:void 0,saving:!1,samlConfiguration:IS,roles:Ws,authorizationRoles:[],errors:{},loaders:{},ssoConfigurations:[]},Gl=[{description:"string",fePermission:!0,id:"id",key:"key",name:"name",roleIds:[],createdAt:new Date,updatedAt:new Date,categoryId:"categoryId"}],ip={id:"id2",email:"demo-user2@frontegg.com",name:"Demo User Name2",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,verified:!1,createdAt:new Date().toISOString(),customData:void 0,lastLogin:void 0,mfaEnabled:void 0,roles:[lo[0]],groups:[{id:"id2",name:"Developers",color:"#03A9F4",roles:[lo[0]],managedBy:ut.FRONTEGG}]},dV={id:ip.id,email:ip.email,name:ip.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[lo[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},co={id:"id",email:"demo-user@frontegg.com",name:"Demo User Name",phone:void 0,profileImage:void 0,profileImageUrl:void 0,tenantId:"tenantId",vendorId:"vendorId",roleIds:[],activatedForTenant:!0,createdAt:new Date(2022,4,1).toISOString(),verified:!0,customData:void 0,lastLogin:new Date(2022,5,25).toISOString(),mfaEnabled:void 0,roles:[lo[1]],groups:[{id:"id1",name:"Designers",color:"#E1F5E2",roles:[lo[0]],managedBy:ut.FRONTEGG}]},fV={id:co.id,email:co.email,name:co.name,phoneNumber:void 0,profileImage:void 0,tenantId:"tenantId",activatedForTenant:!0,createdAt:new Date(2022,4,1),verified:!0,lastLogin:new Date(2022,5,25),mfaEnrolled:!1,roles:[lo[1]],tenantIds:[],metadata:"",sub:"",tenants:[]},pV={metadata:"",mfaEnrolled:!1,provider:"",sub:"",tenantIds:[],tenants:[],verified:!1,id:"id",email:"email",name:"name",tenantId:"tenantId",createdAt:new Date},_S=[co,ip],TS=[fV,dV],xS=[pV],MS=[{id:"my-tenant-id",isReseller:!1,name:"Frontegg demo",deletedAt:null,metadata:void 0,tenantId:"my-tenant-id",vendorId:"vendorId",createdAt:new Date,updatedAt:new Date,address:void 0,timezone:void 0,dateFormat:void 0,timeFormat:void 0,currency:void 0,logo:void 0}],PS=[{id:"laptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date,ipAddress:"190.194.88.251",current:!0},{id:"iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_2_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.2 Mobile/15E148 Safari/604.1",createdAt:new Date(Date.now()-1e4),ipAddress:"191.49.203.21"},{id:"tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; SGP771 Build/32.2.A.0.253; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36",createdAt:new Date(Date.now()-3e4),ipAddress:"130.19.196.136"},{id:"anotherlaptop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.0 Safari/605.1.15",createdAt:new Date(Date.now()-1002232300),ipAddress:"2.228.163.92"}];var RS={isActive:!0,strategy:He.ALLOW},Wl=[{updatedAt:new Date,createdAt:new Date,id:"1",ip:"255.255.255.255",isActive:!0,strategy:He.ALLOW,description:"My IP"},{updatedAt:new Date,createdAt:new Date,id:"2",ip:"255.255.255.254",isActive:!0,strategy:He.ALLOW,description:"IP 2"},{updatedAt:new Date,createdAt:new Date,id:"3",ip:"255.255.255.253",isActive:!0,strategy:He.BLOCK,description:"IP 3"},{updatedAt:new Date,createdAt:new Date,id:"4",ip:"255.255.255.253",isActive:!0,strategy:He.BLOCK,description:"IP 4"}],$n=e=>{let n=[];return Array.from({length:e}).forEach((t,r)=>{n.push(y({},co,{name:"Demo User",id:`id${r}`,profilePictureUrl:null,createdAt:new Date}))}),n},Bn=e=>({id:"b43b2c4b-e056-4eec-8c55-d200a475bbc0"+e,key:e,name:e,description:null,isDefault:!0,createdAt:new Date,updatedAt:new Date,permissions:[],tenantId:"tenantId",vendorId:"vendorId"}),I_=[{id:"id1",name:"Designers",color:"#E1F5E2",description:"The whole design team",users:$n(6),roles:[Bn("Editor")],metadata:'{"lastTermsCheck":"2022-08-16T10:31:11.270Z"}',managedBy:ut.FRONTEGG},{id:"id2",name:"Developers",color:"#03A9F4",description:"All frontend and backend developers",users:$n(44),roles:[Bn("Editor")],managedBy:ut.FRONTEGG},{id:"id3",name:"Product",color:"#E1583E",description:"PMs and team leads",users:$n(8),roles:[Bn("Viewer")],managedBy:ut.FRONTEGG},{id:"id4",name:"Management",color:"#9AE0FF",description:"Executives",users:$n(5),roles:[Bn("Admin")],managedBy:ut.FRONTEGG},{id:"id5",name:"Sales",color:"#ED8E7C",users:$n(21),description:"BDR, AE, and inside sales",roles:[Bn("Viewer")],managedBy:ut.FRONTEGG},{id:"id6",name:"Support",color:"#A79D7B",users:$n(23),description:"Dev success and customer success",roles:[Bn("Admin")],managedBy:ut.FRONTEGG},{id:"id7",name:"Marketing",color:"#2CA744",users:$n(10),description:"The marketing department",roles:[Bn("Viewer")],managedBy:ut.FRONTEGG},{id:"id8",name:"HR",color:"#EAE1C2",users:$n(4),description:"Human resources",roles:[Bn("Viewer")],managedBy:ut.FRONTEGG},{id:"id9",name:"Finance",color:"#5587C0",users:$n(3),roles:[Bn("Viewer")],managedBy:ut.FRONTEGG},{id:"id10",name:"Operations",color:"#B1CAE7",users:$n(8),roles:[Bn("Editor")],managedBy:ut.FRONTEGG},{id:"id11",name:"Legal",color:"#2CA744",users:$n(4),roles:[Bn("Viewer")],managedBy:ut.FRONTEGG}],OS={scoring:{score:79},recommendations:{items:[{code:Ts.FORCE_MFA,severity:xs.WARNING,category:rr.MFA},{code:Ts.ENABLE_FORCE_RELOGIN,severity:xs.WARNING,category:rr.SESSIONS}]}},C_={insights:{items:[{category:rr.MFA,code:eo.PARTIALLY_FORCED_MFA,metadata:{totalUsers:2,mfa:{enrolledUsersCount:1}}},{category:rr.SESSIONS,code:eo.PARTIAL_SESSION_SETTINGS,metadata:{totalUsers:2,sessions:{idleTimeoutRecommendation:1800}}},{category:rr.PASSWORD,code:eo.IMPROVE_PASSWORD_HISTORY_POLICY,metadata:{password:{userLockoutRecommendation:5,historyRecommendations:5}}},{category:rr.DOMAIN,code:eo.NO_IP_RESTRICTIONS,metadata:{restrictions:{ipsCount:1,domainsCount:1}}}]}},__={users:TS,totalUsersItems:2,totalUsersPages:1,usersPageOffset:0},T_={users:[TS[0]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0,queryParams:{_maxInactiveSeconds:7776e3}},x_={users:[TS[1]],totalUsersItems:1,totalUsersPages:1,usersPageOffset:0},Mfe=[{id:"8d71b676-754c-4600-afe7-ca5add1e6809",key:"fe.secure.*",name:"Secure write",description:"all secure access permissions",categoryId:"77154759-0a04-4669-b6b4-0858d3c1190e",fePermission:!0,assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date},{id:"85e1fd7b-2bb7-498f-8521-5f8e5774c01e",key:"fe.account-hierarchy.write.subAccountAccess",name:"Give access to sub accounts",description:"Give a user access to sub account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"a1807695-54a2-4f95-95de-a9b246488aae",key:"fe.account-hierarchy.read.subAccount",name:"Read sub accounts",description:"Read sub accounts",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"04dbcc11-61db-40a9-9577-9b73e50d1d03",key:"fe.secure.read.*",name:"Secure read",description:"all secure access read permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"77154759-0a04-4669-b6b4-0858d3c1190e",fePermission:!0},{id:"a1807695-54a2-4f95-95de-a9b246488aae",key:"fe.account-hierarchy.read.subAccount",name:"Read sub accounts",description:"Read sub accounts",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"85e1fd7b-2bb7-498f-8521-5f8e5774c01e",key:"fe.account-hierarchy.write.subAccountAccess",name:"Give access to sub accounts",description:"Give a user access to sub account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d24db1e3-002b-421d-951d-09a967dd7cd5",fePermission:!0},{id:"a9c803b0-ebfa-49b9-9607-f0d3a390ee61",key:"fe.account-settings.delete.account",name:"Delete Account",description:"Delete my account",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"42aaebe1-893d-4da5-99d7-375a4537b7a4",fePermission:!0},{id:"f26b00f8-ffe0-4739-b15c-7db15c27ea26",key:"fe.account-settings.write.custom-login-box",name:"Edit custom login settings",description:"Write account's custom login box styling",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"42aaebe1-893d-4da5-99d7-375a4537b7a4",fePermission:!0},{id:"a43e059d-d731-44b1-94bb-fb6b16c62210",key:"fe.connectivity.delete.*",name:"Connectivity delete",description:"all connectivity delete permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d18fccaa-e09a-4e6e-b902-cc9c615ff12d",fePermission:!0},{id:"f403c6b9-1abe-4ec7-9971-aa032255fc25",key:"fe.connectivity.delete.slackAppRegistration",name:"Delete slack application registration",description:"allow user to delete slack app registration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"e8c0e727-f562-449a-82c5-f7691defde02",key:"fe.connectivity.read.*",name:"Connectivity read",description:"all connectivity read permissions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"d18fccaa-e09a-4e6e-b902-cc9c615ff12d",fePermission:!0},{id:"2a5dcd6d-57a3-45c4-815f-c265609cc1f7",key:"fe.connectivity.read.emailConfig",name:"Read email configuration",description:"read email integration configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"2d7b4be7-8269-4ff4-81d6-0c92e95790d5",fePermission:!0},{id:"4fee0eb0-5b17-450b-bea4-b9b908230bda",key:"fe.connectivity.read.eventCategories",name:"Read events categories",description:"view connectivity events categories",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"31c7a260-55d6-43d5-a872-4f9e22982ff5",fePermission:!0},{id:"750a96a5-8abf-4340-b91a-723c7bb8bcfd",key:"fe.connectivity.read.events",name:"Read events",description:"view connectivity events",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"31c7a260-55d6-43d5-a872-4f9e22982ff5",fePermission:!0},{id:"ef2a5f1a-74c5-431f-b1a6-d4fb5026e374",key:"fe.connectivity.read.slackApp",name:"Read slack application",description:"get slack application configuration in order to register",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"9fc1fa37-a8b9-4931-b2b5-5de55df25289",key:"fe.connectivity.read.slackChannels",name:"Read slack channels",description:"view registered slack workspace channels",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"87c3df9d-0ab2-4e97-bfc8-777a68ba2543",key:"fe.connectivity.read.slackSubscriptions",name:"Read slack subscriptions",description:"view slack events subscriptions",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"7826470b-151f-4bab-b2c0-785e09878616",key:"fe.connectivity.read.slackUsers",name:"Read slack users",description:"view registered slack workspace users",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"62fc3fe0-f06b-4a0f-854c-cdf51353b616",fePermission:!0},{id:"ee779734-a7e3-47b3-ace9-944f9bee8ad8",key:"fe.connectivity.read.smsConfig",name:"Read SMS configuration",description:"read SMS integration configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"5743fccc-b4ea-4907-bdca-7446ea088974",fePermission:!0},{id:"54583a96-c731-4a84-9abc-1b8b827f06ae",key:"fe.connectivity.read.userBellNotifications",name:"Read bell notifications",description:"view user bell notifications",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"18d2584b-7f03-4038-ab93-bc2b0f4511be",fePermission:!0},{id:"2dfde8ef-7df2-4426-bb8d-33615e399a4d",key:"fe.connectivity.read.webhookLogs",name:"Read webhooks logs",description:"view webhooks logs",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"e74e5390-396b-429c-9544-62417912d018",fePermission:!0},{id:"16647407-ed6f-4ca6-83a0-86225d921959",key:"fe.connectivity.read.webhooks",name:"Read webhooks",description:"view webhooks configuration",assignmentType:Ze.ASSIGNABLE,createdAt:new Date,updatedAt:new Date,categoryId:"e74e5390-396b-429c-9544-62417912d018",fePermission:!0}];var Mt=[];for(ap=0;ap<256;++ap)Mt.push((ap+256).toString(16).slice(1));var ap;function M_(e,n=0){return(Mt[e[n+0]]+Mt[e[n+1]]+Mt[e[n+2]]+Mt[e[n+3]]+"-"+Mt[e[n+4]]+Mt[e[n+5]]+"-"+Mt[e[n+6]]+Mt[e[n+7]]+"-"+Mt[e[n+8]]+Mt[e[n+9]]+"-"+Mt[e[n+10]]+Mt[e[n+11]]+Mt[e[n+12]]+Mt[e[n+13]]+Mt[e[n+14]]+Mt[e[n+15]]).toLowerCase()}var cp,hV=new Uint8Array(16);function NS(){if(!cp&&(cp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cp(hV)}var gV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kS={randomUUID:gV};function mV(e,n,t){if(kS.randomUUID&&!n&&!e)return kS.randomUUID();e=e||{};var r=e.random||(e.rng||NS)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,n){t=t||0;for(var o=0;o<16;++o)n[t+o]=r[o];return n}return M_(r)}var fo=mV;var P_=(e,n,t)=>{let r=zc(e,n,t),o=J(r,["setApiTokensState","resetApiTokensState","setApiTokensLoader","setApiTokensError"]);return o.addTenantApiToken=i=>l(null,null,function*(){let{description:s,roleIds:c,callback:a}=i;o.setApiTokensLoader({key:$e.ADD_API_TOKEN,value:!0});let{apiTokensDataTenant:u}=e.auth.apiTokensState,d=y({},Vl,{description:s,roleIds:c,clientId:`CLIENT_ID_${fo()}`});o.setApiTokensState({showAddTokenDialog:!1}),yield Y(200),o.setApiTokensState({apiTokensDataTenant:[...u,d],successDialog:{open:!0,secret:d.secret,clientId:d.clientId}}),yield Y(200),o.setApiTokensLoader({key:$e.ADD_API_TOKEN,value:!1}),a?.(null)}),o.deleteTenantApiToken=i=>l(null,null,function*(){o.setApiTokensLoader({key:$e.DELETE_API_TOKEN,value:!0}),yield Y(200);let s=[Vl];o.setApiTokensState({apiTokensDataTenant:s.filter(c=>c.clientId!==i),deleteTokenDialog:{open:!1,clientId:i}}),o.setApiTokensLoader({key:$e.DELETE_API_TOKEN,value:!1})}),o.loadApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[sp],a=[Vl];o.setApiTokensState({apiTokensDataUser:c,apiTokensDataTenant:a}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o.loadUserApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[sp];o.setApiTokensState({apiTokensDataUser:c}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o.loadTenantApiTokens=i=>l(null,null,function*(){var s;i!=null&&i.silentLoading||o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!0});let c=[Vl];o.setApiTokensState({apiTokensDataTenant:c}),yield Y(200),o.setApiTokensLoader({key:$e.LOAD_API_TOKENS,value:!1}),i==null||(s=i.callback)==null||s.call(i,!0)}),o};var R_=(e,n,t)=>{let r=qc(e,n,t);return J(r,["setApplicationsState","resetApplicationsState"])};var O_=(e,n,t)=>{let r=Yc(e,n,t),o=J(r,["setCustomLoginState","resetCustomLoginState"]);return o.loadTenantMetadata=()=>l(null,null,function*(){o.setCustomLoginState({loading:!0}),yield Y(),o.setCustomLoginState({loading:!1})}),o.updateTenantMetadata=i=>l(null,null,function*(){let{callback:s}=i;o.setCustomLoginState({loading:!0,error:null}),yield Y(),o.setCustomLoginState({loading:!1,error:null}),s?.(!0)}),o};var N_=(e,n,t)=>{let r=_l(e,n,t);return J(r,["setEntitlements","handleFetchedEntitlements"])};var k_=(e,n,t)=>{let r=Zc(e,n,t),o=J(r,["setForgotPasswordState","resetForgotPasswordState"]);return o.loadPasswordConfig=i=>l(null,null,function*(){o.setForgotPasswordState({loading:!0});try{o.setForgotPasswordState({loading:!1,passwordConfig:{allowPassphrases:!0,maxLength:128,minLength:6,minPhraseLength:6,minOptionalTestsToPass:1}})}catch(s){o.setForgotPasswordState({loading:!1,error:_(s)})}}),o};var L_=(e,n,t)=>{let r=Kc(e,n,t),o=J(r,["setStep"]);return o.setStep(di.success),o};var F_=(e,n,t)=>{let r=Qc(e,n,t),o=J(r,["setGroupsState","resetUsersGroupsState","setUsersGroupsLoader","setUsersGroupsError"]);return o.loadGroups=()=>l(null,null,function*(){let i=ze.GET_GROUPS;o.setUsersGroupsLoader({key:i,value:!0});let s=I_;o.setGroupsState({groups:s}),o.setUsersGroupsLoader({key:i,value:!1})}),o.createGroup=i=>l(null,null,function*(){var s;let c=ze.CREATE_GROUP,{groups:a}=e.auth.groupsState;o.setUsersGroupsLoader({key:c,value:!0}),yield Y(500),o.setGroupsState({groups:[y({},i,{id:`${i.name}ID`,managedBy:ut.FRONTEGG}),...a??[]]}),i==null||(s=i.callback)==null||s.call(i,!0),o.setUsersGroupsLoader({key:c,value:!1})}),o.updateGroup=i=>l(null,null,function*(){var s,c,a,u,d;let p=ze.UPDATE_GROUP,g=e.auth.groupsState;o.setUsersGroupsLoader({key:p,value:!0}),yield Y(500),o.setGroupsState({groups:g==null||(s=g.groups)==null?void 0:s.map(f=>{var h;return f.id===i.groupId?y({},i,{id:i.groupId,name:(h=i?.name)!=null?h:"",managedBy:ut.FRONTEGG}):f}),selectedGroup:y({},g?.selectedGroup,{name:(c=i?.name)!=null?c:"",color:(a=i?.color)!=null?a:"",description:(u=i?.description)!=null?u:""})}),i==null||(d=i.callback)==null||d.call(i,!0),o.setUsersGroupsLoader({key:p,value:!1})}),o.deleteGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.filter(d=>d.id!==i.groupId)}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.addRolesToGroup=i=>l(null,null,function*(){var s,c;let a=ze.ADD_ROLES_TO_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{roles:[...(p=d?.roles)!=null?p:[],...i.roleIds.map(g=>({id:g,name:g}))]}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.deleteRolesFromGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_ROLES_FROM_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{roles:d==null||(p=d.roles)==null?void 0:p.filter(g=>!i.roleIds.includes(g.id))}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.addUsersToGroup=i=>l(null,null,function*(){var s,c;let a=ze.ADD_USERS_TO_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{users:[...(p=d?.users)!=null?p:[],...i.userIds.map(g=>({id:g,name:g}))]}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.deleteUsersFromGroup=i=>l(null,null,function*(){var s,c;let a=ze.DELETE_USERS_FROM_GROUP,u=e.auth.groupsState;o.setUsersGroupsLoader({key:a,value:!0}),yield Y(500),o.setGroupsState({groups:u==null||(s=u.groups)==null?void 0:s.map(d=>{var p;return d.id===i.groupId?y({},d,{users:d==null||(p=d.users)==null?void 0:p.filter(g=>!i.userIds.includes(g.id))}):d})}),i==null||(c=i.callback)==null||c.call(i,!0),o.setUsersGroupsLoader({key:a,value:!1})}),o.getGroupConfiguration=()=>l(null,null,function*(){let i=ze.GET_GROUP_CONFIGURATION,{groupsConfiguration:s}=e.auth.groupsState;o.setUsersGroupsLoader({key:i,value:!0}),s&&o.setGroupsState({groupsConfiguration:y({},s)}),o.setUsersGroupsLoader({key:i,value:!1})}),o.updateGroupConfiguration=i=>l(null,null,function*(){let s=ze.UPDATE_GROUP_CONFIGURATION,{groupsConfiguration:c}=e.auth.groupsState;o.setUsersGroupsLoader({key:s,value:!0}),c&&o.setGroupsState({groupsConfiguration:y({},c,i)}),o.setUsersGroupsLoader({key:s,value:!1})}),o};var U_=(e,n,t)=>{let r=Xc(e,n,t);return J(r,["setImpersonateState","resetImpersonateState"])};var j_=(e,n,t)=>{let r=t,o=el(e,n,r),i=J(o,["setLoginState","resetLoginState","afterAuthNavigation"]);return i.requestAuthorize=s=>l(null,null,function*(){s&&r.setAuthState({isLoading:!0});let c=Hn;yield r.loadTenants(),r.setAuthState({user:c,isAuthenticated:!0,isLoading:!1})}),i.getUserIP=s=>l(null,null,function*(){let{callback:c}=s;try{let{ip:a}=Wl[0];yield r.setAuthState({userIpData:{ip:a},userIp:a}),c?.(!0,a)}catch(a){c?.(!1,a)}}),i};var vV=["callback"],yV=["callback"],V_=(e,n,t)=>{let r=t,o=tl(e,n,r),i=J(o,["setMfaState","resetMfaState"]);return i.enrollMfa=()=>l(null,null,function*(){i.setMfaState({saving:!0}),i.setMfaState({saving:!1,error:void 0,qrCode:"test"})}),i.verifyMfa=s=>l(null,null,function*(){let{callback:c}=s,a=V(s,vV),{mfaDevices:u={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y();let d={token:"token",recoveryCode:"recoveryCode"},p={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:y({},u,{authenticators:[{id:"authenticator-id"}]})};d!=null&&d.recoveryCode&&(p.recoveryCode=d.recoveryCode),i.setMfaState(p),r.setUser(y({},Hn,{mfaEnrolled:!0})),c?.(p.recoveryCode)}),i.disableMfa=s=>l(null,null,function*(){var c;let{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({saving:!1,error:void 0,mfaDevices:y({},a,{authenticators:[]})}),r.setUser(y({},Hn)),(c=s.callback)==null||c.call(s,!0)}),i.verifyMfaAfterForce=s=>l(null,null,function*(){let{callback:c}=s,a=V(s,yV);i.setMfaState({loading:!0}),yield Y();let u=y({},a,{recoveryCode:"recoveryCode"}),d={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1};u!=null&&u.recoveryCode&&(d.recoveryCode=u.recoveryCode),i.setMfaState(d),yield Y(),r.setUser(y({},Hn,{mfaEnrolled:!0})),c?.(d.recoveryCode)}),i.preDisableMfaSms=s=>l(null,null,function*(){i.setMfaState({saving:!0});try{var c;i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),(c=s.callback)==null||c.call(s,!0)}catch(u){var a;i.setMfaState({saving:!1,error:_(u)}),(a=s.callback)==null||a.call(s,!1,u)}}),i.disableMfaSms=s=>l(null,null,function*(){var c;let{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({loading:!1,error:void 0,mfaDevices:y({},a,{phones:[]})}),r.setUser(y({},Hn)),(c=s.callback)==null||c.call(s,!0)}),i.preEnrollMfaSms=s=>l(null,null,function*(){var c;i.setMfaState({saving:!0}),yield Y(),i.setMfaState({saving:!1,error:void 0,otcToken:"otc-token",phoneNumber:"+972504589346"}),(c=s.callback)==null||c.call(s,!0)}),i.enrollMfaSms=s=>l(null,null,function*(){let{callback:c}=s,{mfaDevices:a={webauthn:[],phones:[],authenticators:[],emails:[]}}=e.auth.mfaState;i.setMfaState({saving:!0}),yield Y();let u={token:"token",recoveryCode:"recoveryCode"},d={step:Ne.recoveryCode,loading:!1,error:void 0,saving:!1,mfaDevices:y({},a,{phones:[{id:"phone-id",phoneNumber:"+972504589346"}]})};u!=null&&u.recoveryCode&&(d.recoveryCode=u.recoveryCode),i.setMfaState(d),r.setUser(y({},Hn,{mfaEnrolled:!0})),c?.(d.recoveryCode)}),i};var $_=(e,n,t)=>{let r=cl(e,n,t);return J(r,["setPasskeysState","resetPasskeysState"])};var SV=["callback","profilePictureUrl"],B_=(e,n,t)=>{let r=ll(e,n,t),o=J(r,["setProfileState","resetProfileState"]);return o.loadProfile=()=>l(null,null,function*(){o.setProfileState({loading:!0}),yield Y(),t.setUser(y({},Hn,$l)),o.setProfileState({loading:!1,profile:$l})}),o.saveProfile=i=>l(null,null,function*(){let{callback:s,profilePictureUrl:c}=i,a=V(i,SV);o.setProfileState({saving:!0,error:null});let u=w_,d=u.profile.profilePictureUrl;c!==u.profile.profilePictureUrl&&c&&(c||"").match(/^data:image\/([A-Za-z-+\/]+);base64,(.+)$/)&&(d=c);let p=y({},u.profile,a,{profilePictureUrl:d}),g=Hn;yield Y(),t.setUser(y({},g,p)),o.setProfileState({loading:!1,error:null,saving:!1,profile:p}),s?.(p)}),o.changePassword=i=>l(null,null,function*(){var s;o.setProfileState({loading:!0}),yield Y(),o.setProfileState({loading:!1,error:void 0}),(s=i.callback)==null||s.call(i,!0)}),o.updateEmail=i=>l(null,null,function*(){var s;o.setProfileState({saving:!0,error:null,loading:!0}),yield Y(),o.setProfileState({saving:!1,error:null,loading:!1}),(s=i.callback)==null||s.call(i,!0)}),o.verifyEmail=i=>l(null,null,function*(){var s;o.setProfileState({saving:!0,error:null,loading:!0}),yield Y(),o.setProfileState({saving:!1,error:null,loading:!1}),(s=i.callback)==null||s.call(i,!0)}),o};var H_=(e,n,t)=>{let r=ul(e,n,t);return J(r,["setProvisioningState","resetProvisioningState"])};var G_=(e,n,t)=>{let r=dl(e,n,t);return J(r,["setResetPhoneNumberState","resetResetPhoneNumberState"])};var W_=(e,n,t)=>{let r=fl(e,n,t),o=J(r,["setRolesState","setRolesStateError","setRolesStateLoader","resetRolesState"]);return o.loadRolesAndPermissions=i=>l(null,null,function*(){var s;let c=nn.LOAD_ROLES;o.setRolesStateLoader({key:c,value:!((s=i?.silentLoading)!=null&&s)});try{o.setRolesState({roles:lo})}catch(a){o.setRolesStateError({key:c,value:_(a)})}finally{o.setRolesStateLoader({key:c,value:!1})}}),o};var bV=["callback"],AV=["callback"],wV=["callback"],EV=["callback"],z_=(e,n,t)=>{let r=pl(e,n,t),o=J(r,["setRestrictionsState","setIpRestrictionsState","setEmailDomainRestrictionsState"]);return o.loadIpRestrictions=()=>l(null,null,function*(){o.setIpRestrictionsState({loading:!0,error:null}),o.setIpRestrictionsState({data:{restrictions:Wl.filter(i=>i.strategy===RS.strategy),config:RS},totalPages:1,pagination:{_filter:He.ALLOW,_limit:50,_offset:0},loading:!1})}),o.loadEmailDomainRestrictions=()=>l(null,null,function*(){o.setEmailDomainRestrictionsState({loading:!0,error:null}),o.setEmailDomainRestrictionsState({loading:!1,data:{restrictions:[{domain:"mock.com",id:"1",type:He.ALLOW}],config:{active:!0,listType:He.ALLOW,blockPublicDomains:!1}}})}),o.saveIpRestriction=i=>l(null,null,function*(){var s,c,a;let{callback:u}=i,d=V(i,bV);o.setIpRestrictionsState({saving:!0,error:null});let p=e.auth.restrictionsState.ipRestrictions,g=p.data.restrictions.filter(f=>f.ip!==d.ip);o.setIpRestrictionsState({data:{config:(s=(c=p.data)==null?void 0:c.config)!=null?s:{isActive:!1,strategy:He.ALLOW},restrictions:[...g,y({},d,{createdAt:new Date,updatedAt:new Date,id:fo(),isActive:(a=d.isActive)!=null?a:!0,strategy:p.data.config.strategy})]},totalPages:1,pagination:{_filter:He.ALLOW,_limit:50,_offset:0},saving:!1}),u?.(!0)}),o.saveIpRestrictionsConfig=i=>l(null,null,function*(){var s,c,a;let{callback:u}=i,d=V(i,AV),p=e.auth.restrictionsState.ipRestrictions;o.setIpRestrictionsState({saving:!0,error:null}),o.setIpRestrictionsState({data:{config:y({},(s=p.data)==null?void 0:s.config,d),restrictions:(c=(a=p.data)==null?void 0:a.restrictions)!=null?c:[]},pagination:{_filter:He.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1}),o.setIpRestrictionsState({saving:!1,error:null}),u?.(!0)}),o.deleteIpRestriction=i=>l(null,null,function*(){var s;let{callback:c,id:a}=i;o.setIpRestrictionsState({saving:!0,error:null});let u=e.auth.restrictionsState.ipRestrictions;o.setIpRestrictionsState({data:{config:((s=u.data)==null?void 0:s.config)||{isActive:!1,strategy:He.ALLOW},restrictions:u.data.restrictions.filter(d=>d.id!==a)},pagination:{_filter:He.ALLOW,_limit:50,_offset:0},totalPages:1,saving:!1,error:null}),c?.(!0)}),o.checkIfUserIpValid=()=>l(null,null,function*(){o.setIpRestrictionsState({loading:!0,error:null});try{let i=e.auth.restrictionsState.ipRestrictions,s=Wl[0].ip,c=!!i.data.restrictions.find(a=>a.isActive&&a.ip===s);o.setIpRestrictionsState({userIpValid:c,loading:!1})}catch(i){o.setIpRestrictionsState({error:_(i),loading:!1})}}),o.saveEmailDomainRestriction=i=>l(null,null,function*(){var s,c;let{callback:a}=i,u=V(i,wV),d=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),a?.(!0),o.setEmailDomainRestrictionsState({data:{config:((s=d.data)==null?void 0:s.config)||{active:!1,blockPublicDomains:!1,listType:u.type},restrictions:[...((c=d.data)==null?void 0:c.restrictions)||[],y({},u,{id:Date.now().toString()})]},saving:!1})}),o.saveEmailDomainRestrictionsConfig=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,EV),u=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),c?.(!0),o.setEmailDomainRestrictionsState({data:{config:{active:a.active,blockPublicDomains:a.blockPublicDomains||!1,listType:a.type||He.ALLOW},restrictions:[...((s=u.data)==null?void 0:s.restrictions)||[]]},saving:!1})}),o.deleteEmailDomainRestriction=i=>l(null,null,function*(){var s,c;let{id:a}=i,u=e.auth.restrictionsState.emailDomainRestrictions;o.setEmailDomainRestrictionsState({saving:!0,error:null}),yield Y(),o.setEmailDomainRestrictionsState({data:{config:((s=u.data)==null?void 0:s.config)||{active:!1,blockPublicDomains:!1,listType:He.ALLOW},restrictions:(((c=u.data)==null?void 0:c.restrictions)||[]).filter(d=>d.id===a)},saving:!1})}),o};var q_=(e,n,t)=>{let r=hl(e,n,t),o=J(r,["setSecurityCenterState","setSecurityCenterStateError","setSecurityCenterStateLoader","resetSecurityCenterState"]);return o.loadRecommendations=()=>l(null,null,function*(){let i=Et.RECOMMENDATIONS;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({recommendations:OS.recommendations.items,score:OS.scoring.score}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadInsights=()=>l(null,null,function*(){let i=Et.INSIGHTS;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({insights:C_.insights.items}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadBreachedPasswordUsers=()=>l(null,null,function*(){let i=Et.BREACHED_PASSWORD_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({breachedPasswordUsersTable:__}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadUnenrolledMfaUsers=()=>l(null,null,function*(){let i=Et.UNENROLLED_MFA_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({unenrolledMfaUsersTable:x_}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.loadInactiveUsers=()=>l(null,null,function*(){let i=Et.INACTIVE_USERS_TABLE;o.setSecurityCenterStateLoader({key:i,value:!0}),yield Y(),o.setSecurityCenterState({inactiveUsersTable:T_}),o.setSecurityCenterStateLoader({key:i,value:!1})}),o.sendResetBreachedPasswordEmail=i=>l(null,null,function*(){let{callback:s}=i,c=Et.SEND_BREACHED_PASSWORD_EMAIL;o.setSecurityCenterStateLoader({key:c,value:!0}),yield Y(),s?.(!0),o.setSecurityCenterStateLoader({key:c,value:!1})}),o};var DV=["callback"],IV=["callback"],CV=["callback"],Y_=(e,n,t)=>{let r=gl(e,n,t),o=J(r,["setSecurityPolicyState","setSecurityPolicyGlobalState","setSecurityPolicyPublicState","setSecurityPolicyMfaState","setSecurityPolicyVendorMfaState","setSecurityPolicyLockoutState","setSecurityPolicyVendorLockoutState","setSecurityPolicyCaptchaState","setSecurityPolicyPasswordHistoryState","setSecurityPolicyVendorPasswordHistoryState","resetSecurityPolicyState","setSecurityPolicyPasswordState","setSecurityPolicyAuthStrategyPublicState"]);return o.loadSecurityPolicy=()=>l(null,null,function*(){o.setSecurityPolicyGlobalState({loading:!0,error:null}),yield Promise.all([o.loadSecurityPolicyMfa(),o.loadSecurityPolicyVendorMfa(),o.loadSecurityPolicyLockout(),o.loadSecurityPolicyVendorLockout(),o.loadSecurityPolicyPasswordHistory(),o.loadSecurityPolicyVendorPasswordHistory(),o.loadSecurityPolicyCaptcha()]),yield Y(),o.setSecurityPolicyGlobalState({policy:E_,loading:!1})}),o.loadPublicSecurityPolicy=()=>l(null,null,function*(){o.setSecurityPolicyPublicState({loading:!0,error:null});try{o.setSecurityPolicyPublicState({policy:D_,loading:!1})}catch(i){o.setSecurityPolicyPublicState({error:_(i),loading:!1})}}),o.saveSecurityPolicyMfa=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,DV);o.setSecurityPolicyMfaState({saving:!0,error:null});let u=y({},uo,{id:(s=a.id)!=null?s:uo.id,enforceMFAType:a.enforceMFAType});yield Y(),o.setSecurityPolicyMfaState({policy:u,saving:!1}),c?.(u)}),o.loadSecurityPolicyMfa=()=>l(null,null,function*(){o.setSecurityPolicyMfaState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyMfaState({policy:DS,loading:!1})}),o.loadSecurityPolicyVendorMfa=()=>l(null,null,function*(){o.setSecurityPolicyVendorMfaState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorMfaState({policy:DS,loading:!1})}),o.saveSecurityPolicyLockout=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,IV);o.setSecurityPolicyLockoutState({saving:!0,error:null}),yield Y();let a=y({},uo,c,{id:c.id?c.id:uo.id});s?.(a),o.setSecurityPolicyLockoutState({policy:a,saving:!1})}),o.loadSecurityPolicyLockout=()=>l(null,null,function*(){o.setSecurityPolicyLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyLockoutState({policy:uo,loading:!1})}),o.loadSecurityPolicyVendorLockout=()=>l(null,null,function*(){o.setSecurityPolicyVendorLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorLockoutState({policy:uo,loading:!1})}),o.loadSecurityPolicyCaptcha=()=>l(null,null,function*(){o.setSecurityPolicyLockoutState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyLockoutState({policy:uo,loading:!1})}),o.saveSecurityPolicyPasswordHistory=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,CV);o.setSecurityPolicyPasswordHistoryState({saving:!0,error:null}),yield Y();let a=y({},Bl,c,{id:c.id?c.id:Bl.id});s?.(a),o.setSecurityPolicyPasswordHistoryState({policy:a,saving:!1})}),o.loadSecurityPolicyPasswordHistory=()=>l(null,null,function*(){o.setSecurityPolicyPasswordHistoryState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyPasswordHistoryState({policy:Bl,loading:!1})}),o.loadSecurityPolicyVendorPasswordHistory=()=>l(null,null,function*(){o.setSecurityPolicyVendorPasswordHistoryState({loading:!0,error:null}),yield Y(),o.setSecurityPolicyVendorPasswordHistoryState({policy:Bl,loading:!1})}),o};var _V=["callback"],Z_=(e,n,t)=>{let r=ml(e,n,t),o=J(r,["setSessionsPolicyState","resetSessionsPolicyState"]);return o.loadSessionsPolicy=()=>l(null,null,function*(){o.setSessionsPolicyState({loading:!0,error:null});let i=e.auth.sessionsPolicyState;o.setSessionsPolicyState(y({},i,{loading:!1}))}),o.createOrUpdateSessionsPolicy=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,_V);o.setSessionsPolicyState({loading:!0,error:null}),s?.(!0),o.setSessionsPolicyState({configurations:c,loading:!1})}),o};var K_=(e,n,t)=>{let r=vl(e,n,t),o=J(r,["setSessionsState","resetSessionsState"]);return o.loadUserSessions=()=>l(null,null,function*(){o.setSessionsState({loading:!0,error:null}),o.setSessionsState({sessions:PS,loading:!1})}),o.deleteUserSession=i=>l(null,null,function*(){let{id:s}=i;o.setSessionsState({loading:!0,error:null});let a=e.auth.sessionsState.sessions.filter(u=>u.id!==s);o.setSessionsState({sessions:a,loading:!1})}),o.deleteAllUserSessions=()=>l(null,null,function*(){o.setSessionsState({loading:!0,error:null});let i=PS.filter(s=>s.current);o.setSessionsState({sessions:i,loading:!1})}),o};var Q_=(e,n,t)=>{let r=yl(e,n,t);return J(r,["setSignUpState","resetSignUpState","resetSignUpStateSoft"])};var J_=(e,n,t)=>{let r=Sl(e,n,t);return J(r,["setSmsState","resetSmsState"])};var X_=(e,n,t)=>{let r=bl(e,n,t);return J(r,["setSocialLoginsState","resetSocialLoginsState","setSocialLoginError"])};var TV=["callback","samlVendor"],eT=(e,n,t)=>{let r=Al(e,n,t),o=J(r,["setSSOState","resetSSOState"]);return o.loadSSOConfigurations=()=>l(null,null,function*(){o.setSSOState({loading:!0}),yield Y(),o.setSSOState({samlConfiguration:IS,loading:!1,firstLoad:!1})}),o.saveSSOConfigurations=i=>l(null,null,function*(){var s,c;let{callback:a,samlVendor:u}=i,d=V(i,TV),p=CS.samlConfiguration,g=y({},p,d),f="saving";if(g?.enabled!==p.enabled&&(f="loading"),!(g!=null&&g.domain)){o.setSSOState({samlConfiguration:y({},p,g)});return}else o.setSSOState({error:void 0,[f]:!0});yield Y(),g.acsUrl=Hl==null||(s=Hl.configuration)==null?void 0:s.acsUrl,g.spEntityId=Hl==null||(c=Hl.configuration)==null?void 0:c.spEntityId;let v=Mc(g,["validated","generatedVerification","createdAt","updatedAt"]);p?.domain!==v?.domain&&(v.ssoEndpoint="",v.publicCertificate="",v.signRequest=!1),v.type=u?.toLowerCase(),yield Y(),o.setSSOState({samlConfiguration:v,error:void 0,[f]:!1}),a?.(!0)}),o.saveSSOConfigurationsFile=i=>l(null,null,function*(){let s="saving";o.setSSOState({error:void 0,[s]:!0});let c=e.auth.ssoState.samlConfiguration,a=y({},c,{enabled:!0},i[0]);o.setSSOState({samlConfiguration:a,error:void 0,[s]:!1})}),o.validateSSODomain=i=>l(null,null,function*(){let{callback:s}=i??{},c=CS.samlConfiguration;o.setSSOState({error:void 0,saving:!0}),yield Y(),o.setSSOState({samlConfiguration:y({},c,{validated:!0}),error:void 0,saving:!1}),s?.(!0)}),o.loadSSOAuthorizationRoles=()=>l(null,null,function*(){yield Y();let i={roleIds:["1","2","3"]};o.setSSOState({authorizationRoles:i.roleIds,error:void 0})}),o.updateSSOAuthorizationRoles=i=>l(null,null,function*(){let{callback:s,authorizationRoles:c}=i;o.setSSOState({error:void 0,saving:!0}),yield Y(),o.setSSOState({authorizationRoles:c,error:void 0,saving:!1}),s?.(!0)}),o};var tT=(e,n,t)=>{let r=wl(e,n,t);return J(r,["setStepUpState","resetStepUpState"])};var xV=["callback"],MV=["callback"],PV=["callback","profileImage"],RV=["callback"],OV=["callback"],NV=["callback"],kV=["callback"],LV=["callback"],FV=["callback"],UV=["callback"],jV=["callback"],nT=(e,n,t)=>{let r=El(e,n,t),o=J(r,["setTeamState","resetTeamState","setTeamLoader","setTeamError","openAddUserDialog","closeAddUserDialog","openDeleteUserDialog","closeDeleteUserDialog"]);return o.loadUsersV3=i=>l(null,null,function*(){var s,c,a,u;let{silentLoading:d,callback:p}=i,g=e.auth.teamState,f=(s=i.pageSize)!=null?s:g.pageSize,h=(c=i.pageOffset)!=null?c:g.pageOffset,v=(a=i.filter)!=null?a:g.filterV2,S=(u=i.sort)!=null?u:g.sortV2;o.setTeamLoader({key:ce.USERS,value:!d}),o.setTeamState({pageSize:f,pageOffset:h,filterV2:v,sortV2:S});let D=2,T=10;yield Y(),o.setTeamState({users:_S,totalPages:D,totalItems:T,roles:Ws,permissions:Gl}),o.setTeamLoader({key:ce.USERS,value:!1}),p?.(_S)}),o.loadAllSubTenantsUsers=i=>l(null,null,function*(){var s,c,a,u,d;let{silentLoading:p,callback:g}=i,f=e.auth.teamState,h=(s=i._limit)!=null?s:f.allUsersQueryParams._limit,v=(c=i._offset)!=null?c:f.allUsersQueryParams._offset,S=(a=i._filter)!=null?a:f.allUsersQueryParams._filter,D=(u=i._sortBy)!=null?u:f.allUsersQueryParams._sortBy,T=(d=i._order)!=null?d:f.allUsersQueryParams._order;o.setTeamLoader({key:ce.USERS,value:!p}),o.setTeamState({allUsersQueryParams:{_limit:h,_offset:v,_filter:S,_sortBy:D,_order:T}});let m=2,E=10;yield Y(),o.setTeamState({allUsers:xS,totalPages:m,totalItems:E,roles:Ws,permissions:Gl}),o.setTeamLoader({key:ce.USERS,value:!1}),g?.(xS)}),o.loadRoles=i=>l(null,null,function*(){var s;o.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0}),yield Y(),o.setTeamState({roles:Ws,permissions:Gl}),o.setTeamLoader({key:ce.ROLES_AND_PERMISSIONS,value:!0}),i==null||(s=i.callback)==null||s.call(i,{roles:Ws,permissions:Gl})}),o.addUser=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,xV),a=e.auth.teamState;o.setTeamState({addUserDialogState:y({},a.addUserDialogState,{loading:!0})}),yield Y();let u=new Date,d=y({},co,{groups:[]},c,{id:`${fo()}`,temporaryExpirationDate:c.expirationInSeconds?new Date(u.setSeconds(u.getSeconds()+c.expirationInSeconds)):void 0});s?.(d),o.setTeamState({users:[d,...a.users],addUserDialogState:{open:!1,loading:!1}})}),o.addUserToSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,MV),a=e.auth.teamState;o.setTeamState({addUserDialogState:y({},a.addUserDialogState,{loading:!0})}),yield Y();let u=y({},co,c,{id:`${fo()}`});o.setTeamState({users:[u,...a.users],addUserDialogState:{open:!1,loading:!1}}),s?.(null)}),o.updateUser=i=>l(null,null,function*(){var s;let{callback:c}=i,a=V(i,PV),{id:u}=a,d=e.auth.teamState,p=d.users.find(f=>f.id===a.id);o.setTeamLoader({key:ce.UPDATE_USER,value:u||""}),o.setTeamState({addUserDialogState:y({},d.addUserDialogState,{loading:!0})}),o.setTeamState({addUserDialogState:y({},d.addUserDialogState,{loading:!0}),users:d.users.map(f=>f.id===a.id?y({},f,a):f)}),p.roleIds.length>0&&((s=a.roleIds)==null?void 0:s.length)===0&&(a.roleIds=[""]),yield Y();let g=y({},p,a);c?.(g),o.setTeamState({users:d.users.map(f=>f.id===g.id?y({},f,g,{createdAt:f.createdAt,customData:f.customData,lastLogin:f.lastLogin}):f)}),o.setTeamLoader({key:ce.UPDATE_USER,value:!1})}),o.deleteUser=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,RV),a=e.auth.teamState;o.setTeamState({deleteUserDialogState:y({},a.deleteUserDialogState,{loading:!0})}),yield Y(),s?.(!0),o.setTeamState({users:a.users.filter(u=>u.id!==c.userId),deleteUserDialogState:{open:!1,loading:!1}})}),o.updateUserExpirationTime=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,OV),a=e.auth.teamState;o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0});let u=new Date;o.setTeamState({users:a.users.map(d=>d.id===c.userId?y({},d,{temporaryExpirationDate:c.expirationInSeconds?new Date(u.setSeconds(u.getSeconds()+c.expirationInSeconds)):void 0}):d)}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}),o.setUserAsPermanent=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,NV),a=e.auth.teamState;o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!0}),o.setTeamState({users:a.users.map(u=>u.id===c.userId?y({},u,{temporaryExpirationDate:void 0}):u)}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.UPDATE_USER_EXPIRATION_TIME,value:!1})}),o.deleteUserFromSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,kV),a=e.auth.teamState;o.setTeamState({deleteUserDialogState:y({},a.deleteUserDialogState,{loading:!0})}),yield Y(),s?.(!0),o.setTeamState({allUsers:a.allUsers.filter(u=>u.id!==c.userId),deleteUserDialogState:{open:!1,loading:!1}})}),o.resendActivationLink=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,LV);o.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:c.userId}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_ACTIVATE_LINK,value:!1})}),o.resendInvitationLink=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,FV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o.resendInvitationEmail=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,UV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o.resendInvitationLinkToAllSubTenants=i=>l(null,null,function*(){let{callback:s}=i,c=V(i,jV);o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:c.email}),yield Y(),s?.(!0),o.setTeamLoader({key:ce.RESEND_INVITATION_LINK,value:!1})}),o};var rT=(e,n,t)=>{let r=Dl(e,n,t),o=J(r,["setTenantsState","resetTenantsState"]);return o.loadTenants=()=>l(null,null,function*(){o.setTenantsState({loading:!0}),o.setTenantsState({tenants:MS,activeTenant:MS[0],loading:!1})}),o};var oT=(e,n,t)=>{let r=Wc(e,n,t);return J(r,["setUnlockAccountState","resetUnlockAccountState"])};var iT=(e,n,t)=>{let r=Cl(e,n,t);return J(r,["setUserEmailPolicyState"])};var VV=["requestName"],sT=(e,n,t,r)=>{let o=y_(e,n,t),i=S_(e,n,t),s=oT(e,n,t),c=b_(e,n,t),a=A_(e,n,t),u=al(e,n,t),d=P_(e,n,t),p=R_(e,n,t),g=O_(e,n,t),f=N_(e,n,t),h=k_(e,n,t),v=L_(e,n,t),S=F_(e,n,t),D=Jc(e,n,t),T=U_(e,n,t),m=j_(e,n,t),E=V_(e,n,t),A=$_(e,n,t),I=B_(e,n,t),w=H_(e,n,t),M=G_(e,n,t),O=z_(e,n,t),L=W_(e,n,t),x=q_(e,n,t),N=Y_(e,n,t),k=K_(e,n,t),P=Z_(e,n,t),F=Q_(e,n,t),C=J_(e,n,t),R=X_(e,n,t),U=eT(e,n,t),G=tT(e,n,t),z=nT(e,n,t),W=rT(e,n,t),$=Il(e,n,t),B=iT(e,n,t),te={acceptInvitationActions:o,accountSettingsActions:i,unlockAccountActions:s,activateAccountActions:c,allAccountsActions:a,allAccountsDialogActions:u,apiTokensActions:d,applicationsActions:p,customLoginActions:g,entitlementsActions:f,forgotPasswordActions:h,passwordRotationActions:v,groupsActions:S,groupsDialogsActions:D,impersonateActions:T,loginActions:m,mfaActions:E,passkeysActions:A,profileActions:I,provisioningActions:w,resetPhoneNumberActions:M,restrictionsActions:O,rolesActions:L,securityCenterActions:x,securityPolicyActions:N,sessionsActions:k,sessionsPolicyActions:P,signUpActions:F,smsActions:C,socialLoginActions:R,ssoActions:U,stepUpActions:G,teamActions:z,tenantsActions:W,usernamesActions:$,usersEmailsPolicyActions:B},ae=Ue=>{Object.keys(Ue).forEach(H=>{let j=H;Pc(e.auth[j])?Object.assign(e.auth[j],Ue[j]):e.auth[j]=Ue[j]})};return{authActions:y({setState:ae,setAuthState:ae,setErrorByRequestName:Ue=>{let{requestName:H}=Ue,j=V(Ue,VV);e.auth.errorByRequest=y({},e.auth.errorByRequest,{[H]:y({},j,{isError:!0})})},resetAuthState:()=>{Q(e,["auth"],r)},setUser:Ue=>{ae({user:Ue})}},o,i,c,s,a,u,d,p,g,f,h,v,S,D,T,m,E,A,I,w,M,O,L,x,N,k,P,F,C,R,U,G,z,W,$,B),authStateActions:te}};var $V=(e,n)=>(t,r)=>t[e]>r[e]?n?-1:1:r[e]>t[e]?n?1:-1:0,BV=e=>n=>e.filter(HV).every(t=>n[t.id].includes(t.value)),HV=e=>e.id!=="createdAt",aT=(e,n)=>{let{data:t}=WV,r=t.filter(BV(e));if(n.length){let{id:o,desc:i=!1}=n[0];r=r.sort($V(o,i))}return{data:r,total:r.length}},GV=()=>{switch(Math.floor(Math.random()*6)){case 0:return{action:"Updated profile",description:"User updated profile details",severity:"Info"};case 1:return{action:"User logged in",severity:"Info",description:"User logged in to the product"};case 2:return{action:"User failed to login",severity:"High",description:"User failed to login with password"};case 3:return{action:"Added user",severity:"Info",description:"Added user david+535@frontegg.com to tenant"};case 4:return{action:"Assigned roles",severity:"Info",description:"Assigned 0 roles for user"};case 5:return{action:"Removed user david+108@frontegg.com from account",severity:"Info",description:"Removed access from the account for user david+108@frontegg.com"}}},WV={total:20,data:Array.from(Array(5).keys()).map(e=>y({ip:"198.143.51.1",user:"Demo User Name",email:"demo-user@frontegg.com"},GV(),{json:{key1:"value1",key2:"value2",key3:"value3",key4:"value4"},tenantId:"my-tenant-id",vendorId:"my-vendor-id",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36",createdAt:`2022-04-07 10:${50-e}:40.201`}))},cT={properties:[{showInTable:!0,name:"createdAt",displayName:"Time",type:"Timestamp",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!1},{showInTable:!0,name:"email",displayName:"User",type:"Email",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"action",displayName:"Action",type:"AlphaNumeric",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!0,name:"description",type:"AlphaNumeric",sortable:!1,filterable:!1,displayName:"Description",isPredefined:!0,chosen:!1,selected:!1},{showInTable:!0,name:"ip",displayName:"IP Address",type:"IpAddress",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"severity",displayName:"Severity",type:"Severity",sortable:!0,filterable:!0,showInMoreInfo:"Always",chosen:!1,selected:!1,isPredefined:!0},{showInTable:!1,name:"userAgent",displayName:"User Agent",type:"AlphaNumeric",filterable:!0,sortable:!0,isPredefined:!0,chosen:!1,selected:!1},{showInTable:!1,name:"json",type:"Json",sortable:!0,filterable:!0,displayName:"Json Data",showInMoreInfo:"Always",isPredefined:!1}]};var lT=(e,n,t)=>{let r=Ul(e,n,t),o=J(r,["setAuditLogsState","resetAuditLogsState"]);return o.loadAuditLogs=i=>l(null,null,function*(){o.setAuditLogsState({loading:!i.silentLoading,error:null});let s=e.auditLogs.auditLogsState,{columns:c}=e.auditLogs.auditsMetadataState;try{var a,u,d,p,g;let h=(a=i.pageSize)!=null?a:s.pageSize,v=(u=i.pageOffset)!=null?u:s.pageOffset,S=(d=i.filter)!=null?d:s.filter,D=(p=i.sort)!=null?p:s.sort;o.setAuditLogsState({pageSize:h,pageOffset:v,filter:S,sort:D}),c||(yield t.loadAuditsMetadata());let{data:T,total:m}=aT(S,D);o.setAuditLogsState({loading:!1,logs:T??[],totalPages:+Math.ceil(m/h)}),i==null||(g=i.callback)==null||g.call(i,!0)}catch(h){var f;o.setAuditLogsState({loading:!1,error:_(h)}),i==null||(f=i.callback)==null||f.call(i,null,h)}}),o};var uT=(e,n,t)=>{let r=jl(e,n,t),o=J(r,["setAuditsMetadataState","resetAuditsMetadataState"]);return o.loadAuditsMetadata=()=>l(null,null,function*(){o.setAuditsMetadataState({loading:!0,error:null});try{let{properties:i}=cT;o.setAuditsMetadataState({columns:i,loading:!1})}catch(i){o.setAuditsMetadataState({error:i,loading:!1})}}),o};var dT=(e,n,t)=>{let r=lT(e,n,t),o=uT(e,n,t);return y({},r,o)};var fT=(e,n,t)=>{let r=Hs(e,n,t);return J(r,["setConnectivityState","resetConnectivityState","initData","resetConnectivityState","cleanWebhookTestData","cleanWebhookLogsData","cleanWebhookTestMessage","cleanError","cleanSlackData"])};var pT=(e,n,t)=>{let r=xl(e,n,t),o=J(r,["setPaymentConfigState","resetPaymentConfigState"]);return o.loadPaymentConfiguration=()=>l(null,null,function*(){o.setPaymentConfigState({loading:!0}),yield Y(500),o.setPaymentConfigState({loading:!1,fetching:!1,config:{paymentProvider:gi.STRIPE,apiKey:""}})}),o};var lp={id:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",externalId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",startDate:"2021-09-20T08:08:51.000Z",status:St.ACTIVE,externallyManaged:!1,cancellation:null,currentPeriodStart:"2021-09-20T08:08:51.000Z",currentPeriodEnd:"2021-10-20T08:08:51.000Z",plan:{slug:"test"}},po=[{id:"prod_J60fUEvI7qV1eL",externalId:"prod_J60fUEvI7qV1eL",name:"Premium",description:"",price:{id:"price_1IToe8Ewsu4qiqnndAV76J69",externalId:"price_1IToe8Ewsu4qiqnndAV76J69",currency:"usd",amount:1e4},slug:"premium"},{id:"prod_J60duauCpXfcur",externalId:"prod_J60duauCpXfcur",name:"Free",description:"Totally free plan. Nothing to pay.",price:{id:"price_1ITocfEwsu4qiqnnnBHDx9fQ",externalId:"price_1ITocfEwsu4qiqnnnBHDx9fQ",currency:"usd",amount:0},slug:"free"}],hT=[{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-09-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""},{id:"in_1JbhYWEwsu4qiqnnrUh6hsHa",externalId:"in_1JbhYWEwsu4qiqnnrUh6hsHa",subscriptionId:"sub_1JbhYVEwsu4qiqnnfMhYAdY6",paymentDate:"2021-08-20T08:08:51.000Z",totalAmount:1e4,currency:"usd",paid:!0,receiptNumber:""}],gT=[{id:"id",externalId:"externalId",type:Yo.CARD,isDefault:!0,last4:"4242",expMonth:11,expYear:25,brand:"visa",billingDetails:{name:"Dummy",email:"dummy@email.com"}}],mT={allowPlanDowngrade:!0,allowPlanCancellation:!0};var vT=(e,n,t)=>{let r=Ml(e,n,t),o=J(r,["setBillingInformationState","resetBillingInformationState"]);return o.loadBillingInformation=()=>l(null,null,function*(){var i,s;o.setBillingInformationState({loading:!0}),yield Y(500),o.setBillingInformationState({loading:!1,fetching:!1,summary:{subscriptionId:lp.id,paymentMethodId:"mockPaymentMethodId",tenantConfigurationId:"mockTenantConfigurationId",providerType:xr.Stripe,externallyManaged:!1,currentPlanId:po[0].id,defaultPlanId:po[0].id},plan:y({},po[0],{price:(i=po[0].price)==null?void 0:i.amount,currency:(s=po[0].price)==null?void 0:s.currency,recurringInterval:"month"})})}),o};var yT=(e,n,t)=>{let r=Rl(e,n,t),o=J(r,["setBillingPaymentMethodState","resetBillingPaymentMethodState"]);return o.loadPaymentMethod=()=>l(null,null,function*(){o.setBillingPaymentMethodState({loading:!0}),yield Y(500),o.setBillingPaymentMethodState({paymentMethod:gT[0],loading:!1,fetching:!1})}),o};var ST=(e,n,t)=>{let r=Pl(e,n,t),o=J(r,["setBillingInvoiceState","resetBillingInvoiceState"]);return o.loadBillingInvoices=()=>l(null,null,function*(){o.setBillingInvoiceState({loading:!0}),yield Y(500);let i="Premium";o.setBillingInvoiceState({loading:!1,fetching:!1,invoices:hT.map(s=>y({},s,{selectedPlan:i,paymentDate:new Date(Date.parse(s.paymentDate)),totalAmount:+((s.totalAmount||0)/100).toFixed(2)}))})}),o.loadInvoices=o.loadBillingInvoices,o};var bT=(e,n,t)=>{let r=Ol(e,n,t),o=J(r,["setBillingSubscriptionState","resetBillingSubscriptionState","setCancellationLoading","setCancellationError","setRenewalLoading","setRenewalError"]);return o.loadSubscription=()=>l(null,null,function*(){o.setBillingSubscriptionState({loading:!0}),yield Y(500),o.setBillingSubscriptionState({subscription:lp,fetching:!1,loading:!1,error:null})}),o};var AT=(e,n,t)=>{let r=vT(e,n,t),o=yT(e,n,t),i=ST(e,n,t),s=bT(e,n,t);return[y({},r,o,i,s),{information:r,invoices:i,paymentMethod:o,subscription:s}]};var wT=(e,n,t)=>{let r=Nl(e,n,t),o=J(r,["setPlansState","resetPlansState"]);return o.loadPlans=()=>l(null,null,function*(){o.setPlansState({loading:!0}),yield Y(500),o.setPlansState({fetching:!1,loading:!1,plans:po.map(i=>{var s,c;return y({},i,{price:((s=i.price)==null?void 0:s.amount)||0,currency:((c=i.price)==null?void 0:c.currency)||"usd",recurringInterval:"month"})})})}),o};var ET=(e,n,t)=>{let r=kl(e,n,t);return J(r,["setCheckoutState","resetCheckoutState","errorCheckout","resetCheckout"])};var DT=(e,n,t)=>{let r=Ll(e,n,t);return J(r,[])};var IT=(e,n,t)=>{let r=Fl(e,n,t),o=J(r,["setVendorPublicConfigState","resetVendorPublicConfigState","setVendorPublicConfigError","setVendorPublicConfigLoading"]);return o.loadVendorPublicConfiguration=()=>l(null,null,function*(){o.setVendorPublicConfigLoading(!0),yield Y(),o.setVendorPublicConfigState({fetching:!1,loading:!1,vendorPublicConfig:mT})}),o};var CT=(e,n,t)=>{let r=pT(e,n,t),[o,i]=AT(e,n,t),s=wT(e,n,t),c=ET(e,n,t),a=DT(e,n,t),u=IT(e,n,t);return[y({},r,o,s,c,a,u),{config:r,billing:i,plans:s,checkout:c,stripe:a,vendorPublicConfig:u}]};var _T=(e,n,t)=>{let r=Gs(e,n,t),o=J(r,["setVendorState","resetVendorState"]);return o.loadVendorPublicInfo=()=>l(null,null,function*(){try{o.setVendorState({whiteLabelMode:!1}),yield Y()}catch(i){console.error("failed to getVendorPublicInfo - ",i)}}),o.loadVendorPublicConfiguration=o.loadVendorPublicInfo,o};var zV=(e,n,t,r)=>{let{authActions:o,authStateActions:i}=sT(e,n,t,r),s=fT(e,n,t),[c,a]=CT(e,n,t),u=_T(e,n,t),d=dT(e,n,t);return{authActions:o,authStateActions:i,connectivityActions:s,subscriptionsActions:c,subscriptionsStateActions:a,vendorActions:u,auditsActions:d}},TT=zV;var qV=(e,n,t=!1,r,o,i=!1,s="path")=>up({name:e.appName,context:e.context,storeHolder:n,previewMode:t,builderMode:i,urlStrategy:s,initialState:{root:y({},e),auth:y({},o?.auth,r),connectivity:y({},o?.connectivity),subscriptions:y({},o?.subscriptions),vendor:y({},o?.vendor),auditLogs:y({},o?.auditLogs),audits:y({},o?.audits)}}),up=e=>{var n,t,r,o,i,s,c;let{storeHolder:a}=e,u=typeof window>"u",d=a;if(u&&a==null)throw Error("createFronteggStore(initState, storeHolder) failed, storeHolder must not be null in Server-Side rendering");if(d||(d=window),d.store)return d.store;let p=e.name||"default",{context:g,previewMode:f=!1,builderMode:h=!1,urlStrategy:v="path"}=e,S=ie.for(p);!f&&!h&&S.setContext(g),g.requestCredentials===void 0&&(g.requestCredentials="include");let D=Gy((n=e.initialState)==null?void 0:n.auth),T=rp((t=e.initialState)==null?void 0:t.connectivity),m=fS((r=e.initialState)==null?void 0:r.subscriptions),E=op((o=e.initialState)==null?void 0:o.vendor),A=SS((i=e.initialState)==null?void 0:i.auditLogs),I=AS((s=e.initialState)==null?void 0:s.audits),w=(c=e.initialState)==null?void 0:c.auth;w&&Object.keys(w).forEach(F=>{(0,xT.default)(D,F,w[F],{merge:!0})});let M=JSON.parse(JSON.stringify(D)),O=K({root:{appName:p,context:g,urlStrategy:v,previewMode:f},auth:D,connectivity:T,subscriptions:m,vendor:E,auditLogs:A,audits:I});typeof window<"u"&&window.localStorage&&window.localStorage.DEBUG_FRONTEGG_STORE==="true"&&Pm(O,{name:`${p} Store`,enabled:!0});let L={},x={};S.setContext(e.context),S.setAppName(p);let N=Ms(p),k=new tr(p),P=y({},N,{fetch:k});if(e.previewMode||e.builderMode){let{authActions:F,authStateActions:C,connectivityActions:R,subscriptionsActions:U,subscriptionsStateActions:G,vendorActions:z,auditsActions:W}=TT(O,P,x,M);L.auth=C,L.connectivity=R,L.subscriptions=G,L.vendor=z,L.auditLogs=W,L.audits={},Object.assign(x,y({},F,R,U,z,W));let $={dispatch:B=>{setTimeout(()=>{let[te,...ae]=B.type.split("/"),pe=ae.join("/");te==="auth"&&typeof F[pe]=="function"?F[pe](B.payload):te==="connectivity"&&typeof R[pe]=="function"?R[pe](B.payload):te==="subscriptions"&&typeof U[pe]=="function"?U[pe](B.payload):te==="vendor"&&typeof z[pe]=="function"&&z[pe](B.payload)})},getState:()=>O,subscribe:B=>Tr(O,B),subscribeStateChanged:B=>Tr(O,()=>B(O)),store:O,actions:x,stateActions:L};return e.previewMode&&$.dispatch({type:"auth/requestAuthorize",payload:!0}),d&&(d.store=$),$}else{let[F,C]=Wy(O,P,x,M),R=Hs(O,P,x),[U,G]=pS(O,P,x),z=Gs(O,P,x),W=bS(O,P,x),$=ES(O,P,x);return L.auth=C,L.connectivity=R,L.subscriptions=G,L.vendor=z,L.auditLogs=W,L.audits=$,Object.assign(x,y({},F,R,U,z,W)),{dispatch:B=>{let[te,...ae]=B.type.split("/"),pe=ae.join("/");te==="auth"&&typeof F[pe]=="function"?F[pe](B.payload):te==="connectivity"&&typeof R[pe]=="function"?R[pe](B.payload):te==="subscriptions"&&typeof U[pe]=="function"?U[pe](B.payload):te==="vendor"&&typeof z[pe]=="function"&&z[pe](B.payload)},getState:()=>O,subscribe:B=>Tr(O,B),subscribeStateChanged:B=>Tr(O,()=>B(O)),store:O,actions:x,stateActions:L}}};var tb={};Ep(tb,{AccountDetailsPageTabs:()=>KS,AccountPageFields:()=>BS,COUNTRY_FILTER_TYPE:()=>US,DomainRestrictionsTabFields:()=>ZS,GeneralSettingsTabFields:()=>qS,InviteUserModalFields:()=>$S,IpRestrictionsTabFields:()=>YS,Metadata:()=>qs,PrivacyPageFields:()=>VS,ProfilePageFields:()=>jS,SecurityPageTabs:()=>WS,SessionManagementTabFields:()=>zS,SignupFields:()=>FS,SubscriptionsPageFields:()=>GS,UsersTableColumns:()=>HS,alpha:()=>MT,fieldAppearance:()=>YV,tabAppearance:()=>ZV});var FS;(function(e){e.phoneNumber="phoneNumber"})(FS||(FS={}));var US;(function(e){e.ALLOWED="allowedCountries",e.BLOCKED="blockedCountries"})(US||(US={}));var jS;(function(e){e.Name="name",e.Username="username",e.PhoneNumber="phoneNumber",e.Address="address",e.JobTitle="jobTitle"})(jS||(jS={}));var VS;(function(e){e.LoginSessions="loginSessions",e.Mfa="mfa"})(VS||(VS={}));var $S;(function(e){e.Name="name",e.PhoneNumber="phoneNumber",e.Username="username"})($S||($S={}));var BS;(function(e){e.CompanyName="companyName",e.Address="address",e.Website="website",e.Timezone="timezone",e.Currency="currency"})(BS||(BS={}));var HS;(function(e){e.User="user",e.Applications="applications",e.Groups="groups",e.Roles="roles",e.JoinedAt="joinedAt",e.LastSeen="lastSeen",e.ManagedBy="managedBy"})(HS||(HS={}));var GS;(function(e){e.Invoices="invoices"})(GS||(GS={}));var WS;(function(e){e.SessionManagement="sessionManagement",e.GeneralSettings="generalSettings",e.IpRestrictions="ipRestrictions",e.DomainRestrictions="domainRestrictions"})(WS||(WS={}));var zS;(function(e){e.IdleSessionTimeout="idleSessionTimeout",e.ForceReLogin="forceReLogin",e.MaximumConcurrentSessions="maximumConcurrentSessions"})(zS||(zS={}));var qS;(function(e){e.Mfa="mfa",e.UserLockout="userLockout",e.PasswordHistory="passwordHistory"})(qS||(qS={}));var YS;(function(e){e.IpAddressRestrictions="ipAddressRestrictions"})(YS||(YS={}));var ZS;(function(e){e.RestrictSignupByEmailDomain="restrictSignupByEmailDomain"})(ZS||(ZS={}));var KS;(function(e){e.Settings="settings",e.CustomLogin="customLogin"})(KS||(KS={}));var YV={hidden:"hidden",viewOnly:"viewOnly",edit:"edit"},ZV={hidden:"hidden",edit:"edit"};var zs=Dn(Sf());function QS(e,n=0,t=1){return Math.min(Math.max(n,e),t)}function KV(e){e=e.substr(1);let n=new RegExp(`.{1,${e.length>=6?2:1}}`,"g"),t=e.match(n);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,o)=>o<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function QV(e){let n=e.toString(16);return n.length===1?`0${n}`:n}function zl(e){if(e.type)return e;if(e.charAt(0)==="#")return zl(KV(e));let n=e.indexOf("("),t=e.substring(0,n);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error("MUI: Unsupported `%s` color.\nThe following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color(). "+e);let r=e.substring(n+1,e.length-1),o,i;if(t==="color"){if(i=r.split(" "),o=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].substr(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(o)===-1)throw new Error("MUI: unsupported `%s` color space.\nThe following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020."+o)}else i=r.split(",");let s=i.map(c=>parseFloat(c));return{type:t,values:s,colorSpace:o}}function JS(e){let{type:n,colorSpace:t}=e,{values:r}=e;return n.indexOf("rgb")!==-1?r=r.map((o,i)=>i<3?parseInt(o,10):o):n.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),n.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${n}(${r})`}function ql(e){if(e.indexOf("#")===0)return e;let{values:n}=zl(e);return`#${n.map((t,r)=>QV(r===3?Math.round(255*t):t)).join("")}`}function MT(e,n){return e=zl(e),n=QS(n),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${n}`:e.values[3]=n,JS(e)}function Yl(e,n){if(e=zl(e),n=QS(n),e.type.indexOf("hsl")!==-1)e.values[2]*=1-n;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)e.values[t]*=1-n;return JS(e)}function XS(e,n){if(e=zl(e),n=QS(n),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*n;else if(e.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*n;else if(e.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)e.values[t]+=(1-e.values[t])*n;return JS(e)}var eb=e=>{if(e)return{main:e,light:ql(XS(e,.4)),dark:ql(Yl(e,.15)),hover:ql(Yl(e,.15)),active:ql(Yl(e,.2))}},dp=e=>{if(e)return{main:e,light:XS(e,.7),dark:Yl(e,.2)}},PT=(e,n)=>{var t,r,o,i,s,c,a,u,d,p,g,f;return!(e!=null&&e.palette)||typeof(e==null||(t=e.palette)==null?void 0:t.primary)!="string"?{}:y({},n,{palette:{primary:y({},eb(e==null||(r=e.palette)==null?void 0:r.primary),{contrastText:(o=e==null||(i=e.palette)==null?void 0:i.primaryText)!=null?o:"#000000"}),secondary:y({},eb(e==null||(s=e.palette)==null?void 0:s.secondary),{contrastText:(c=e==null||(a=e.palette)==null?void 0:a.secondaryText)!=null?c:"#000000"}),danger:y({},eb(e==null||(u=e.palette)==null?void 0:u.error),{contrastText:"#FFF"}),success:y({},dp(e==null||(d=e.palette)==null?void 0:d.success),{contrastText:"#FFF"}),error:y({},dp(e==null||(p=e.palette)==null?void 0:p.error),{contrastText:"#FFF"}),warning:y({},dp(e==null||(g=e.palette)==null?void 0:g.warning),{contrastText:"#FFF"}),info:y({},dp(e==null||(f=e.palette)==null?void 0:f.info),{contrastText:"#FFF"})}})};var kt={theme:{},themeV2:{},localizations:{},navigation:{usage:{visibility:"hidden",permissions:["fe.usage.read"],featureFlag:"fe-usage-page"},webhooks:{visibility:"hidden",permissions:["fe.connectivity.read.webhooks"]},roles:{visibility:"hidden",permissions:["fe.secure.read.roles"]},users:{visibility:"always",permissions:["fe.secure.read.users"],inviteDialog:{phoneNumberField:"optional"}},personalApiTokens:{visibility:"hidden",permissions:["fe.secure.read.userApiTokens"]},apiTokens:{visibility:"hidden",permissions:["fe.secure.read.tenantApiTokens"]},profile:{visibility:"always"},privacy:{visibility:"always"},account:{visibility:"always",permissions:["fe.secure.read.accountSettings"]},security:{visibility:"always",permissions:["fe.secure.read.securityPolicy"]},sso:{visibility:"hidden",permissions:["fe.secure.read.samlConfiguration"]},provisioning:{visibility:"hidden",permissions:["fe.secure.read.provisioningConfiguration"]},audits:{visibility:"always",permissions:["fe.secure.read.audits"]},subscriptions:{visibility:"hidden",permissions:["fe.subscriptions.*"]},allAccounts:{visibility:"byPermissions",permissions:["fe.account-hierarchy.read.subAccount"]},groups:{visibility:"hidden",permissions:["fe.secure.read.groups"]}}},qs=(()=>{class e{constructor(){this._theme=kt.theme,this._themeV2=kt.themeV2,this._navigation=kt.navigation,this._localizations=kt.localizations,this._integrations=kt.integrations}static getInstance(t="default"){return this._instances[t]}static set(t,r="default"){let o=new e;return o.set(t),e._instances[r]=o,o}get theme(){var t;return(t=this._theme)!=null?t:{}}get themeV2(){var t;return(t=this._themeV2)!=null?t:{}}get navigation(){var t;return(t=this._navigation)!=null?t:{}}get localizations(){var t;return(t=this._localizations)!=null?t:{}}get integrations(){var t;return(t=this._integrations)!=null?t:{}}set(t){try{var r,o,i,s,c,a,u,d,p;this._navigation=zs.default.all([(r=kt.navigation)!=null?r:{},(o=t?.navigation)!=null?o:{}]),this._theme=zs.default.all([(i=kt.theme)!=null?i:{},PT(t?.theme,kt.theme)]),this._themeV2=zs.default.all([(s=kt.themeV2)!=null?s:{},(c=t?.themeV2)!=null?c:{}]),this._localizations=zs.default.all([(a=kt.localizations)!=null?a:{},(u=t?.localizations)!=null?u:{}]),this._integrations=zs.default.all([(d=kt.integrations)!=null?d:{},(p=t?.integrations)!=null?p:{}])}catch{this._navigation=kt.navigation,this._theme=kt.theme,this._themeV2=kt.themeV2,this._localizations=kt.localizations,this._integrations=kt.integrations}}}return e._instances={},e})();var RT=function(n){return n.replace(/\W+/g," ").split(/ |\B(?=[A-Z])/).map(function(t){return t.toLowerCase()}).join("")},mi=function(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=document.createElement(t);return Object.keys(r).forEach(function(i){return o.setAttribute(i,r[i])}),n.appendChild(o),o};var OT=function(n){var t=n.toString();if(t){var r=new URL(window.location.href);r.search=t,window.history.pushState(null,"",r.toString())}};var nb={cdnVersion:"7.87.0"};var rb={admin_portal_ip_restrictions:"on",admin_portal_domain_restrictions:"on","new-mfa-pages":"on","show-passkeys-new":"on","groups-admin-box-new":"on","msp-all-accounts-new":"on","temporary-users":"on"};var ob=Dn(Im());var NT=Dn(Sf());var JV=function(n){return/^GTM-[a-zA-Z0-9]+$/.test(n)},kT=function(n){var t,r=qs.getInstance(n),o=r==null||(t=r.integrations)==null?void 0:t.gtm;o?.filter(function(i){var s=i.id,c=i.enabled;return c&&JV(s)}).forEach(function(i){var s=i.id,c=document.createElement("script");c.innerHTML=`
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','`.concat(s,`');
      `),document.body.appendChild(c)})},LT=function(){var e=_t(ob.default.mark(function n(t,r,o){var i,s,c,a;return ob.default.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(s=(i=t.metadataOverrides)==null?void 0:i.url,s){d.next=3;break}return d.abrupt("return",t);case 3:return d.prev=3,d.next=6,ee(function(){return r.sendRequest({url:s,method:"GET",credentials:"omit"})},o);case 6:if(c=d.sent,!c){d.next=10;break}return a=(0,NT.default)(t,c),d.abrupt("return",a);case 10:d.next=15;break;case 12:d.prev=12,d.t0=d.catch(3),console.error("Failed to get metadata overrides",d.t0);case 15:return d.abrupt("return",t);case 16:case"end":return d.stop()}},n,null,[[3,12]])}));return function(t,r,o){return e.apply(this,arguments)}}();var FT=function(){function e(n,t){var r=this,o,i,s,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;vs(this,e),this.name=void 0,this.iframeRendering=void 0,this.options=void 0,this.loading=!0,this.cdnUrl="https://assets.frontegg.com/admin-box/".concat(nb.cdnVersion),this.assetsUrl="https://adminBox.frontegg.com/admin-box/".concat(nb.cdnVersion),this.customElementName="",this.adminPortalEl=void 0,this.adminPortalRenderer=void 0,this.loginBoxEl=void 0,this.checkoutDialogEl=void 0,this.checkoutDialogRenderer=void 0,this.adminPortalContainer=void 0,this.loginBoxContainer=void 0,this.checkoutDialogContainer=void 0,this.loginBoxRenderer=void 0,this.store=void 0,this.loadingListeners=[],this.fetchClient=void 0,this.apiClient=void 0,this.updateLocalizations=void 0,this.loadAdminBoxMetadata=_t(Ge.default.mark(function S(){var D,T,m,E,A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(r.options.metadata){w.next=21;break}return w.prev=1,w.next=4,ee(function(){return r.fetchClient.get("/metadata",{entityName:"adminBox"})},Tt);case 4:return E=w.sent,A=(D=E==null||(T=E.rows)==null||(m=T[0])==null?void 0:m.configuration)!=null?D:{},w.prev=6,w.next=9,LT(A,r.fetchClient,Tt);case 9:r.options.metadata=w.sent,w.next=15;break;case 12:w.prev=12,w.t0=w.catch(6),console.error("failed to get admin portal overridden metadata",w.t0);case 15:w.next=21;break;case 17:w.prev=17,w.t1=w.catch(1),console.error("failed to get admin portal metadata",w.t1),r.dispatchErrorByRequestName(w.t1,Wt.LOAD_ADMIN_BOX_METADATA);case 21:qs.set(r.options.metadata,r.name);case 22:case"end":return w.stop()}},S,null,[[1,17],[6,12]])})),this.requestAuthorize=_t(Ge.default.mark(function S(){var D,T,m;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:m=(D=r.options.authOptions)==null||(T=D.hostedLoginOptions)==null?void 0:T.loadUserOnFirstLoad,!r.options.builderMode&&r.options.framework!=="nextjs"&&(r.options.hostedLoginBox&&!r.options.customLoginBox?m&&r.store.dispatch({type:"auth/requestHostedLoginAuthorizeV2",payload:{shouldRedirectToLogin:!1,firstTime:!0}}):r.store.dispatch({type:"auth/requestAuthorize",payload:!0}));case 2:case"end":return A.stop()}},S)})),this.loadFeatureFlags=_t(Ge.default.mark(function S(){var D;return Ge.default.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(!(r.options.previewMode||r.options.builderMode)){m.next=4;break}hn.set(rb,r.name),m.next=16;break;case 4:return m.prev=4,m.next=7,ee(function(){return r.apiClient.featureFlags.loadFeatureFlags()},Tt);case 7:D=m.sent,r.options.overrideFeatureFlags&&Object.assign(D,r.options.overrideFeatureFlags),hn.set(D,r.name),m.next=16;break;case 12:m.prev=12,m.t0=m.catch(4),console.error("failed to get admin portal feature flags",m.t0),r.dispatchErrorByRequestName(m.t0,Wt.LOAD_FEATURE_FLAGS);case 16:case"end":return m.stop()}},S,null,[[4,12]])})),this.setFeatureFlagsForPreview=function(S){hn.set(Object.assign({},rb,S),r.name)},this.queryFeatureFlags=function(S){return hn.getFeatureFlags(S,r.name)},this.updateLocalizationsSetter=function(S){r.updateLocalizations=S},this.getEntitlementsFromStore=function(){var S;return(S=r.store.getState().auth.user)==null?void 0:S.entitlements},this.getUserFromStore=function(){return r.store.getState().auth.user},this.getEntitlementsQueryData=function(S){var D=r.getUserFromStore(),T=r.getEntitlementsFromStore(),m={custom:S,jwt:D};return{entitlements:T,attributes:m}},this.createCMCRenderOptions=function(S,D){return{injector:r,options:r.options,props:S,themeOptions:D.themeOptions,localizations:D.localizations,containerStyle:D.containerStyle}},this.renderUsersTable=function(){var S=_t(Ge.default.mark(function D(T,m,E){var A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return A=w.sent,w.abrupt("return",A.renderUsersTable(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return w.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderInviteUserDialog=function(){var S=_t(Ge.default.mark(function D(T,m,E){var A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return A=w.sent,w.abrupt("return",A.renderInviteUserDialog(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return w.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderChangePasswordForm=function(){var S=_t(Ge.default.mark(function D(T,m,E){var A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return A=w.sent,w.abrupt("return",A.renderChangePasswordForm(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return w.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderProfilePage=function(){var S=_t(Ge.default.mark(function D(T,m,E){var A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return A=w.sent,w.abrupt("return",A.renderProfilePage(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return w.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.renderEditEmailForm=function(){var S=_t(Ge.default.mark(function D(T,m,E){var A;return Ge.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,r.loadScript("FronteggAdminPortal");case 2:return A=w.sent,w.abrupt("return",A.renderEditEmailForm(T,r.createCMCRenderOptions(m,E)));case 4:case"end":return w.stop()}},D)}));return function(D,T,m){return S.apply(this,arguments)}}(),this.getUsersTableStore=function(){var S=_t(Ge.default.mark(function D(T){var m;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return m=A.sent,A.abrupt("return",m.useUsersTableStore(T));case 4:case"end":return A.stop()}},D)}));return function(D){return S.apply(this,arguments)}}(),this.getInviteUserDialogStore=function(){var S=_t(Ge.default.mark(function D(T){var m;return Ge.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,r.loadScript("FronteggAdminPortal");case 2:return m=A.sent,A.abrupt("return",m.useInviteUserDialogStore(T));case 4:case"end":return A.stop()}},D)}));return function(D){return S.apply(this,arguments)}}();var u=RT(t),d="frontegg-app-".concat(u);this.iframeRendering=c,this.name=u,this.options=Object.assign({},n,{contextOptions:Object.assign({requestCredentials:"include"},n.contextOptions)}),this.fetchClient=new tr(this.name),this.apiClient=Ms(this.name),this.options.cdnUrl&&(this.cdnUrl=this.options.cdnUrl),this.options.assetsUrl&&(this.assetsUrl=this.options.assetsUrl),ie.for(this.name).setCdnUrl(this.cdnUrl),ie.for(this.name).setAssetsUrl(this.assetsUrl),this.customElementName=d;var p=this.options.authOptions?Object.assign({},this.options.authOptions,{hostedLoginBox:this.options.hostedLoginBox}):{hostedLoginBox:this.options.hostedLoginBox};if(p.onRedirectTo=n.onRedirectTo,p.disableSilentRefresh=(o=this.options.authOptions)==null?void 0:o.disableSilentRefresh,this.options.store){if(this.store=this.options.store,!a&&this.options.store.getState().root.appName!==t)throw Error("Mismatch in store names")}else{var g,f;this.store=up({context:this.options.contextOptions,name:this.name,builderMode:this.options.builderMode,previewMode:this.options.previewMode,storeHolder:this,urlStrategy:this.options.urlStrategy,initialState:{auth:Object.assign({},p,(g=this.options.authOptions)!=null?g:{}),auditLogs:Object.assign({},(f=this.options.auditsOptions)!=null?f:{})}})}Ka.setInstance(u,this);var h=ie.for(u);h.setAppName(u),this.setEntitlementsOptions(n.entitlementsOptions),this.setSessionContext({enableSessionPerTenant:(i=n.authOptions)==null?void 0:i.enableSessionPerTenant,skipUserLoading:(s=n.authOptions)==null?void 0:s.skipUserLoading});var v=n.basename;v&&h.setBasename(v)}return ys(e,[{key:"setEntitlementsOptions",value:function(t){ie.for(this.name).setEntitlementsOptions(Object.assign({},t))}},{key:"setSessionContext",value:function(t){ie.for(this.name).setSessionContext(Object.assign({},t))}},{key:"dispatchErrorByRequestName",value:function(t,r){t?.statusCode<500||this.store.dispatch({type:"auth/setErrorByRequestName",payload:{requestName:r,traceId:xc(t)}})}},{key:"initContainers",value:function(){var n=_t(Ge.default.mark(function r(o){return Ge.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.adminPortalEl=o.adminPortalEl,this.loginBoxEl=o.loginBoxEl,this.checkoutDialogEl=o.checkoutDialogEl,this.adminPortalContainer=o.adminPortalContainer,this.loginBoxContainer=o.loginBoxContainer,this.checkoutDialogContainer=o.checkoutDialogContainer;try{this.options.framework!=="nextjs"&&document.body.classList.add("frontegg-loading")}catch{console.error("Failed to add frontegg-loading to body classList")}return s.next=9,Promise.all([this.loadFeatureFlags(),this.loadAdminBoxMetadata(),this.requestAuthorize()]);case 9:!this.options.previewMode&&!this.options.customLoginBox&&(this.loadLoginBox(),kT(this.name)),this.options.lazyLoadAdminPortal||this.loadScript("FronteggAdminPortal");case 11:case"end":return s.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"updateMetadata",value:function(t){if(qs.set(t,this.name),t!=null&&t.localizations){var r;(r=this.updateLocalizations)==null||r.call(this,t.localizations)}}},{key:"addOnLoadedListener",value:function(t){if(!this.loading){t();return}this.loadingListeners.push(t)}},{key:"ready",value:function(t){this.loading?t():this.addOnLoadedListener(t)}},{key:"loginWithRedirect",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/requestHostedLoginAuthorize",payload:t})}},{key:"loginWithRedirectV2",value:function(t){this.store.dispatch({type:"auth/requestHostedLoginAuthorizeV2",payload:t})}},{key:"logout",value:function(t){this.store.dispatch({type:"auth/setState",payload:{isLoading:!0}}),this.store.dispatch({type:"auth/logout",payload:t})}},{key:"loadScript",value:function(t){var r=this;return new Promise(function(o,i){var s=window;if(s[t]){o(s[t]);return}var c={FronteggLoginBox:"login-box/index.js",FronteggAdminPortal:"admin-portal/index.js"},a=document.createElement("script");a.src="".concat(r.cdnUrl,"/").concat(c[t]),a.setAttribute("id","".concat(t,"Script")),a.setAttribute("cdn-url",r.cdnUrl),a.onload=function(){s["".concat(t,"Init")]?o(s["".concat(t,"Init")]({FronteggRestApi:Hm,FronteggTypes:tb,FronteggReduxStore:LS})):o(s[t])},a.onerror=function(u){console.log("Profile page error",u),i(u)},document.body.append(a)})}},{key:"loadLoginBox",value:function(){var n=_t(Ge.default.mark(function r(){var o;return Ge.default.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.loadScript("FronteggLoginBox");case 2:o=s.sent,o.render(this.loginBoxEl,{injector:this,options:this.options}),this.loading=!1,this.loadingListeners.forEach(function(c){try{c()}catch(a){console.error("Failed to call loadLoginBoxListener",a)}}),this.loadingListeners=[];case 7:case"end":return s.stop()}},r,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"showAdminPortal",value:function(){var n=_t(Ge.default.mark(function r(o){var i,s,c,a,u,d;return Ge.default.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return i=o??{isMultiApp:!1},s=i.isMultiApp,c=this.queryFeatureFlags(["multi-apps-admin-portal"]),a=OD(c,1),u=a[0],ie.for(this.name).setRequestSource(Ja.AdminPortal),g.next=5,this.loadScript("FronteggAdminPortal");case 5:d=g.sent,this.adminPortalRenderer=d.render(this.adminPortalEl,{injector:this,options:Object.assign({isMultiApp:u&&s},this.options)});case 7:case"end":return g.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"openHostedAdminPortal",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=this.options.contextOptions.baseUrl,o="".concat(r,"/oauth/portal");if(t){window.open(o,"_blank");return}window.location.href=o}},{key:"hideAdminPortal",value:function(){try{var t,r=new URLSearchParams(window.location.search);(t=this.adminPortalRenderer)==null||t.unmount(),OT(r),ie.for(this.name).setRequestSource(null)}catch(o){console.error("Failed to unmount admin portal",o)}}},{key:"showCheckoutDialog",value:function(){var n=_t(Ge.default.mark(function r(o){var i;return Ge.default.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this.loadScript("FronteggAdminPortal");case 2:i=c.sent,this.checkoutDialogRenderer=i.renderCheckoutDialog(this.checkoutDialogEl,Object.assign({injector:this},o,{options:this.options}));case 4:case"end":return c.stop()}},r,this)}));function t(r){return n.apply(this,arguments)}return t}()},{key:"hideCheckoutDialog",value:function(){try{var t;(t=this.checkoutDialogRenderer)==null||t.unmount()}catch(r){console.error("Failed to unmount checkout dialog",r)}}},{key:"getFeatureEntitlements",value:function(t,r){var o=this.getEntitlementsQueryData(r),i=o.entitlements,s=o.attributes;return Yf(i,t,s)}},{key:"getPermissionEntitlements",value:function(t,r){var o=this.getEntitlementsQueryData(r),i=o.entitlements,s=o.attributes;return qf(i,t,s)}},{key:"getEntitlements",value:function(t,r){return"permissionKey"in t?this.getPermissionEntitlements(t.permissionKey,r):this.getFeatureEntitlements(t.featureKey,r)}},{key:"loadEntitlements",value:function(t){this.store.dispatch({type:"auth/loadEntitlements",payload:{callback:t}})}},{key:"stepUp",value:function(t){var r=this.store.getState(),o=r?.auth||{},i=o.hostedLoginBox,s=o.routes.stepUpUrl;if(i){this.store.dispatch({type:"auth/stepUpHostedLogin",payload:t});return}kv(s,r.auth.onRedirectTo,t?.maxAge)}},{key:"isSteppedUp",value:function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=((t=this.store.getState())==null?void 0:t.auth)||{},i=o.user;return li(i,r)}},{key:"switchTenant",value:function(t){this.store.dispatch({type:"auth/switchTenant",payload:t})}},{key:"close",value:function(){this.hideAdminPortal(),this.hideCheckoutDialog()}}]),e}();function ho(e,n){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ho(e,n)}function UT(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&ho(e,n)}function jT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VT(e,n){if(n&&(Ir(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jT(e)}function vi(e){return vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vi(e)}function $T(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function ib(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ib=function(){return!!e})()}function BT(e,n,t){if(ib())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,n);var o=new(e.bind.apply(e,r));return t&&ho(o,t.prototype),o}function fp(e){var n=typeof Map=="function"?new Map:void 0;return fp=function(r){if(r===null||!$T(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(r))return n.get(r);n.set(r,o)}function o(){return BT(r,arguments,vi(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),ho(o,r)},fp(e)}function XV(e){var n=e$();return function(){var r=vi(e),o;if(n){var i=vi(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return VT(this,o)}}function e$(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var HT=function(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=new FT(n,t);if(typeof document<"u"){var o;if(!n.contextOptions.baseUrl){var i=new Error('Edit <FronteggProvider/> options { ContextOptions: { baseUrl: "" } } in order to connect your application');throw document.body.innerHTML="",alert(i.message),i}if(!customElements.get("frontegg-app")){var s=function(a){UT(d,a);var u=XV(d);function d(){var p;vs(this,d);for(var g=arguments.length,f=new Array(g),h=0;h<g;h++)f[h]=arguments[h];return p=u.call.apply(u,[this].concat(f)),p.app=null,p}return ys(d,[{key:"connectedCallback",value:function(){this.updateContent()}},{key:"attributeChangedCallback",value:function(g,f,h){if(g==="app-name"){if(f===null||f===h)return;this.innerHTML="",h===null?this.remove():this.updateContent()}console.debug("attributeChangedCallback",g,f,h)}},{key:"updateContent",value:function(){var g,f=(g=this.getAttribute("app-name"))!=null?g:"default",h=Ka.getInstance(f);if(h===null)throw Error("FronteggApp not found for appName: '".concat(f,"'"));this.setAttribute("id","frontegg-app-".concat(h.name));var v=mi(this,"div",{id:"frontegg-admin-portal-container-".concat(h.name)}),S=mi(this,"div",{id:"frontegg-login-box-container-".concat(h.name)}),D=mi(this,"div",{id:"frontegg-checkout-dialog-container-".concat(h.name)}),T=v.attachShadow({mode:"open"}),m=n.iframeRendering?S:S.attachShadow({mode:"open"}),E=D.attachShadow({mode:"open"}),A=mi(T,"div",{id:"frontegg-admin-portal-".concat(h.name),class:"frontegg-root-content"}),I=mi(m,"div",{id:"frontegg-login-box-".concat(h.name),class:"frontegg-root-content"}),w=mi(E,"div",{id:"frontegg-checkout-dialog-".concat(h.name),class:"frontegg-root-content"});h.initContainers({adminPortalEl:A,loginBoxEl:I,adminPortalContainer:v,loginBoxContainer:S,checkoutDialogContainer:D,checkoutDialogEl:w})}}],[{key:"observedAttributes",get:function(){return["app-name"]}}]),d}(fp(HTMLElement));customElements.define("frontegg-app",s)}(o=document.querySelector('frontegg-app[app-name="'.concat(r.name,'"]')))==null||o.remove();var c=document.createElement("frontegg-app");c.setAttribute("app-name",r.name),document.body.appendChild(c)}return r};var GT={name:"@angular/core",version:"19.2.11",description:"Angular - the core framework",author:"angular",license:"MIT",engines:{node:"^18.19.1 || ^20.11.1 || >=22.0.0"},exports:{"./schematics/*":{default:"./schematics/*.js"},"./event-dispatch-contract.min.js":{default:"./event-dispatch-contract.min.js"},"./package.json":{default:"./package.json"},".":{types:"./index.d.ts",default:"./fesm2022/core.mjs"},"./primitives/di":{types:"./primitives/di/index.d.ts",default:"./fesm2022/primitives/di.mjs"},"./primitives/event-dispatch":{types:"./primitives/event-dispatch/index.d.ts",default:"./fesm2022/primitives/event-dispatch.mjs"},"./primitives/signals":{types:"./primitives/signals/index.d.ts",default:"./fesm2022/primitives/signals.mjs"},"./rxjs-interop":{types:"./rxjs-interop/index.d.ts",default:"./fesm2022/rxjs-interop.mjs"},"./testing":{types:"./testing/index.d.ts",default:"./fesm2022/testing.mjs"}},dependencies:{tslib:"^2.3.0"},peerDependencies:{rxjs:"^6.5.3 || ^7.4.0","zone.js":"~0.15.0"},repository:{type:"git",url:"https://github.com/angular/angular.git",directory:"packages/core"},"ng-update":{migrations:"./schematics/migrations.json",packageGroup:["@angular/core","@angular/bazel","@angular/common","@angular/compiler","@angular/compiler-cli","@angular/animations","@angular/elements","@angular/platform-browser","@angular/platform-browser-dynamic","@angular/forms","@angular/platform-server","@angular/upgrade","@angular/router","@angular/language-service","@angular/localize","@angular/service-worker"]},schematics:"./schematics/collection.json",sideEffects:!1,module:"./fesm2022/core.mjs",typings:"./index.d.ts",type:"module"};var ab=Dn(dv()),n$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=st({type:e,selectors:[["frontegg"]],standalone:!1,decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),r$={version:"7.17.4"},pp=class{constructor(){this.contextOptions={baseUrl:"https://sub-domain.frontegg.com"}}},rn=(()=>{class e{constructor(t,r,o){var i,s;if(this.config=t,this.router=r,this.ngZone=o,this.isLoadingSubject=new oe(!0),this.isAuthenticatedSubject=new oe(!1),this.stateSubject=new oe({}),this.authStateSubject=new oe({isLoading:!0,isAuthenticated:!1}),this.auditsStateSubject=new oe({}),this.connectivityStateSubject=new oe({}),this.subscriptionsStateSubject=new oe({}),this.vendorStateSubject=new oe({}),!this.config)throw Error("Need to pass config: FronteggConfigOptions in FronteggAppModule.forRoot(config)");window.CYPRESS_CONFIG&&(this.config=window.CYPRESS_CONFIG);let c=(p,g)=>{var f;let h=window.location.origin,v=p;v.startsWith(h)&&h!=="/"&&(v=v.substring(h.length-1)),(g?.preserveQueryParams||Lv(v,(f=t.authOptions)===null||f===void 0?void 0:f.routes))&&(v=`${v}${window.location.search}`),g?.refresh?window.location.href=v:this.ngZone.run(()=>{g?.replace?this.router.navigateByUrl(v,{replaceUrl:!0}):this.router.navigateByUrl(v)})},a={fronteggSdkVersion:`@frontegg/angular@${r$.version}`,framework:`${Xa.Angular}@${GT.version}`},u=(i=this.config.appName)!==null&&i!==void 0?i:"default";this.config=Object.assign(Object.assign({},this.config),{appName:u,contextOptions:Object.assign(Object.assign({},this.config.contextOptions),{metadataHeaders:a}),authOptions:Object.assign(Object.assign({},this.config.authOptions),{hostedLoginOptions:Object.assign({loadUserOnFirstLoad:!0},(s=this.config.authOptions)===null||s===void 0?void 0:s.hostedLoginOptions),onRedirectTo:c})}),ie.for(u).setOnRedirectTo(c),this.fronteggApp=HT(Object.assign({onRedirectTo:c},this.config)),this.router.resetConfig([...this.mapAuthComponents,{path:"",canActivate:[WT],children:[...this.router.config]}]);let d=this.fronteggApp.store.getState();this.updateState(d),this.fronteggApp.store.subscribe(()=>{this.updateState(this.fronteggApp.store.getState())})}get state$(){return this.stateSubject.asObservable()}get authState$(){return this.authStateSubject.asObservable()}get auditsState$(){return this.auditsStateSubject.asObservable()}get connectivityState$(){return this.connectivityStateSubject.asObservable()}get subscriptionsState$(){return this.subscriptionsStateSubject.asObservable()}get vendorState$(){return this.vendorStateSubject.asObservable()}get isLoading$(){return this.isLoadingSubject.asObservable()}get isAuthenticated$(){return this.isAuthenticatedSubject.asObservable()}updateState(t){this.isLoadingSubject.getValue()!==t.auth.isLoading&&this.isLoadingSubject.next(t.auth.isLoading),this.isAuthenticatedSubject.getValue()!==t.auth.isAuthenticated&&this.isAuthenticatedSubject.next(t.auth.isAuthenticated),this.stateSubject.next(t),this.authStateSubject.next(t.auth),this.auditsStateSubject.next(t.audits),this.connectivityStateSubject.next(t.connectivity),this.subscriptionsStateSubject.next(t.subscriptions),this.vendorStateSubject.next(t.vendor)}get mapAuthComponents(){let t=this.authRoutes;return Object.keys(t).filter(r=>r!=="authenticatedUrl"&&r!=="signUpSuccessUrl"&&r!=null).map(r=>{var o;return{path:(o=t[r])===null||o===void 0?void 0:o.substring(1),component:n$}})}get authRoutes(){return this.fronteggApp.store.getState().auth.routes}showAdminPortal(t){this.fronteggApp.showAdminPortal(t)}openHostedAdminPortal(t){this.fronteggApp.openHostedAdminPortal(t)}hideAdminPortal(){var t;(t=this.fronteggApp)===null||t===void 0||t.hideAdminPortal()}showCheckoutDialog(t){this.fronteggApp.showCheckoutDialog(t)}hideCheckoutDialog(){var t;(t=this.fronteggApp)===null||t===void 0||t.hideCheckoutDialog()}}return e.\u0275fac=function(t){return new(t||e)(le(pp),le(Nt),le(Be))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),WT=(()=>{class e{constructor(t){this.fronteggAppService=t}canActivate(t,r){return new je(o=>{this.fronteggAppService.isLoading$.subscribe(i=>{i||o.next(!0)})})}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),sb=class{parse(n){return new Nn().parse(n)}serialize(n){return new Nn().serialize(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/").replace(/(https?):\/([\w\d])/gi,"$1://$2")}},o$=(e,n)=>{Be.isInAngularZone()?n():e.run(n)},cb=(()=>{class e{constructor(t){this.fronteggAppService=t,this.userStateSubject=new oe(void 0);let r=this.fronteggAppService.fronteggApp.store.getState();this.updateUserStateIfNeeded(r.auth),this.fronteggAppService.fronteggApp.store.subscribe(()=>{let o=this.fronteggAppService.fronteggApp.store.getState();this.updateUserStateIfNeeded(o.auth)})}updateUserStateIfNeeded(t){let r=t.user;this.userStateSubject.value!==r&&this.userStateSubject.next(r)}getUserManipulatorSubscription(t,r){let o=new oe(void 0),i=this.userStateSubject.subscribe(a=>{o.next(t(a))}),s=o.asObservable().subscribe(r),c=s.unsubscribe.bind(s);return s.unsubscribe=()=>{c(),i.unsubscribe()},s}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wn=(()=>{class e{constructor(t,r,o){this.fronteggAppService=t,this.router=r,this.fronteggUserSubscriptionService=o,this.authStateSubject=new oe({isAuthenticated:!1,isLoading:!0}),this.acceptInvitationStateSubject=new oe({}),this.accountSettingsStateSubject=new oe({}),this.activateAccountStateSubject=new oe({}),this.apiTokensStateSubject=new oe({}),this.forgotPasswordStateSubject=new oe({}),this.loginStateSubject=new oe({}),this.mfaStateSubject=new oe({}),this.profileStateSubject=new oe({}),this.rolesStateSubject=new oe({}),this.routesSubject=new oe({}),this.securityPolicyStateSubject=new oe({}),this.signUpStateSubject=new oe({}),this.socialLoginStateSubject=new oe({}),this.ssoStateSubject=new oe({}),this.teamStateSubject=new oe({}),this.tenantsStateSubject=new oe({}),this.userSubject=new oe({}),this.isAuthenticatedSubject=new oe(!1),this.isLoadingSubject=new oe(!0),this.isSSOAuthSubject=new oe(!1),this.ssoACSSubject=new oe(""),this.customLoginStateSubject=new oe({}),this.groupsStateSubject=new oe({}),this.groupsDialogsStateSubject=new oe({}),this.impersonateStateSubject=new oe({}),this.allAccountsStateSubject=new oe({}),this.allAccountsDialogsStateSubject=new oe({}),this.passkeysStateSubject=new oe({}),this.provisioningStateSubject=new oe({}),this.resetPhoneNumberStateSubject=new oe({}),this.restrictionsStateSubject=new oe({}),this.securityCenterStateSubject=new oe({}),this.sessionsPolicyStateSubject=new oe({}),this.sessionsStateSubject=new oe({}),this.smsStateSubject=new oe({}),this.stepUpStateSubject=new oe({}),this.applicationsStateSubject=new oe({}),this.userIpSubject=new oe(void 0),this.keepSessionAliveSubject=new oe(void 0),this.socialLoginOptionsSubject=new oe(void 0),this.includeQueryParamSubject=new oe(void 0),this.hostedLoginBoxSubject=new oe(void 0),this.disableSilentRefreshSubject=new oe(void 0),this.enforceRedirectToSameSiteSubject=new oe(void 0),this.allowedRedirectOriginsSubject=new oe(void 0),this.stepUp=a=>this.fronteggAppService.fronteggApp.stepUp(a),this.setState=a=>this.dispatchAction("setState",a),this.resetState=()=>this.dispatchAction("resetState"),this.setUser=a=>this.dispatchAction("setUser",a),this.setLoginState=a=>this.dispatchAction("setLoginState",a),this.resetLoginState=()=>this.dispatchAction("resetLoginState"),this.requestAuthorize=a=>this.dispatchAction("requestAuthorize",a),this.loginWithRedirect=(a,u,d,p)=>{this.isHostedLoginCallbackRoute()||(this.dispatchAction("requestHostedLoginAuthorizeV2",{additionalParams:a,shouldRedirectToLogin:u??!0,firstTime:d??!1,loginDirectAction:p}),this.setState({isLoading:!0}))},this.preLogin=a=>this.dispatchAction("preLogin",a),this.postLogin=a=>this.dispatchAction("postLogin",a),this.login=a=>this.dispatchAction("login",a),this.loginWithMfa=a=>this.dispatchAction("loginWithMfa",a),this.recoverMfa=a=>this.dispatchAction("recoverMfa",a),this.logout=a=>this.dispatchAction("logout",a),this.silentLogout=a=>this.dispatchAction("silentLogout",a),this.checkIfAllowToRememberMfaDevice=a=>this.dispatchAction("checkIfAllowToRememberMfaDevice",a),this.setSocialLoginsState=a=>this.dispatchAction("setSocialLoginsState",a),this.resetSocialLoginsState=()=>this.dispatchAction("resetSocialLoginsState"),this.loadSocialLoginsConfiguration=()=>this.dispatchAction("loadSocialLoginsConfiguration"),this.loginViaSocialLogin=a=>this.dispatchAction("loginViaSocialLogin",a),this.setSocialLoginError=a=>this.dispatchAction("setSocialLoginError",a),this.setActivateState=a=>this.dispatchAction("setActivateState",a),this.resetActivateState=()=>this.dispatchAction("resetActivateState"),this.setActivateStrategyState=a=>this.dispatchAction("setActivateStrategyState",a),this.activateAccount=a=>this.dispatchAction("activateAccount",a),this.resendActivationEmail=a=>this.dispatchAction("resendActivationEmail",a),this.getActivateAccountStrategy=a=>this.dispatchAction("getActivateAccountStrategy",a),this.setAcceptInvitationState=a=>this.dispatchAction("setAcceptInvitationState",a),this.resetAcceptInvitationState=()=>this.dispatchAction("resetAcceptInvitationState"),this.acceptInvitation=a=>this.dispatchAction("acceptInvitation",a),this.setForgotPasswordState=a=>this.dispatchAction("setForgotPasswordState",a),this.resetForgotPasswordState=()=>this.dispatchAction("resetForgotPasswordState"),this.forgotPassword=a=>this.dispatchAction("forgotPassword",a),this.resetPassword=a=>this.dispatchAction("resetPassword",a),this.loadPasswordConfig=a=>this.dispatchAction("loadPasswordConfig",a),this.setSignUpState=a=>this.dispatchAction("setSignUpState",a),this.resetSignUpState=()=>this.dispatchAction("resetSignUpState"),this.signUpUser=a=>this.dispatchAction("signUpUser",a),this.resetSignUpStateSoft=()=>this.dispatchAction("resetSignUpStateSoft"),this.setProfileState=a=>this.dispatchAction("setProfileState",a),this.resetProfileState=()=>this.dispatchAction("resetProfileState"),this.loadProfile=()=>this.dispatchAction("loadProfile"),this.saveProfile=a=>this.dispatchAction("saveProfile",a),this.changePassword=a=>this.dispatchAction("changePassword",a),this.setSSOState=a=>this.dispatchAction("setSSOState",a),this.resetSSOState=()=>this.dispatchAction("resetSSOState"),this.loadSSOConfigurations=()=>this.dispatchAction("loadSSOConfigurations"),this.loadSSOAuthorizationRoles=()=>this.dispatchAction("loadSSOAuthorizationRoles"),this.saveSSOConfigurations=a=>this.dispatchAction("saveSSOConfigurations",a),this.saveSSOConfigurationsFile=a=>this.dispatchAction("saveSSOConfigurationsFile",a),this.saveSSOConfigurationsFileWithCallback=a=>this.dispatchAction("saveSSOConfigurationsFileWithCallback",a),this.validateSSODomain=a=>this.dispatchAction("validateSSODomain",a),this.updateSSOAuthorizationRoles=a=>this.dispatchAction("updateSSOAuthorizationRoles",a),this.deleteSamlGroup=a=>this.dispatchAction("deleteSamlGroup",a),this.createSamlGroup=a=>this.dispatchAction("createSamlGroup",a),this.oidcPostlogin=a=>this.dispatchAction("oidcPostlogin",a),this.setMfaState=a=>this.dispatchAction("setMfaState",a),this.resetMfaState=()=>this.dispatchAction("resetMfaState"),this.enrollMfa=()=>this.dispatchAction("enrollMfa"),this.verifyMfa=a=>this.dispatchAction("verifyMfa",a),this.verifyMfaAfterForce=a=>this.dispatchAction("verifyMfaAfterForce",a),this.disableMfa=a=>this.dispatchAction("disableMfa",a),this.setTeamLoader=a=>this.dispatchAction("setTeamLoader",a),this.setTeamError=a=>this.dispatchAction("setTeamError",a),this.setTeamState=a=>this.dispatchAction("setTeamState",a),this.resetTeamState=()=>this.dispatchAction("resetTeamState"),this.loadUsers=a=>this.dispatchAction("loadUsers",a),this.loadRoles=a=>this.dispatchAction("loadRoles",a),this.addUser=a=>this.dispatchAction("addUser",a),this.updateUser=a=>this.dispatchAction("updateUser",a),this.deleteUser=a=>this.dispatchAction("deleteUser",a),this.resendActivationLink=a=>this.dispatchAction("resendActivationLink",a),this.resendInvitationLink=a=>this.dispatchAction("resendInvitationLink",a),this.openAddUserDialog=a=>this.dispatchAction("openAddUserDialog",a),this.closeAddUserDialog=a=>this.dispatchAction("closeAddUserDialog",a),this.openDeleteUserDialog=a=>this.dispatchAction("openDeleteUserDialog",a),this.closeDeleteUserDialog=a=>this.dispatchAction("closeDeleteUserDialog",a),this.setApiTokensLoader=a=>this.dispatchAction("setApiTokensLoader",a),this.setApiTokensError=a=>this.dispatchAction("setApiTokensError",a),this.setApiTokensState=a=>this.dispatchAction("setApiTokensState",a),this.resetApiTokensState=()=>this.dispatchAction("resetApiTokensState"),this.loadApiTokens=a=>this.dispatchAction("loadApiTokens",a),this.initApiTokensData=a=>this.dispatchAction("initApiTokensData",a),this.addTenantApiToken=a=>this.dispatchAction("addTenantApiToken",a),this.addUserApiToken=a=>this.dispatchAction("addUserApiToken",a),this.deleteUserApiToken=a=>this.dispatchAction("deleteUserApiToken",a),this.deleteTenantApiToken=a=>this.dispatchAction("deleteTenantApiToken",a),this.setSecurityPolicyState=a=>this.dispatchAction("setSecurityPolicyState",a),this.setSecurityPolicyGlobalState=a=>this.dispatchAction("setSecurityPolicyGlobalState",a),this.setSecurityPolicyPublicState=a=>this.dispatchAction("setSecurityPolicyPublicState",a),this.setSecurityPolicyMfaState=a=>this.dispatchAction("setSecurityPolicyMfaState",a),this.setSecurityPolicyLockoutState=a=>this.dispatchAction("setSecurityPolicyLockoutState",a),this.setSecurityPolicyCaptchaState=a=>this.dispatchAction("setSecurityPolicyCaptchaState",a),this.setSecurityPolicyPasswordHistoryState=a=>this.dispatchAction("setSecurityPolicyPasswordHistoryState",a),this.resetSecurityPolicyState=()=>this.dispatchAction("resetSecurityPolicyState"),this.setSecurityPolicyPasswordState=a=>this.dispatchAction("setSecurityPolicyPasswordState",a),this.loadSecurityPolicy=()=>this.dispatchAction("loadSecurityPolicy"),this.loadPublicSecurityPolicy=()=>this.dispatchAction("loadPublicSecurityPolicy"),this.loadVendorPasswordConfig=()=>this.dispatchAction("loadVendorPasswordConfig"),this.loadSecurityPolicyMfa=()=>this.dispatchAction("loadSecurityPolicyMfa"),this.saveSecurityPolicyMfa=a=>this.dispatchAction("saveSecurityPolicyMfa",a),this.loadSecurityPolicyLockout=()=>this.dispatchAction("loadSecurityPolicyLockout"),this.saveSecurityPolicyLockout=a=>this.dispatchAction("saveSecurityPolicyLockout",a),this.loadSecurityPolicyCaptcha=()=>this.dispatchAction("loadSecurityPolicyCaptcha"),this.loadSecurityPolicyPasswordHistory=()=>this.dispatchAction("loadSecurityPolicyPasswordHistory"),this.saveSecurityPolicyPasswordHistory=a=>this.dispatchAction("saveSecurityPolicyPasswordHistory",a),this.setAccountSettingsState=a=>this.dispatchAction("setAccountSettingsState",a),this.resetAccountSettingsState=()=>this.dispatchAction("resetAccountSettingsState"),this.loadAccountSettings=a=>this.dispatchAction("loadAccountSettings",a),this.saveAccountSettings=a=>this.dispatchAction("saveAccountSettings",a),this.setTenantsState=a=>this.dispatchAction("setTenantsState",a),this.resetTenantsState=()=>this.dispatchAction("resetTenantsState"),this.switchTenant=a=>this.dispatchAction("switchTenant",a),this.loadTenants=a=>this.dispatchAction("loadTenants",a),this.setRolesState=a=>this.dispatchAction("setRolesState",a),this.resetRolesState=()=>this.dispatchAction("resetRolesState"),this.loadRolesAndPermissions=a=>this.dispatchAction("loadRolesAndPermissions",a),this.addRole=a=>this.dispatchAction("addRole",a),this.updateRole=a=>this.dispatchAction("updateRole",a),this.deleteRole=a=>this.dispatchAction("deleteRole",a),this.attachPermissionsToRole=a=>this.dispatchAction("attachPermissionsToRole",a),this.attachPermissionToRoles=a=>this.dispatchAction("attachPermissionToRoles",a);let i=[{field:"acceptInvitationState",subject:this.acceptInvitationStateSubject},{field:"accountSettingsState",subject:this.accountSettingsStateSubject},{field:"activateAccountState",subject:this.activateAccountStateSubject},{field:"apiTokensState",subject:this.apiTokensStateSubject},{field:"forgotPasswordState",subject:this.forgotPasswordStateSubject},{field:"tenantsState",subject:this.tenantsStateSubject},{field:"loginState",subject:this.loginStateSubject},{field:"mfaState",subject:this.mfaStateSubject},{field:"profileState",subject:this.profileStateSubject},{field:"rolesState",subject:this.rolesStateSubject},{field:"routes",subject:this.routesSubject},{field:"securityPolicyState",subject:this.securityPolicyStateSubject},{field:"signUpState",subject:this.signUpStateSubject},{field:"socialLoginState",subject:this.socialLoginStateSubject},{field:"ssoState",subject:this.ssoStateSubject},{field:"teamState",subject:this.teamStateSubject},{field:"user",subject:this.userSubject},{field:"isSSOAuth",subject:this.isSSOAuthSubject},{field:"ssoACS",subject:this.ssoACSSubject},{field:"customLoginState",subject:this.customLoginStateSubject},{field:"groupsState",subject:this.groupsStateSubject},{field:"groupsDialogsState",subject:this.groupsDialogsStateSubject},{field:"impersonateState",subject:this.impersonateStateSubject},{field:"allAccountsState",subject:this.allAccountsStateSubject},{field:"allAccountsDialogsState",subject:this.allAccountsDialogsStateSubject},{field:"passkeysState",subject:this.passkeysStateSubject},{field:"provisioningState",subject:this.provisioningStateSubject},{field:"resetPhoneNumberState",subject:this.resetPhoneNumberStateSubject},{field:"restrictionsState",subject:this.restrictionsStateSubject},{field:"securityCenterState",subject:this.securityCenterStateSubject},{field:"sessionsPolicyState",subject:this.sessionsPolicyStateSubject},{field:"sessionsState",subject:this.sessionsStateSubject},{field:"smsState",subject:this.smsStateSubject},{field:"stepUpState",subject:this.stepUpStateSubject},{field:"applicationsState",subject:this.applicationsStateSubject},{field:"userIp",subject:this.userIpSubject},{field:"keepSessionAlive",subject:this.keepSessionAliveSubject},{field:"socialLoginOptions",subject:this.socialLoginOptionsSubject},{field:"includeQueryParam",subject:this.includeQueryParamSubject},{field:"hostedLoginBox",subject:this.hostedLoginBoxSubject},{field:"disableSilentRefresh",subject:this.disableSilentRefreshSubject},{field:"enforceRedirectToSameSite",subject:this.enforceRedirectToSameSiteSubject},{field:"allowedRedirectOrigins",subject:this.allowedRedirectOriginsSubject}],s=this.fronteggAppService.fronteggApp.store.getState();this.updateState(s.auth,i);let c=a=>{let u=this.fronteggAppService.fronteggApp.store.getState();this.updateState(u.auth,i)};this.fronteggAppService.fronteggApp.store.subscribe(c)}getAuthState(){return this.fronteggAppService.fronteggApp.store.getState().auth}get authState$(){return this.authStateSubject.asObservable()}get acceptInvitationState$(){return this.acceptInvitationStateSubject.asObservable()}get accountSettingsState$(){return this.accountSettingsStateSubject.asObservable()}get activateState$(){return this.activateAccountStateSubject.asObservable()}get apiTokensState$(){return this.apiTokensStateSubject.asObservable()}get forgotPasswordState$(){return this.forgotPasswordStateSubject.asObservable()}get loginState$(){return this.loginStateSubject.asObservable()}get mfaState$(){return this.mfaStateSubject.asObservable()}get profileState$(){return this.profileStateSubject.asObservable()}get rolesState$(){return this.rolesStateSubject.asObservable()}get routesState$(){return this.routesSubject.asObservable()}get securityPolicyState$(){return this.securityPolicyStateSubject.asObservable()}get signUpState$(){return this.signUpStateSubject.asObservable()}get socialLoginState$(){return this.socialLoginStateSubject.asObservable()}get ssoState$(){return this.ssoStateSubject.asObservable()}get teamState$(){return this.teamStateSubject.asObservable()}get tenantsState$(){return this.tenantsStateSubject.asObservable()}get user$(){return this.userSubject.asObservable()}get user(){return this.fronteggAppService.fronteggApp.store.getState().auth.user}get isAuthenticated$(){return this.isAuthenticatedSubject.asObservable()}get isAuthenticated(){return this.fronteggAppService.fronteggApp.store.getState().auth.isAuthenticated}get isLoading$(){return this.isLoadingSubject.asObservable()}get isSSOAuth$(){return this.isSSOAuthSubject.asObservable()}get ssoACS$(){return this.ssoACSSubject.asObservable()}get customLoginStateSubject$(){return this.customLoginStateSubject.asObservable()}get groupsStateSubject$(){return this.groupsStateSubject.asObservable()}get groupsDialogsStateSubject$(){return this.groupsDialogsStateSubject.asObservable()}get impersonateStateSubject$(){return this.impersonateStateSubject.asObservable()}get allAccountsStateSubject$(){return this.allAccountsStateSubject.asObservable()}get allAccountsDialogsStateSubject$(){return this.allAccountsDialogsStateSubject.asObservable()}get passkeysStateSubject$(){return this.passkeysStateSubject.asObservable()}get provisioningStateSubject$(){return this.provisioningStateSubject.asObservable()}get resetPhoneNumberStateSubject$(){return this.resetPhoneNumberStateSubject.asObservable()}get restrictionsStateSubject$(){return this.restrictionsStateSubject.asObservable()}get securityCenterStateSubject$(){return this.securityCenterStateSubject.asObservable()}get sessionsPolicyStateSubject$(){return this.sessionsPolicyStateSubject.asObservable()}get sessionsStateSubject$(){return this.sessionsStateSubject.asObservable()}get smsStateSubject$(){return this.smsStateSubject.asObservable()}get stepUpStateSubject$(){return this.stepUpStateSubject.asObservable()}get applicationsStateSubject$(){return this.applicationsStateSubject.asObservable()}get userIpSubject$(){return this.userIpSubject.asObservable()}get keepSessionAliveSubject$(){return this.keepSessionAliveSubject.asObservable()}get socialLoginOptionsSubject$(){return this.socialLoginOptionsSubject.asObservable()}get includeQueryParamSubject$(){return this.includeQueryParamSubject.asObservable()}get hostedLoginBoxSubject$(){return this.hostedLoginBoxSubject.asObservable()}get disableSilentRefreshSubject$(){return this.disableSilentRefreshSubject.asObservable()}get enforceRedirectToSameSiteSubject$(){return this.enforceRedirectToSameSiteSubject.asObservable()}get allowedRedirectOriginsSubject$(){return this.allowedRedirectOriginsSubject.asObservable()}updateState(t,r){this.authStateSubject.value!==t&&this.authStateSubject.next(t);for(let o of r)(0,ab.default)(o.subject.value,t[o.field])||o.subject.next(t[o.field]);this.isAuthenticatedSubject.value!==t.isAuthenticated&&this.isAuthenticatedSubject.next(t.isAuthenticated),this.isLoadingSubject.value!==t.isLoading&&this.isLoadingSubject.next(t.isLoading)}dispatchAction(t,r){this.fronteggAppService.fronteggApp.store.dispatch({type:`auth/${t}`,payload:r})}isHostedLoginCallbackRoute(){let t=this.fronteggAppService.router.url,r=this.fronteggAppService.authRoutes.hostedLoginRedirectUrl;return t.startsWith(r??"/oauth/callback")}isSteppedUp$(t,r){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(()=>this.fronteggAppService.fronteggApp.isSteppedUp(r),t)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(Nt),le(cb))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lb=(()=>{class e extends sb{constructor(t,r,o,i){super(),this.fronteggAppService=t,this.fronteggAuthService=r,this.router=o,this.ngZone=i}waitForLoader(){return new Promise(t=>{let r=this.fronteggAppService.isLoading$.subscribe(o=>{o||(t(!0),r.unsubscribe())})})}navigateToLoginIfNeeded(t){return Xs(this,void 0,void 0,function*(){let{isAuthenticated:r}=this.fronteggAuthService.getAuthState();return r?!0:this.fronteggAppService.fronteggApp.options.hostedLoginBox?(localStorage.setItem("FRONTEGG_AFTER_AUTH_REDIRECT_URL",t),this.fronteggAuthService.loginWithRedirect({prompt:"login"}),!1):this.router.navigateByUrl(this.fronteggAppService.authRoutes.loginUrl+"?redirectUrl="+encodeURIComponent(t))})}canActivate(t,r){let o=r.url,{isLoading:i}=this.fronteggAuthService.getAuthState();return i?new Promise((s,c)=>Xs(this,void 0,void 0,function*(){yield this.waitForLoader(),o$(this.ngZone,()=>{this.navigateToLoginIfNeeded(o).then(s).catch(c)})})):this.navigateToLoginIfNeeded(o)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(wn),le(Nt),le(Be))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var i$=(()=>{class e{constructor(t){this.fronteggAppService=t,this.subscriptionStateSubject=new oe({}),this.checkoutStateSubject=new oe({loading:!1,open:!1,success:!1,error:null}),this.loadSubscription=()=>this.dispatchAction("billing/subscription/loadSubscription"),this.openCheckout=r=>{this.checkoutStateSubject.next({loading:!1,open:!0,success:!1,error:null}),this.fronteggAppService.showCheckoutDialog({plan:r,onSuccess:()=>{this.checkoutStateSubject.next({loading:!1,open:!1,success:!0,error:null})},onError:o=>{let i=this.checkoutStateSubject.value;this.checkoutStateSubject.next(Object.assign(Object.assign({},i),{error:o}))},onClose:()=>{let o=this.checkoutStateSubject.value;this.checkoutStateSubject.next(Object.assign(Object.assign({},o),{open:!1}))}})},this.hideCheckout=()=>{this.fronteggAppService.hideCheckoutDialog()},this.fronteggAppService.subscriptionsState$.subscribe(r=>{if(r!=null){let{billing:{subscription:o},checkout:i}=r;(0,ab.default)(this.subscriptionStateSubject.getValue(),o)||this.subscriptionStateSubject.next(o);let s=this.checkoutStateSubject.getValue();s.loading!==i.loading&&this.checkoutStateSubject.next(Object.assign(Object.assign({},s),{loading:i.loading}))}})}get subscriptionState$(){return this.subscriptionStateSubject.asObservable()}get checkoutState$(){return this.checkoutStateSubject.asObservable()}dispatchAction(t,r){this.fronteggAppService.fronteggApp.store.dispatch({type:`${subscriptionsStoreName}/${t}`,payload:r})}}return e.\u0275fac=function(t){return new(t||e)(le(rn))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),s$=(()=>{class e{constructor(t,r){this.fronteggAppService=t,this.fronteggUserSubscriptionService=r}featureEntitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getFeatureEntitlements(t,o):{isEntitled:!1,justification:Xr.MISSING_FEATURE},r)}permissionEntitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getPermissionEntitlements(t,o):{isEntitled:!1,justification:Xr.MISSING_PERMISSION},r)}entitlements$(t,r,o){return this.fronteggUserSubscriptionService.getUserManipulatorSubscription(i=>i?this.fronteggAppService.fronteggApp.getEntitlements(t,o):{isEntitled:!1,justification:"featureKey"in t?Xr.MISSING_FEATURE:Xr.MISSING_PERMISSION},r)}loadEntitlements(t){this.fronteggAppService.fronteggApp.loadEntitlements(t)}}return e.\u0275fac=function(t){return new(t||e)(le(rn),le(cb))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),zT=(()=>{class e{static forRoot(t){return{ngModule:e,providers:[rn,lb,WT,wn,s$,i$,cb,{provide:pp,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=dn({type:e}),e.\u0275inj=ln({imports:[[Ro,Za]]}),e})();var qT={baseUrl:"https://app-iuuh0nwpqtfl.frontegg.com",appId:"b9b78acb-3cb7-4de6-9aaa-d0a05caf1cfa"};function Zl(e){return e?e.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2):""}function a$(e,n){e&1&&Xe(0,"img",8)}function c$(e,n){if(e&1){let t=Po();ve(0,"button",5),vt("click",function(){let o=$r(t).$implicit,i=fn();return Br(i.selectItem(o))}),ve(1,"div",6)(2,"div",7),xe(3),ge(),xe(4),ge(),Pn(5,a$,1,0,"img",8),ge()}if(e&2){let t=n.$implicit,r=fn();rs("active",(r.selected==null?null:r.selected.id)===t.id),Je(3),pn(r.getInitials(t.name)),Je(),Hr(" ",t.name," "),Je(),Er((r.selected==null?null:r.selected.id)===t.id?5:-1)}}var hp=class e{constructor(n){this.elementRef=n}items=[];selected;selectedChange=new Ot;isOpen=!1;getInitials=Zl;onClickOutside(n){this.elementRef.nativeElement.contains(n.target)||(this.isOpen=!1)}toggleDropdown(){this.isOpen=!this.isOpen}selectItem(n){this.selectedChange.emit(n),this.isOpen=!1}static \u0275fac=function(t){return new(t||e)(Qe(Qi))};static \u0275cmp=st({type:e,selectors:[["app-tenants-dropdown"]],hostBindings:function(t,r){t&1&&vt("mousedown",function(i){return r.onClickOutside(i)},!1,gE)},inputs:{items:"items",selected:"selected"},outputs:{selectedChange:"selectedChange"},standalone:!1,decls:5,vars:3,consts:[[1,"dropdown"],[1,"dropdown-button",3,"click"],["src","assets/icons/unfold-more.svg","alt","Other tenants"],[1,"dropdown-menu"],["class","dropdown-item",3,"active","click",4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],[1,"dropdown-item-content"],[1,"initials"],["src","assets/icons/checkmark.svg","alt","Selected tenant"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"button",1),vt("click",function(){return r.toggleDropdown()}),Xe(2,"img",2),ge(),ve(3,"div",3),Pn(4,c$,6,5,"button",4),ge()()),t&2&&(Je(3),rs("show",r.isOpen),Je(),Mo("ngForOf",r.items))},dependencies:[Dd],styles:[".dropdown-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 5px);right:0;display:none;z-index:1000;width:100%;box-shadow:0 4px 24px #2f334b14;border-radius:8px;background-color:var(--classic-white);padding:4px 0}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:4px 8px;cursor:pointer;width:100%;border:none;background-color:transparent}.dropdown-item-content[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;font-weight:400;font-size:14px;line-height:24px;color:var(--classic-grey-900)}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item.active[_ngcontent-%COMP%]{color:var(--classic-primary)}"]})};var gp=class e{text="";handleCopy=()=>{navigator.clipboard.writeText(this.text).then(()=>alert("Copied to clipboard!")).catch(n=>console.error("Failed to copy: ",n))};static \u0275fac=function(t){return new(t||e)};static \u0275cmp=st({type:e,selectors:[["app-copy-button"]],inputs:{text:"text"},standalone:!1,decls:7,vars:0,consts:[["aria-label","Copy to clipboard",1,"copy-button",3,"click"],["width","16","height","17","viewBox","0 0 16 17","fill","#C3C5CA","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_144_522)"],["d","M10.6654 1.1665H2.66536C1.93203 1.1665 1.33203 1.7665 1.33203 2.49984V11.8332H2.66536V2.49984H10.6654V1.1665ZM12.6654 3.83317H5.33203C4.5987 3.83317 3.9987 4.43317 3.9987 5.1665V14.4998C3.9987 15.2332 4.5987 15.8332 5.33203 15.8332H12.6654C13.3987 15.8332 13.9987 15.2332 13.9987 14.4998V5.1665C13.9987 4.43317 13.3987 3.83317 12.6654 3.83317ZM12.6654 14.4998H5.33203V5.1665H12.6654V14.4998Z"],["id","clip0_144_522"],["width","16","height","16","fill","white","transform","translate(0 0.5)"]],template:function(t,r){t&1&&(ve(0,"button",0),vt("click",function(){return r.handleCopy()}),ld(),ve(1,"svg",1)(2,"g",2),Xe(3,"path",3),ge(),ve(4,"defs")(5,"clipPath",4),Xe(6,"rect",5),ge()()()())},styles:[".copy-button[_ngcontent-%COMP%]{width:fit-content;height:24px;background:none;border:none;cursor:pointer}.copy-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:fill .3s ease}.copy-button[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .copy-button[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--classic-primary)}"]})};function d$(e,n){if(e&1){let t=Po();ve(0,"img",17),vt("error",function(o){$r(t);let i=fn();return Br(i.handleImageError(o))}),ge()}if(e&2){let t=fn();Mo("src",t.user.profilePictureUrl,hE)}}function f$(e,n){if(e&1&&(ve(0,"div",10),xe(1),ge()),e&2){let t=fn();Je(),pn(t.getInitials(t.user==null?null:t.user.name))}}function p$(e,n){if(e&1){let t=Po();ve(0,"div",6)(1,"div",18)(2,"div",7)(3,"div",8)(4,"div",10),xe(5),ge()(),ve(6,"p",11),xe(7),ge()(),ve(8,"app-tenants-dropdown",19),vt("selectedChange",function(o){$r(t);let i=fn();return Br(i.switchTenant(o))}),ge()(),ve(9,"div",12)(10,"div",13)(11,"p",14),xe(12,"ID"),ge(),ve(13,"div",20)(14,"p",21),xe(15),ge(),Xe(16,"app-copy-button",22),ge()(),ve(17,"div",13)(18,"p",14),xe(19,"Members"),ge(),ve(20,"p",15),xe(21),ge()(),ve(22,"div",13)(23,"p",14),xe(24,"Creator"),ge(),ve(25,"p",15),xe(26),ge()()(),ve(27,"button",16),vt("click",function(){$r(t);let o=fn();return Br(o.openAccountSettings())}),xe(28," Edit account "),ge()()}if(e&2){let t=fn();Je(5),pn(t.getInitials(t.activeTenant.name)),Je(2),pn(t.activeTenant.name),Je(),Mo("items",t.tenantsState==null?null:t.tenantsState.tenants)("selected",t.activeTenant),Je(7),Hr(" ",t.activeTenant.id," "),Je(),Mo("text",t.activeTenant.id),Je(5),pn(t.membersLoading?"Loading...":t.membersCount),Je(5),Hr(" ",t.activeTenant.creatorEmail||"system"," ")}}var mp=class e{constructor(n,t){this.fronteggAuthService=n;this.fronteggAppService=t}user;activeTenant;tenantsState;getInitials=Zl;membersCount=0;membersLoading=!0;ngOnInit(){this.fronteggAuthService.user$.subscribe(n=>{this.user=n}),this.fronteggAuthService.tenantsState$.subscribe(n=>{this.tenantsState=n,this.activeTenant=n?.activeTenant}),this.fronteggAuthService.loadUsers({callback:(n,t)=>{t?this.membersCount=0:this.membersCount=n?.length||0,this.membersLoading=!1},pageOffset:0,pageSize:100})}openAccountSettings(){this.fronteggAppService.showAdminPortal(),setTimeout(()=>{window.location.hash="admin-box/account"},1e3)}openAdminBox(){this.fronteggAppService.showAdminPortal(),setTimeout(()=>{window.location.hash="admin-box"},1e3)}handleImageError(n){let t=n.target;t.style.display="none",t.parentNode.innerHTML=`<div class="initials">${Zl(this.user.name)}</div>`}switchTenant(n){this.fronteggAuthService.switchTenant({tenantId:n.tenantId})}getUserRoles(){return this.user?.roles?.map(n=>n.name).join(", ")||""}static \u0275fac=function(t){return new(t||e)(Qe(wn),Qe(rn))};static \u0275cmp=st({type:e,selectors:[["app-account-info"]],standalone:!1,decls:34,vars:7,consts:[[1,"section-screen"],[1,"section-card","account-card"],[1,"title-wrapper"],[1,"title"],[1,"primary-button","fit-content",3,"click"],[1,"tenants-wrapper"],[1,"tenant-card"],[1,"tenant-title"],[1,"tenant-logo"],["alt","Welcome","width","24","height","24",3,"src"],[1,"initials"],[1,"tenant-name"],[1,"tenant-info"],[1,"tenant-info-item"],[1,"tenant-info-item-title"],[1,"tenant-info-item-value"],[1,"secondary-button","edit-button",3,"click"],["alt","Welcome","width","24","height","24",3,"error","src"],[1,"tenant-title-wrapper"],[3,"selectedChange","items","selected"],[1,"tenant-info-copy-wrapper"],[1,"tenant-info-item-value","ellipsis"],[3,"text"]],template:function(t,r){t&1&&(ve(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),xe(4),ge(),ve(5,"button",4),vt("click",function(){return r.openAdminBox()}),xe(6," Self-service portal "),ge()(),ve(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),Pn(11,d$,1,1,"img",9)(12,f$,2,1,"div",10),ge(),ve(13,"p",11),xe(14),ge()(),ve(15,"div",12)(16,"div",13)(17,"p",14),xe(18,"Name"),ge(),ve(19,"p",15),xe(20),ge()(),ve(21,"div",13)(22,"p",14),xe(23,"Email"),ge(),ve(24,"p",15),xe(25),ge()(),ve(26,"div",13)(27,"p",14),xe(28,"Roles"),ge(),ve(29,"p",15),xe(30),ge()()(),ve(31,"button",16),vt("click",function(){return r.openAdminBox()}),xe(32," Edit user "),ge()(),Pn(33,p$,29,8,"div",6),ge()()()),t&2&&(Je(4),Hr("Hello, ",r.user==null?null:r.user.name,"!"),Je(7),Er(r.user!=null&&r.user.profilePictureUrl?11:12),Je(3),pn(r.user==null?null:r.user.name),Je(6),pn(r.user==null?null:r.user.name),Je(5),pn(r.user==null?null:r.user.email),Je(5),pn(r.getUserRoles()),Je(3),Er(r.activeTenant!=null&&r.activeTenant.id?33:-1))},dependencies:[hp,gp],styles:[".account-card[_ngcontent-%COMP%]{width:720px;display:flex;gap:40px;flex-direction:column}.account-card[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center;gap:24px}.account-card[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:26px;font-weight:600;color:var(--grey-900)}.tenants-wrapper[_ngcontent-%COMP%]{width:100%;display:grid;grid-template-columns:1fr;gap:24px}.tenant-card[_ngcontent-%COMP%]{padding:16px;border-radius:16px;display:flex;flex-flow:column;gap:16px;box-shadow:0 4px 24px #2f334b14;flex-grow:1}.tenant-title[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.tenant-name[_ngcontent-%COMP%]{font-size:16px;line-height:120%;font-weight:400;color:var(--grey-600)}.tenant-logo[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;overflow:hidden}.tenant-title-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;align-items:center;gap:8px}.tenant-info[_ngcontent-%COMP%]{border-top:1px solid var(--classic-grey-200);padding:16px 8px 8px;display:flex;gap:16px;flex-direction:column}.tenant-info-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:88px 1fr;align-items:center}.tenant-info-item-title[_ngcontent-%COMP%]{font-size:14px;line-height:100%;font-weight:600;color:var(--classic-grey-800)}.tenant-info-item-value[_ngcontent-%COMP%]{font-size:14px;line-height:100%;font-weight:400;color:var(--classic-grey-700);word-break:break-word}.edit-button[_ngcontent-%COMP%]{width:100%;margin-top:auto}.tenant-info-copy-wrapper[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:4px;align-items:center}.ellipsis[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 768px){.tenants-wrapper[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}}"]})};var YT={baseUrl:"https://sandbox.frontegg.com",appId:"da398ff8-c069-428e-974a-afcded8c0c04"},vp=class e{constructor(n){this.fronteggAppService=n;this.loadingSubscription=this.fronteggAppService.isLoading$.subscribe(t=>{if(t)return;let r=ie.for(void 0).getContext().baseUrl,o=ie.for(void 0).getContext().appId;this.isDefaultCredentials=r===YT.baseUrl&&o===YT.appId})}isDefaultCredentials=!1;loadingSubscription;ngOnDestroy(){this.loadingSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(Qe(rn))};static \u0275cmp=st({type:e,selectors:[["app-signup-banner"]],standalone:!1,decls:16,vars:2,consts:[[1,"signup-banner"],[1,"container","signup-banner-wrapper"],[1,"signup-banner-text"],["href","https://frontegg-prod.us.frontegg.com/oauth/account/sign-up","target","_blank","rel","noreferrer"],[1,"reference-links"],["href","https://developers.frontegg.com/","target","_blank","rel","noreferrer",1,"visit-doc"],["width","12","height","12","viewBox","0 0 12 12","fill","#373739","xmlns","http://www.w3.org/2000/svg"],["d","M10.6667 10.6667H1.33333V1.33333H6V0H1.33333C0.593333 0 0 0.6 0 1.33333V10.6667C0 11.4 0.593333 12 1.33333 12H10.6667C11.4 12 12 11.4 12 10.6667V6H10.6667V10.6667ZM7.33333 0V1.33333H9.72667L3.17333 7.88667L4.11333 8.82667L10.6667 2.27333V4.66667H12V0H7.33333Z"],[1,"third-party-links"],["href","https://github.com/frontegg-samples/angular-hosted-login.git","target","_blank","rel","noreferrer",1,"icon-link"],["src","assets/icons/github.svg","alt","github"],["href","https://join.slack.com/t/frontegg-community/shared_invite/zt-e1oxi1vn-SZErBZcwHcbgj4vrwRIp5A","target","_blank","rel","noreferrer",1,"icon-link"],["src","assets/icons/slack.svg","alt","slack"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"div",1)(2,"p",2),xe(3," This sample uses Frontegg's default credentials. Sign up to use your own configurations. "),ve(4,"a",3),xe(5," Sign up "),ge()(),ve(6,"div",4)(7,"a",5),ld(),ve(8,"svg",6),Xe(9,"path",7),ge(),xe(10," Visit Docs "),ge(),Rw(),ve(11,"div",8)(12,"a",9),Xe(13,"img",10),ge(),ve(14,"a",11),Xe(15,"img",12),ge()()()()()),t&2&&rs("custom-credentials",!r.isDefaultCredentials)},styles:[".signup-banner[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;padding:32px 0;box-shadow:0 1px 4px #7a7c813d;background-color:var(--classic-white)}.signup-banner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.custom-credentials[_ngcontent-%COMP%]   .signup-banner-wrapper[_ngcontent-%COMP%]{justify-content:center}.custom-credentials[_ngcontent-%COMP%]   .signup-banner-text[_ngcontent-%COMP%]{display:none}.signup-banner-text[_ngcontent-%COMP%]{width:fit-content;display:flex;gap:12px;flex-wrap:wrap;align-items:center;padding:14px 16px;border-radius:8px;font-size:14px;line-height:100%;font-weight:600;color:var(--classic-grey-800);background-color:var(--classic-light-info)}.signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--classic-primary);text-decoration:none;font-weight:600;font-size:16px;transition:color .3s ease}.signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .signup-banner-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{color:var(--classic-darker-primary)}.reference-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:16px;align-items:center}.third-party-links[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;align-items:center}.visit-doc[_ngcontent-%COMP%]{color:var(--classic-grey-800);text-decoration:none;font-weight:600;font-size:16px;transition:color .3s ease;display:flex;gap:8px;align-items:center}.visit-doc[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:all .3s ease}.visit-doc[_ngcontent-%COMP%]:hover, .visit-doc[_ngcontent-%COMP%]:active, .visit-doc[_ngcontent-%COMP%]:hover   svg[_ngcontent-%COMP%], .visit-doc[_ngcontent-%COMP%]:active   svg[_ngcontent-%COMP%]{fill:var(--classic-primary);color:var(--classic-primary)}.icon-link[_ngcontent-%COMP%]{width:24px;height:24px;display:flex;justify-content:center;align-items:center;border-radius:25%;background-color:transparent;transition:background-color .3s ease}.icon-link[_ngcontent-%COMP%]:hover{background-color:var(--classic-grey-100)}"]})};function g$(e,n){if(e&1){let t=Po();ve(0,"button",8),vt("click",function(){$r(t);let o=fn();return Br(o.logout())}),xe(1,"Logout"),ge()}}var yp=class e{constructor(n){this.fronteggAuthService=n}isAuthenticated=!1;ngOnInit(){this.fronteggAuthService?.isAuthenticated$.subscribe(n=>{this.isAuthenticated=n})}logout(){let n=ie.for(void 0).getContext().baseUrl,t=window.location.origin;window.location.href=`${n}/oauth/logout?post_logout_redirect_uri=${t}`}static \u0275fac=function(t){return new(t||e)(Qe(wn))};static \u0275cmp=st({type:e,selectors:[["app-header"]],standalone:!1,decls:8,vars:1,consts:[[1,"header"],[1,"container","header-wrapper"],[1,"logo-wrapper"],["href","https://frontegg.com/","target","_blank","rel","noreferrer"],["src","assets/logo.svg","width","170","height","32","alt","Frontegg"],[1,"angular-logo"],["src","assets/angular.png","width","25","height","25","alt","Angular"],[1,"secondary-button"],[1,"secondary-button",3,"click"]],template:function(t,r){t&1&&(ve(0,"header",0)(1,"div",1)(2,"div",2)(3,"a",3),Xe(4,"img",4),ge(),ve(5,"div",5),Xe(6,"img",6),ge()(),Pn(7,g$,2,0,"button",7),ge()()),t&2&&(Je(7),Er(r.isAuthenticated?7:-1))},styles:[".header[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;display:flex;padding:40px 0;box-shadow:0 1px 4px #7a7c813d;background-color:var(--classic-white)}.header-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;align-items:center}.logo-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:24px;align-items:center}.angular-logo[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:var(--grey-50);display:flex;justify-content:center;align-items:center}"]})};function v$(e,n){e&1&&Xe(0,"app-header")(1,"router-outlet")(2,"app-signup-banner")}function y$(e,n){e&1&&Xe(0,"div",0)}var Sp=class e{constructor(n,t){this.fronteggAppService=n;this.fronteggAuthService=t;this.loadingSubscription=n.isLoading$.subscribe(r=>this.isLoading=r)}isLoading=!0;loadingSubscription;ngOnDestroy(){this.loadingSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||e)(Qe(rn),Qe(wn))};static \u0275cmp=st({type:e,selectors:[["app-root"]],standalone:!1,decls:2,vars:1,consts:[[1,"spinner"]],template:function(t,r){t&1&&Pn(0,v$,3,0)(1,y$,1,0,"div",0),t&2&&Er(r.isLoading?1:0)},dependencies:[Ga,vp,yp],encapsulation:2})};var bp=class e{constructor(n,t){this.fronteggAuthService=n;this.router=t}ngOnInit(){this.fronteggAuthService.isAuthenticatedSubject.subscribe(n=>{n&&this.router.navigate(["/home"])})}loginWithRedirect(){let n=window.location.origin+"/FrontEgg/oauth/callback";this.fronteggAuthService.loginWithRedirect({redirectUri:n})}static \u0275fac=function(t){return new(t||e)(Qe(wn),Qe(Nt))};static \u0275cmp=st({type:e,selectors:[["app-welcome"]],standalone:!1,decls:10,vars:0,consts:[[1,"section-screen"],[1,"section-card","welcome-card"],["src","assets/hug.png","alt","Welcome","width","56","height","56"],[1,"welcome-texts"],[1,"welcome-title"],[1,"welcome-text"],[1,"primary-button",3,"click"]],template:function(t,r){t&1&&(ve(0,"section",0)(1,"div",1),Xe(2,"img",2),ve(3,"div",3)(4,"h1",4),xe(5,"Welcome!"),ge(),ve(6,"p",5),xe(7," This is Frontegg's sample app that will let you experiment with our authentication flows. "),ge()(),ve(8,"button",6),vt("click",function(){return r.loginWithRedirect()}),xe(9," Sign in "),ge()()())},styles:[".welcome-card[_ngcontent-%COMP%]{width:400px}.welcome-texts[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.welcome-title[_ngcontent-%COMP%]{font-size:32px;line-height:140%;font-weight:700;color:var(--grey-900);text-align:center}.welcome-text[_ngcontent-%COMP%]{font-size:16px;line-height:150%;font-weight:400;color:var(--grey-600);text-align:center}"]})};var Ap=class e{constructor(n,t){this.fronteggAuthService=n;this.router=t}ngOnInit(){this.fronteggAuthService.isAuthenticatedSubject.subscribe(n=>{n&&this.router.navigate(["/home"])}),setTimeout(()=>{this.router.navigate(["/home"])},3e3)}static \u0275fac=function(t){return new(t||e)(Qe(wn),Qe(Nt))};static \u0275cmp=st({type:e,selectors:[["app-oauth-callback"]],decls:3,vars:0,consts:[[2,"text-align","center","margin-top","40px"]],template:function(t,r){t&1&&(ve(0,"div",0)(1,"h3"),xe(2,"Completing signup..."),ge()())},encapsulation:2})};var S$=[{path:"",component:bp},{path:"home",component:mp,canActivate:[lb]},{path:"oauth/callback",component:Ap},{path:"**",redirectTo:"home"}],wp=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=dn({type:e,bootstrap:[Sp]});static \u0275inj=ln({imports:[Yg,Ro,Za.forRoot(S$,{useHash:!1}),zT.forRoot({contextOptions:qT,hostedLoginBox:!0,authOptions:{keepSessionAlive:!0},customLoader:!0})]})};qg().bootstrapModule(wp).catch(e=>console.error(e));
